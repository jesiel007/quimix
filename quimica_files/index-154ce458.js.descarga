var nJ=Object.defineProperty;var rJ=(e,t,n)=>t in e?nJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ml=(e,t,n)=>(rJ(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();/**
* @vue/shared v3.5.11
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Aw(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Nt={},af=[],Rs=()=>{},iJ=()=>!1,Xm=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),vI=e=>e.startsWith("onUpdate:"),Pn=Object.assign,yI=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},sJ=Object.prototype.hasOwnProperty,nn=(e,t)=>sJ.call(e,t),je=Array.isArray,lf=e=>_p(e)==="[object Map]",td=e=>_p(e)==="[object Set]",eM=e=>_p(e)==="[object Date]",oJ=e=>_p(e)==="[object RegExp]",Ze=e=>typeof e=="function",Mn=e=>typeof e=="string",jo=e=>typeof e=="symbol",yn=e=>e!==null&&typeof e=="object",_I=e=>(yn(e)||Ze(e))&&Ze(e.then)&&Ze(e.catch),aU=Object.prototype.toString,_p=e=>aU.call(e),aJ=e=>_p(e).slice(8,-1),Ow=e=>_p(e)==="[object Object]",bI=e=>Mn(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,uf=Aw(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Rw=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},lJ=/-(\w)/g,Jr=Rw(e=>e.replace(lJ,(t,n)=>n?n.toUpperCase():"")),uJ=/\B([A-Z])/g,Wi=Rw(e=>e.replace(uJ,"-$1").toLowerCase()),Qm=Rw(e=>e.charAt(0).toUpperCase()+e.slice(1)),Kh=Rw(e=>e?`on${Qm(e)}`:""),bi=(e,t)=>!Object.is(e,t),cf=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},lU=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},d0=e=>{const t=parseFloat(e);return isNaN(t)?e:t},f0=e=>{const t=Mn(e)?Number(e):NaN;return isNaN(t)?e:t};let tM;const uU=()=>tM||(tM=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),cJ="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",dJ=Aw(cJ);function Jm(e){if(je(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=Mn(r)?gJ(r):Jm(r);if(i)for(const s in i)t[s]=i[s]}return t}else if(Mn(e)||yn(e))return e}const fJ=/;(?![^(]*\))/g,pJ=/:([^]+)/,hJ=/\/\*[^]*?\*\//g;function gJ(e){const t={};return e.replace(hJ,"").split(fJ).forEach(n=>{if(n){const r=n.split(pJ);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Pr(e){let t="";if(Mn(e))t=e;else if(je(e))for(let n=0;n<e.length;n++){const r=Pr(e[n]);r&&(t+=r+" ")}else if(yn(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function mJ(e){if(!e)return null;let{class:t,style:n}=e;return t&&!Mn(t)&&(e.class=Pr(t)),n&&(e.style=Jm(n)),e}const vJ="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",yJ=Aw(vJ);function cU(e){return!!e||e===""}function _J(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=iu(e[r],t[r]);return n}function iu(e,t){if(e===t)return!0;let n=eM(e),r=eM(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=jo(e),r=jo(t),n||r)return e===t;if(n=je(e),r=je(t),n||r)return n&&r?_J(e,t):!1;if(n=yn(e),r=yn(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,s=Object.keys(t).length;if(i!==s)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!iu(e[o],t[o]))return!1}}return String(e)===String(t)}function Pw(e,t){return e.findIndex(n=>iu(n,t))}const dU=e=>!!(e&&e.__v_isRef===!0),ci=e=>Mn(e)?e:e==null?"":je(e)||yn(e)&&(e.toString===aU||!Ze(e.toString))?dU(e)?ci(e.value):JSON.stringify(e,fU,2):String(e),fU=(e,t)=>dU(t)?fU(e,t.value):lf(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i],s)=>(n[Qx(r,s)+" =>"]=i,n),{})}:td(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Qx(n))}:jo(t)?Qx(t):yn(t)&&!je(t)&&!Ow(t)?String(t):t,Qx=(e,t="")=>{var n;return jo(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.11
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let _i;class wI{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=_i,!t&&_i&&(this.index=(_i.scopes||(_i.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=_i;try{return _i=this,t()}finally{_i=n}}}on(){_i=this}off(){_i=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function pU(e){return new wI(e)}function Zm(){return _i}function xI(e,t=!1){_i&&_i.cleanups.push(e)}let On;const Jx=new WeakSet;class Dg{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,_i&&_i.active&&_i.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Jx.has(this)&&(Jx.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||gU(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,nM(this),mU(this);const t=On,n=io;On=this,io=!0;try{return this.fn()}finally{vU(this),On=t,io=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)$I(t);this.deps=this.depsTail=void 0,nM(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Jx.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){o$(this)&&this.run()}get dirty(){return o$(this)}}let hU=0,Gh,Yh;function gU(e,t=!1){if(e.flags|=8,t){e.next=Yh,Yh=e;return}e.next=Gh,Gh=e}function EI(){hU++}function SI(){if(--hU>0)return;if(Yh){let t=Yh;for(Yh=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Gh;){let t=Gh;for(Gh=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function mU(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function vU(e){let t,n=e.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),$I(r),bJ(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}e.deps=t,e.depsTail=n}function o$(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(yU(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function yU(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Ng))return;e.globalVersion=Ng;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!o$(e)){e.flags&=-3;return}const n=On,r=io;On=e,io=!0;try{mU(e);const i=e.fn(e._value);(t.version===0||bi(i,e._value))&&(e._value=i,t.version++)}catch(i){throw t.version++,i}finally{On=n,io=r,vU(e),e.flags&=-3}}function $I(e,t=!1){const{dep:n,prevSub:r,nextSub:i}=e;if(r&&(r.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r),!n.subs&&n.computed){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)$I(s,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function bJ(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}function wJ(e,t){e.effect instanceof Dg&&(e=e.effect.fn);const n=new Dg(e);t&&Pn(n,t);try{n.run()}catch(i){throw n.stop(),i}const r=n.run.bind(n);return r.effect=n,r}function xJ(e){e.effect.stop()}let io=!0;const _U=[];function Eu(){_U.push(io),io=!1}function Su(){const e=_U.pop();io=e===void 0?!0:e}function nM(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=On;On=void 0;try{t()}finally{On=n}}}let Ng=0;class EJ{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Mw{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!On||!io||On===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==On)n=this.activeLink=new EJ(On,this),On.deps?(n.prevDep=On.depsTail,On.depsTail.nextDep=n,On.depsTail=n):On.deps=On.depsTail=n,bU(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=On.depsTail,n.nextDep=void 0,On.depsTail.nextDep=n,On.depsTail=n,On.deps===n&&(On.deps=r)}return n}trigger(t){this.version++,Ng++,this.notify(t)}notify(t){EI();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{SI()}}}function bU(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)bU(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const p0=new WeakMap,hc=Symbol(""),a$=Symbol(""),Lg=Symbol("");function pi(e,t,n){if(io&&On){let r=p0.get(e);r||p0.set(e,r=new Map);let i=r.get(n);i||(r.set(n,i=new Mw),i.map=r,i.key=n),i.track()}}function ka(e,t,n,r,i,s){const o=p0.get(e);if(!o){Ng++;return}const a=l=>{l&&l.trigger()};if(EI(),t==="clear")o.forEach(a);else{const l=je(e),u=l&&bI(n);if(l&&n==="length"){const c=Number(r);o.forEach((d,f)=>{(f==="length"||f===Lg||!jo(f)&&f>=c)&&a(d)})}else switch(n!==void 0&&a(o.get(n)),u&&a(o.get(Lg)),t){case"add":l?u&&a(o.get("length")):(a(o.get(hc)),lf(e)&&a(o.get(a$)));break;case"delete":l||(a(o.get(hc)),lf(e)&&a(o.get(a$)));break;case"set":lf(e)&&a(o.get(hc));break}}SI()}function SJ(e,t){const n=p0.get(e);return n&&n.get(t)}function bd(e){const t=Ut(e);return t===e?t:(pi(t,"iterate",Lg),fs(e)?t:t.map(oi))}function Dw(e){return pi(e=Ut(e),"iterate",Lg),e}const $J={__proto__:null,[Symbol.iterator](){return Zx(this,Symbol.iterator,oi)},concat(...e){return bd(this).concat(...e.map(t=>je(t)?bd(t):t))},entries(){return Zx(this,"entries",e=>(e[1]=oi(e[1]),e))},every(e,t){return la(this,"every",e,t,void 0,arguments)},filter(e,t){return la(this,"filter",e,t,n=>n.map(oi),arguments)},find(e,t){return la(this,"find",e,t,oi,arguments)},findIndex(e,t){return la(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return la(this,"findLast",e,t,oi,arguments)},findLastIndex(e,t){return la(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return la(this,"forEach",e,t,void 0,arguments)},includes(...e){return eE(this,"includes",e)},indexOf(...e){return eE(this,"indexOf",e)},join(e){return bd(this).join(e)},lastIndexOf(...e){return eE(this,"lastIndexOf",e)},map(e,t){return la(this,"map",e,t,void 0,arguments)},pop(){return nh(this,"pop")},push(...e){return nh(this,"push",e)},reduce(e,...t){return rM(this,"reduce",e,t)},reduceRight(e,...t){return rM(this,"reduceRight",e,t)},shift(){return nh(this,"shift")},some(e,t){return la(this,"some",e,t,void 0,arguments)},splice(...e){return nh(this,"splice",e)},toReversed(){return bd(this).toReversed()},toSorted(e){return bd(this).toSorted(e)},toSpliced(...e){return bd(this).toSpliced(...e)},unshift(...e){return nh(this,"unshift",e)},values(){return Zx(this,"values",oi)}};function Zx(e,t,n){const r=Dw(e),i=r[t]();return r!==e&&!fs(e)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.value&&(s.value=n(s.value)),s}),i}const TJ=Array.prototype;function la(e,t,n,r,i,s){const o=Dw(e),a=o!==e&&!fs(e),l=o[t];if(l!==TJ[t]){const d=l.apply(e,s);return a?oi(d):d}let u=n;o!==e&&(a?u=function(d,f){return n.call(this,oi(d),f,e)}:n.length>2&&(u=function(d,f){return n.call(this,d,f,e)}));const c=l.call(o,u,r);return a&&i?i(c):c}function rM(e,t,n,r){const i=Dw(e);let s=n;return i!==e&&(fs(e)?n.length>3&&(s=function(o,a,l){return n.call(this,o,a,l,e)}):s=function(o,a,l){return n.call(this,o,oi(a),l,e)}),i[t](s,...r)}function eE(e,t,n){const r=Ut(e);pi(r,"iterate",Lg);const i=r[t](...n);return(i===-1||i===!1)&&Bw(n[0])?(n[0]=Ut(n[0]),r[t](...n)):i}function nh(e,t,n=[]){Eu(),EI();const r=Ut(e)[t].apply(e,n);return SI(),Su(),r}const kJ=Aw("__proto__,__v_isRef,__isVue"),wU=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(jo));function IJ(e){jo(e)||(e=String(e));const t=Ut(this);return pi(t,"has",e),t.hasOwnProperty(e)}class xU{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?IU:kU:s?TU:$U).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=je(t);if(!i){let l;if(o&&(l=$J[n]))return l;if(n==="hasOwnProperty")return IJ}const a=Reflect.get(t,n,Sn(t)?t:r);return(jo(n)?wU.has(n):kJ(n))||(i||pi(t,"get",n),s)?a:Sn(a)?o&&bI(n)?a:a.value:yn(a)?i?mo(a):Cs(a):a}}class EU extends xU{constructor(t=!1){super(!1,t)}set(t,n,r,i){let s=t[n];if(!this._isShallow){const l=su(s);if(!fs(r)&&!su(r)&&(s=Ut(s),r=Ut(r)),!je(t)&&Sn(s)&&!Sn(r))return l?!1:(s.value=r,!0)}const o=je(t)&&bI(n)?Number(n)<t.length:nn(t,n),a=Reflect.set(t,n,r,Sn(t)?t:i);return t===Ut(i)&&(o?bi(r,s)&&ka(t,"set",n,r):ka(t,"add",n,r)),a}deleteProperty(t,n){const r=nn(t,n);t[n];const i=Reflect.deleteProperty(t,n);return i&&r&&ka(t,"delete",n,void 0),i}has(t,n){const r=Reflect.has(t,n);return(!jo(n)||!wU.has(n))&&pi(t,"has",n),r}ownKeys(t){return pi(t,"iterate",je(t)?"length":hc),Reflect.ownKeys(t)}}class SU extends xU{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const CJ=new EU,AJ=new SU,OJ=new EU(!0),RJ=new SU(!0),TI=e=>e,Nw=e=>Reflect.getPrototypeOf(e);function ay(e,t,n=!1,r=!1){e=e.__v_raw;const i=Ut(e),s=Ut(t);n||(bi(t,s)&&pi(i,"get",t),pi(i,"get",s));const{has:o}=Nw(i),a=r?TI:n?kI:oi;if(o.call(i,t))return a(e.get(t));if(o.call(i,s))return a(e.get(s));e!==i&&e.get(t)}function ly(e,t=!1){const n=this.__v_raw,r=Ut(n),i=Ut(e);return t||(bi(e,i)&&pi(r,"has",e),pi(r,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function uy(e,t=!1){return e=e.__v_raw,!t&&pi(Ut(e),"iterate",hc),Reflect.get(e,"size",e)}function iM(e,t=!1){!t&&!fs(e)&&!su(e)&&(e=Ut(e));const n=Ut(this);return Nw(n).has.call(n,e)||(n.add(e),ka(n,"add",e,e)),this}function sM(e,t,n=!1){!n&&!fs(t)&&!su(t)&&(t=Ut(t));const r=Ut(this),{has:i,get:s}=Nw(r);let o=i.call(r,e);o||(e=Ut(e),o=i.call(r,e));const a=s.call(r,e);return r.set(e,t),o?bi(t,a)&&ka(r,"set",e,t):ka(r,"add",e,t),this}function oM(e){const t=Ut(this),{has:n,get:r}=Nw(t);let i=n.call(t,e);i||(e=Ut(e),i=n.call(t,e)),r&&r.call(t,e);const s=t.delete(e);return i&&ka(t,"delete",e,void 0),s}function aM(){const e=Ut(this),t=e.size!==0,n=e.clear();return t&&ka(e,"clear",void 0,void 0),n}function cy(e,t){return function(r,i){const s=this,o=s.__v_raw,a=Ut(o),l=t?TI:e?kI:oi;return!e&&pi(a,"iterate",hc),o.forEach((u,c)=>r.call(i,l(u),l(c),s))}}function dy(e,t,n){return function(...r){const i=this.__v_raw,s=Ut(i),o=lf(s),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=i[e](...r),c=n?TI:t?kI:oi;return!t&&pi(s,"iterate",l?a$:hc),{next(){const{value:d,done:f}=u.next();return f?{value:d,done:f}:{value:a?[c(d[0]),c(d[1])]:c(d),done:f}},[Symbol.iterator](){return this}}}}function vl(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function PJ(){const e={get(s){return ay(this,s)},get size(){return uy(this)},has:ly,add:iM,set:sM,delete:oM,clear:aM,forEach:cy(!1,!1)},t={get(s){return ay(this,s,!1,!0)},get size(){return uy(this)},has:ly,add(s){return iM.call(this,s,!0)},set(s,o){return sM.call(this,s,o,!0)},delete:oM,clear:aM,forEach:cy(!1,!0)},n={get(s){return ay(this,s,!0)},get size(){return uy(this,!0)},has(s){return ly.call(this,s,!0)},add:vl("add"),set:vl("set"),delete:vl("delete"),clear:vl("clear"),forEach:cy(!0,!1)},r={get(s){return ay(this,s,!0,!0)},get size(){return uy(this,!0)},has(s){return ly.call(this,s,!0)},add:vl("add"),set:vl("set"),delete:vl("delete"),clear:vl("clear"),forEach:cy(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=dy(s,!1,!1),n[s]=dy(s,!0,!1),t[s]=dy(s,!1,!0),r[s]=dy(s,!0,!0)}),[e,n,t,r]}const[MJ,DJ,NJ,LJ]=PJ();function Lw(e,t){const n=t?e?LJ:NJ:e?DJ:MJ;return(r,i,s)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(nn(n,i)&&i in r?n:r,i,s)}const FJ={get:Lw(!1,!1)},BJ={get:Lw(!1,!0)},UJ={get:Lw(!0,!1)},VJ={get:Lw(!0,!0)},$U=new WeakMap,TU=new WeakMap,kU=new WeakMap,IU=new WeakMap;function jJ(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function HJ(e){return e.__v_skip||!Object.isExtensible(e)?0:jJ(aJ(e))}function Cs(e){return su(e)?e:Fw(e,!1,CJ,FJ,$U)}function Fg(e){return Fw(e,!1,OJ,BJ,TU)}function mo(e){return Fw(e,!0,AJ,UJ,kU)}function WJ(e){return Fw(e,!0,RJ,VJ,IU)}function Fw(e,t,n,r,i){if(!yn(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=i.get(e);if(s)return s;const o=HJ(e);if(o===0)return e;const a=new Proxy(e,o===2?r:n);return i.set(e,a),a}function No(e){return su(e)?No(e.__v_raw):!!(e&&e.__v_isReactive)}function su(e){return!!(e&&e.__v_isReadonly)}function fs(e){return!!(e&&e.__v_isShallow)}function Bw(e){return e?!!e.__v_raw:!1}function Ut(e){const t=e&&e.__v_raw;return t?Ut(t):e}function bp(e){return!nn(e,"__v_skip")&&Object.isExtensible(e)&&lU(e,"__v_skip",!0),e}const oi=e=>yn(e)?Cs(e):e,kI=e=>yn(e)?mo(e):e;function Sn(e){return e?e.__v_isRef===!0:!1}function re(e){return CU(e,!1)}function Ho(e){return CU(e,!0)}function CU(e,t){return Sn(e)?e:new qJ(e,t)}class qJ{constructor(t,n){this.dep=new Mw,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Ut(t),this._value=n?t:oi(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||fs(t)||su(t);t=r?t:Ut(t),bi(t,n)&&(this._rawValue=t,this._value=r?t:oi(t),this.dep.trigger())}}function Ch(e){e.dep&&e.dep.trigger()}function ve(e){return Sn(e)?e.value:e}function zJ(e){return Ze(e)?e():ve(e)}const KJ={get:(e,t,n)=>t==="__v_raw"?e:ve(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return Sn(i)&&!Sn(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function II(e){return No(e)?e:new Proxy(e,KJ)}class GJ{constructor(t){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new Mw,{get:r,set:i}=t(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=i}get value(){return this._value=this._get()}set value(t){this._set(t)}}function Uw(e){return new GJ(e)}function YJ(e){const t=je(e)?new Array(e.length):{};for(const n in e)t[n]=AU(e,n);return t}class XJ{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return SJ(Ut(this._object),this._key)}}class QJ{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Vw(e,t,n){return Sn(e)?e:Ze(e)?new QJ(e):yn(e)&&arguments.length>1?AU(e,t,n):re(e)}function AU(e,t,n){const r=e[t];return Sn(r)?r:new XJ(e,t,n)}class JJ{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Mw(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ng-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&On!==this)return gU(this,!0),!0}get value(){const t=this.dep.track();return yU(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function ZJ(e,t,n=!1){let r,i;return Ze(e)?r=e:(r=e.get,i=e.set),new JJ(r,i,n)}const eZ={GET:"get",HAS:"has",ITERATE:"iterate"},tZ={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},fy={},h0=new WeakMap;let Sl;function nZ(){return Sl}function OU(e,t=!1,n=Sl){if(n){let r=h0.get(n);r||h0.set(n,r=[]),r.push(e)}}function rZ(e,t,n=Nt){const{immediate:r,deep:i,once:s,scheduler:o,augmentJob:a,call:l}=n,u=b=>i?b:fs(b)||i===!1||i===0?va(b,1):va(b);let c,d,f,p,g=!1,h=!1;if(Sn(e)?(d=()=>e.value,g=fs(e)):No(e)?(d=()=>u(e),g=!0):je(e)?(h=!0,g=e.some(b=>No(b)||fs(b)),d=()=>e.map(b=>{if(Sn(b))return b.value;if(No(b))return u(b);if(Ze(b))return l?l(b,2):b()})):Ze(e)?t?d=l?()=>l(e,2):e:d=()=>{if(f){Eu();try{f()}finally{Su()}}const b=Sl;Sl=c;try{return l?l(e,3,[p]):e(p)}finally{Sl=b}}:d=Rs,t&&i){const b=d,x=i===!0?1/0:i;d=()=>va(b(),x)}const m=Zm(),v=()=>{c.stop(),m&&yI(m.effects,c)};if(s&&t){const b=t;t=(...x)=>{b(...x),v()}}let y=h?new Array(e.length).fill(fy):fy;const _=b=>{if(!(!(c.flags&1)||!c.dirty&&!b))if(t){const x=c.run();if(i||g||(h?x.some((w,$)=>bi(w,y[$])):bi(x,y))){f&&f();const w=Sl;Sl=c;try{const $=[x,y===fy?void 0:h&&y[0]===fy?[]:y,p];l?l(t,3,$):t(...$),y=x}finally{Sl=w}}}else c.run()};return a&&a(_),c=new Dg(d),c.scheduler=o?()=>o(_,!1):_,p=b=>OU(b,!1,c),f=c.onStop=()=>{const b=h0.get(c);if(b){if(l)l(b,4);else for(const x of b)x();h0.delete(c)}},t?r?_(!0):y=c.run():o?o(_.bind(null,!0),!0):c.run(),v.pause=c.pause.bind(c),v.resume=c.resume.bind(c),v.stop=v,v}function va(e,t=1/0,n){if(t<=0||!yn(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Sn(e))va(e.value,t,n);else if(je(e))for(let r=0;r<e.length;r++)va(e[r],t,n);else if(td(e)||lf(e))e.forEach(r=>{va(r,t,n)});else if(Ow(e)){for(const r in e)va(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&va(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.11
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const RU=[];function iZ(e){RU.push(e)}function sZ(){RU.pop()}function oZ(e,t){}const aZ={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},lZ={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function wp(e,t,n,r){try{return r?e(...r):e()}catch(i){nd(i,t,n)}}function Bs(e,t,n,r){if(Ze(e)){const i=wp(e,t,n,r);return i&&_I(i)&&i.catch(s=>{nd(s,t,n)}),i}if(je(e)){const i=[];for(let s=0;s<e.length;s++)i.push(Bs(e[s],t,n,r));return i}}function nd(e,t,n,r=!0){const i=t?t.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||Nt;if(t){let a=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const c=a.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](e,l,u)===!1)return}a=a.parent}if(s){Eu(),wp(s,null,10,[e,l,u]),Su();return}}uZ(e,n,i,r,o)}function uZ(e,t,n,r=!0,i=!1){if(i)throw e;console.error(e)}const wi=[];let ko=-1;const df=[];let $l=null,Md=0;const PU=Promise.resolve();let g0=null;function Qn(e){const t=g0||PU;return e?t.then(this?e.bind(this):e):t}function cZ(e){let t=ko+1,n=wi.length;for(;t<n;){const r=t+n>>>1,i=wi[r],s=Bg(i);s<e||s===e&&i.flags&2?t=r+1:n=r}return t}function CI(e){if(!(e.flags&1)){const t=Bg(e),n=wi[wi.length-1];!n||!(e.flags&2)&&t>=Bg(n)?wi.push(e):wi.splice(cZ(t),0,e),e.flags|=1,MU()}}function MU(){g0||(g0=PU.then(DU))}function m0(e){je(e)?df.push(...e):$l&&e.id===-1?$l.splice(Md+1,0,e):e.flags&1||(df.push(e),e.flags|=1),MU()}function lM(e,t,n=ko+1){for(;n<wi.length;n++){const r=wi[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;wi.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function v0(e){if(df.length){const t=[...new Set(df)].sort((n,r)=>Bg(n)-Bg(r));if(df.length=0,$l){$l.push(...t);return}for($l=t,Md=0;Md<$l.length;Md++){const n=$l[Md];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}$l=null,Md=0}}const Bg=e=>e.id==null?e.flags&2?-1:1/0:e.id;function DU(e){const t=Rs;try{for(ko=0;ko<wi.length;ko++){const n=wi[ko];n&&!(n.flags&8)&&(n.flags&4&&(n.flags&=-2),wp(n,n.i,n.i?15:14),n.flags&4||(n.flags&=-2))}}finally{for(;ko<wi.length;ko++){const n=wi[ko];n&&(n.flags&=-2)}ko=-1,wi.length=0,v0(),g0=null,(wi.length||df.length)&&DU()}}let Dd,py=[];function NU(e,t){var n,r;Dd=e,Dd?(Dd.enabled=!0,py.forEach(({event:i,args:s})=>Dd.emit(i,...s)),py=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{NU(s,t)}),setTimeout(()=>{Dd||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,py=[])},3e3)):py=[]}let Cr=null,jw=null;function Ug(e){const t=Cr;return Cr=e,jw=e&&e.type.__scopeId||null,t}function LU(e){jw=e}function FU(){jw=null}const BU=e=>et;function et(e,t=Cr,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&m$(-1);const s=Ug(t);let o;try{o=e(...i)}finally{Ug(s),r._d&&m$(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function y0(e,t){if(Cr===null)return e;const n=rv(Cr),r=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[s,o,a,l=Nt]=t[i];s&&(Ze(s)&&(s={mounted:s,updated:s}),s.deep&&va(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function Co(e,t,n,r){const i=e.dirs,s=t&&t.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(Eu(),Bs(l,n,8,[e.el,a,e,t]),Su())}}const UU=Symbol("_vte"),VU=e=>e.__isTeleport,Xh=e=>e&&(e.disabled||e.disabled===""),dZ=e=>e&&(e.defer||e.defer===""),uM=e=>typeof SVGElement<"u"&&e instanceof SVGElement,cM=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,l$=(e,t)=>{const n=e&&e.to;return Mn(n)?t?t(n):null:n},fZ={name:"Teleport",__isTeleport:!0,process(e,t,n,r,i,s,o,a,l,u){const{mc:c,pc:d,pbc:f,o:{insert:p,querySelector:g,createText:h,createComment:m}}=u,v=Xh(t.props);let{shapeFlag:y,children:_,dynamicChildren:b}=t;if(e==null){const x=t.el=h(""),w=t.anchor=h("");p(x,n,r),p(w,n,r);const $=(S,T)=>{y&16&&(i&&i.isCE&&(i.ce._teleportTarget=S),c(_,S,T,i,s,o,a,l))},E=()=>{const S=t.target=l$(t.props,g),T=HU(S,t,h,p);S&&(o!=="svg"&&uM(S)?o="svg":o!=="mathml"&&cM(S)&&(o="mathml"),v||($(S,T),T_(t)))};v&&($(n,w),T_(t)),dZ(t.props)?Ur(E,s):E()}else{t.el=e.el,t.targetStart=e.targetStart;const x=t.anchor=e.anchor,w=t.target=e.target,$=t.targetAnchor=e.targetAnchor,E=Xh(e.props),S=E?n:w,T=E?x:$;if(o==="svg"||uM(w)?o="svg":(o==="mathml"||cM(w))&&(o="mathml"),b?(f(e.dynamicChildren,b,S,i,s,o,a),VI(e,t,!0)):l||d(e,t,S,T,i,s,o,a,!1),v)E?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):hy(t,n,x,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const P=t.target=l$(t.props,g);P&&hy(t,P,null,u,0)}else E&&hy(t,w,$,u,1);T_(t)}},remove(e,t,n,{um:r,o:{remove:i}},s){const{shapeFlag:o,children:a,anchor:l,targetStart:u,targetAnchor:c,target:d,props:f}=e;if(d&&(i(u),i(c)),s&&i(l),o&16){const p=s||!Xh(f);for(let g=0;g<a.length;g++){const h=a[g];r(h,t,n,p,!!h.dynamicChildren)}}},move:hy,hydrate:pZ};function hy(e,t,n,{o:{insert:r},m:i},s=2){s===0&&r(e.targetAnchor,t,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=e,d=s===2;if(d&&r(o,t,n),(!d||Xh(c))&&l&16)for(let f=0;f<u.length;f++)i(u[f],t,n,2);d&&r(a,t,n)}function pZ(e,t,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:u,createText:c}},d){const f=t.target=l$(t.props,l);if(f){const p=f._lpa||f.firstChild;if(t.shapeFlag&16)if(Xh(t.props))t.anchor=d(o(e),t,a(e),n,r,i,s),t.targetStart=p,t.targetAnchor=p&&o(p);else{t.anchor=o(e);let g=p;for(;g;){if(g&&g.nodeType===8){if(g.data==="teleport start anchor")t.targetStart=g;else if(g.data==="teleport anchor"){t.targetAnchor=g,f._lpa=t.targetAnchor&&o(t.targetAnchor);break}}g=o(g)}t.targetAnchor||HU(f,t,c,u),d(p&&o(p),t,f,n,r,i,s)}T_(t)}return t.anchor&&o(t.anchor)}const jU=fZ;function T_(e){const t=e.ctx;if(t&&t.ut){let n=e.targetStart;for(;n&&n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}function HU(e,t,n,r){const i=t.targetStart=n(""),s=t.targetAnchor=n("");return i[UU]=s,e&&(r(i,e),r(s,e)),s}const Tl=Symbol("_leaveCb"),gy=Symbol("_enterCb");function AI(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Jt(()=>{e.isMounted=!0}),Ja(()=>{e.isUnmounting=!0}),e}const $s=[Function,Array],OI={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:$s,onEnter:$s,onAfterEnter:$s,onEnterCancelled:$s,onBeforeLeave:$s,onLeave:$s,onAfterLeave:$s,onLeaveCancelled:$s,onBeforeAppear:$s,onAppear:$s,onAfterAppear:$s,onAppearCancelled:$s},WU=e=>{const t=e.subTree;return t.component?WU(t.component):t},hZ={name:"BaseTransition",props:OI,setup(e,{slots:t}){const n=fr(),r=AI();return()=>{const i=t.default&&Hw(t.default(),!0);if(!i||!i.length)return;const s=qU(i),o=Ut(e),{mode:a}=o;if(r.isLeaving)return tE(s);const l=dM(s);if(!l)return tE(s);let u=Df(l,o,r,n,f=>u=f);l.type!==wr&&Ba(l,u);const c=n.subTree,d=c&&dM(c);if(d&&d.type!==wr&&!Qs(l,d)&&WU(n).type!==wr){const f=Df(d,o,r,n);if(Ba(d,f),a==="out-in"&&l.type!==wr)return r.isLeaving=!0,f.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave},tE(s);a==="in-out"&&l.type!==wr&&(f.delayLeave=(p,g,h)=>{const m=KU(r,d);m[String(d.key)]=d,p[Tl]=()=>{g(),p[Tl]=void 0,delete u.delayedLeave},u.delayedLeave=h})}return s}}};function qU(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==wr){t=n;break}}return t}const zU=hZ;function KU(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Df(e,t,n,r,i){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:d,onBeforeLeave:f,onLeave:p,onAfterLeave:g,onLeaveCancelled:h,onBeforeAppear:m,onAppear:v,onAfterAppear:y,onAppearCancelled:_}=t,b=String(e.key),x=KU(n,e),w=(S,T)=>{S&&Bs(S,r,9,T)},$=(S,T)=>{const P=T[1];w(S,T),je(S)?S.every(C=>C.length<=1)&&P():S.length<=1&&P()},E={mode:o,persisted:a,beforeEnter(S){let T=l;if(!n.isMounted)if(s)T=m||l;else return;S[Tl]&&S[Tl](!0);const P=x[b];P&&Qs(e,P)&&P.el[Tl]&&P.el[Tl](),w(T,[S])},enter(S){let T=u,P=c,C=d;if(!n.isMounted)if(s)T=v||u,P=y||c,C=_||d;else return;let B=!1;const V=S[gy]=ce=>{B||(B=!0,ce?w(C,[S]):w(P,[S]),E.delayedLeave&&E.delayedLeave(),S[gy]=void 0)};T?$(T,[S,V]):V()},leave(S,T){const P=String(e.key);if(S[gy]&&S[gy](!0),n.isUnmounting)return T();w(f,[S]);let C=!1;const B=S[Tl]=V=>{C||(C=!0,T(),V?w(h,[S]):w(g,[S]),S[Tl]=void 0,x[P]===e&&delete x[P])};x[P]=e,p?$(p,[S,B]):B()},clone(S){const T=Df(S,t,n,r,i);return i&&i(T),T}};return E}function tE(e){if(ev(e))return e=lo(e),e.children=null,e}function dM(e){if(!ev(e))return VU(e.type)&&e.children?qU(e.children):e;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&Ze(n.default))return n.default()}}function Ba(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Ba(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Hw(e,t=!1,n){let r=[],i=0;for(let s=0;s<e.length;s++){let o=e[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===gn?(o.patchFlag&128&&i++,r=r.concat(Hw(o.children,t,a))):(t||o.type!==wr)&&r.push(a!=null?lo(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Tn(e,t){return Ze(e)?(()=>Pn({name:e.name},t,{setup:e}))():e}function GU(){const e=fr();return e?(e.appContext.config.idPrefix||"v")+"-"+e.ids[0]+e.ids[1]++:""}function RI(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function gZ(e){const t=fr(),n=Ho(null);if(t){const i=t.refs===Nt?t.refs={}:t.refs;Object.defineProperty(i,e,{enumerable:!0,get:()=>n.value,set:s=>n.value=s})}return n}function _0(e,t,n,r,i=!1){if(je(e)){e.forEach((g,h)=>_0(g,t&&(je(t)?t[h]:t),n,r,i));return}if(ql(r)&&!i)return;const s=r.shapeFlag&4?rv(r.component):r.el,o=i?null:s,{i:a,r:l}=e,u=t&&t.r,c=a.refs===Nt?a.refs={}:a.refs,d=a.setupState,f=Ut(d),p=d===Nt?()=>!1:g=>nn(f,g);if(u!=null&&u!==l&&(Mn(u)?(c[u]=null,p(u)&&(d[u]=null)):Sn(u)&&(u.value=null)),Ze(l))wp(l,a,12,[o,c]);else{const g=Mn(l),h=Sn(l);if(g||h){const m=()=>{if(e.f){const v=g?p(l)?d[l]:c[l]:l.value;i?je(v)&&yI(v,s):je(v)?v.includes(s)||v.push(s):g?(c[l]=[s],p(l)&&(d[l]=c[l])):(l.value=[s],e.k&&(c[e.k]=l.value))}else g?(c[l]=o,p(l)&&(d[l]=o)):h&&(l.value=o,e.k&&(c[e.k]=o))};o?(m.id=-1,Ur(m,n)):m()}}}let fM=!1;const wd=()=>{fM||(console.error("Hydration completed but contains mismatches."),fM=!0)},mZ=e=>e.namespaceURI.includes("svg")&&e.tagName!=="foreignObject",vZ=e=>e.namespaceURI.includes("MathML"),my=e=>{if(e.nodeType===1){if(mZ(e))return"svg";if(vZ(e))return"mathml"}},Gd=e=>e.nodeType===8;function yZ(e){const{mt:t,p:n,o:{patchProp:r,createText:i,nextSibling:s,parentNode:o,remove:a,insert:l,createComment:u}}=e,c=(_,b)=>{if(!b.hasChildNodes()){n(null,_,b),v0(),b._vnode=_;return}d(b.firstChild,_,null,null,null),v0(),b._vnode=_},d=(_,b,x,w,$,E=!1)=>{E=E||!!b.dynamicChildren;const S=Gd(_)&&_.data==="[",T=()=>h(_,b,x,w,$,S),{type:P,ref:C,shapeFlag:B,patchFlag:V}=b;let ce=_.nodeType;b.el=_,V===-2&&(E=!1,b.dynamicChildren=null);let X=null;switch(P){case zl:ce!==3?b.children===""?(l(b.el=i(""),o(_),_),X=_):X=T():(_.data!==b.children&&(wd(),_.data=b.children),X=s(_));break;case wr:y(_)?(X=s(_),v(b.el=_.content.firstChild,_,x)):ce!==8||S?X=T():X=s(_);break;case mc:if(S&&(_=s(_),ce=_.nodeType),ce===1||ce===3){X=_;const le=!b.children.length;for(let me=0;me<b.staticCount;me++)le&&(b.children+=X.nodeType===1?X.outerHTML:X.data),me===b.staticCount-1&&(b.anchor=X),X=s(X);return S?s(X):X}else T();break;case gn:S?X=g(_,b,x,w,$,E):X=T();break;default:if(B&1)(ce!==1||b.type.toLowerCase()!==_.tagName.toLowerCase())&&!y(_)?X=T():X=f(_,b,x,w,$,E);else if(B&6){b.slotScopeIds=$;const le=o(_);if(S?X=m(_):Gd(_)&&_.data==="teleport start"?X=m(_,_.data,"teleport end"):X=s(_),t(b,le,null,x,w,my(le),E),ql(b)){let me;S?(me=Se(gn),me.anchor=X?X.previousSibling:le.lastChild):me=_.nodeType===3?En(""):Se("div"),me.el=_,b.component.subTree=me}}else B&64?ce!==8?X=T():X=b.type.hydrate(_,b,x,w,$,E,e,p):B&128&&(X=b.type.hydrate(_,b,x,w,my(o(_)),$,E,e,d))}return C!=null&&_0(C,null,w,b),X},f=(_,b,x,w,$,E)=>{E=E||!!b.dynamicChildren;const{type:S,props:T,patchFlag:P,shapeFlag:C,dirs:B,transition:V}=b,ce=S==="input"||S==="option";if(ce||P!==-1){B&&Co(b,null,x,"created");let X=!1;if(y(_)){X=y3(w,V)&&x&&x.vnode.props&&x.vnode.props.appear;const me=_.content.firstChild;X&&V.beforeEnter(me),v(me,_,x),b.el=_=me}if(C&16&&!(T&&(T.innerHTML||T.textContent))){let me=p(_.firstChild,b,_,x,w,$,E);for(;me;){vy(_,1)||wd();const Ie=me;me=me.nextSibling,a(Ie)}}else if(C&8){let me=b.children;me[0]===`
`&&(_.tagName==="PRE"||_.tagName==="TEXTAREA")&&(me=me.slice(1)),_.textContent!==me&&(vy(_,0)||wd(),_.textContent=b.children)}if(T){if(ce||!E||P&48){const me=_.tagName.includes("-");for(const Ie in T)(ce&&(Ie.endsWith("value")||Ie==="indeterminate")||Xm(Ie)&&!uf(Ie)||Ie[0]==="."||me)&&r(_,Ie,null,T[Ie],void 0,x)}else if(T.onClick)r(_,"onClick",null,T.onClick,void 0,x);else if(P&4&&No(T.style))for(const me in T.style)T.style[me]}let le;(le=T&&T.onVnodeBeforeMount)&&ji(le,x,b),B&&Co(b,null,x,"beforeMount"),((le=T&&T.onVnodeMounted)||B||X)&&I3(()=>{le&&ji(le,x,b),X&&V.enter(_),B&&Co(b,null,x,"mounted")},w)}return _.nextSibling},p=(_,b,x,w,$,E,S)=>{S=S||!!b.dynamicChildren;const T=b.children,P=T.length;for(let C=0;C<P;C++){const B=S?T[C]:T[C]=Hi(T[C]),V=B.type===zl;_?(V&&!S&&C+1<P&&Hi(T[C+1]).type===zl&&(l(i(_.data.slice(B.children.length)),x,s(_)),_.data=B.children),_=d(_,B,w,$,E,S)):V&&!B.children?l(B.el=i(""),x):(vy(x,1)||wd(),n(null,B,x,null,w,$,my(x),E))}return _},g=(_,b,x,w,$,E)=>{const{slotScopeIds:S}=b;S&&($=$?$.concat(S):S);const T=o(_),P=p(s(_),b,T,x,w,$,E);return P&&Gd(P)&&P.data==="]"?s(b.anchor=P):(wd(),l(b.anchor=u("]"),T,P),P)},h=(_,b,x,w,$,E)=>{if(vy(_.parentElement,1)||wd(),b.el=null,E){const P=m(_);for(;;){const C=s(_);if(C&&C!==P)a(C);else break}}const S=s(_),T=o(_);return a(_),n(null,b,T,S,x,w,my(T),$),S},m=(_,b="[",x="]")=>{let w=0;for(;_;)if(_=s(_),_&&Gd(_)&&(_.data===b&&w++,_.data===x)){if(w===0)return s(_);w--}return _},v=(_,b,x)=>{const w=b.parentNode;w&&w.replaceChild(_,b);let $=x;for(;$;)$.vnode.el===b&&($.vnode.el=$.subTree.el=_),$=$.parent},y=_=>_.nodeType===1&&_.tagName==="TEMPLATE";return[c,d]}const pM="data-allow-mismatch",_Z={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function vy(e,t){if(t===0||t===1)for(;e&&!e.hasAttribute(pM);)e=e.parentElement;const n=e&&e.getAttribute(pM);if(n==null)return!1;if(n==="")return!0;{const r=n.split(",");return t===0&&r.includes("children")?!0:n.split(",").includes(_Z[t])}}const bZ=(e=1e4)=>t=>{const n=requestIdleCallback(t,{timeout:e});return()=>cancelIdleCallback(n)};function wZ(e){const{top:t,left:n,bottom:r,right:i}=e.getBoundingClientRect(),{innerHeight:s,innerWidth:o}=window;return(t>0&&t<s||r>0&&r<s)&&(n>0&&n<o||i>0&&i<o)}const xZ=e=>(t,n)=>{const r=new IntersectionObserver(i=>{for(const s of i)if(s.isIntersecting){r.disconnect(),t();break}},e);return n(i=>{if(i instanceof Element){if(wZ(i))return t(),r.disconnect(),!1;r.observe(i)}}),()=>r.disconnect()},EZ=e=>t=>{if(e){const n=matchMedia(e);if(n.matches)t();else return n.addEventListener("change",t,{once:!0}),()=>n.removeEventListener("change",t)}},SZ=(e=[])=>(t,n)=>{Mn(e)&&(e=[e]);let r=!1;const i=o=>{r||(r=!0,s(),t(),o.target.dispatchEvent(new o.constructor(o.type,o)))},s=()=>{n(o=>{for(const a of e)o.removeEventListener(a,i)})};return n(o=>{for(const a of e)o.addEventListener(a,i,{once:!0})}),s};function $Z(e,t){if(Gd(e)&&e.data==="["){let n=1,r=e.nextSibling;for(;r;){if(r.nodeType===1){if(t(r)===!1)break}else if(Gd(r))if(r.data==="]"){if(--n===0)break}else r.data==="["&&n++;r=r.nextSibling}}else t(e)}const ql=e=>!!e.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function Xa(e){Ze(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:r,delay:i=200,hydrate:s,timeout:o,suspensible:a=!0,onError:l}=e;let u=null,c,d=0;const f=()=>(d++,u=null,p()),p=()=>{let g;return u||(g=u=t().catch(h=>{if(h=h instanceof Error?h:new Error(String(h)),l)return new Promise((m,v)=>{l(h,()=>m(f()),()=>v(h),d+1)});throw h}).then(h=>g!==u&&u?u:(h&&(h.__esModule||h[Symbol.toStringTag]==="Module")&&(h=h.default),c=h,h)))};return Tn({name:"AsyncComponentWrapper",__asyncLoader:p,__asyncHydrate(g,h,m){const v=s?()=>{const y=s(m,_=>$Z(g,_));y&&(h.bum||(h.bum=[])).push(y)}:m;c?v():p().then(()=>!h.isUnmounted&&v())},get __asyncResolved(){return c},setup(){const g=Tr;if(RI(g),c)return()=>nE(c,g);const h=_=>{u=null,nd(_,g,13,!r)};if(a&&g.suspense||nv)return p().then(_=>()=>nE(_,g)).catch(_=>(h(_),()=>r?Se(r,{error:_}):null));const m=re(!1),v=re(),y=re(!!i);return i&&setTimeout(()=>{y.value=!1},i),o!=null&&setTimeout(()=>{if(!m.value&&!v.value){const _=new Error(`Async component timed out after ${o}ms.`);h(_),v.value=_}},o),p().then(()=>{m.value=!0,g.parent&&ev(g.parent.vnode)&&g.parent.update()}).catch(_=>{h(_),v.value=_}),()=>{if(m.value&&c)return nE(c,g);if(v.value&&r)return Se(r,{error:v.value});if(n&&!y.value)return Se(n)}}})}function nE(e,t){const{ref:n,props:r,children:i,ce:s}=t.vnode,o=Se(e,r,i);return o.ref=n,o.ce=s,delete t.vnode.ce,o}const ev=e=>e.type.__isKeepAlive,TZ={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=fr(),r=n.ctx;if(!r.renderer)return()=>{const y=t.default&&t.default();return y&&y.length===1?y[0]:y};const i=new Map,s=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:u,um:c,o:{createElement:d}}}=r,f=d("div");r.activate=(y,_,b,x,w)=>{const $=y.component;u(y,_,b,0,a),l($.vnode,y,_,b,$,a,x,y.slotScopeIds,w),Ur(()=>{$.isDeactivated=!1,$.a&&cf($.a);const E=y.props&&y.props.onVnodeMounted;E&&ji(E,$.parent,y)},a)},r.deactivate=y=>{const _=y.component;w0(_.m),w0(_.a),u(y,f,null,1,a),Ur(()=>{_.da&&cf(_.da);const b=y.props&&y.props.onVnodeUnmounted;b&&ji(b,_.parent,y),_.isDeactivated=!0},a)};function p(y){rE(y),c(y,n,a,!0)}function g(y){i.forEach((_,b)=>{const x=w$(_.type);x&&!y(x)&&h(b)})}function h(y){const _=i.get(y);_&&(!o||!Qs(_,o))?p(_):o&&rE(o),i.delete(y),s.delete(y)}bt(()=>[e.include,e.exclude],([y,_])=>{y&&g(b=>Ah(y,b)),_&&g(b=>!Ah(_,b))},{flush:"post",deep:!0});let m=null;const v=()=>{m!=null&&(x0(n.subTree.type)?Ur(()=>{i.set(m,yy(n.subTree))},n.subTree.suspense):i.set(m,yy(n.subTree)))};return Jt(v),qw(v),Ja(()=>{i.forEach(y=>{const{subTree:_,suspense:b}=n,x=yy(_);if(y.type===x.type&&y.key===x.key){rE(x);const w=x.component.da;w&&Ur(w,b);return}p(y)})}),()=>{if(m=null,!t.default)return o=null;const y=t.default(),_=y[0];if(y.length>1)return o=null,y;if(!Ua(_)||!(_.shapeFlag&4)&&!(_.shapeFlag&128))return o=null,_;let b=yy(_);if(b.type===wr)return o=null,b;const x=b.type,w=w$(ql(b)?b.type.__asyncResolved||{}:x),{include:$,exclude:E,max:S}=e;if($&&(!w||!Ah($,w))||E&&w&&Ah(E,w))return b.shapeFlag&=-257,o=b,_;const T=b.key==null?x:b.key,P=i.get(T);return b.el&&(b=lo(b),_.shapeFlag&128&&(_.ssContent=b)),m=T,P?(b.el=P.el,b.component=P.component,b.transition&&Ba(b,b.transition),b.shapeFlag|=512,s.delete(T),s.add(T)):(s.add(T),S&&s.size>parseInt(S,10)&&h(s.values().next().value)),b.shapeFlag|=256,o=b,x0(_.type)?_:b}}},kZ=TZ;function Ah(e,t){return je(e)?e.some(n=>Ah(n,t)):Mn(e)?e.split(",").includes(t):oJ(e)?(e.lastIndex=0,e.test(t)):!1}function PI(e,t){YU(e,"a",t)}function MI(e,t){YU(e,"da",t)}function YU(e,t,n=Tr){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Ww(t,r,n),n){let i=n.parent;for(;i&&i.parent;)ev(i.parent.vnode)&&IZ(r,t,n,i),i=i.parent}}function IZ(e,t,n,r){const i=Ww(t,e,r,!0);Mr(()=>{yI(r[t],i)},n)}function rE(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function yy(e){return e.shapeFlag&128?e.ssContent:e}function Ww(e,t,n=Tr,r=!1){if(n){const i=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...o)=>{Eu();const a=Ic(n),l=Bs(t,n,e,o);return a(),Su(),l});return r?i.unshift(s):i.push(s),s}}const Qa=e=>(t,n=Tr)=>{(!nv||e==="sp")&&Ww(e,(...r)=>t(...r),n)},DI=Qa("bm"),Jt=Qa("m"),XU=Qa("bu"),qw=Qa("u"),Ja=Qa("bum"),Mr=Qa("um"),QU=Qa("sp"),JU=Qa("rtg"),ZU=Qa("rtc");function e3(e,t=Tr){Ww("ec",e,t)}const NI="components",CZ="directives";function $c(e,t){return LI(NI,e,!0,t)||e}const t3=Symbol.for("v-ndc");function Nf(e){return Mn(e)?LI(NI,e,!1)||e:e||t3}function AZ(e){return LI(CZ,e)}function LI(e,t,n=!0,r=!1){const i=Cr||Tr;if(i){const s=i.type;if(e===NI){const a=w$(s,!1);if(a&&(a===t||a===Jr(t)||a===Qm(Jr(t))))return s}const o=hM(i[e]||s[e],t)||hM(i.appContext[e],t);return!o&&r?s:o}}function hM(e,t){return e&&(e[t]||e[Jr(t)]||e[Qm(Jr(t))])}function Tc(e,t,n,r){let i;const s=n&&n[r],o=je(e);if(o||Mn(e)){const a=o&&No(e);let l=!1;a&&(l=!fs(e),e=Dw(e)),i=new Array(e.length);for(let u=0,c=e.length;u<c;u++)i[u]=t(l?oi(e[u]):e[u],u,void 0,s&&s[u])}else if(typeof e=="number"){i=new Array(e);for(let a=0;a<e;a++)i[a]=t(a+1,a,void 0,s&&s[a])}else if(yn(e))if(e[Symbol.iterator])i=Array.from(e,(a,l)=>t(a,l,void 0,s&&s[l]));else{const a=Object.keys(e);i=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];i[l]=t(e[c],c,l,s&&s[l])}}else i=[];return n&&(n[r]=i),i}function n3(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(je(r))for(let i=0;i<r.length;i++)e[r[i].name]=r[i].fn;else r&&(e[r.name]=r.key?(...i)=>{const s=r.fn(...i);return s&&(s.key=r.key),s}:r.fn)}return e}function Ar(e,t,n={},r,i){if(Cr.ce||Cr.parent&&ql(Cr.parent)&&Cr.parent.ce)return t!=="default"&&(n.name=t),te(),ze(gn,null,[Se("slot",n,r&&r())],64);let s=e[t];s&&s._c&&(s._d=!1),te();const o=s&&FI(s(n)),a=ze(gn,{key:(n.key||o&&o.key||`_${t}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&e._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function FI(e){return e.some(t=>Ua(t)?!(t.type===wr||t.type===gn&&!FI(t.children)):!0)?e:null}function u$(e,t){const n={};for(const r in e)n[t&&/[A-Z]/.test(r)?`on:${r}`:Kh(r)]=e[r];return n}const c$=e=>e?M3(e)?rv(e):c$(e.parent):null,Qh=Pn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>c$(e.parent),$root:e=>c$(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>BI(e),$forceUpdate:e=>e.f||(e.f=()=>{CI(e.update)}),$nextTick:e=>e.n||(e.n=Qn.bind(e.proxy)),$watch:e=>oee.bind(e)}),iE=(e,t)=>e!==Nt&&!e.__isScriptSetup&&nn(e,t),d$={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=e;let u;if(t[0]!=="$"){const p=o[t];if(p!==void 0)switch(p){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return s[t]}else{if(iE(r,t))return o[t]=1,r[t];if(i!==Nt&&nn(i,t))return o[t]=2,i[t];if((u=e.propsOptions[0])&&nn(u,t))return o[t]=3,s[t];if(n!==Nt&&nn(n,t))return o[t]=4,n[t];f$&&(o[t]=0)}}const c=Qh[t];let d,f;if(c)return t==="$attrs"&&pi(e.attrs,"get",""),c(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(n!==Nt&&nn(n,t))return o[t]=4,n[t];if(f=l.config.globalProperties,nn(f,t))return f[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:s}=e;return iE(i,t)?(i[t]=n,!0):r!==Nt&&nn(r,t)?(r[t]=n,!0):nn(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||e!==Nt&&nn(e,o)||iE(t,o)||(a=s[0])&&nn(a,o)||nn(r,o)||nn(Qh,o)||nn(i.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:nn(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}},OZ=Pn({},d$,{get(e,t){if(t!==Symbol.unscopables)return d$.get(e,t,e)},has(e,t){return t[0]!=="_"&&!dJ(t)}});function RZ(){return null}function PZ(){return null}function MZ(e){}function DZ(e){}function NZ(){return null}function LZ(){}function FZ(e,t){return null}function BZ(){return r3().slots}function UZ(){return r3().attrs}function r3(){const e=fr();return e.setupContext||(e.setupContext=L3(e))}function Vg(e){return je(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function VZ(e,t){const n=Vg(e);for(const r in t){if(r.startsWith("__skip"))continue;let i=n[r];i?je(i)||Ze(i)?i=n[r]={type:i,default:t[r]}:i.default=t[r]:i===null&&(i=n[r]={default:t[r]}),i&&t[`__skip_${r}`]&&(i.skipFactory=!0)}return n}function jZ(e,t){return!e||!t?e||t:je(e)&&je(t)?e.concat(t):Pn({},Vg(e),Vg(t))}function HZ(e,t){const n={};for(const r in e)t.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>e[r]});return n}function WZ(e){const t=fr();let n=e();return y$(),_I(n)&&(n=n.catch(r=>{throw Ic(t),r})),[n,()=>Ic(t)]}let f$=!0;function qZ(e){const t=BI(e),n=e.proxy,r=e.ctx;f$=!1,t.beforeCreate&&gM(t.beforeCreate,e,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:f,beforeUpdate:p,updated:g,activated:h,deactivated:m,beforeDestroy:v,beforeUnmount:y,destroyed:_,unmounted:b,render:x,renderTracked:w,renderTriggered:$,errorCaptured:E,serverPrefetch:S,expose:T,inheritAttrs:P,components:C,directives:B,filters:V}=t;if(u&&zZ(u,r,null),o)for(const le in o){const me=o[le];Ze(me)&&(r[le]=me.bind(n))}if(i){const le=i.call(n,n);yn(le)&&(e.data=Cs(le))}if(f$=!0,s)for(const le in s){const me=s[le],Ie=Ze(me)?me.bind(n,n):Ze(me.get)?me.get.bind(n,n):Rs,Tt=!Ze(me)&&Ze(me.set)?me.set.bind(n):Rs,Re=Ce({get:Ie,set:Tt});Object.defineProperty(r,le,{enumerable:!0,configurable:!0,get:()=>Re.value,set:Xe=>Re.value=Xe})}if(a)for(const le in a)i3(a[le],r,n,le);if(l){const le=Ze(l)?l.call(n):l;Reflect.ownKeys(le).forEach(me=>{tr(me,le[me])})}c&&gM(c,e,"c");function X(le,me){je(me)?me.forEach(Ie=>le(Ie.bind(n))):me&&le(me.bind(n))}if(X(DI,d),X(Jt,f),X(XU,p),X(qw,g),X(PI,h),X(MI,m),X(e3,E),X(ZU,w),X(JU,$),X(Ja,y),X(Mr,b),X(QU,S),je(T))if(T.length){const le=e.exposed||(e.exposed={});T.forEach(me=>{Object.defineProperty(le,me,{get:()=>n[me],set:Ie=>n[me]=Ie})})}else e.exposed||(e.exposed={});x&&e.render===Rs&&(e.render=x),P!=null&&(e.inheritAttrs=P),C&&(e.components=C),B&&(e.directives=B),S&&RI(e)}function zZ(e,t,n=Rs){je(e)&&(e=p$(e));for(const r in e){const i=e[r];let s;yn(i)?"default"in i?s=ct(i.from||r,i.default,!0):s=ct(i.from||r):s=ct(i),Sn(s)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):t[r]=s}}function gM(e,t,n){Bs(je(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function i3(e,t,n,r){let i=r.includes(".")?S3(n,r):()=>n[r];if(Mn(e)){const s=t[e];Ze(s)&&bt(i,s)}else if(Ze(e))bt(i,e.bind(n));else if(yn(e))if(je(e))e.forEach(s=>i3(s,t,n,r));else{const s=Ze(e.handler)?e.handler.bind(n):t[e.handler];Ze(s)&&bt(i,s,e)}}function BI(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=e.appContext,a=s.get(t);let l;return a?l=a:!i.length&&!n&&!r?l=t:(l={},i.length&&i.forEach(u=>b0(l,u,o,!0)),b0(l,t,o)),yn(t)&&s.set(t,l),l}function b0(e,t,n,r=!1){const{mixins:i,extends:s}=t;s&&b0(e,s,n,!0),i&&i.forEach(o=>b0(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const a=KZ[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const KZ={data:mM,props:vM,emits:vM,methods:Oh,computed:Oh,beforeCreate:vi,created:vi,beforeMount:vi,mounted:vi,beforeUpdate:vi,updated:vi,beforeDestroy:vi,beforeUnmount:vi,destroyed:vi,unmounted:vi,activated:vi,deactivated:vi,errorCaptured:vi,serverPrefetch:vi,components:Oh,directives:Oh,watch:YZ,provide:mM,inject:GZ};function mM(e,t){return t?e?function(){return Pn(Ze(e)?e.call(this,this):e,Ze(t)?t.call(this,this):t)}:t:e}function GZ(e,t){return Oh(p$(e),p$(t))}function p$(e){if(je(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function vi(e,t){return e?[...new Set([].concat(e,t))]:t}function Oh(e,t){return e?Pn(Object.create(null),e,t):t}function vM(e,t){return e?je(e)&&je(t)?[...new Set([...e,...t])]:Pn(Object.create(null),Vg(e),Vg(t??{})):t}function YZ(e,t){if(!e)return t;if(!t)return e;const n=Pn(Object.create(null),e);for(const r in t)n[r]=vi(e[r],t[r]);return n}function s3(){return{app:null,config:{isNativeTag:iJ,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let XZ=0;function QZ(e,t){return function(r,i=null){Ze(r)||(r=Pn({},r)),i!=null&&!yn(i)&&(i=null);const s=s3(),o=new WeakSet,a=[];let l=!1;const u=s.app={_uid:XZ++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:Kw,get config(){return s.config},set config(c){},use(c,...d){return o.has(c)||(c&&Ze(c.install)?(o.add(c),c.install(u,...d)):Ze(c)&&(o.add(c),c(u,...d))),u},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),u},component(c,d){return d?(s.components[c]=d,u):s.components[c]},directive(c,d){return d?(s.directives[c]=d,u):s.directives[c]},mount(c,d,f){if(!l){const p=u._ceVNode||Se(r,i);return p.appContext=s,f===!0?f="svg":f===!1&&(f=void 0),d&&t?t(p,c):e(p,c,f),l=!0,u._container=c,c.__vue_app__=u,rv(p.component)}},onUnmount(c){a.push(c)},unmount(){l&&(Bs(a,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,d){return s.provides[c]=d,u},runWithContext(c){const d=gc;gc=u;try{return c()}finally{gc=d}}};return u}}let gc=null;function tr(e,t){if(Tr){let n=Tr.provides;const r=Tr.parent&&Tr.parent.provides;r===n&&(n=Tr.provides=Object.create(r)),n[e]=t}}function ct(e,t,n=!1){const r=Tr||Cr;if(r||gc){const i=gc?gc._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&Ze(t)?t.call(r&&r.proxy):t}}function JZ(){return!!(Tr||Cr||gc)}const o3={},a3=()=>Object.create(o3),l3=e=>Object.getPrototypeOf(e)===o3;function ZZ(e,t,n,r=!1){const i={},s=a3();e.propsDefaults=Object.create(null),u3(e,t,i,s);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);n?e.props=r?i:Fg(i):e.type.props?e.props=i:e.props=s,e.attrs=s}function eee(e,t,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=e,a=Ut(i),[l]=e.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let d=0;d<c.length;d++){let f=c[d];if(zw(e.emitsOptions,f))continue;const p=t[f];if(l)if(nn(s,f))p!==s[f]&&(s[f]=p,u=!0);else{const g=Jr(f);i[g]=h$(l,a,g,p,e,!1)}else p!==s[f]&&(s[f]=p,u=!0)}}}else{u3(e,t,i,s)&&(u=!0);let c;for(const d in a)(!t||!nn(t,d)&&((c=Wi(d))===d||!nn(t,c)))&&(l?n&&(n[d]!==void 0||n[c]!==void 0)&&(i[d]=h$(l,a,d,void 0,e,!0)):delete i[d]);if(s!==a)for(const d in s)(!t||!nn(t,d))&&(delete s[d],u=!0)}u&&ka(e.attrs,"set","")}function u3(e,t,n,r){const[i,s]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(uf(l))continue;const u=t[l];let c;i&&nn(i,c=Jr(l))?!s||!s.includes(c)?n[c]=u:(a||(a={}))[c]=u:zw(e.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(s){const l=Ut(n),u=a||Nt;for(let c=0;c<s.length;c++){const d=s[c];n[d]=h$(i,l,d,u[d],e,!nn(u,d))}}return o}function h$(e,t,n,r,i,s){const o=e[n];if(o!=null){const a=nn(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Ze(l)){const{propsDefaults:u}=i;if(n in u)r=u[n];else{const c=Ic(i);r=u[n]=l.call(null,t),c()}}else r=l;i.ce&&i.ce._setProp(n,r)}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===Wi(n))&&(r=!0))}return r}const tee=new WeakMap;function c3(e,t,n=!1){const r=n?tee:t.propsCache,i=r.get(e);if(i)return i;const s=e.props,o={},a=[];let l=!1;if(!Ze(e)){const c=d=>{l=!0;const[f,p]=c3(d,t,!0);Pn(o,f),p&&a.push(...p)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!s&&!l)return yn(e)&&r.set(e,af),af;if(je(s))for(let c=0;c<s.length;c++){const d=Jr(s[c]);yM(d)&&(o[d]=Nt)}else if(s)for(const c in s){const d=Jr(c);if(yM(d)){const f=s[c],p=o[d]=je(f)||Ze(f)?{type:f}:Pn({},f),g=p.type;let h=!1,m=!0;if(je(g))for(let v=0;v<g.length;++v){const y=g[v],_=Ze(y)&&y.name;if(_==="Boolean"){h=!0;break}else _==="String"&&(m=!1)}else h=Ze(g)&&g.name==="Boolean";p[0]=h,p[1]=m,(h||nn(p,"default"))&&a.push(d)}}const u=[o,a];return yn(e)&&r.set(e,u),u}function yM(e){return e[0]!=="$"&&!uf(e)}const d3=e=>e[0]==="_"||e==="$stable",UI=e=>je(e)?e.map(Hi):[Hi(e)],nee=(e,t,n)=>{if(t._n)return t;const r=et((...i)=>UI(t(...i)),n);return r._c=!1,r},f3=(e,t,n)=>{const r=e._ctx;for(const i in e){if(d3(i))continue;const s=e[i];if(Ze(s))t[i]=nee(i,s,r);else if(s!=null){const o=UI(s);t[i]=()=>o}}},p3=(e,t)=>{const n=UI(t);e.slots.default=()=>n},h3=(e,t,n)=>{for(const r in t)(n||r!=="_")&&(e[r]=t[r])},ree=(e,t,n)=>{const r=e.slots=a3();if(e.vnode.shapeFlag&32){const i=t._;i?(h3(r,t,n),n&&lU(r,"_",i,!0)):f3(t,r)}else t&&p3(e,t)},iee=(e,t,n)=>{const{vnode:r,slots:i}=e;let s=!0,o=Nt;if(r.shapeFlag&32){const a=t._;a?n&&a===1?s=!1:h3(i,t,n):(s=!t.$stable,f3(t,i)),o=t}else t&&(p3(e,t),o={default:1});if(s)for(const a in i)!d3(a)&&o[a]==null&&delete i[a]},Ur=I3;function g3(e){return v3(e)}function m3(e){return v3(e,yZ)}function v3(e,t){const n=uU();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:f,setScopeId:p=Rs,insertStaticContent:g}=e,h=(O,M,j,Y=null,K=null,ae=null,be=void 0,ye=null,we=!!M.dynamicChildren)=>{if(O===M)return;O&&!Qs(O,M)&&(Y=L(O),Xe(O,K,ae,!0),O=null),M.patchFlag===-2&&(we=!1,M.dynamicChildren=null);const{type:z,ref:_e,shapeFlag:ge}=M;switch(z){case zl:m(O,M,j,Y);break;case wr:v(O,M,j,Y);break;case mc:O==null&&y(M,j,Y,be);break;case gn:C(O,M,j,Y,K,ae,be,ye,we);break;default:ge&1?x(O,M,j,Y,K,ae,be,ye,we):ge&6?B(O,M,j,Y,K,ae,be,ye,we):(ge&64||ge&128)&&z.process(O,M,j,Y,K,ae,be,ye,we,ue)}_e!=null&&K&&_0(_e,O&&O.ref,ae,M||O,!M)},m=(O,M,j,Y)=>{if(O==null)r(M.el=a(M.children),j,Y);else{const K=M.el=O.el;M.children!==O.children&&u(K,M.children)}},v=(O,M,j,Y)=>{O==null?r(M.el=l(M.children||""),j,Y):M.el=O.el},y=(O,M,j,Y)=>{[O.el,O.anchor]=g(O.children,M,j,Y,O.el,O.anchor)},_=({el:O,anchor:M},j,Y)=>{let K;for(;O&&O!==M;)K=f(O),r(O,j,Y),O=K;r(M,j,Y)},b=({el:O,anchor:M})=>{let j;for(;O&&O!==M;)j=f(O),i(O),O=j;i(M)},x=(O,M,j,Y,K,ae,be,ye,we)=>{M.type==="svg"?be="svg":M.type==="math"&&(be="mathml"),O==null?w(M,j,Y,K,ae,be,ye,we):S(O,M,K,ae,be,ye,we)},w=(O,M,j,Y,K,ae,be,ye)=>{let we,z;const{props:_e,shapeFlag:ge,transition:xe,dirs:He}=O;if(we=O.el=o(O.type,ae,_e&&_e.is,_e),ge&8?c(we,O.children):ge&16&&E(O.children,we,null,Y,K,sE(O,ae),be,ye),He&&Co(O,null,Y,"created"),$(we,O,O.scopeId,be,Y),_e){for(const Ke in _e)Ke!=="value"&&!uf(Ke)&&s(we,Ke,null,_e[Ke],ae,Y);"value"in _e&&s(we,"value",null,_e.value,ae),(z=_e.onVnodeBeforeMount)&&ji(z,Y,O)}He&&Co(O,null,Y,"beforeMount");const rt=y3(K,xe);rt&&xe.beforeEnter(we),r(we,M,j),((z=_e&&_e.onVnodeMounted)||rt||He)&&Ur(()=>{z&&ji(z,Y,O),rt&&xe.enter(we),He&&Co(O,null,Y,"mounted")},K)},$=(O,M,j,Y,K)=>{if(j&&p(O,j),Y)for(let ae=0;ae<Y.length;ae++)p(O,Y[ae]);if(K){let ae=K.subTree;if(M===ae||x0(ae.type)&&(ae.ssContent===M||ae.ssFallback===M)){const be=K.vnode;$(O,be,be.scopeId,be.slotScopeIds,K.parent)}}},E=(O,M,j,Y,K,ae,be,ye,we=0)=>{for(let z=we;z<O.length;z++){const _e=O[z]=ye?kl(O[z]):Hi(O[z]);h(null,_e,M,j,Y,K,ae,be,ye)}},S=(O,M,j,Y,K,ae,be)=>{const ye=M.el=O.el;let{patchFlag:we,dynamicChildren:z,dirs:_e}=M;we|=O.patchFlag&16;const ge=O.props||Nt,xe=M.props||Nt;let He;if(j&&qu(j,!1),(He=xe.onVnodeBeforeUpdate)&&ji(He,j,M,O),_e&&Co(M,O,j,"beforeUpdate"),j&&qu(j,!0),(ge.innerHTML&&xe.innerHTML==null||ge.textContent&&xe.textContent==null)&&c(ye,""),z?T(O.dynamicChildren,z,ye,j,Y,sE(M,K),ae):be||me(O,M,ye,null,j,Y,sE(M,K),ae,!1),we>0){if(we&16)P(ye,ge,xe,j,K);else if(we&2&&ge.class!==xe.class&&s(ye,"class",null,xe.class,K),we&4&&s(ye,"style",ge.style,xe.style,K),we&8){const rt=M.dynamicProps;for(let Ke=0;Ke<rt.length;Ke++){const Qe=rt[Ke],Dn=ge[Qe],tn=xe[Qe];(tn!==Dn||Qe==="value")&&s(ye,Qe,Dn,tn,K,j)}}we&1&&O.children!==M.children&&c(ye,M.children)}else!be&&z==null&&P(ye,ge,xe,j,K);((He=xe.onVnodeUpdated)||_e)&&Ur(()=>{He&&ji(He,j,M,O),_e&&Co(M,O,j,"updated")},Y)},T=(O,M,j,Y,K,ae,be)=>{for(let ye=0;ye<M.length;ye++){const we=O[ye],z=M[ye],_e=we.el&&(we.type===gn||!Qs(we,z)||we.shapeFlag&70)?d(we.el):j;h(we,z,_e,null,Y,K,ae,be,!0)}},P=(O,M,j,Y,K)=>{if(M!==j){if(M!==Nt)for(const ae in M)!uf(ae)&&!(ae in j)&&s(O,ae,M[ae],null,K,Y);for(const ae in j){if(uf(ae))continue;const be=j[ae],ye=M[ae];be!==ye&&ae!=="value"&&s(O,ae,ye,be,K,Y)}"value"in j&&s(O,"value",M.value,j.value,K)}},C=(O,M,j,Y,K,ae,be,ye,we)=>{const z=M.el=O?O.el:a(""),_e=M.anchor=O?O.anchor:a("");let{patchFlag:ge,dynamicChildren:xe,slotScopeIds:He}=M;He&&(ye=ye?ye.concat(He):He),O==null?(r(z,j,Y),r(_e,j,Y),E(M.children||[],j,_e,K,ae,be,ye,we)):ge>0&&ge&64&&xe&&O.dynamicChildren?(T(O.dynamicChildren,xe,j,K,ae,be,ye),(M.key!=null||K&&M===K.subTree)&&VI(O,M,!0)):me(O,M,j,_e,K,ae,be,ye,we)},B=(O,M,j,Y,K,ae,be,ye,we)=>{M.slotScopeIds=ye,O==null?M.shapeFlag&512?K.ctx.activate(M,j,Y,be,we):V(M,j,Y,K,ae,be,we):ce(O,M,we)},V=(O,M,j,Y,K,ae,be)=>{const ye=O.component=P3(O,Y,K);if(ev(O)&&(ye.ctx.renderer=ue),D3(ye,!1,be),ye.asyncDep){if(K&&K.registerDep(ye,X,be),!O.el){const we=ye.subTree=Se(wr);v(null,we,M,j)}}else X(ye,O,M,j,K,ae,be)},ce=(O,M,j)=>{const Y=M.component=O.component;if(fee(O,M,j))if(Y.asyncDep&&!Y.asyncResolved){le(Y,M,j);return}else Y.next=M,Y.update();else M.el=O.el,Y.vnode=M},X=(O,M,j,Y,K,ae,be)=>{const ye=()=>{if(O.isMounted){let{next:ge,bu:xe,u:He,parent:rt,vnode:Ke}=O;{const ln=_3(O);if(ln){ge&&(ge.el=Ke.el,le(O,ge,be)),ln.asyncDep.then(()=>{O.isUnmounted||ye()});return}}let Qe=ge,Dn;qu(O,!1),ge?(ge.el=Ke.el,le(O,ge,be)):ge=Ke,xe&&cf(xe),(Dn=ge.props&&ge.props.onVnodeBeforeUpdate)&&ji(Dn,rt,ge,Ke),qu(O,!0);const tn=k_(O),Lt=O.subTree;O.subTree=tn,h(Lt,tn,d(Lt.el),L(Lt),O,K,ae),ge.el=tn.el,Qe===null&&jI(O,tn.el),He&&Ur(He,K),(Dn=ge.props&&ge.props.onVnodeUpdated)&&Ur(()=>ji(Dn,rt,ge,Ke),K)}else{let ge;const{el:xe,props:He}=M,{bm:rt,m:Ke,parent:Qe,root:Dn,type:tn}=O,Lt=ql(M);if(qu(O,!1),rt&&cf(rt),!Lt&&(ge=He&&He.onVnodeBeforeMount)&&ji(ge,Qe,M),qu(O,!0),xe&&he){const ln=()=>{O.subTree=k_(O),he(xe,O.subTree,O,K,null)};Lt&&tn.__asyncHydrate?tn.__asyncHydrate(xe,O,ln):ln()}else{Dn.ce&&Dn.ce._injectChildStyle(tn);const ln=O.subTree=k_(O);h(null,ln,j,Y,O,K,ae),M.el=ln.el}if(Ke&&Ur(Ke,K),!Lt&&(ge=He&&He.onVnodeMounted)){const ln=M;Ur(()=>ji(ge,Qe,ln),K)}(M.shapeFlag&256||Qe&&ql(Qe.vnode)&&Qe.vnode.shapeFlag&256)&&O.a&&Ur(O.a,K),O.isMounted=!0,M=j=Y=null}};O.scope.on();const we=O.effect=new Dg(ye);O.scope.off();const z=O.update=we.run.bind(we),_e=O.job=we.runIfDirty.bind(we);_e.i=O,_e.id=O.uid,we.scheduler=()=>CI(_e),qu(O,!0),z()},le=(O,M,j)=>{M.component=O;const Y=O.vnode.props;O.vnode=M,O.next=null,eee(O,M.props,Y,j),iee(O,M.children,j),Eu(),lM(O),Su()},me=(O,M,j,Y,K,ae,be,ye,we=!1)=>{const z=O&&O.children,_e=O?O.shapeFlag:0,ge=M.children,{patchFlag:xe,shapeFlag:He}=M;if(xe>0){if(xe&128){Tt(z,ge,j,Y,K,ae,be,ye,we);return}else if(xe&256){Ie(z,ge,j,Y,K,ae,be,ye,we);return}}He&8?(_e&16&&Q(z,K,ae),ge!==z&&c(j,ge)):_e&16?He&16?Tt(z,ge,j,Y,K,ae,be,ye,we):Q(z,K,ae,!0):(_e&8&&c(j,""),He&16&&E(ge,j,Y,K,ae,be,ye,we))},Ie=(O,M,j,Y,K,ae,be,ye,we)=>{O=O||af,M=M||af;const z=O.length,_e=M.length,ge=Math.min(z,_e);let xe;for(xe=0;xe<ge;xe++){const He=M[xe]=we?kl(M[xe]):Hi(M[xe]);h(O[xe],He,j,null,K,ae,be,ye,we)}z>_e?Q(O,K,ae,!0,!1,ge):E(M,j,Y,K,ae,be,ye,we,ge)},Tt=(O,M,j,Y,K,ae,be,ye,we)=>{let z=0;const _e=M.length;let ge=O.length-1,xe=_e-1;for(;z<=ge&&z<=xe;){const He=O[z],rt=M[z]=we?kl(M[z]):Hi(M[z]);if(Qs(He,rt))h(He,rt,j,null,K,ae,be,ye,we);else break;z++}for(;z<=ge&&z<=xe;){const He=O[ge],rt=M[xe]=we?kl(M[xe]):Hi(M[xe]);if(Qs(He,rt))h(He,rt,j,null,K,ae,be,ye,we);else break;ge--,xe--}if(z>ge){if(z<=xe){const He=xe+1,rt=He<_e?M[He].el:Y;for(;z<=xe;)h(null,M[z]=we?kl(M[z]):Hi(M[z]),j,rt,K,ae,be,ye,we),z++}}else if(z>xe)for(;z<=ge;)Xe(O[z],K,ae,!0),z++;else{const He=z,rt=z,Ke=new Map;for(z=rt;z<=xe;z++){const un=M[z]=we?kl(M[z]):Hi(M[z]);un.key!=null&&Ke.set(un.key,z)}let Qe,Dn=0;const tn=xe-rt+1;let Lt=!1,ln=0;const or=new Array(tn);for(z=0;z<tn;z++)or[z]=0;for(z=He;z<=ge;z++){const un=O[z];if(Dn>=tn){Xe(un,K,ae,!0);continue}let Ct;if(un.key!=null)Ct=Ke.get(un.key);else for(Qe=rt;Qe<=xe;Qe++)if(or[Qe-rt]===0&&Qs(un,M[Qe])){Ct=Qe;break}Ct===void 0?Xe(un,K,ae,!0):(or[Ct-rt]=z+1,Ct>=ln?ln=Ct:Lt=!0,h(un,M[Ct],j,null,K,ae,be,ye,we),Dn++)}const ni=Lt?see(or):af;for(Qe=ni.length-1,z=tn-1;z>=0;z--){const un=rt+z,Ct=M[un],Eo=un+1<_e?M[un+1].el:Y;or[z]===0?h(null,Ct,j,Eo,K,ae,be,ye,we):Lt&&(Qe<0||z!==ni[Qe]?Re(Ct,j,Eo,2):Qe--)}}},Re=(O,M,j,Y,K=null)=>{const{el:ae,type:be,transition:ye,children:we,shapeFlag:z}=O;if(z&6){Re(O.component.subTree,M,j,Y);return}if(z&128){O.suspense.move(M,j,Y);return}if(z&64){be.move(O,M,j,ue);return}if(be===gn){r(ae,M,j);for(let ge=0;ge<we.length;ge++)Re(we[ge],M,j,Y);r(O.anchor,M,j);return}if(be===mc){_(O,M,j);return}if(Y!==2&&z&1&&ye)if(Y===0)ye.beforeEnter(ae),r(ae,M,j),Ur(()=>ye.enter(ae),K);else{const{leave:ge,delayLeave:xe,afterLeave:He}=ye,rt=()=>r(ae,M,j),Ke=()=>{ge(ae,()=>{rt(),He&&He()})};xe?xe(ae,rt,Ke):Ke()}else r(ae,M,j)},Xe=(O,M,j,Y=!1,K=!1)=>{const{type:ae,props:be,ref:ye,children:we,dynamicChildren:z,shapeFlag:_e,patchFlag:ge,dirs:xe,cacheIndex:He}=O;if(ge===-2&&(K=!1),ye!=null&&_0(ye,null,j,O,!0),He!=null&&(M.renderCache[He]=void 0),_e&256){M.ctx.deactivate(O);return}const rt=_e&1&&xe,Ke=!ql(O);let Qe;if(Ke&&(Qe=be&&be.onVnodeBeforeUnmount)&&ji(Qe,M,O),_e&6)J(O.component,j,Y);else{if(_e&128){O.suspense.unmount(j,Y);return}rt&&Co(O,null,M,"beforeUnmount"),_e&64?O.type.remove(O,M,j,ue,Y):z&&!z.hasOnce&&(ae!==gn||ge>0&&ge&64)?Q(z,M,j,!1,!0):(ae===gn&&ge&384||!K&&_e&16)&&Q(we,M,j),Y&&F(O)}(Ke&&(Qe=be&&be.onVnodeUnmounted)||rt)&&Ur(()=>{Qe&&ji(Qe,M,O),rt&&Co(O,null,M,"unmounted")},j)},F=O=>{const{type:M,el:j,anchor:Y,transition:K}=O;if(M===gn){H(j,Y);return}if(M===mc){b(O);return}const ae=()=>{i(j),K&&!K.persisted&&K.afterLeave&&K.afterLeave()};if(O.shapeFlag&1&&K&&!K.persisted){const{leave:be,delayLeave:ye}=K,we=()=>be(j,ae);ye?ye(O.el,ae,we):we()}else ae()},H=(O,M)=>{let j;for(;O!==M;)j=f(O),i(O),O=j;i(M)},J=(O,M,j)=>{const{bum:Y,scope:K,job:ae,subTree:be,um:ye,m:we,a:z}=O;w0(we),w0(z),Y&&cf(Y),K.stop(),ae&&(ae.flags|=8,Xe(be,O,M,j)),ye&&Ur(ye,M),Ur(()=>{O.isUnmounted=!0},M),M&&M.pendingBranch&&!M.isUnmounted&&O.asyncDep&&!O.asyncResolved&&O.suspenseId===M.pendingId&&(M.deps--,M.deps===0&&M.resolve())},Q=(O,M,j,Y=!1,K=!1,ae=0)=>{for(let be=ae;be<O.length;be++)Xe(O[be],M,j,Y,K)},L=O=>{if(O.shapeFlag&6)return L(O.component.subTree);if(O.shapeFlag&128)return O.suspense.next();const M=f(O.anchor||O.el),j=M&&M[UU];return j?f(j):M};let W=!1;const q=(O,M,j)=>{O==null?M._vnode&&Xe(M._vnode,null,null,!0):h(M._vnode||null,O,M,null,null,null,j),M._vnode=O,W||(W=!0,lM(),v0(),W=!1)},ue={p:h,um:Xe,m:Re,r:F,mt:V,mc:E,pc:me,pbc:T,n:L,o:e};let fe,he;return t&&([fe,he]=t(ue)),{render:q,hydrate:fe,createApp:QZ(q,fe)}}function sE({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function qu({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function y3(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function VI(e,t,n=!1){const r=e.children,i=t.children;if(je(r)&&je(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=kl(i[s]),a.el=o.el),!n&&a.patchFlag!==-2&&VI(o,a)),a.type===zl&&(a.el=o.el)}}function see(e){const t=e.slice(),n=[0];let r,i,s,o,a;const l=e.length;for(r=0;r<l;r++){const u=e[r];if(u!==0){if(i=n[n.length-1],e[i]<u){t[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,e[n[a]]<u?s=a+1:o=a;u<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=t[o];return n}function _3(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:_3(t)}function w0(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const b3=Symbol.for("v-scx"),w3=()=>ct(b3);function sn(e,t){return tv(e,null,t)}function x3(e,t){return tv(e,null,{flush:"post"})}function E3(e,t){return tv(e,null,{flush:"sync"})}function bt(e,t,n){return tv(e,t,n)}function tv(e,t,n=Nt){const{immediate:r,deep:i,flush:s,once:o}=n,a=Pn({},n);let l;if(nv)if(s==="sync"){const f=w3();l=f.__watcherHandles||(f.__watcherHandles=[])}else if(!t||r)a.once=!0;else{const f=()=>{};return f.stop=Rs,f.resume=Rs,f.pause=Rs,f}const u=Tr;a.call=(f,p,g)=>Bs(f,u,p,g);let c=!1;s==="post"?a.scheduler=f=>{Ur(f,u&&u.suspense)}:s!=="sync"&&(c=!0,a.scheduler=(f,p)=>{p?f():CI(f)}),a.augmentJob=f=>{t&&(f.flags|=4),c&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const d=rZ(e,t,a);return l&&l.push(d),d}function oee(e,t,n){const r=this.proxy,i=Mn(e)?e.includes(".")?S3(r,e):()=>r[e]:e.bind(r,r);let s;Ze(t)?s=t:(s=t.handler,n=t);const o=Ic(this),a=tv(i,s.bind(r),n);return o(),a}function S3(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function aee(e,t,n=Nt){const r=fr(),i=Jr(t),s=Wi(t),o=$3(e,t),a=Uw((l,u)=>{let c,d=Nt,f;return E3(()=>{const p=e[t];bi(c,p)&&(c=p,u())}),{get(){return l(),n.get?n.get(c):c},set(p){const g=n.set?n.set(p):p;if(!bi(g,c)&&!(d!==Nt&&bi(p,d)))return;const h=r.vnode.props;h&&(t in h||i in h||s in h)&&(`onUpdate:${t}`in h||`onUpdate:${i}`in h||`onUpdate:${s}`in h)||(c=p,u()),r.emit(`update:${t}`,g),bi(p,g)&&bi(p,d)&&!bi(g,f)&&u(),d=p,f=g}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||Nt:a,done:!1}:{done:!0}}}},a}const $3=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Jr(t)}Modifiers`]||e[`${Wi(t)}Modifiers`];function lee(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Nt;let i=n;const s=t.startsWith("update:"),o=s&&$3(r,t.slice(7));o&&(o.trim&&(i=n.map(c=>Mn(c)?c.trim():c)),o.number&&(i=n.map(d0)));let a,l=r[a=Kh(t)]||r[a=Kh(Jr(t))];!l&&s&&(l=r[a=Kh(Wi(t))]),l&&Bs(l,e,6,i);const u=r[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Bs(u,e,6,i)}}function T3(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const s=e.emits;let o={},a=!1;if(!Ze(e)){const l=u=>{const c=T3(u,t,!0);c&&(a=!0,Pn(o,c))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!a?(yn(e)&&r.set(e,null),null):(je(s)?s.forEach(l=>o[l]=null):Pn(o,s),yn(e)&&r.set(e,o),o)}function zw(e,t){return!e||!Xm(t)?!1:(t=t.slice(2).replace(/Once$/,""),nn(e,t[0].toLowerCase()+t.slice(1))||nn(e,Wi(t))||nn(e,t))}function k_(e){const{type:t,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:d,data:f,setupState:p,ctx:g,inheritAttrs:h}=e,m=Ug(e);let v,y;try{if(n.shapeFlag&4){const b=i||r,x=b;v=Hi(u.call(x,b,c,d,p,f,g)),y=a}else{const b=t;v=Hi(b.length>1?b(d,{attrs:a,slots:o,emit:l}):b(d,null)),y=t.props?a:cee(a)}}catch(b){Jh.length=0,nd(b,e,1),v=Se(wr)}let _=v;if(y&&h!==!1){const b=Object.keys(y),{shapeFlag:x}=_;b.length&&x&7&&(s&&b.some(vI)&&(y=dee(y,s)),_=lo(_,y,!1,!0))}return n.dirs&&(_=lo(_,null,!1,!0),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&Ba(_,n.transition),v=_,Ug(m),v}function uee(e,t=!0){let n;for(let r=0;r<e.length;r++){const i=e[r];if(Ua(i)){if(i.type!==wr||i.children==="v-if"){if(n)return;n=i}}else return}return n}const cee=e=>{let t;for(const n in e)(n==="class"||n==="style"||Xm(n))&&((t||(t={}))[n]=e[n]);return t},dee=(e,t)=>{const n={};for(const r in e)(!vI(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function fee(e,t,n){const{props:r,children:i,component:s}=e,{props:o,children:a,patchFlag:l}=t,u=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?_M(r,o,u):!!o;if(l&8){const c=t.dynamicProps;for(let d=0;d<c.length;d++){const f=c[d];if(o[f]!==r[f]&&!zw(u,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?_M(r,o,u):!0:!!o;return!1}function _M(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(t[s]!==e[s]&&!zw(n,s))return!0}return!1}function jI({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const x0=e=>e.__isSuspense;let g$=0;const pee={name:"Suspense",__isSuspense:!0,process(e,t,n,r,i,s,o,a,l,u){if(e==null)hee(t,n,r,i,s,o,a,l,u);else{if(s&&s.deps>0&&!e.suspense.isInFallback){t.suspense=e.suspense,t.suspense.vnode=t,t.el=e.el;return}gee(e,t,n,r,i,o,a,l,u)}},hydrate:mee,normalize:vee},HI=pee;function jg(e,t){const n=e.props&&e.props[t];Ze(n)&&n()}function hee(e,t,n,r,i,s,o,a,l){const{p:u,o:{createElement:c}}=l,d=c("div"),f=e.suspense=k3(e,i,r,t,d,n,s,o,a,l);u(null,f.pendingBranch=e.ssContent,d,null,r,f,s,o),f.deps>0?(jg(e,"onPending"),jg(e,"onFallback"),u(null,e.ssFallback,t,n,r,null,s,o),ff(f,e.ssFallback)):f.resolve(!1,!0)}function gee(e,t,n,r,i,s,o,a,{p:l,um:u,o:{createElement:c}}){const d=t.suspense=e.suspense;d.vnode=t,t.el=e.el;const f=t.ssContent,p=t.ssFallback,{activeBranch:g,pendingBranch:h,isInFallback:m,isHydrating:v}=d;if(h)d.pendingBranch=f,Qs(f,h)?(l(h,f,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0?d.resolve():m&&(v||(l(g,p,n,r,i,null,s,o,a),ff(d,p)))):(d.pendingId=g$++,v?(d.isHydrating=!1,d.activeBranch=h):u(h,i,d),d.deps=0,d.effects.length=0,d.hiddenContainer=c("div"),m?(l(null,f,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0?d.resolve():(l(g,p,n,r,i,null,s,o,a),ff(d,p))):g&&Qs(f,g)?(l(g,f,n,r,i,d,s,o,a),d.resolve(!0)):(l(null,f,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0&&d.resolve()));else if(g&&Qs(f,g))l(g,f,n,r,i,d,s,o,a),ff(d,f);else if(jg(t,"onPending"),d.pendingBranch=f,f.shapeFlag&512?d.pendingId=f.component.suspenseId:d.pendingId=g$++,l(null,f,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0)d.resolve();else{const{timeout:y,pendingId:_}=d;y>0?setTimeout(()=>{d.pendingId===_&&d.fallback(p)},y):y===0&&d.fallback(p)}}function k3(e,t,n,r,i,s,o,a,l,u,c=!1){const{p:d,m:f,um:p,n:g,o:{parentNode:h,remove:m}}=u;let v;const y=yee(e);y&&t&&t.pendingBranch&&(v=t.pendingId,t.deps++);const _=e.props?f0(e.props.timeout):void 0,b=s,x={vnode:e,parent:t,parentComponent:n,namespace:o,container:r,hiddenContainer:i,deps:0,pendingId:g$++,timeout:typeof _=="number"?_:-1,activeBranch:null,pendingBranch:null,isInFallback:!c,isHydrating:c,isUnmounted:!1,effects:[],resolve(w=!1,$=!1){const{vnode:E,activeBranch:S,pendingBranch:T,pendingId:P,effects:C,parentComponent:B,container:V}=x;let ce=!1;x.isHydrating?x.isHydrating=!1:w||(ce=S&&T.transition&&T.transition.mode==="out-in",ce&&(S.transition.afterLeave=()=>{P===x.pendingId&&(f(T,V,s===b?g(S):s,0),m0(C))}),S&&(h(S.el)===V&&(s=g(S)),p(S,B,x,!0)),ce||f(T,V,s,0)),ff(x,T),x.pendingBranch=null,x.isInFallback=!1;let X=x.parent,le=!1;for(;X;){if(X.pendingBranch){X.effects.push(...C),le=!0;break}X=X.parent}!le&&!ce&&m0(C),x.effects=[],y&&t&&t.pendingBranch&&v===t.pendingId&&(t.deps--,t.deps===0&&!$&&t.resolve()),jg(E,"onResolve")},fallback(w){if(!x.pendingBranch)return;const{vnode:$,activeBranch:E,parentComponent:S,container:T,namespace:P}=x;jg($,"onFallback");const C=g(E),B=()=>{x.isInFallback&&(d(null,w,T,C,S,null,P,a,l),ff(x,w))},V=w.transition&&w.transition.mode==="out-in";V&&(E.transition.afterLeave=B),x.isInFallback=!0,p(E,S,null,!0),V||B()},move(w,$,E){x.activeBranch&&f(x.activeBranch,w,$,E),x.container=w},next(){return x.activeBranch&&g(x.activeBranch)},registerDep(w,$,E){const S=!!x.pendingBranch;S&&x.deps++;const T=w.vnode.el;w.asyncDep.catch(P=>{nd(P,w,0)}).then(P=>{if(w.isUnmounted||x.isUnmounted||x.pendingId!==w.suspenseId)return;w.asyncResolved=!0;const{vnode:C}=w;_$(w,P,!1),T&&(C.el=T);const B=!T&&w.subTree.el;$(w,C,h(T||w.subTree.el),T?null:g(w.subTree),x,o,E),B&&m(B),jI(w,C.el),S&&--x.deps===0&&x.resolve()})},unmount(w,$){x.isUnmounted=!0,x.activeBranch&&p(x.activeBranch,n,w,$),x.pendingBranch&&p(x.pendingBranch,n,w,$)}};return x}function mee(e,t,n,r,i,s,o,a,l){const u=t.suspense=k3(t,r,n,e.parentNode,document.createElement("div"),null,i,s,o,a,!0),c=l(e,u.pendingBranch=t.ssContent,n,u,s,o);return u.deps===0&&u.resolve(!1,!0),c}function vee(e){const{shapeFlag:t,children:n}=e,r=t&32;e.ssContent=bM(r?n.default:n),e.ssFallback=r?bM(n.fallback):Se(wr)}function bM(e){let t;if(Ze(e)){const n=kc&&e._c;n&&(e._d=!1,te()),e=e(),n&&(e._d=!0,t=ui,C3())}return je(e)&&(e=uee(e)),e=Hi(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(n=>n!==e)),e}function I3(e,t){t&&t.pendingBranch?je(e)?t.effects.push(...e):t.effects.push(e):m0(e)}function ff(e,t){e.activeBranch=t;const{vnode:n,parentComponent:r}=e;let i=t.el;for(;!i&&t.component;)t=t.component.subTree,i=t.el;n.el=i,r&&r.subTree===n&&(r.vnode.el=i,jI(r,i))}function yee(e){const t=e.props&&e.props.suspensible;return t!=null&&t!==!1}const gn=Symbol.for("v-fgt"),zl=Symbol.for("v-txt"),wr=Symbol.for("v-cmt"),mc=Symbol.for("v-stc"),Jh=[];let ui=null;function te(e=!1){Jh.push(ui=e?null:[])}function C3(){Jh.pop(),ui=Jh[Jh.length-1]||null}let kc=1;function m$(e){kc+=e,e<0&&ui&&(ui.hasOnce=!0)}function A3(e){return e.dynamicChildren=kc>0?ui||af:null,C3(),kc>0&&ui&&ui.push(e),e}function De(e,t,n,r,i,s){return A3(ee(e,t,n,r,i,s,!0))}function ze(e,t,n,r,i){return A3(Se(e,t,n,r,i,!0))}function Ua(e){return e?e.__v_isVNode===!0:!1}function Qs(e,t){return e.type===t.type&&e.key===t.key}function _ee(e){}const O3=({key:e})=>e??null,I_=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Mn(e)||Sn(e)||Ze(e)?{i:Cr,r:e,k:t,f:!!n}:e:null);function ee(e,t=null,n=null,r=0,i=null,s=e===gn?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&O3(t),ref:t&&I_(t),scopeId:jw,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Cr};return a?(WI(l,n),s&128&&e.normalize(l)):n&&(l.shapeFlag|=Mn(n)?8:16),kc>0&&!o&&ui&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&ui.push(l),l}const Se=bee;function bee(e,t=null,n=null,r=0,i=null,s=!1){if((!e||e===t3)&&(e=wr),Ua(e)){const a=lo(e,t,!0);return n&&WI(a,n),kc>0&&!s&&ui&&(a.shapeFlag&6?ui[ui.indexOf(e)]=a:ui.push(a)),a.patchFlag=-2,a}if(Iee(e)&&(e=e.__vccOpts),t){t=R3(t);let{class:a,style:l}=t;a&&!Mn(a)&&(t.class=Pr(a)),yn(l)&&(Bw(l)&&!je(l)&&(l=Pn({},l)),t.style=Jm(l))}const o=Mn(e)?1:x0(e)?128:VU(e)?64:yn(e)?4:Ze(e)?2:0;return ee(e,t,n,r,i,o,s,!0)}function R3(e){return e?Bw(e)||l3(e)?Pn({},e):e:null}function lo(e,t,n=!1,r=!1){const{props:i,ref:s,patchFlag:o,children:a,transition:l}=e,u=t?Va(i||{},t):i,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&O3(u),ref:t&&t.ref?n&&s?je(s)?s.concat(I_(t)):[s,I_(t)]:I_(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==gn?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&lo(e.ssContent),ssFallback:e.ssFallback&&lo(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&Ba(c,l.clone(c)),c}function En(e=" ",t=0){return Se(zl,null,e,t)}function wee(e,t){const n=Se(mc,null,e);return n.staticCount=t,n}function Ge(e="",t=!1){return t?(te(),ze(wr,null,e)):Se(wr,null,e)}function Hi(e){return e==null||typeof e=="boolean"?Se(wr):je(e)?Se(gn,null,e.slice()):Ua(e)?kl(e):Se(zl,null,String(e))}function kl(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:lo(e)}function WI(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(je(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),WI(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!l3(t)?t._ctx=Cr:i===3&&Cr&&(Cr.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ze(t)?(t={default:t,_ctx:Cr},n=32):(t=String(t),r&64?(n=16,t=[En(t)]):n=8);e.children=t,e.shapeFlag|=n}function Va(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=Pr([t.class,r.class]));else if(i==="style")t.style=Jm([t.style,r.style]);else if(Xm(i)){const s=t[i],o=r[i];o&&s!==o&&!(je(s)&&s.includes(o))&&(t[i]=s?[].concat(s,o):o)}else i!==""&&(t[i]=r[i])}return t}function ji(e,t,n,r=null){Bs(e,t,7,[n,r])}const xee=s3();let Eee=0;function P3(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||xee,s={uid:Eee++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new wI(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:c3(r,i),emitsOptions:T3(r,i),emit:null,emitted:null,propsDefaults:Nt,inheritAttrs:r.inheritAttrs,ctx:Nt,data:Nt,props:Nt,attrs:Nt,slots:Nt,refs:Nt,setupState:Nt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=lee.bind(null,s),e.ce&&e.ce(s),s}let Tr=null;const fr=()=>Tr||Cr;let E0,v$;{const e=uU(),t=(n,r)=>{let i;return(i=e[n])||(i=e[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};E0=t("__VUE_INSTANCE_SETTERS__",n=>Tr=n),v$=t("__VUE_SSR_SETTERS__",n=>nv=n)}const Ic=e=>{const t=Tr;return E0(e),e.scope.on(),()=>{e.scope.off(),E0(t)}},y$=()=>{Tr&&Tr.scope.off(),E0(null)};function M3(e){return e.vnode.shapeFlag&4}let nv=!1;function D3(e,t=!1,n=!1){t&&v$(t);const{props:r,children:i}=e.vnode,s=M3(e);ZZ(e,r,s,t),ree(e,i,n);const o=s?See(e,t):void 0;return t&&v$(!1),o}function See(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,d$);const{setup:r}=n;if(r){const i=e.setupContext=r.length>1?L3(e):null,s=Ic(e);Eu();const o=wp(r,e,0,[e.props,i]);if(Su(),s(),_I(o)){if(ql(e)||RI(e),o.then(y$,y$),t)return o.then(a=>{_$(e,a,t)}).catch(a=>{nd(a,e,0)});e.asyncDep=o}else _$(e,o,t)}else N3(e,t)}function _$(e,t,n){Ze(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:yn(t)&&(e.setupState=II(t)),N3(e,n)}let S0,b$;function $ee(e){S0=e,b$=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,OZ))}}const Tee=()=>!S0;function N3(e,t,n){const r=e.type;if(!e.render){if(!t&&S0&&!r.render){const i=r.template||BI(e).template;if(i){const{isCustomElement:s,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=r,u=Pn(Pn({isCustomElement:s,delimiters:a},o),l);r.render=S0(i,u)}}e.render=r.render||Rs,b$&&b$(e)}{const i=Ic(e);Eu();try{qZ(e)}finally{Su(),i()}}}const kee={get(e,t){return pi(e,"get",""),e[t]}};function L3(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,kee),slots:e.slots,emit:e.emit,expose:t}}function rv(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(II(bp(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Qh)return Qh[n](e)},has(t,n){return n in t||n in Qh}})):e.proxy}function w$(e,t=!0){return Ze(e)?e.displayName||e.name:e.name||t&&e.__name}function Iee(e){return Ze(e)&&"__vccOpts"in e}const Ce=(e,t)=>ZJ(e,t,nv);function Yt(e,t,n){const r=arguments.length;return r===2?yn(t)&&!je(t)?Ua(t)?Se(e,null,[t]):Se(e,t):Se(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Ua(n)&&(n=[n]),Se(e,t,n))}function Cee(){}function Aee(e,t,n,r){const i=n[r];if(i&&F3(i,e))return i;const s=t();return s.memo=e.slice(),s.cacheIndex=r,n[r]=s}function F3(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let r=0;r<n.length;r++)if(bi(n[r],t[r]))return!1;return kc>0&&ui&&ui.push(e),!0}const Kw="3.5.11",Oee=Rs,Ree=lZ,Pee=Dd,Mee=NU,Dee={createComponentInstance:P3,setupComponent:D3,renderComponentRoot:k_,setCurrentRenderingInstance:Ug,isVNode:Ua,normalizeVNode:Hi,getComponentPublicInstance:rv,ensureValidVNode:FI,pushWarningContext:iZ,popWarningContext:sZ},Nee=Dee,Lee=null,Fee=null,Bee=null;/**
* @vue/runtime-dom v3.5.11
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let x$;const wM=typeof window<"u"&&window.trustedTypes;if(wM)try{x$=wM.createPolicy("vue",{createHTML:e=>e})}catch{}const B3=x$?e=>x$.createHTML(e):e=>e,Uee="http://www.w3.org/2000/svg",Vee="http://www.w3.org/1998/Math/MathML",ma=typeof document<"u"?document:null,xM=ma&&ma.createElement("template"),jee={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t==="svg"?ma.createElementNS(Uee,e):t==="mathml"?ma.createElementNS(Vee,e):n?ma.createElement(e,{is:n}):ma.createElement(e);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>ma.createTextNode(e),createComment:e=>ma.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ma.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,s){const o=n?n.previousSibling:t.lastChild;if(i&&(i===s||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{xM.innerHTML=B3(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const a=xM.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},yl="transition",rh="animation",Lf=Symbol("_vtc"),U3={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},V3=Pn({},OI,U3),Hee=e=>(e.displayName="Transition",e.props=V3,e),Hg=Hee((e,{slots:t})=>Yt(zU,j3(e),t)),zu=(e,t=[])=>{je(e)?e.forEach(n=>n(...t)):e&&e(...t)},EM=e=>e?je(e)?e.some(t=>t.length>1):e.length>1:!1;function j3(e){const t={};for(const C in e)C in U3||(t[C]=e[C]);if(e.css===!1)return t;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=e,g=Wee(i),h=g&&g[0],m=g&&g[1],{onBeforeEnter:v,onEnter:y,onEnterCancelled:_,onLeave:b,onLeaveCancelled:x,onBeforeAppear:w=v,onAppear:$=y,onAppearCancelled:E=_}=t,S=(C,B,V)=>{xl(C,B?c:a),xl(C,B?u:o),V&&V()},T=(C,B)=>{C._isLeaving=!1,xl(C,d),xl(C,p),xl(C,f),B&&B()},P=C=>(B,V)=>{const ce=C?$:y,X=()=>S(B,C,V);zu(ce,[B,X]),SM(()=>{xl(B,C?l:s),pa(B,C?c:a),EM(ce)||$M(B,r,h,X)})};return Pn(t,{onBeforeEnter(C){zu(v,[C]),pa(C,s),pa(C,o)},onBeforeAppear(C){zu(w,[C]),pa(C,l),pa(C,u)},onEnter:P(!1),onAppear:P(!0),onLeave(C,B){C._isLeaving=!0;const V=()=>T(C,B);pa(C,d),pa(C,f),W3(),SM(()=>{C._isLeaving&&(xl(C,d),pa(C,p),EM(b)||$M(C,r,m,V))}),zu(b,[C,V])},onEnterCancelled(C){S(C,!1),zu(_,[C])},onAppearCancelled(C){S(C,!0),zu(E,[C])},onLeaveCancelled(C){T(C),zu(x,[C])}})}function Wee(e){if(e==null)return null;if(yn(e))return[oE(e.enter),oE(e.leave)];{const t=oE(e);return[t,t]}}function oE(e){return f0(e)}function pa(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Lf]||(e[Lf]=new Set)).add(t)}function xl(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[Lf];n&&(n.delete(t),n.size||(e[Lf]=void 0))}function SM(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let qee=0;function $M(e,t,n,r){const i=e._endId=++qee,s=()=>{i===e._endId&&r()};if(n!=null)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=H3(e,t);if(!o)return r();const u=o+"end";let c=0;const d=()=>{e.removeEventListener(u,f),s()},f=p=>{p.target===e&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},a+1),e.addEventListener(u,f)}function H3(e,t){const n=window.getComputedStyle(e),r=g=>(n[g]||"").split(", "),i=r(`${yl}Delay`),s=r(`${yl}Duration`),o=TM(i,s),a=r(`${rh}Delay`),l=r(`${rh}Duration`),u=TM(a,l);let c=null,d=0,f=0;t===yl?o>0&&(c=yl,d=o,f=s.length):t===rh?u>0&&(c=rh,d=u,f=l.length):(d=Math.max(o,u),c=d>0?o>u?yl:rh:null,f=c?c===yl?s.length:l.length:0);const p=c===yl&&/\b(transform|all)(,|$)/.test(r(`${yl}Property`).toString());return{type:c,timeout:d,propCount:f,hasTransform:p}}function TM(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>kM(n)+kM(e[r])))}function kM(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function W3(){return document.body.offsetHeight}function zee(e,t,n){const r=e[Lf];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const $0=Symbol("_vod"),q3=Symbol("_vsh"),Wg={beforeMount(e,{value:t},{transition:n}){e[$0]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):ih(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),ih(e,!0),r.enter(e)):r.leave(e,()=>{ih(e,!1)}):ih(e,t))},beforeUnmount(e,{value:t}){ih(e,t)}};function ih(e,t){e.style.display=t?e[$0]:"none",e[q3]=!t}function Kee(){Wg.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const z3=Symbol("");function Gee(e){const t=fr();if(!t)return;const n=t.ut=(i=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(s=>T0(s,i))},r=()=>{const i=e(t.proxy);t.ce?T0(t.ce,i):E$(t.subTree,i),n(i)};DI(()=>{x3(r)}),Jt(()=>{const i=new MutationObserver(r);i.observe(t.subTree.el.parentNode,{childList:!0}),Mr(()=>i.disconnect())})}function E$(e,t){if(e.shapeFlag&128){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{E$(n.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)T0(e.el,t);else if(e.type===gn)e.children.forEach(n=>E$(n,t));else if(e.type===mc){let{el:n,anchor:r}=e;for(;n&&(T0(n,t),n!==r);)n=n.nextSibling}}function T0(e,t){if(e.nodeType===1){const n=e.style;let r="";for(const i in t)n.setProperty(`--${i}`,t[i]),r+=`--${i}: ${t[i]};`;n[z3]=r}}const Yee=/(^|;)\s*display\s*:/;function Xee(e,t,n){const r=e.style,i=Mn(n);let s=!1;if(n&&!i){if(t)if(Mn(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&C_(r,a,"")}else for(const o in t)n[o]==null&&C_(r,o,"");for(const o in n)o==="display"&&(s=!0),C_(r,o,n[o])}else if(i){if(t!==n){const o=r[z3];o&&(n+=";"+o),r.cssText=n,s=Yee.test(n)}}else t&&e.removeAttribute("style");$0 in e&&(e[$0]=s?r.display:"",e[q3]&&(r.display="none"))}const IM=/\s*!important$/;function C_(e,t,n){if(je(n))n.forEach(r=>C_(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Qee(e,t);IM.test(n)?e.setProperty(Wi(r),n.replace(IM,""),"important"):e[r]=n}}const CM=["Webkit","Moz","ms"],aE={};function Qee(e,t){const n=aE[t];if(n)return n;let r=Jr(t);if(r!=="filter"&&r in e)return aE[t]=r;r=Qm(r);for(let i=0;i<CM.length;i++){const s=CM[i]+r;if(s in e)return aE[t]=s}return t}const AM="http://www.w3.org/1999/xlink";function OM(e,t,n,r,i,s=yJ(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(AM,t.slice(6,t.length)):e.setAttributeNS(AM,t,n):n==null||s&&!cU(n)?e.removeAttribute(t):e.setAttribute(t,s?"":jo(n)?String(n):n)}function RM(e,t,n,r){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?B3(n):n);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const o=i==="OPTION"?e.getAttribute("value")||"":e.value,a=n==null?e.type==="checkbox"?"on":"":String(n);(o!==a||!("_value"in e))&&(e.value=a),n==null&&e.removeAttribute(t),e._value=n;return}let s=!1;if(n===""||n==null){const o=typeof e[t];o==="boolean"?n=cU(n):n==null&&o==="string"?(n="",s=!0):o==="number"&&(n=0,s=!0)}try{e[t]=n}catch{}s&&e.removeAttribute(t)}function ya(e,t,n,r){e.addEventListener(t,n,r)}function Jee(e,t,n,r){e.removeEventListener(t,n,r)}const PM=Symbol("_vei");function Zee(e,t,n,r,i=null){const s=e[PM]||(e[PM]={}),o=s[t];if(r&&o)o.value=r;else{const[a,l]=ete(t);if(r){const u=s[t]=rte(r,i);ya(e,a,u,l)}else o&&(Jee(e,a,o,l),s[t]=void 0)}}const MM=/(?:Once|Passive|Capture)$/;function ete(e){let t;if(MM.test(e)){t={};let r;for(;r=e.match(MM);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Wi(e.slice(2)),t]}let lE=0;const tte=Promise.resolve(),nte=()=>lE||(tte.then(()=>lE=0),lE=Date.now());function rte(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Bs(ite(r,n.value),t,5,[r])};return n.value=e,n.attached=nte(),n}function ite(e,t){if(je(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const DM=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,ste=(e,t,n,r,i,s)=>{const o=i==="svg";t==="class"?zee(e,r,o):t==="style"?Xee(e,n,r):Xm(t)?vI(t)||Zee(e,t,n,r,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):ote(e,t,r,o))?(RM(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&OM(e,t,r,o,s,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Mn(r))?RM(e,Jr(t),r):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),OM(e,t,r,o))};function ote(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&DM(t)&&Ze(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return DM(t)&&Mn(n)?!1:t in e}const NM={};/*! #__NO_SIDE_EFFECTS__ */function K3(e,t,n){const r=Tn(e,t);Ow(r)&&Pn(r,t);class i extends Gw{constructor(o){super(r,o,n)}}return i.def=r,i}/*! #__NO_SIDE_EFFECTS__ */const ate=(e,t)=>K3(e,t,oV),lte=typeof HTMLElement<"u"?HTMLElement:class{};class Gw extends lte{constructor(t,n={},r=qg){super(),this._def=t,this._props=n,this._createApp=r,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&r!==qg?this._root=this.shadowRoot:t.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let t=this;for(;t=t&&(t.parentNode||t.host);)if(t instanceof Gw){this._parent=t;break}this._instance||(this._resolved?(this._setParent(),this._update()):t&&t._pendingResolve?this._pendingResolve=t._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(t=this._parent){t&&(this._instance.parent=t._instance,this._instance.provides=t._instance.provides)}disconnectedCallback(){this._connected=!1,Qn(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const i of r)this._setAttr(i.attributeName)}),this._ob.observe(this,{attributes:!0});const t=(r,i=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:s,styles:o}=r;let a;if(s&&!je(s))for(const l in s){const u=s[l];(u===Number||u&&u.type===Number)&&(l in this._props&&(this._props[l]=f0(this._props[l])),(a||(a=Object.create(null)))[Jr(l)]=!0)}this._numberProps=a,i&&this._resolveProps(r),this.shadowRoot&&this._applyStyles(o),this._mount(r)},n=this._def.__asyncLoader;n?this._pendingResolve=n().then(r=>t(this._def=r,!0)):t(this._def)}_mount(t){this._app=this._createApp(t),t.configureApp&&t.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const n=this._instance&&this._instance.exposed;if(n)for(const r in n)nn(this,r)||Object.defineProperty(this,r,{get:()=>ve(n[r])})}_resolveProps(t){const{props:n}=t,r=je(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&r.includes(i)&&this._setProp(i,this[i]);for(const i of r.map(Jr))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(s){this._setProp(i,s,!0,!0)}})}_setAttr(t){if(t.startsWith("data-v-"))return;const n=this.hasAttribute(t);let r=n?this.getAttribute(t):NM;const i=Jr(t);n&&this._numberProps&&this._numberProps[i]&&(r=f0(r)),this._setProp(i,r,!1,!0)}_getProp(t){return this._props[t]}_setProp(t,n,r=!0,i=!1){n!==this._props[t]&&(n===NM?delete this._props[t]:(this._props[t]=n,t==="key"&&this._app&&(this._app._ceVNode.key=n)),i&&this._instance&&this._update(),r&&(n===!0?this.setAttribute(Wi(t),""):typeof n=="string"||typeof n=="number"?this.setAttribute(Wi(t),n+""):n||this.removeAttribute(Wi(t))))}_update(){sV(this._createVNode(),this._root)}_createVNode(){const t={};this.shadowRoot||(t.onVnodeMounted=t.onVnodeUpdated=this._renderSlots.bind(this));const n=Se(this._def,Pn(t,this._props));return this._instance||(n.ce=r=>{this._instance=r,r.ce=this,r.isCE=!0;const i=(s,o)=>{this.dispatchEvent(new CustomEvent(s,Ow(o[0])?Pn({detail:o},o[0]):{detail:o}))};r.emit=(s,...o)=>{i(s,o),Wi(s)!==s&&i(Wi(s),o)},this._setParent()}),n}_applyStyles(t,n){if(!t)return;if(n){if(n===this._def||this._styleChildren.has(n))return;this._styleChildren.add(n)}const r=this._nonce;for(let i=t.length-1;i>=0;i--){const s=document.createElement("style");r&&s.setAttribute("nonce",r),s.textContent=t[i],this.shadowRoot.prepend(s)}}_parseSlots(){const t=this._slots={};let n;for(;n=this.firstChild;){const r=n.nodeType===1&&n.getAttribute("slot")||"default";(t[r]||(t[r]=[])).push(n),this.removeChild(n)}}_renderSlots(){const t=(this._teleportTarget||this).querySelectorAll("slot"),n=this._instance.type.__scopeId;for(let r=0;r<t.length;r++){const i=t[r],s=i.getAttribute("name")||"default",o=this._slots[s],a=i.parentNode;if(o)for(const l of o){if(n&&l.nodeType===1){const u=n+"-s",c=document.createTreeWalker(l,1);l.setAttribute(u,"");let d;for(;d=c.nextNode();)d.setAttribute(u,"")}a.insertBefore(l,i)}else for(;i.firstChild;)a.insertBefore(i.firstChild,i);a.removeChild(i)}}_injectChildStyle(t){this._applyStyles(t.styles,t)}_removeChildStyle(t){}}function G3(e){const t=fr(),n=t&&t.ce;return n||null}function ute(){const e=G3();return e&&e.shadowRoot}function cte(e="$style"){{const t=fr();if(!t)return Nt;const n=t.type.__cssModules;if(!n)return Nt;const r=n[e];return r||Nt}}const Y3=new WeakMap,X3=new WeakMap,k0=Symbol("_moveCb"),LM=Symbol("_enterCb"),dte=e=>(delete e.props.mode,e),fte=dte({name:"TransitionGroup",props:Pn({},V3,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=fr(),r=AI();let i,s;return qw(()=>{if(!i.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!vte(i[0].el,n.vnode.el,o))return;i.forEach(hte),i.forEach(gte);const a=i.filter(mte);W3(),a.forEach(l=>{const u=l.el,c=u.style;pa(u,o),c.transform=c.webkitTransform=c.transitionDuration="";const d=u[k0]=f=>{f&&f.target!==u||(!f||/transform$/.test(f.propertyName))&&(u.removeEventListener("transitionend",d),u[k0]=null,xl(u,o))};u.addEventListener("transitionend",d)})}),()=>{const o=Ut(e),a=j3(o);let l=o.tag||gn;if(i=[],s)for(let u=0;u<s.length;u++){const c=s[u];c.el&&c.el instanceof Element&&(i.push(c),Ba(c,Df(c,a,r,n)),Y3.set(c,c.el.getBoundingClientRect()))}s=t.default?Hw(t.default()):[];for(let u=0;u<s.length;u++){const c=s[u];c.key!=null&&Ba(c,Df(c,a,r,n))}return Se(l,null,s)}}}),pte=fte;function hte(e){const t=e.el;t[k0]&&t[k0](),t[LM]&&t[LM]()}function gte(e){X3.set(e,e.el.getBoundingClientRect())}function mte(e){const t=Y3.get(e),n=X3.get(e),r=t.left-n.left,i=t.top-n.top;if(r||i){const s=e.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${i}px)`,s.transitionDuration="0s",e}}function vte(e,t,n){const r=e.cloneNode(),i=e[Lf];i&&i.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const s=t.nodeType===1?t:t.parentNode;s.appendChild(r);const{hasTransform:o}=H3(r);return s.removeChild(r),o}const ou=e=>{const t=e.props["onUpdate:modelValue"]||!1;return je(t)?n=>cf(t,n):t};function yte(e){e.target.composing=!0}function FM(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Ps=Symbol("_assign"),I0={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e[Ps]=ou(i);const s=r||i.props&&i.props.type==="number";ya(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),s&&(a=d0(a)),e[Ps](a)}),n&&ya(e,"change",()=>{e.value=e.value.trim()}),t||(ya(e,"compositionstart",yte),ya(e,"compositionend",FM),ya(e,"change",FM))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:i,number:s}},o){if(e[Ps]=ou(o),e.composing)return;const a=(s||e.type==="number")&&!/^0\d/.test(e.value)?d0(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||i&&e.value.trim()===l)||(e.value=l))}},qI={deep:!0,created(e,t,n){e[Ps]=ou(n),ya(e,"change",()=>{const r=e._modelValue,i=Ff(e),s=e.checked,o=e[Ps];if(je(r)){const a=Pw(r,i),l=a!==-1;if(s&&!l)o(r.concat(i));else if(!s&&l){const u=[...r];u.splice(a,1),o(u)}}else if(td(r)){const a=new Set(r);s?a.add(i):a.delete(i),o(a)}else o(J3(e,s))})},mounted:BM,beforeUpdate(e,t,n){e[Ps]=ou(n),BM(e,t,n)}};function BM(e,{value:t},n){e._modelValue=t;let r;je(t)?r=Pw(t,n.props.value)>-1:td(t)?r=t.has(n.props.value):r=iu(t,J3(e,!0)),e.checked!==r&&(e.checked=r)}const zI={created(e,{value:t},n){e.checked=iu(t,n.props.value),e[Ps]=ou(n),ya(e,"change",()=>{e[Ps](Ff(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e[Ps]=ou(r),t!==n&&(e.checked=iu(t,r.props.value))}},Q3={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const i=td(t);ya(e,"change",()=>{const s=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>n?d0(Ff(o)):Ff(o));e[Ps](e.multiple?i?new Set(s):s:s[0]),e._assigning=!0,Qn(()=>{e._assigning=!1})}),e[Ps]=ou(r)},mounted(e,{value:t}){UM(e,t)},beforeUpdate(e,t,n){e[Ps]=ou(n)},updated(e,{value:t}){e._assigning||UM(e,t)}};function UM(e,t){const n=e.multiple,r=je(t);if(!(n&&!r&&!td(t))){for(let i=0,s=e.options.length;i<s;i++){const o=e.options[i],a=Ff(o);if(n)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=t.some(u=>String(u)===String(a)):o.selected=Pw(t,a)>-1}else o.selected=t.has(a);else if(iu(Ff(o),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Ff(e){return"_value"in e?e._value:e.value}function J3(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Z3={created(e,t,n){_y(e,t,n,null,"created")},mounted(e,t,n){_y(e,t,n,null,"mounted")},beforeUpdate(e,t,n,r){_y(e,t,n,r,"beforeUpdate")},updated(e,t,n,r){_y(e,t,n,r,"updated")}};function eV(e,t){switch(e){case"SELECT":return Q3;case"TEXTAREA":return I0;default:switch(t){case"checkbox":return qI;case"radio":return zI;default:return I0}}}function _y(e,t,n,r,i){const o=eV(e.tagName,n.props&&n.props.type)[i];o&&o(e,t,n,r)}function _te(){I0.getSSRProps=({value:e})=>({value:e}),zI.getSSRProps=({value:e},t)=>{if(t.props&&iu(t.props.value,e))return{checked:!0}},qI.getSSRProps=({value:e},t)=>{if(je(e)){if(t.props&&Pw(e,t.props.value)>-1)return{checked:!0}}else if(td(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},Z3.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const n=eV(t.type.toUpperCase(),t.props&&t.props.type);if(n.getSSRProps)return n.getSSRProps(e,t)}}const bte=["ctrl","shift","alt","meta"],wte={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>bte.some(n=>e[`${n}Key`]&&!t.includes(n))},Rl=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(i,...s)=>{for(let o=0;o<t.length;o++){const a=wte[t[o]];if(a&&a(i,t))return}return e(i,...s)})},xte={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},tV=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const s=Wi(i.key);if(t.some(o=>o===s||xte[o]===s))return e(i)})},nV=Pn({patchProp:ste},jee);let Zh,VM=!1;function rV(){return Zh||(Zh=g3(nV))}function iV(){return Zh=VM?Zh:m3(nV),VM=!0,Zh}const sV=(...e)=>{rV().render(...e)},Ete=(...e)=>{iV().hydrate(...e)},qg=(...e)=>{const t=rV().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=lV(r);if(!i)return;const s=t._component;!Ze(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,aV(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t},oV=(...e)=>{const t=iV().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=lV(r);if(i)return n(i,!0,aV(i))},t};function aV(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function lV(e){return Mn(e)?document.querySelector(e):e}let jM=!1;const Ste=()=>{jM||(jM=!0,_te(),Kee())};/**
* vue v3.5.11
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const $te=()=>{},Tte=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:zU,BaseTransitionPropsValidators:OI,Comment:wr,DeprecationTypes:Bee,EffectScope:wI,ErrorCodes:aZ,ErrorTypeStrings:Ree,Fragment:gn,KeepAlive:kZ,ReactiveEffect:Dg,Static:mc,Suspense:HI,Teleport:jU,Text:zl,TrackOpTypes:eZ,Transition:Hg,TransitionGroup:pte,TriggerOpTypes:tZ,VueElement:Gw,assertNumber:oZ,callWithAsyncErrorHandling:Bs,callWithErrorHandling:wp,camelize:Jr,capitalize:Qm,cloneVNode:lo,compatUtils:Fee,compile:$te,computed:Ce,createApp:qg,createBlock:ze,createCommentVNode:Ge,createElementBlock:De,createElementVNode:ee,createHydrationRenderer:m3,createPropsRestProxy:HZ,createRenderer:g3,createSSRApp:oV,createSlots:n3,createStaticVNode:wee,createTextVNode:En,createVNode:Se,customRef:Uw,defineAsyncComponent:Xa,defineComponent:Tn,defineCustomElement:K3,defineEmits:PZ,defineExpose:MZ,defineModel:LZ,defineOptions:DZ,defineProps:RZ,defineSSRCustomElement:ate,defineSlots:NZ,devtools:Pee,effect:wJ,effectScope:pU,getCurrentInstance:fr,getCurrentScope:Zm,getCurrentWatcher:nZ,getTransitionRawChildren:Hw,guardReactiveProps:R3,h:Yt,handleError:nd,hasInjectionContext:JZ,hydrate:Ete,hydrateOnIdle:bZ,hydrateOnInteraction:SZ,hydrateOnMediaQuery:EZ,hydrateOnVisible:xZ,initCustomFormatter:Cee,initDirectivesForSSR:Ste,inject:ct,isMemoSame:F3,isProxy:Bw,isReactive:No,isReadonly:su,isRef:Sn,isRuntimeOnly:Tee,isShallow:fs,isVNode:Ua,markRaw:bp,mergeDefaults:VZ,mergeModels:jZ,mergeProps:Va,nextTick:Qn,normalizeClass:Pr,normalizeProps:mJ,normalizeStyle:Jm,onActivated:PI,onBeforeMount:DI,onBeforeUnmount:Ja,onBeforeUpdate:XU,onDeactivated:MI,onErrorCaptured:e3,onMounted:Jt,onRenderTracked:ZU,onRenderTriggered:JU,onScopeDispose:xI,onServerPrefetch:QU,onUnmounted:Mr,onUpdated:qw,onWatcherCleanup:OU,openBlock:te,popScopeId:FU,provide:tr,proxyRefs:II,pushScopeId:LU,queuePostFlushCb:m0,reactive:Cs,readonly:mo,ref:re,registerRuntimeCompiler:$ee,render:sV,renderList:Tc,renderSlot:Ar,resolveComponent:$c,resolveDirective:AZ,resolveDynamicComponent:Nf,resolveFilter:Lee,resolveTransitionHooks:Df,setBlockTracking:m$,setDevtoolsHook:Mee,setTransitionHooks:Ba,shallowReactive:Fg,shallowReadonly:WJ,shallowRef:Ho,ssrContextKey:b3,ssrUtils:Nee,stop:xJ,toDisplayString:ci,toHandlerKey:Kh,toHandlers:u$,toRaw:Ut,toRef:Vw,toRefs:YJ,toValue:zJ,transformVNodeArgs:_ee,triggerRef:Ch,unref:ve,useAttrs:UZ,useCssModule:cte,useCssVars:Gee,useHost:G3,useId:GU,useModel:aee,useSSRContext:w3,useShadowRoot:ute,useSlots:BZ,useTemplateRef:gZ,useTransitionState:AI,vModelCheckbox:qI,vModelDynamic:Z3,vModelRadio:zI,vModelSelect:Q3,vModelText:I0,vShow:Wg,version:Kw,warn:Oee,watch:bt,watchEffect:sn,watchPostEffect:x3,watchSyncEffect:E3,withAsyncContext:WZ,withCtx:et,withDefaults:FZ,withDirectives:y0,withKeys:tV,withMemo:Aee,withModifiers:Rl,withScopeId:BU},Symbol.toStringTag,{value:"Module"})),kte={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Ite(e,t){return te(),De("svg",kte,t[0]||(t[0]=[ee("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 18a2 2 0 0 1 2 2a2 2 0 0 1 2-2a2 2 0 0 1-2-2a2 2 0 0 1-2 2m0-12a2 2 0 0 1 2 2a2 2 0 0 1 2-2a2 2 0 0 1-2-2a2 2 0 0 1-2 2M9 18a6 6 0 0 1 6-6a6 6 0 0 1-6-6a6 6 0 0 1-6 6a6 6 0 0 1 6 6"},null,-1)]))}const uV={name:"tabler-sparkles",render:Ite},Cte={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Ate(e,t){return te(),De("svg",Cte,t[0]||(t[0]=[ee("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[ee("path",{d:"M7 7H6a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2-2v-1"}),ee("path",{d:"M20.385 6.585a2.1 2.1 0 0 0-2.97-2.97L9 12v3h3zM16 5l3 3"})],-1)]))}const Ote={name:"tabler-edit",render:Ate},Rte={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Pte(e,t){return te(),De("svg",Rte,t[0]||(t[0]=[ee("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[ee("path",{d:"M15 8h.01M11 20H7a3 3 0 0 1-3-3V7a3 3 0 0 1 3-3h10a3 3 0 0 1 3 3v4"}),ee("path",{d:"m4 15l4-4c.928-.893 2.072-.893 3 0l3 3m0 0l1-1c.31-.298.644-.497.987-.596m2.433 3.206a2.1 2.1 0 0 1 2.97 2.97L18 22h-3v-3z"})],-1)]))}const Mte={name:"tabler-photo-edit",render:Pte},Dte={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Nte(e,t){return te(),De("svg",Dte,t[0]||(t[0]=[ee("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 20h4L18.5 9.5a2.828 2.828 0 1 0-4-4L4 16zm9.5-13.5l4 4"},null,-1)]))}const Lte={name:"tabler-pencil",render:Nte};var us=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function KI(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Fte(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var cV={exports:{}},dV={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(typeof self<"u"?self:us,function(){return function(n){var r={};function i(s){if(r[s])return r[s].exports;var o=r[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=n,i.c=r,i.d=function(s,o,a){i.o(s,o)||Object.defineProperty(s,o,{enumerable:!0,get:a})},i.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},i.t=function(s,o){if(1&o&&(s=i(s)),8&o||4&o&&typeof s=="object"&&s&&s.__esModule)return s;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:s}),2&o&&typeof s!="string")for(var l in s)i.d(a,l,(function(u){return s[u]}).bind(null,l));return a},i.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(o,"a",o),o},i.o=function(s,o){return{}.hasOwnProperty.call(s,o)},i.p="",i(i.s=0)}([function(n,r,i){i.r(r),i.d(r,"Promise",function(){return Ie}),i.d(r,"TYPES",function(){return eJ}),i.d(r,"ProxyWindow",function(){return as}),i.d(r,"setup",function(){return ZP}),i.d(r,"destroy",function(){return ZQ}),i.d(r,"serializeMessage",function(){return YQ}),i.d(r,"deserializeMessage",function(){return XQ}),i.d(r,"createProxyWindow",function(){return QQ}),i.d(r,"toProxyWindow",function(){return JQ}),i.d(r,"on",function(){return hl}),i.d(r,"once",function(){return GQ}),i.d(r,"send",function(){return gl}),i.d(r,"markWindowKnown",function(){return ln}),i.d(r,"cleanUpWindow",function(){return tJ}),i.d(r,"bridge",function(){});function s(k){return{}.toString.call(k)==="[object RegExp]"}var o=`Call was rejected by callee.\r
`;function a(k){return k===void 0&&(k=window),k.location.protocol}function l(k){if(k===void 0&&(k=window),k.mockDomain){var D=k.mockDomain.split("//")[0];if(D)return D}return a(k)}function u(k){return k===void 0&&(k=window),l(k)==="about:"}function c(k){if(k===void 0&&(k=window),k)try{if(k.parent&&k.parent!==k)return k.parent}catch{}}function d(k){if(k===void 0&&(k=window),k&&!c(k))try{return k.opener}catch{}}function f(k){try{return!0}catch{}return!1}function p(k){k===void 0&&(k=window);var D=k.location;if(!D)throw new Error("Can not read window location");var A=a(k);if(!A)throw new Error("Can not read window protocol");if(A==="file:")return"file://";if(A==="about:"){var N=c(k);return N&&f()?p(N):"about://"}var U=D.host;if(!U)throw new Error("Can not read window host");return A+"//"+U}function g(k){k===void 0&&(k=window);var D=p(k);return D&&k.mockDomain&&k.mockDomain.indexOf("mock:")===0?k.mockDomain:D}function h(k){if(!function(D){try{if(D===window)return!0}catch{}try{var A=Object.getOwnPropertyDescriptor(D,"location");if(A&&A.enumerable===!1)return!1}catch{}try{if(u(D)&&f())return!0}catch{}try{if(function(N){return N===void 0&&(N=window),l(N)==="mock:"}(D)&&f())return!0}catch{}try{if(p(D)===p(window))return!0}catch{}return!1}(k))return!1;try{if(k===window||u(k)&&f()||g(window)===g(k))return!0}catch{}return!1}function m(k){if(!h(k))throw new Error("Expected window to be same domain");return k}function v(k,D){if(!k||!D)return!1;var A=c(D);return A?A===k:function(N){var U=[];try{for(;N.parent!==N;)U.push(N.parent),N=N.parent}catch{}return U}(D).indexOf(k)!==-1}function y(k){var D=[],A;try{A=k.frames}catch{A=k}var N;try{N=A.length}catch{}if(N===0)return D;if(N){for(var U=0;U<N;U++){var Z=void 0;try{Z=A[U]}catch{continue}D.push(Z)}return D}for(var ie=0;ie<100;ie++){var pe=void 0;try{pe=A[ie]}catch{return D}if(!pe)return D;D.push(pe)}return D}var _=[],b=[];function x(k,D){D===void 0&&(D=!0);try{if(k===window)return!1}catch{return!0}try{if(!k)return!0}catch{return!0}try{if(k.closed)return!0}catch(U){return!U||U.message!==o}if(D&&h(k))try{if(k.mockclosed)return!0}catch{}try{if(!k.parent||!k.top)return!0}catch{}var A=function(U,Z){for(var ie=0;ie<U.length;ie++)try{if(U[ie]===Z)return ie}catch{}return-1}(_,k);if(A!==-1){var N=b[A];if(N&&function(U){if(!U.contentWindow||!U.parentNode)return!0;var Z=U.ownerDocument;if(Z&&Z.documentElement&&!Z.documentElement.contains(U)){for(var ie=U;ie.parentNode&&ie.parentNode!==ie;)ie=ie.parentNode;if(!ie.host||!Z.documentElement.contains(ie.host))return!0}return!1}(N))return!0}return!1}function w(k){return k===void 0&&(k=window),d(k=k||window)||c(k)||void 0}function $(k,D){if(typeof k=="string"){if(typeof D=="string")return k==="*"||D===k;if(s(D)||Array.isArray(D))return!1}return s(k)?s(D)?k.toString()===D.toString():!Array.isArray(D)&&!!D.match(k):!!Array.isArray(k)&&(Array.isArray(D)?JSON.stringify(k)===JSON.stringify(D):!s(D)&&k.some(function(A){return $(A,D)}))}function E(k){try{if(k===window)return!0}catch(D){if(D&&D.message===o)return!0}try{if({}.toString.call(k)==="[object Window]")return!0}catch(D){if(D&&D.message===o)return!0}try{if(window.Window&&k instanceof window.Window)return!0}catch(D){if(D&&D.message===o)return!0}try{if(k&&k.self===k)return!0}catch(D){if(D&&D.message===o)return!0}try{if(k&&k.parent===k)return!0}catch(D){if(D&&D.message===o)return!0}try{if(k&&k.top===k)return!0}catch(D){if(D&&D.message===o)return!0}try{if(k&&k.__cross_domain_utils_window_check__==="__unlikely_value__")return!1}catch{return!0}try{if("postMessage"in k&&"self"in k&&"location"in k)return!0}catch{}return!1}function S(k){if(h(k))return m(k).frameElement;for(var D=0,A=document.querySelectorAll("iframe");D<A.length;D++){var N=A[D];if(N&&N.contentWindow&&N.contentWindow===k)return N}}function T(k){if(function(A){return A===void 0&&(A=window),!!c(A)}(k)){var D=S(k);if(D&&D.parentElement){D.parentElement.removeChild(D);return}}try{k.close()}catch{}}function P(k){try{if(!k)return!1;if(typeof Promise<"u"&&k instanceof Promise)return!0;if(typeof window<"u"&&typeof window.Window=="function"&&k instanceof window.Window||typeof window<"u"&&typeof window.constructor=="function"&&k instanceof window.constructor)return!1;var D={}.toString;if(D){var A=D.call(k);if(A==="[object Window]"||A==="[object global]"||A==="[object DOMWindow]")return!1}if(typeof k.then=="function")return!0}catch{return!1}return!1}var C=[],B=[],V=0,ce;function X(){if(!V&&ce){var k=ce;ce=null,k.resolve()}}function le(){V+=1}function me(){V-=1,X()}var Ie=function(){function k(A){var N=this;if(this.resolved=void 0,this.rejected=void 0,this.errorHandled=void 0,this.value=void 0,this.error=void 0,this.handlers=void 0,this.dispatching=void 0,this.stack=void 0,this.resolved=!1,this.rejected=!1,this.errorHandled=!1,this.handlers=[],A){var U,Z,ie=!1,pe=!1,oe=!1;le();try{A(function(se){oe?N.resolve(se):(ie=!0,U=se)},function(se){oe?N.reject(se):(pe=!0,Z=se)})}catch(se){me(),this.reject(se);return}me(),oe=!0,ie?this.resolve(U):pe&&this.reject(Z)}}var D=k.prototype;return D.resolve=function(A){if(this.resolved||this.rejected)return this;if(P(A))throw new Error("Can not resolve promise with another promise");return this.resolved=!0,this.value=A,this.dispatch(),this},D.reject=function(A){var N=this;if(this.resolved||this.rejected)return this;if(P(A))throw new Error("Can not reject promise with another promise");if(!A){var U=A&&typeof A.toString=="function"?A.toString():{}.toString.call(A);A=new Error("Expected reject to be called with Error, got "+U)}return this.rejected=!0,this.error=A,this.errorHandled||setTimeout(function(){N.errorHandled||function(Z,ie){if(C.indexOf(Z)===-1){C.push(Z),setTimeout(function(){throw Z},1);for(var pe=0;pe<B.length;pe++)B[pe](Z,ie)}}(A,N)},1),this.dispatch(),this},D.asyncReject=function(A){return this.errorHandled=!0,this.reject(A),this},D.dispatch=function(){var A=this.resolved,N=this.rejected,U=this.handlers;if(!this.dispatching&&(A||N)){this.dispatching=!0,le();for(var Z=function(Le,yt){return Le.then(function(mt){yt.resolve(mt)},function(mt){yt.reject(mt)})},ie=0;ie<U.length;ie++){var pe=U[ie],oe=pe.onSuccess,se=pe.onError,Oe=pe.promise,$e=void 0;if(A)try{$e=oe?oe(this.value):this.value}catch(Le){Oe.reject(Le);continue}else if(N){if(!se){Oe.reject(this.error);continue}try{$e=se(this.error)}catch(Le){Oe.reject(Le);continue}}if($e instanceof k&&($e.resolved||$e.rejected)){var ke=$e;ke.resolved?Oe.resolve(ke.value):Oe.reject(ke.error),ke.errorHandled=!0}else P($e)?$e instanceof k&&($e.resolved||$e.rejected)?$e.resolved?Oe.resolve($e.value):Oe.reject($e.error):Z($e,Oe):Oe.resolve($e)}U.length=0,this.dispatching=!1,me()}},D.then=function(A,N){if(A&&typeof A!="function"&&!A.call)throw new Error("Promise.then expected a function for success handler");if(N&&typeof N!="function"&&!N.call)throw new Error("Promise.then expected a function for error handler");var U=new k;return this.handlers.push({promise:U,onSuccess:A,onError:N}),this.errorHandled=!0,this.dispatch(),U},D.catch=function(A){return this.then(void 0,A)},D.finally=function(A){if(A&&typeof A!="function"&&!A.call)throw new Error("Promise.finally expected a function");return this.then(function(N){return k.try(A).then(function(){return N})},function(N){return k.try(A).then(function(){throw N})})},D.timeout=function(A,N){var U=this;if(this.resolved||this.rejected)return this;var Z=setTimeout(function(){U.resolved||U.rejected||U.reject(N||new Error("Promise timed out after "+A+"ms"))},A);return this.then(function(ie){return clearTimeout(Z),ie})},D.toPromise=function(){if(typeof Promise>"u")throw new TypeError("Could not find Promise");return Promise.resolve(this)},D.lazy=function(){return this.errorHandled=!0,this},k.resolve=function(A){return A instanceof k?A:P(A)?new k(function(N,U){return A.then(N,U)}):new k().resolve(A)},k.reject=function(A){return new k().reject(A)},k.asyncReject=function(A){return new k().asyncReject(A)},k.all=function(A){var N=new k,U=A.length,Z=[].slice();if(!U)return N.resolve(Z),N;for(var ie=function(se,Oe,$e){return Oe.then(function(ke){Z[se]=ke,(U-=1)==0&&N.resolve(Z)},function(ke){$e.reject(ke)})},pe=0;pe<A.length;pe++){var oe=A[pe];if(oe instanceof k){if(oe.resolved){Z[pe]=oe.value,U-=1;continue}}else if(!P(oe)){Z[pe]=oe,U-=1;continue}ie(pe,k.resolve(oe),N)}return U===0&&N.resolve(Z),N},k.hash=function(A){var N={},U=[],Z=function(pe){if(A.hasOwnProperty(pe)){var oe=A[pe];P(oe)?U.push(oe.then(function(se){N[pe]=se})):N[pe]=oe}};for(var ie in A)Z(ie);return k.all(U).then(function(){return N})},k.map=function(A,N){return k.all(A.map(N))},k.onPossiblyUnhandledException=function(A){return function(N){return B.push(N),{cancel:function(){B.splice(B.indexOf(N),1)}}}(A)},k.try=function(A,N,U){if(A&&typeof A!="function"&&!A.call)throw new Error("Promise.try expected a function");var Z;le();try{Z=A.apply(N,U||[])}catch(ie){return me(),k.reject(ie)}return me(),k.resolve(Z)},k.delay=function(A){return new k(function(N){setTimeout(N,A)})},k.isPromise=function(A){return!!(A&&A instanceof k)||P(A)},k.flush=function(){return function(A){var N=ce=ce||new A;return X(),N}(k)},k}();function Tt(k,D){for(var A=0;A<k.length;A++)try{if(k[A]===D)return A}catch{}return-1}var Re=function(){function k(){if(this.name=void 0,this.weakmap=void 0,this.keys=void 0,this.values=void 0,this.name="__weakmap_"+(1e9*Math.random()>>>0)+"__",function(){if(typeof WeakMap>"u"||Object.freeze===void 0)return!1;try{var A=new WeakMap,N={};return Object.freeze(N),A.set(N,"__testvalue__"),A.get(N)==="__testvalue__"}catch{return!1}}())try{this.weakmap=new WeakMap}catch{}this.keys=[],this.values=[]}var D=k.prototype;return D._cleanupClosedWindows=function(){for(var A=this.weakmap,N=this.keys,U=0;U<N.length;U++){var Z=N[U];if(E(Z)&&x(Z)){if(A)try{A.delete(Z)}catch{}N.splice(U,1),this.values.splice(U,1),U-=1}}},D.isSafeToReadWrite=function(A){return!E(A)},D.set=function(A,N){if(!A)throw new Error("WeakMap expected key");var U=this.weakmap;if(U)try{U.set(A,N)}catch{delete this.weakmap}if(this.isSafeToReadWrite(A))try{var Z=this.name,ie=A[Z];ie&&ie[0]===A?ie[1]=N:Object.defineProperty(A,Z,{value:[A,N],writable:!0});return}catch{}this._cleanupClosedWindows();var pe=this.keys,oe=this.values,se=Tt(pe,A);se===-1?(pe.push(A),oe.push(N)):oe[se]=N},D.get=function(A){if(!A)throw new Error("WeakMap expected key");var N=this.weakmap;if(N)try{if(N.has(A))return N.get(A)}catch{delete this.weakmap}if(this.isSafeToReadWrite(A))try{var U=A[this.name];return U&&U[0]===A?U[1]:void 0}catch{}this._cleanupClosedWindows();var Z=Tt(this.keys,A);if(Z!==-1)return this.values[Z]},D.delete=function(A){if(!A)throw new Error("WeakMap expected key");var N=this.weakmap;if(N)try{N.delete(A)}catch{delete this.weakmap}if(this.isSafeToReadWrite(A))try{var U=A[this.name];U&&U[0]===A&&(U[0]=U[1]=void 0)}catch{}this._cleanupClosedWindows();var Z=this.keys,ie=Tt(Z,A);ie!==-1&&(Z.splice(ie,1),this.values.splice(ie,1))},D.has=function(A){if(!A)throw new Error("WeakMap expected key");var N=this.weakmap;if(N)try{if(N.has(A))return!0}catch{delete this.weakmap}if(this.isSafeToReadWrite(A))try{var U=A[this.name];return!(!U||U[0]!==A)}catch{}return this._cleanupClosedWindows(),Tt(this.keys,A)!==-1},D.getOrSet=function(A,N){if(this.has(A))return this.get(A);var U=N();return this.set(A,U),U},k}();function Xe(k){return k.name||k.__name__||k.displayName||"anonymous"}function F(k,D){try{delete k.name,k.name=D}catch{}return k.__name__=k.displayName=D,k}function H(){var k="0123456789abcdef";return"uid_"+"xxxxxxxxxx".replace(/./g,function(){return k.charAt(Math.floor(Math.random()*k.length))})+"_"+function(D){if(typeof btoa=="function")return btoa(encodeURIComponent(D).replace(/%([0-9A-F]{2})/g,function(A,N){return String.fromCharCode(parseInt(N,16))})).replace(/[=]/g,"");if(typeof Buffer<"u")return Buffer.from(D,"utf8").toString("base64").replace(/[=]/g,"");throw new Error("Can not find window.btoa or Buffer")}(new Date().toISOString().slice(11,19).replace("T",".")).replace(/[^a-zA-Z0-9]/g,"").toLowerCase()}var J;function Q(k){try{return JSON.stringify([].slice.call(k),function(D,A){return typeof A=="function"?"memoize["+function(N){if(J=J||new Re,N==null||typeof N!="object"&&typeof N!="function")throw new Error("Invalid object");var U=J.get(N);return U||(U=typeof N+":"+H(),J.set(N,U)),U}(A)+"]":typeof window<"u"&&A instanceof window.Element||A!==null&&typeof A=="object"&&A.nodeType===1&&typeof A.style=="object"&&typeof A.ownerDocument=="object"?{}:A})}catch{throw new Error("Arguments not serializable -- can not be used to memoize")}}function L(){return{}}var W=0,q=0;function ue(k,D){D===void 0&&(D={});var A=D.thisNamespace,N=A!==void 0&&A,U=D.time,Z,ie,pe=W;W+=1;var oe=function(){for(var se=arguments.length,Oe=new Array(se),$e=0;$e<se;$e++)Oe[$e]=arguments[$e];pe<q&&(Z=null,ie=null,pe=W,W+=1);var ke;ke=N?(ie=ie||new Re).getOrSet(this,L):Z=Z||{};var Le;try{Le=Q(Oe)}catch{return k.apply(this,arguments)}var yt=ke[Le];if(yt&&U&&Date.now()-yt.time<U&&(delete ke[Le],yt=null),yt)return yt.value;var mt=Date.now(),vt=k.apply(this,arguments);return ke[Le]={time:mt,value:vt},vt};return oe.reset=function(){Z=null,ie=null},F(oe,(D.name||Xe(k))+"::memoized")}ue.clear=function(){q=W};function fe(k){var D={};function A(){for(var N=arguments,U=this,Z=arguments.length,ie=new Array(Z),pe=0;pe<Z;pe++)ie[pe]=arguments[pe];var oe=Q(ie);return D.hasOwnProperty(oe)||(D[oe]=Ie.try(function(){return k.apply(U,N)}).finally(function(){delete D[oe]})),D[oe]}return A.reset=function(){D={}},F(A,Xe(k)+"::promiseMemoized")}function he(){}function O(k,D){if(D===void 0&&(D=1),D>=3)return"stringifyError stack overflow";try{if(!k)return"<unknown error: "+{}.toString.call(k)+">";if(typeof k=="string")return k;if(k instanceof Error){var A=k&&k.stack,N=k&&k.message;if(A&&N)return A.indexOf(N)!==-1?A:N+`
`+A;if(A)return A;if(N)return N}return k&&k.toString&&typeof k.toString=="function"?k.toString():{}.toString.call(k)}catch(U){return"Error while stringifying error: "+O(U,D+1)}}function M(k){return typeof k=="string"?k:k&&k.toString&&typeof k.toString=="function"?k.toString():{}.toString.call(k)}ue(function(k){if(Object.values)return Object.values(k);var D=[];for(var A in k)k.hasOwnProperty(A)&&D.push(k[A]);return D});function j(k){return{}.toString.call(k)==="[object RegExp]"}function Y(k,D,A){if(k.hasOwnProperty(D))return k[D];var N=A();return k[D]=N,N}function K(){var k=document.body;if(!k)throw new Error("Body element not found");return k}function ae(){return!!document.body&&document.readyState==="complete"}function be(){return!!document.body&&document.readyState==="interactive"}ue(function(){return new Ie(function(k){if(ae()||be())return k();var D=setInterval(function(){if(ae()||be())return clearInterval(D),k()},10)})});var ye=typeof document<"u"?document.currentScript:null,we=ue(function(){if(ye||(ye=function(){try{var k=function(){try{throw new Error("_")}catch(ie){return ie.stack||""}}(),D=/.*at [^(]*\((.*):(.+):(.+)\)$/gi.exec(k),A=D&&D[1];if(!A)return;for(var N=0,U=[].slice.call(document.getElementsByTagName("script")).reverse();N<U.length;N++){var Z=U[N];if(Z.src&&Z.src===A)return Z}}catch{}}()))return ye;throw new Error("Can not determine current script")}),z=H();ue(function(){var k;try{k=we()}catch{return z}var D=k.getAttribute("data-uid");if(D&&typeof D=="string"||(D=k.getAttribute("data-uid-auto"))&&typeof D=="string")return D;if(k.src){var A=function(N){for(var U="",Z=0;Z<N.length;Z++){var ie=N[Z].charCodeAt(0)*Z;N[Z+1]&&(ie+=N[Z+1].charCodeAt(0)*(Z-1)),U+=String.fromCharCode(97+Math.abs(ie)%26)}return U}(JSON.stringify({src:k.src,dataset:k.dataset}));D="uid_"+A.slice(A.length-30)}else D=H();return k.setAttribute("data-uid-auto",D),D});function _e(k){k===void 0&&(k=window);var D="__post_robot_10_0_46__";return k!==window?k[D]:k[D]=k[D]||{}}var ge=function(){return{}};function xe(k,D){return k===void 0&&(k="store"),D===void 0&&(D=ge),Y(_e(),k,function(){var A=D();return{has:function(N){return A.hasOwnProperty(N)},get:function(N,U){return A.hasOwnProperty(N)?A[N]:U},set:function(N,U){return A[N]=U,U},del:function(N){delete A[N]},getOrSet:function(N,U){return Y(A,N,U)},reset:function(){A=D()},keys:function(){return Object.keys(A)}}})}var He=function(){};function rt(){var k=_e();return k.WINDOW_WILDCARD=k.WINDOW_WILDCARD||new He,k.WINDOW_WILDCARD}function Ke(k,D){return k===void 0&&(k="store"),D===void 0&&(D=ge),xe("windowStore").getOrSet(k,function(){var A=new Re,N=function(U){return A.getOrSet(U,D)};return{has:function(U){return N(U).hasOwnProperty(k)},get:function(U,Z){var ie=N(U);return ie.hasOwnProperty(k)?ie[k]:Z},set:function(U,Z){return N(U)[k]=Z,Z},del:function(U){delete N(U)[k]},getOrSet:function(U,Z){return Y(N(U),k,Z)}}})}function Qe(){return xe("instance").getOrSet("instanceID",H)}function Dn(k,D){var A=D.domain,N=Ke("helloPromises"),U=N.get(k);U&&U.resolve({domain:A});var Z=Ie.resolve({domain:A});return N.set(k,Z),Z}function tn(k,D){return(0,D.send)(k,"postrobot_hello",{instanceID:Qe()},{domain:"*",timeout:-1}).then(function(A){var N=A.origin,U=A.data.instanceID;return Dn(k,{domain:N}),{win:k,domain:N,instanceID:U}})}function Lt(k,D){var A=D.send;return Ke("windowInstanceIDPromises").getOrSet(k,function(){return tn(k,{send:A}).then(function(N){return N.instanceID})})}function ln(k){Ke("knownWindows").set(k,!0)}function or(k){return typeof k=="object"&&k!==null&&typeof k.__type__=="string"}function ni(k){return k===void 0?"undefined":k===null?"null":Array.isArray(k)?"array":typeof k=="function"?"function":typeof k=="object"?k instanceof Error?"error":typeof k.then=="function"?"promise":{}.toString.call(k)==="[object RegExp]"?"regex":{}.toString.call(k)==="[object Date]"?"date":"object":typeof k=="string"?"string":typeof k=="number"?"number":typeof k=="boolean"?"boolean":void 0}function un(k,D){return{__type__:k,__val__:D}}var Ct,Eo=((Ct={}).function=function(){},Ct.error=function(k){return un("error",{message:k.message,stack:k.stack,code:k.code,data:k.data})},Ct.promise=function(){},Ct.regex=function(k){return un("regex",k.source)},Ct.date=function(k){return un("date",k.toJSON())},Ct.array=function(k){return k},Ct.object=function(k){return k},Ct.string=function(k){return k},Ct.number=function(k){return k},Ct.boolean=function(k){return k},Ct.null=function(k){return k},Ct[void 0]=function(k){return un("undefined",k)},Ct),Li={},Gn,aa=((Gn={}).function=function(){throw new Error("Function serialization is not implemented; nothing to deserialize")},Gn.error=function(k){var D=k.stack,A=k.code,N=k.data,U=new Error(k.message);return U.code=A,N&&(U.data=N),U.stack=D+`

`+U.stack,U},Gn.promise=function(){throw new Error("Promise serialization is not implemented; nothing to deserialize")},Gn.regex=function(k){return new RegExp(k)},Gn.date=function(k){return new Date(k)},Gn.array=function(k){return k},Gn.object=function(k){return k},Gn.string=function(k){return k},Gn.number=function(k){return k},Gn.boolean=function(k){return k},Gn.null=function(k){return k},Gn[void 0]=function(){},Gn),_d={};new Ie(function(k){if(window.document&&window.document.body)return k(window.document.body);var D=setInterval(function(){if(window.document&&window.document.body)return clearInterval(D),k(window.document.body)},10)});function zx(){for(var k=xe("idToProxyWindow"),D=0,A=k.keys();D<A.length;D++){var N=A[D];k.get(N).shouldClean()&&k.del(N)}}function HP(k,D){var A=D.send,N=D.id,U=N===void 0?H():N,Z=k.then(function(oe){if(h(oe))return m(oe).name}),ie=k.then(function(oe){if(x(oe))throw new Error("Window is closed, can not determine type");return d(oe)?"popup":"iframe"});Z.catch(he),ie.catch(he);var pe=function(){return k.then(function(oe){if(!x(oe))return h(oe)?m(oe).name:Z})};return{id:U,getType:function(){return ie},getInstanceID:fe(function(){return k.then(function(oe){return Lt(oe,{send:A})})}),close:function(){return k.then(T)},getName:pe,focus:function(){return k.then(function(oe){oe.focus()})},isClosed:function(){return k.then(function(oe){return x(oe)})},setLocation:function(oe,se){return se===void 0&&(se={}),k.then(function(Oe){var $e=window.location.protocol+"//"+window.location.host,ke=se.method,Le=ke===void 0?"get":ke,yt=se.body;if(oe.indexOf("/")===0)oe=""+$e+oe;else if(!oe.match(/^https?:\/\//)&&oe.indexOf($e)!==0)throw new Error("Expected url to be http or https url, or absolute path, got "+JSON.stringify(oe));if(Le==="post")return pe().then(function(mt){if(!mt)throw new Error("Can not post to window without target name");(function(vt){var kn=vt.url,Sr=vt.target,Nn=vt.body,In=vt.method,Fr=In===void 0?"post":In,Kt=document.createElement("form");if(Kt.setAttribute("target",Sr),Kt.setAttribute("method",Fr),Kt.setAttribute("action",kn),Kt.style.display="none",Nn)for(var Ln=0,Ss=Object.keys(Nn);Ln<Ss.length;Ln++){var gr,th=Ss[Ln],Xx=document.createElement("input");Xx.setAttribute("name",th),Xx.setAttribute("value",(gr=Nn[th])==null?void 0:gr.toString()),Kt.appendChild(Xx)}K().appendChild(Kt),Kt.submit(),K().removeChild(Kt)})({url:oe,target:mt,method:Le,body:yt})});if(Le!=="get")throw new Error("Unsupported method: "+Le);if(h(Oe))try{if(Oe.location&&typeof Oe.location.replace=="function"){Oe.location.replace(oe);return}}catch{}Oe.location=oe})},setName:function(oe){return k.then(function(se){var Oe=h(se),$e=S(se);if(!Oe)throw new Error("Can not set name for cross-domain window: "+oe);m(se).name=oe,$e&&$e.setAttribute("name",oe),Z=Ie.resolve(oe)})}}}var as=function(){function k(A){var N=A.send,U=A.win,Z=A.serializedWindow;this.id=void 0,this.isProxyWindow=!0,this.serializedWindow=void 0,this.actualWindow=void 0,this.actualWindowPromise=void 0,this.send=void 0,this.name=void 0,this.actualWindowPromise=new Ie,this.serializedWindow=Z||HP(this.actualWindowPromise,{send:N}),xe("idToProxyWindow").set(this.getID(),this),U&&this.setWindow(U,{send:N})}var D=k.prototype;return D.getID=function(){return this.serializedWindow.id},D.getType=function(){return this.serializedWindow.getType()},D.isPopup=function(){return this.getType().then(function(A){return A==="popup"})},D.setLocation=function(A,N){var U=this;return this.serializedWindow.setLocation(A,N).then(function(){return U})},D.getName=function(){return this.serializedWindow.getName()},D.setName=function(A){var N=this;return this.serializedWindow.setName(A).then(function(){return N})},D.close=function(){var A=this;return this.serializedWindow.close().then(function(){return A})},D.focus=function(){var A=this,N=this.isPopup(),U=this.getName(),Z=Ie.hash({isPopup:N,name:U}).then(function(pe){var oe=pe.name;pe.isPopup&&oe&&window.open("",oe,"noopener")}),ie=this.serializedWindow.focus();return Ie.all([Z,ie]).then(function(){return A})},D.isClosed=function(){return this.serializedWindow.isClosed()},D.getWindow=function(){return this.actualWindow},D.setWindow=function(A,N){var U=N.send;this.actualWindow=A,this.actualWindowPromise.resolve(this.actualWindow),this.serializedWindow=HP(this.actualWindowPromise,{send:U,id:this.getID()}),Ke("winToProxyWindow").set(A,this)},D.awaitWindow=function(){return this.actualWindowPromise},D.matchWindow=function(A,N){var U=this,Z=N.send;return Ie.try(function(){return U.actualWindow?A===U.actualWindow:Ie.hash({proxyInstanceID:U.getInstanceID(),knownWindowInstanceID:Lt(A,{send:Z})}).then(function(ie){var pe=ie.proxyInstanceID===ie.knownWindowInstanceID;return pe&&U.setWindow(A,{send:Z}),pe})})},D.unwrap=function(){return this.actualWindow||this},D.getInstanceID=function(){return this.serializedWindow.getInstanceID()},D.shouldClean=function(){return!!(this.actualWindow&&x(this.actualWindow))},D.serialize=function(){return this.serializedWindow},k.unwrap=function(A){return k.isProxyWindow(A)?A.unwrap():A},k.serialize=function(A,N){var U=N.send;return zx(),k.toProxyWindow(A,{send:U}).serialize()},k.deserialize=function(A,N){var U=N.send;return zx(),xe("idToProxyWindow").get(A.id)||new k({serializedWindow:A,send:U})},k.isProxyWindow=function(A){return!!(A&&!E(A)&&A.isProxyWindow)},k.toProxyWindow=function(A,N){var U=N.send;if(zx(),k.isProxyWindow(A))return A;var Z=A;return Ke("winToProxyWindow").get(Z)||new k({win:Z,send:U})},k}();function Kx(k,D,A,N,U){var Z=Ke("methodStore"),ie=xe("proxyWindowMethods");as.isProxyWindow(N)?ie.set(k,{val:D,name:A,domain:U,source:N}):(ie.del(k),Z.getOrSet(N,function(){return{}})[k]={domain:U,name:A,val:D,source:N})}function WP(k,D){var A=Ke("methodStore"),N=xe("proxyWindowMethods");return A.getOrSet(k,function(){return{}})[D]||N.get(D)}function qP(k,D,A,N,U){ie=(Z={on:U.on,send:U.send}).on,pe=Z.send,xe("builtinListeners").getOrSet("functionCalls",function(){return ie("postrobot_method",{domain:"*"},function(Oe){var $e=Oe.source,ke=Oe.origin,Le=Oe.data,yt=Le.id,mt=Le.name,vt=WP($e,yt);if(!vt)throw new Error("Could not find method '"+mt+"' with id: "+Le.id+" in "+g(window));var kn=vt.source,Sr=vt.domain,Nn=vt.val;return Ie.try(function(){if(!$(Sr,ke))throw new Error("Method '"+Le.name+"' domain "+JSON.stringify(j(vt.domain)?vt.domain.source:vt.domain)+" does not match origin "+ke+" in "+g(window));if(as.isProxyWindow(kn))return kn.matchWindow($e,{send:pe}).then(function(In){if(!In)throw new Error("Method call '"+Le.name+"' failed - proxy window does not match source in "+g(window))})}).then(function(){return Nn.apply({source:$e,origin:ke},Le.args)},function(In){return Ie.try(function(){if(Nn.onError)return Nn.onError(In)}).then(function(){throw In.stack&&(In.stack="Remote call to "+mt+"("+function(Fr){return Fr===void 0&&(Fr=[]),(Kt=Fr,[].slice.call(Kt)).map(function(Ln){return typeof Ln=="string"?"'"+Ln+"'":Ln===void 0?"undefined":Ln===null?"null":typeof Ln=="boolean"?Ln.toString():Array.isArray(Ln)?"[ ... ]":typeof Ln=="object"?"{ ... }":typeof Ln=="function"?"() => { ... }":"<"+typeof Ln+">"}).join(", ");var Kt}(Le.args)+`) failed

`+In.stack),In})}).then(function(In){return{result:In,id:yt,name:mt}})})});var Z,ie,pe,oe=A.__id__||H();k=as.unwrap(k);var se=A.__name__||A.name||N;return typeof se=="string"&&typeof se.indexOf=="function"&&se.indexOf("anonymous::")===0&&(se=se.replace("anonymous::",N+"::")),as.isProxyWindow(k)?(Kx(oe,A,se,k,D),k.awaitWindow().then(function(Oe){Kx(oe,A,se,Oe,D)})):Kx(oe,A,se,k,D),un("cross_domain_function",{id:oe,name:se})}function zP(k,D,A,N){var U,Z=N.on,ie=N.send;return function(pe,oe){oe===void 0&&(oe=Li);var se=JSON.stringify(pe,function(Oe){var $e=this[Oe];if(or(this))return $e;var ke=ni($e);if(!ke)return $e;var Le=oe[ke]||Eo[ke];return Le?Le($e,Oe):$e});return se===void 0?"undefined":se}(A,((U={}).promise=function(pe,oe){return function(se,Oe,$e,ke,Le){return un("cross_domain_zalgo_promise",{then:qP(se,Oe,function(yt,mt){return $e.then(yt,mt)},ke,{on:Le.on,send:Le.send})})}(k,D,pe,oe,{on:Z,send:ie})},U.function=function(pe,oe){return qP(k,D,pe,oe,{on:Z,send:ie})},U.object=function(pe){return E(pe)||as.isProxyWindow(pe)?un("cross_domain_window",as.serialize(pe,{send:ie})):pe},U))}function KP(k,D,A,N){var U,Z=N.send;return function(ie,pe){if(pe===void 0&&(pe=_d),ie!=="undefined")return JSON.parse(ie,function(oe,se){if(or(this))return se;var Oe,$e;if(or(se)?(Oe=se.__type__,$e=se.__val__):(Oe=ni(se),$e=se),!Oe)return $e;var ke=pe[Oe]||aa[Oe];return ke?ke($e,oe):$e})}(A,((U={}).cross_domain_zalgo_promise=function(ie){return function(pe,oe,se){return new Ie(se.then)}(0,0,ie)},U.cross_domain_function=function(ie){return function(pe,oe,se,Oe){var $e=se.id,ke=se.name,Le=Oe.send,yt=function(vt){vt===void 0&&(vt={});function kn(){var Sr=arguments;return as.toProxyWindow(pe,{send:Le}).awaitWindow().then(function(Nn){var In=WP(Nn,$e);if(In&&In.val!==kn)return In.val.apply({source:window,origin:g()},Sr);var Fr=[].slice.call(Sr);return vt.fireAndForget?Le(Nn,"postrobot_method",{id:$e,name:ke,args:Fr},{domain:oe,fireAndForget:!0}):Le(Nn,"postrobot_method",{id:$e,name:ke,args:Fr},{domain:oe,fireAndForget:!1}).then(function(Kt){return Kt.data.result})}).catch(function(Nn){throw Nn})}return kn.__name__=ke,kn.__origin__=oe,kn.__source__=pe,kn.__id__=$e,kn.origin=oe,kn},mt=yt();return mt.fireAndForget=yt({fireAndForget:!0}),mt}(k,D,ie,{send:Z})},U.cross_domain_window=function(ie){return as.deserialize(ie,{send:Z})},U))}var Gx={};Gx.postrobot_post_message=function(k,D,A){A.indexOf("file:")===0&&(A="*"),k.postMessage(D,A)};function Yx(k,D,A,N){var U=N.on,Z=N.send;return Ie.try(function(){var ie=Ke().getOrSet(k,function(){return{}});return ie.buffer=ie.buffer||[],ie.buffer.push(A),ie.flush=ie.flush||Ie.flush().then(function(){if(x(k))throw new Error("Window is closed");var pe=zP(k,D,((oe={}).__post_robot_10_0_46__=ie.buffer||[],oe),{on:U,send:Z}),oe;delete ie.buffer;for(var se=Object.keys(Gx),Oe=[],$e=0;$e<se.length;$e++){var ke=se[$e];try{Gx[ke](k,pe,D)}catch(Le){Oe.push(Le)}}if(Oe.length===se.length)throw new Error(`All post-robot messaging strategies failed:

`+Oe.map(function(Le,yt){return yt+". "+O(Le)}).join(`

`))}),ie.flush.then(function(){delete ie.flush})}).then(he)}function GP(k){return xe("responseListeners").get(k)}function YP(k){xe("responseListeners").del(k)}function XP(k){return xe("erroredResponseListeners").has(k)}function QP(k){var D=k.name,A=k.win,N=k.domain,U=Ke("requestListeners");if(A==="*"&&(A=null),N==="*"&&(N=null),!D)throw new Error("Name required to get request listener");for(var Z=0,ie=[A,rt()];Z<ie.length;Z++){var pe=ie[Z];if(pe){var oe=U.get(pe);if(oe){var se=oe[D];if(se){if(N&&typeof N=="string"){if(se[N])return se[N];if(se.__domain_regex__)for(var Oe=0,$e=se.__domain_regex__;Oe<$e.length;Oe++){var ke=$e[Oe],Le=ke.listener;if($(ke.regex,N))return Le}}if(se["*"])return se["*"]}}}}}function qQ(k,D,A,N){var U=N.on,Z=N.send,ie=QP({name:A.name,win:k,domain:D}),pe=A.name==="postrobot_method"&&A.data&&typeof A.data.name=="string"?A.data.name+"()":A.name;function oe(se,Oe,$e){return Ie.flush().then(function(){if(!A.fireAndForget&&!x(k))try{return Yx(k,D,{id:H(),origin:g(window),type:"postrobot_message_response",hash:A.hash,name:A.name,ack:se,data:Oe,error:$e},{on:U,send:Z})}catch(ke){throw new Error("Send response message failed for "+pe+" in "+g()+`

`+O(ke))}})}return Ie.all([Ie.flush().then(function(){if(!A.fireAndForget&&!x(k))try{return Yx(k,D,{id:H(),origin:g(window),type:"postrobot_message_ack",hash:A.hash,name:A.name},{on:U,send:Z})}catch(se){throw new Error("Send ack message failed for "+pe+" in "+g()+`

`+O(se))}}),Ie.try(function(){if(!ie)throw new Error("No handler found for post message: "+A.name+" from "+D+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);return ie.handler({source:k,origin:D,data:A.data})}).then(function(se){return oe("success",se)},function(se){return oe("error",null,se)})]).then(he).catch(function(se){if(ie&&ie.handleError)return ie.handleError(se);throw se})}function zQ(k,D,A){if(!XP(A.hash)){var N=GP(A.hash);if(!N)throw new Error("No handler found for post message ack for message: "+A.name+" from "+D+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);try{if(!$(N.domain,D))throw new Error("Ack origin "+D+" does not match domain "+N.domain.toString());if(k!==N.win)throw new Error("Ack source does not match registered window")}catch(U){N.promise.reject(U)}N.ack=!0}}function KQ(k,D,A){if(!XP(A.hash)){var N=GP(A.hash);if(!N)throw new Error("No handler found for post message response for message: "+A.name+" from "+D+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);if(!$(N.domain,D))throw new Error("Response origin "+D+" does not match domain "+(U=N.domain,Array.isArray(U)?"("+U.join(" | ")+")":s(U)?"RegExp("+U.toString()+")":U.toString()));var U;if(k!==N.win)throw new Error("Response source does not match registered window");YP(A.hash),A.ack==="error"?N.promise.reject(A.error):A.ack==="success"&&N.promise.resolve({source:k,origin:D,data:A.data})}}function JP(k,D){var A=D.on,N=D.send,U=xe("receivedMessages");try{if(!window||window.closed||!k.source)return}catch{return}var Z=k.source,ie=k.origin,pe=function(Oe,$e,ke,Le){var yt=Le.on,mt=Le.send,vt;try{vt=KP($e,ke,Oe,{on:yt,send:mt})}catch{return}if(vt&&typeof vt=="object"&&vt!==null){var kn=vt.__post_robot_10_0_46__;if(Array.isArray(kn))return kn}}(k.data,Z,ie,{on:A,send:N});if(pe){ln(Z);for(var oe=0;oe<pe.length;oe++){var se=pe[oe];if(U.has(se.id)||(U.set(se.id,!0),x(Z)&&!se.fireAndForget))return;se.origin.indexOf("file:")===0&&(ie="file://");try{se.type==="postrobot_message_request"?qQ(Z,ie,se,{on:A,send:N}):se.type==="postrobot_message_response"?KQ(Z,ie,se):se.type==="postrobot_message_ack"&&zQ(Z,ie,se)}catch(Oe){setTimeout(function(){throw Oe},0)}}}}function hl(k,D,A){if(!k)throw new Error("Expected name");if(typeof(D=D||{})=="function"&&(A=D,D={}),!A)throw new Error("Expected handler");var N=function U(Z,ie){var pe=Z.name,oe=Z.win,se=Z.domain,Oe=Ke("requestListeners");if(!pe||typeof pe!="string")throw new Error("Name required to add request listener");if(oe&&oe!=="*"&&as.isProxyWindow(oe)){var $e=oe.awaitWindow().then(function(gr){return U({name:pe,win:gr,domain:se},ie)});return{cancel:function(){$e.then(function(gr){return gr.cancel()},he)}}}var ke=oe;if(Array.isArray(ke)){for(var Le=[],yt=0,mt=ke;yt<mt.length;yt++)Le.push(U({name:pe,domain:se,win:mt[yt]},ie));return{cancel:function(){for(var gr=0;gr<Le.length;gr++)Le[gr].cancel()}}}if(Array.isArray(se)){for(var vt=[],kn=0,Sr=se;kn<Sr.length;kn++)vt.push(U({name:pe,win:ke,domain:Sr[kn]},ie));return{cancel:function(){for(var gr=0;gr<vt.length;gr++)vt[gr].cancel()}}}var Nn=QP({name:pe,win:ke,domain:se});ke&&ke!=="*"||(ke=rt());var In=(se=se||"*").toString();if(Nn)throw ke&&se?new Error("Request listener already exists for "+pe+" on domain "+se.toString()+" for "+(ke===rt()?"wildcard":"specified")+" window"):ke?new Error("Request listener already exists for "+pe+" for "+(ke===rt()?"wildcard":"specified")+" window"):se?new Error("Request listener already exists for "+pe+" on domain "+se.toString()):new Error("Request listener already exists for "+pe);var Fr=Oe.getOrSet(ke,function(){return{}}),Kt=Y(Fr,pe,function(){return{}}),Ln,Ss;return j(se)?(Ln=Y(Kt,"__domain_regex__",function(){return[]})).push(Ss={regex:se,listener:ie}):Kt[In]=ie,{cancel:function(){delete Kt[In],Ss&&(Ln.splice(Ln.indexOf(Ss,1)),Ln.length||delete Kt.__domain_regex__),Object.keys(Kt).length||delete Fr[pe],ke&&!Object.keys(Fr).length&&Oe.del(ke)}}}({name:k,win:D.window,domain:D.domain||"*"},{handler:A||D.handler,handleError:D.errorHandler||function(U){throw U}});return{cancel:function(){N.cancel()}}}function GQ(k,D,A){typeof(D=D||{})=="function"&&(A=D,D={});var N=new Ie,U;return D.errorHandler=function(Z){U.cancel(),N.reject(Z)},U=hl(k,D,function(Z){if(U.cancel(),N.resolve(Z),A)return A(Z)}),N.cancel=U.cancel,N}var gl=function k(D,A,N,U){var Z=(U=U||{}).domain||"*",ie=U.timeout||-1,pe=U.timeout||5e3,oe=U.fireAndForget||!1;return as.toProxyWindow(D,{send:k}).awaitWindow().then(function(se){return Ie.try(function(){if(function(Oe,$e,ke){if(!Oe)throw new Error("Expected name");if(ke&&typeof ke!="string"&&!Array.isArray(ke)&&!j(ke))throw new TypeError("Can not send "+Oe+". Expected domain "+JSON.stringify(ke)+" to be a string, array, or regex");if(x($e))throw new Error("Can not send "+Oe+". Target window is closed")}(A,se,Z),function(Oe,$e){var ke=w($e);if(ke)return ke===Oe;if($e===Oe||function(mt){mt===void 0&&(mt=window);try{if(mt.top)return mt.top}catch{}if(c(mt)===mt)return mt;try{if(v(window,mt)&&window.top)return window.top}catch{}try{if(v(mt,window)&&window.top)return window.top}catch{}for(var vt=0,kn=function Nn(In){for(var Fr=[],Kt=0,Ln=y(In);Kt<Ln.length;Kt++){var Ss=Ln[Kt];Fr.push(Ss);for(var gr=0,th=Nn(Ss);gr<th.length;gr++)Fr.push(th[gr])}return Fr}(mt);vt<kn.length;vt++){var Sr=kn[vt];try{if(Sr.top)return Sr.top}catch{}if(c(Sr)===Sr)return Sr}}($e)===$e)return!1;for(var Le=0,yt=y(Oe);Le<yt.length;Le++)if(yt[Le]===$e)return!0;return!1}(window,se))return function(Oe,$e,ke){$e===void 0&&($e=5e3),ke===void 0&&(ke="Window");var Le=function(yt){return Ke("helloPromises").getOrSet(yt,function(){return new Ie})}(Oe);return $e!==-1&&(Le=Le.timeout($e,new Error(ke+" did not load after "+$e+"ms"))),Le}(se,pe)}).then(function(Oe){return function($e,ke,Le,yt){var mt=yt.send;return Ie.try(function(){return typeof ke=="string"?ke:Ie.try(function(){return Le||tn($e,{send:mt}).then(function(vt){return vt.domain})}).then(function(vt){if(!$(ke,ke))throw new Error("Domain "+M(ke)+" does not match "+M(ke));return vt})})}(se,Z,(Oe===void 0?{}:Oe).domain,{send:k})}).then(function(Oe){var $e=Oe,ke=A==="postrobot_method"&&N&&typeof N.name=="string"?N.name+"()":A,Le=new Ie,yt=A+"_"+H();if(!oe){var mt={name:A,win:se,domain:$e,promise:Le};(function(Kt,Ln){xe("responseListeners").set(Kt,Ln)})(yt,mt);var vt=Ke("requestPromises").getOrSet(se,function(){return[]});vt.push(Le),Le.catch(function(){(function(Kt){xe("erroredResponseListeners").set(Kt,!0)})(yt),YP(yt)});var kn=function(Kt){return Ke("knownWindows").get(Kt,!1)}(se)?1e4:2e3,Sr=ie,Nn=kn,In=Sr,Fr=function(Kt,Ln){var Ss;return function gr(){Ss=setTimeout(function(){(function(){if(x(se))return Le.reject(new Error("Window closed for "+A+" before "+(mt.ack?"response":"ack")));if(mt.cancelled)return Le.reject(new Error("Response listener was cancelled for "+A));Nn=Math.max(Nn-500,0),In!==-1&&(In=Math.max(In-500,0)),mt.ack||Nn!==0?In===0&&Le.reject(new Error("No response for postMessage "+ke+" in "+g()+" in "+Sr+"ms")):Le.reject(new Error("No ack for postMessage "+ke+" in "+g()+" in "+kn+"ms"))})(),gr()},500)}(),{cancel:function(){clearTimeout(Ss)}}}();Le.finally(function(){Fr.cancel(),vt.splice(vt.indexOf(Le,1))}).catch(he)}return Yx(se,$e,{id:H(),origin:g(window),type:"postrobot_message_request",hash:yt,name:A,data:N,fireAndForget:oe},{on:hl,send:k}).then(function(){return oe?Le.resolve():Le},function(Kt){throw new Error("Send request message failed for "+ke+" in "+g()+`

`+O(Kt))})})})};function YQ(k,D,A){return zP(k,D,A,{on:hl,send:gl})}function XQ(k,D,A){return KP(k,D,A,{on:hl,send:gl})}function QQ(k){return new as({send:gl,win:k})}function JQ(k){return as.toProxyWindow(k,{send:gl})}function ZP(){_e().initialized||(_e().initialized=!0,D=(k={on:hl,send:gl}).on,A=k.send,(N=_e()).receiveMessage=N.receiveMessage||function(U){return JP(U,{on:D,send:A})},function(U){var Z=U.on,ie=U.send;xe().getOrSet("postMessageListener",function(){return function(pe,oe,se){return pe.addEventListener("message",se),{cancel:function(){pe.removeEventListener("message",se)}}}(window,0,function(pe){(function(oe,se){var Oe=se.on,$e=se.send;Ie.try(function(){var ke=oe.source||oe.sourceElement,Le=oe.origin||oe.originalEvent&&oe.originalEvent.origin,yt=oe.data;if(Le==="null"&&(Le="file://"),ke){if(!Le)throw new Error("Post message did not have origin domain");JP({source:ke,origin:Le,data:yt},{on:Oe,send:$e})}})})(pe,{on:Z,send:ie})})})}({on:hl,send:gl}),function(U){var Z=U.on,ie=U.send;xe("builtinListeners").getOrSet("helloListener",function(){var pe=Z("postrobot_hello",{domain:"*"},function(se){return Dn(se.source,{domain:se.origin}),{instanceID:Qe()}}),oe=w();return oe&&tn(oe,{send:ie}).catch(function(se){}),pe})}({on:hl,send:gl}));var k,D,A,N}function ZQ(){(function(){for(var D=xe("responseListeners"),A=0,N=D.keys();A<N.length;A++){var U=N[A],Z=D.get(U);Z&&(Z.cancelled=!0),D.del(U)}})(),(k=xe().get("postMessageListener"))&&k.cancel();var k;delete window.__post_robot_10_0_46__}var eJ=!0;function tJ(k){for(var D=0,A=Ke("requestPromises").get(k,[]);D<A.length;D++)A[D].reject(new Error("Window "+(x(k)?"closed":"cleaned up")+" before response")).catch(he)}ZP()}])})})(dV);var Bte=dV.exports;(function(e){e.exports=Bte,e.exports.default=e.exports})(cV);var Ute=cV.exports;const fV=KI(Ute);function GI(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function iv(){let e=[],t={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),t.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){t.requestAnimationFrame(()=>{t.requestAnimationFrame(...n)})},setTimeout(...n){let r=setTimeout(...n);t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return GI(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=iv();return n(r),this.add(()=>r.dispose())},add(n){return e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let i of e.splice(r,1))i()}},dispose(){for(let n of e.splice(0))n()}};return t}var HM;let Vte=Symbol("headlessui.useid"),jte=0;const ps=(HM=GU)!=null?HM:function(){return ct(Vte,()=>`${++jte}`)()};function Ae(e){var t;if(e==null||e.value==null)return null;let n=(t=e.value.$el)!=null?t:e.value;return n instanceof Node?n:null}function ei(e,t,...n){if(e in t){let i=t[e];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,ei),r}var Hte=Object.defineProperty,Wte=(e,t,n)=>t in e?Hte(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,WM=(e,t,n)=>(Wte(e,typeof t!="symbol"?t+"":t,n),n);let qte=class{constructor(){WM(this,"current",this.detect()),WM(this,"currentId",0)}set(t){this.current!==t&&(this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}},sv=new qte;function vo(e){if(sv.isServer)return null;if(e instanceof Node)return e.ownerDocument;if(e!=null&&e.hasOwnProperty("value")){let t=Ae(e);if(t)return t.ownerDocument}return document}let S$=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var qr=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(qr||{}),zg=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(zg||{}),zte=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(zte||{});function ov(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(S$)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Yw=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Yw||{});function Xw(e,t=0){var n;return e===((n=vo(e))==null?void 0:n.body)?!1:ei(t,{0(){return e.matches(S$)},1(){let r=e;for(;r!==null;){if(r.matches(S$))return!0;r=r.parentElement}return!1}})}function pV(e){let t=vo(e);Qn(()=>{t&&!Xw(t.activeElement,0)&&Kl(e)})}var Kte=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(Kte||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Kl(e){e==null||e.focus({preventScroll:!0})}let Gte=["textarea","input"].join(",");function Yte(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,Gte))!=null?n:!1}function hV(e,t=n=>n){return e.slice().sort((n,r)=>{let i=t(n),s=t(r);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Xte(e,t){return As(ov(),t,{relativeTo:e})}function As(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){var s;let o=(s=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e==null?void 0:e.ownerDocument)!=null?s:document,a=Array.isArray(e)?n?hV(e):e:ov(e);i.length>0&&a.length>1&&(a=a.filter(g=>!i.includes(g))),r=r??o.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,a.indexOf(r))-1;if(t&4)return Math.max(0,a.indexOf(r))+1;if(t&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=t&32?{preventScroll:!0}:{},d=0,f=a.length,p;do{if(d>=f||d+f<=0)return 0;let g=u+d;if(t&16)g=(g+f)%f;else{if(g<0)return 3;if(g>=f)return 1}p=a[g],p==null||p.focus(c),d+=l}while(p!==o.activeElement);return t&6&&Yte(p)&&p.select(),2}function gV(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Qte(){return/Android/gi.test(window.navigator.userAgent)}function Jte(){return gV()||Qte()}function by(e,t,n){sv.isServer||sn(r=>{document.addEventListener(e,t,n),r(()=>document.removeEventListener(e,t,n))})}function mV(e,t,n){sv.isServer||sn(r=>{window.addEventListener(e,t,n),r(()=>window.removeEventListener(e,t,n))})}function YI(e,t,n=Ce(()=>!0)){function r(s,o){if(!n.value||s.defaultPrevented)return;let a=o(s);if(a===null||!a.getRootNode().contains(a))return;let l=function u(c){return typeof c=="function"?u(c()):Array.isArray(c)||c instanceof Set?c:[c]}(e);for(let u of l){if(u===null)continue;let c=u instanceof HTMLElement?u:Ae(u);if(c!=null&&c.contains(a)||s.composed&&s.composedPath().includes(c))return}return!Xw(a,Yw.Loose)&&a.tabIndex!==-1&&s.preventDefault(),t(s,a)}let i=re(null);by("pointerdown",s=>{var o,a;n.value&&(i.value=((a=(o=s.composedPath)==null?void 0:o.call(s))==null?void 0:a[0])||s.target)},!0),by("mousedown",s=>{var o,a;n.value&&(i.value=((a=(o=s.composedPath)==null?void 0:o.call(s))==null?void 0:a[0])||s.target)},!0),by("click",s=>{Jte()||i.value&&(r(s,()=>i.value),i.value=null)},!0),by("touchend",s=>r(s,()=>s.target instanceof HTMLElement?s.target:null),!0),mV("blur",s=>r(s,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function qM(e,t){if(e)return e;let n=t??"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function vV(e,t){let n=re(qM(e.value.type,e.value.as));return Jt(()=>{n.value=qM(e.value.type,e.value.as)}),sn(()=>{var r;n.value||Ae(t)&&Ae(t)instanceof HTMLButtonElement&&!((r=Ae(t))!=null&&r.hasAttribute("type"))&&(n.value="button")}),n}function zM(e){return[e.screenX,e.screenY]}function Zte(){let e=re([-1,-1]);return{wasMoved(t){let n=zM(t);return e.value[0]===n[0]&&e.value[1]===n[1]?!1:(e.value=n,!0)},update(t){e.value=zM(t)}}}function ene({container:e,accept:t,walk:n,enabled:r}){sn(()=>{let i=e.value;if(!i||r!==void 0&&!r.value)return;let s=vo(e);if(!s)return;let o=Object.assign(l=>t(l),{acceptNode:t}),a=s.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,o,!1);for(;a.nextNode();)n(a.currentNode)})}var au=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(au||{}),Bl=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Bl||{});function Kr({visible:e=!0,features:t=0,ourProps:n,theirProps:r,...i}){var s;let o=_V(r,n),a=Object.assign(i,{props:o});if(e||t&2&&o.static)return uE(a);if(t&1){let l=(s=o.unmount)==null||s?0:1;return ei(l,{0(){return null},1(){return uE({...i,props:{...o,hidden:!0,style:{display:"none"}}})}})}return uE(a)}function uE({props:e,attrs:t,slots:n,slot:r,name:i}){var s,o;let{as:a,...l}=bV(e,["unmount","static"]),u=(s=n.default)==null?void 0:s.call(n,r),c={};if(r){let d=!1,f=[];for(let[p,g]of Object.entries(r))typeof g=="boolean"&&(d=!0),g===!0&&f.push(p);d&&(c["data-headlessui-state"]=f.join(" "))}if(a==="template"){if(u=yV(u??[]),Object.keys(l).length>0||Object.keys(t).length>0){let[d,...f]=u??[];if(!tne(d)||f.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${i} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(l).concat(Object.keys(t)).map(h=>h.trim()).filter((h,m,v)=>v.indexOf(h)===m).sort((h,m)=>h.localeCompare(m)).map(h=>`  - ${h}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(h=>`  - ${h}`).join(`
`)].join(`
`));let p=_V((o=d.props)!=null?o:{},l,c),g=lo(d,p,!0);for(let h in p)h.startsWith("on")&&(g.props||(g.props={}),g.props[h]=p[h]);return g}return Array.isArray(u)&&u.length===1?u[0]:u}return Yt(a,Object.assign({},l,c),{default:()=>u})}function yV(e){return e.flatMap(t=>t.type===gn?yV(t.children):[t])}function _V(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):t[i]=r[i];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(t,{[r](i,...s){let o=n[r];for(let a of o){if(i instanceof Event&&i.defaultPrevented)return;a(i,...s)}}});return t}function aQe(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function bV(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function tne(e){return e==null?!1:typeof e.type=="string"||typeof e.type=="object"||typeof e.type=="function"}var Cc=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Cc||{});let Bf=Tn({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(e,{slots:t,attrs:n}){return()=>{var r;let{features:i,...s}=e,o={"aria-hidden":(i&2)===2?!0:(r=s["aria-hidden"])!=null?r:void 0,hidden:(i&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(i&4)===4&&(i&2)!==2&&{display:"none"}}};return Kr({ourProps:o,theirProps:s,slot:{},attrs:n,slots:t,name:"Hidden"})}}}),wV=Symbol("Context");var ar=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(ar||{});function nne(){return av()!==null}function av(){return ct(wV,null)}function XI(e){tr(wV,e)}var jn=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(jn||{});function rne(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let ec=[];rne(()=>{function e(t){t.target instanceof HTMLElement&&t.target!==document.body&&ec[0]!==t.target&&(ec.unshift(t.target),ec=ec.filter(n=>n!=null&&n.isConnected),ec.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function ine(e){throw new Error("Unexpected object: "+e)}var cs=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(cs||{});function sne(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),i=r??-1;switch(e.focus){case 0:{for(let s=0;s<n.length;++s)if(!t.resolveDisabled(n[s],s,n))return s;return r}case 1:{i===-1&&(i=n.length);for(let s=i-1;s>=0;--s)if(!t.resolveDisabled(n[s],s,n))return s;return r}case 2:{for(let s=i+1;s<n.length;++s)if(!t.resolveDisabled(n[s],s,n))return s;return r}case 3:{for(let s=n.length-1;s>=0;--s)if(!t.resolveDisabled(n[s],s,n))return s;return r}case 4:{for(let s=0;s<n.length;++s)if(t.resolveId(n[s],s,n)===e.id)return s;return r}case 5:return null;default:ine(e)}}function QI(e,t,n,r){sv.isServer||sn(i=>{e=e??window,e.addEventListener(t,n,r),i(()=>e.removeEventListener(t,n,r))})}var ds=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(ds||{});function JI(){let e=re(0);return mV("keydown",t=>{t.key==="Tab"&&(e.value=t.shiftKey?1:0)}),e}function xV(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.value){let r=Ae(n);r instanceof HTMLElement&&t.add(r)}return t}var EV=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(EV||{});let sh=Object.assign(Tn({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:re(new Set)}},inheritAttrs:!1,setup(e,{attrs:t,slots:n,expose:r}){let i=re(null);r({el:i,$el:i});let s=Ce(()=>vo(i)),o=re(!1);Jt(()=>o.value=!0),Mr(()=>o.value=!1),ane({ownerDocument:s},Ce(()=>o.value&&!!(e.features&16)));let a=lne({ownerDocument:s,container:i,initialFocus:Ce(()=>e.initialFocus)},Ce(()=>o.value&&!!(e.features&2)));une({ownerDocument:s,container:i,containers:e.containers,previousActiveElement:a},Ce(()=>o.value&&!!(e.features&8)));let l=JI();function u(p){let g=Ae(i);g&&(h=>h())(()=>{ei(l.value,{[ds.Forwards]:()=>{As(g,qr.First,{skipElements:[p.relatedTarget]})},[ds.Backwards]:()=>{As(g,qr.Last,{skipElements:[p.relatedTarget]})}})})}let c=re(!1);function d(p){p.key==="Tab"&&(c.value=!0,requestAnimationFrame(()=>{c.value=!1}))}function f(p){if(!o.value)return;let g=xV(e.containers);Ae(i)instanceof HTMLElement&&g.add(Ae(i));let h=p.relatedTarget;h instanceof HTMLElement&&h.dataset.headlessuiFocusGuard!=="true"&&(SV(g,h)||(c.value?As(Ae(i),ei(l.value,{[ds.Forwards]:()=>qr.Next,[ds.Backwards]:()=>qr.Previous})|qr.WrapAround,{relativeTo:p.target}):p.target instanceof HTMLElement&&Kl(p.target)))}return()=>{let p={},g={ref:i,onKeydown:d,onFocusout:f},{features:h,initialFocus:m,containers:v,...y}=e;return Yt(gn,[!!(h&4)&&Yt(Bf,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:u,features:Cc.Focusable}),Kr({ourProps:g,theirProps:{...t,...y},slot:p,attrs:t,slots:n,name:"FocusTrap"}),!!(h&4)&&Yt(Bf,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:u,features:Cc.Focusable})])}}}),{features:EV});function one(e){let t=re(ec.slice());return bt([e],([n],[r])=>{r===!0&&n===!1?GI(()=>{t.value.splice(0)}):r===!1&&n===!0&&(t.value=ec.slice())},{flush:"post"}),()=>{var n;return(n=t.value.find(r=>r!=null&&r.isConnected))!=null?n:null}}function ane({ownerDocument:e},t){let n=one(t);Jt(()=>{sn(()=>{var r,i;t.value||((r=e.value)==null?void 0:r.activeElement)===((i=e.value)==null?void 0:i.body)&&Kl(n())},{flush:"post"})}),Mr(()=>{t.value&&Kl(n())})}function lne({ownerDocument:e,container:t,initialFocus:n},r){let i=re(null),s=re(!1);return Jt(()=>s.value=!0),Mr(()=>s.value=!1),Jt(()=>{bt([t,n,r],(o,a)=>{if(o.every((u,c)=>(a==null?void 0:a[c])===u)||!r.value)return;let l=Ae(t);l&&GI(()=>{var u,c;if(!s.value)return;let d=Ae(n),f=(u=e.value)==null?void 0:u.activeElement;if(d){if(d===f){i.value=f;return}}else if(l.contains(f)){i.value=f;return}d?Kl(d):As(l,qr.First|qr.NoScroll)===zg.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),i.value=(c=e.value)==null?void 0:c.activeElement})},{immediate:!0,flush:"post"})}),i}function une({ownerDocument:e,container:t,containers:n,previousActiveElement:r},i){var s;QI((s=e.value)==null?void 0:s.defaultView,"focus",o=>{if(!i.value)return;let a=xV(n);Ae(t)instanceof HTMLElement&&a.add(Ae(t));let l=r.value;if(!l)return;let u=o.target;u&&u instanceof HTMLElement?SV(a,u)?(r.value=u,Kl(u)):(o.preventDefault(),o.stopPropagation(),Kl(l)):Kl(r.value)},!0)}function SV(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function cne(e){let t=Ho(e.getSnapshot());return Mr(e.subscribe(()=>{t.value=e.getSnapshot()})),t}function dne(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...s){let o=t[i].call(n,...s);o&&(n=o,r.forEach(a=>a()))}}}function fne(){let e;return{before({doc:t}){var n;let r=t.documentElement;e=((n=t.defaultView)!=null?n:window).innerWidth-r.clientWidth},after({doc:t,d:n}){let r=t.documentElement,i=r.clientWidth-r.offsetWidth,s=e-i;n.style(r,"paddingRight",`${s}px`)}}}function pne(){return gV()?{before({doc:e,d:t,meta:n}){function r(i){return n.containers.flatMap(s=>s()).some(s=>s.contains(i))}t.microTask(()=>{var i;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let a=iv();a.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>a.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,o=null;t.addEventListener(e,"click",a=>{if(a.target instanceof HTMLElement)try{let l=a.target.closest("a");if(!l)return;let{hash:u}=new URL(l.href),c=e.querySelector(u);c&&!r(c)&&(o=c)}catch{}},!0),t.addEventListener(e,"touchstart",a=>{if(a.target instanceof HTMLElement)if(r(a.target)){let l=a.target;for(;l.parentElement&&r(l.parentElement);)l=l.parentElement;t.style(l,"overscrollBehavior","contain")}else t.style(a.target,"touchAction","none")}),t.addEventListener(e,"touchmove",a=>{if(a.target instanceof HTMLElement){if(a.target.tagName==="INPUT")return;if(r(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),t.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;s!==l&&window.scrollTo(0,s),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function hne(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function gne(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let rc=dne(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:iv(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:gne(n)},i=[pne(),fne(),hne()];i.forEach(({before:s})=>s==null?void 0:s(r)),i.forEach(({after:s})=>s==null?void 0:s(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});rc.subscribe(()=>{let e=rc.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&rc.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&rc.dispatch("TEARDOWN",n)}});function mne(e,t,n){let r=cne(rc),i=Ce(()=>{let s=e.value?r.value.get(e.value):void 0;return s?s.count>0:!1});return bt([e,t],([s,o],[a],l)=>{if(!s||!o)return;rc.dispatch("PUSH",s,n);let u=!1;l(()=>{u||(rc.dispatch("POP",a??s,n),u=!0)})},{immediate:!0}),i}let cE=new Map,oh=new Map;function KM(e,t=re(!0)){sn(n=>{var r;if(!t.value)return;let i=Ae(e);if(!i)return;n(function(){var o;if(!i)return;let a=(o=oh.get(i))!=null?o:1;if(a===1?oh.delete(i):oh.set(i,a-1),a!==1)return;let l=cE.get(i);l&&(l["aria-hidden"]===null?i.removeAttribute("aria-hidden"):i.setAttribute("aria-hidden",l["aria-hidden"]),i.inert=l.inert,cE.delete(i))});let s=(r=oh.get(i))!=null?r:0;oh.set(i,s+1),s===0&&(cE.set(i,{"aria-hidden":i.getAttribute("aria-hidden"),inert:i.inert}),i.setAttribute("aria-hidden","true"),i.inert=!0)})}function $V({defaultContainers:e=[],portals:t,mainTreeNodeRef:n}={}){let r=re(null),i=vo(r);function s(){var o,a,l;let u=[];for(let c of e)c!==null&&(c instanceof HTMLElement?u.push(c):"value"in c&&c.value instanceof HTMLElement&&u.push(c.value));if(t!=null&&t.value)for(let c of t.value)u.push(c);for(let c of(o=i==null?void 0:i.querySelectorAll("html > *, body > *"))!=null?o:[])c!==document.body&&c!==document.head&&c instanceof HTMLElement&&c.id!=="headlessui-portal-root"&&(c.contains(Ae(r))||c.contains((l=(a=Ae(r))==null?void 0:a.getRootNode())==null?void 0:l.host)||u.some(d=>c.contains(d))||u.push(c));return u}return{resolveContainers:s,contains(o){return s().some(a=>a.contains(o))},mainTreeNodeRef:r,MainTreeNode(){return n!=null?null:Yt(Bf,{features:Cc.Hidden,ref:r})}}}let TV=Symbol("ForcePortalRootContext");function vne(){return ct(TV,!1)}let GM=Tn({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(e,{slots:t,attrs:n}){return tr(TV,e.force),()=>{let{force:r,...i}=e;return Kr({theirProps:i,ourProps:{},slot:{},slots:t,attrs:n,name:"ForcePortalRoot"})}}}),kV=Symbol("StackContext");var $$=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))($$||{});function yne(){return ct(kV,()=>{})}function _ne({type:e,enabled:t,element:n,onUpdate:r}){let i=yne();function s(...o){r==null||r(...o),i(...o)}Jt(()=>{bt(t,(o,a)=>{o?s(0,e,n):a===!0&&s(1,e,n)},{immediate:!0,flush:"sync"})}),Mr(()=>{t.value&&s(1,e,n)}),tr(kV,s)}let IV=Symbol("DescriptionContext");function bne(){let e=ct(IV,null);if(e===null)throw new Error("Missing parent");return e}function wne({slot:e=re({}),name:t="Description",props:n={}}={}){let r=re([]);function i(s){return r.value.push(s),()=>{let o=r.value.indexOf(s);o!==-1&&r.value.splice(o,1)}}return tr(IV,{register:i,slot:e,name:t,props:n}),Ce(()=>r.value.length>0?r.value.join(" "):void 0)}let lQe=Tn({name:"Description",props:{as:{type:[Object,String],default:"p"},id:{type:String,default:null}},setup(e,{attrs:t,slots:n}){var r;let i=(r=e.id)!=null?r:`headlessui-description-${ps()}`,s=bne();return Jt(()=>Mr(s.register(i))),()=>{let{name:o="Description",slot:a=re({}),props:l={}}=s,{...u}=e,c={...Object.entries(l).reduce((d,[f,p])=>Object.assign(d,{[f]:ve(p)}),{}),id:i};return Kr({ourProps:c,theirProps:u,slot:a.value,attrs:t,slots:n,name:o})}}});function xne(e){let t=vo(e);if(!t){if(e===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${e}`)}let n=t.getElementById("headlessui-portal-root");if(n)return n;let r=t.createElement("div");return r.setAttribute("id","headlessui-portal-root"),t.body.appendChild(r)}const T$=new WeakMap;function Ene(e){var t;return(t=T$.get(e))!=null?t:0}function YM(e,t){let n=t(Ene(e));return n<=0?T$.delete(e):T$.set(e,n),n}let Sne=Tn({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:t,attrs:n}){let r=re(null),i=Ce(()=>vo(r)),s=vne(),o=ct(AV,null),a=re(s===!0||o==null?xne(r.value):o.resolveTarget());a.value&&YM(a.value,f=>f+1);let l=re(!1);Jt(()=>{l.value=!0}),sn(()=>{s||o!=null&&(a.value=o.resolveTarget())});let u=ct(k$,null),c=!1,d=fr();return bt(r,()=>{if(c||!u)return;let f=Ae(r);f&&(Mr(u.register(f),d),c=!0)}),Mr(()=>{var f,p;let g=(f=i.value)==null?void 0:f.getElementById("headlessui-portal-root");!g||a.value!==g||YM(a.value,h=>h-1)||a.value.children.length>0||(p=a.value.parentElement)==null||p.removeChild(a.value)}),()=>{if(!l.value||a.value===null)return null;let f={ref:r,"data-headlessui-portal":""};return Yt(jU,{to:a.value},Kr({ourProps:f,theirProps:e,slot:{},attrs:n,slots:t,name:"Portal"}))}}}),k$=Symbol("PortalParentContext");function CV(){let e=ct(k$,null),t=re([]);function n(s){return t.value.push(s),e&&e.register(s),()=>r(s)}function r(s){let o=t.value.indexOf(s);o!==-1&&t.value.splice(o,1),e&&e.unregister(s)}let i={register:n,unregister:r,portals:t};return[t,Tn({name:"PortalWrapper",setup(s,{slots:o}){return tr(k$,i),()=>{var a;return(a=o.default)==null?void 0:a.call(o)}}})]}let AV=Symbol("PortalGroupContext"),$ne=Tn({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(e,{attrs:t,slots:n}){let r=Cs({resolveTarget(){return e.target}});return tr(AV,r),()=>{let{target:i,...s}=e;return Kr({theirProps:s,ourProps:{},slot:{},attrs:t,slots:n,name:"PortalGroup"})}}});var Tne=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Tne||{});let I$=Symbol("DialogContext");function ZI(e){let t=ct(I$,null);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ZI),n}return t}let wy="DC8F892D-2EBD-447C-A4C8-A03058436FF4",kne=Tn({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:wy},initialFocus:{type:Object,default:null},id:{type:String,default:null},role:{type:String,default:"dialog"}},emits:{close:e=>!0},setup(e,{emit:t,attrs:n,slots:r,expose:i}){var s,o;let a=(s=e.id)!=null?s:`headlessui-dialog-${ps()}`,l=re(!1);Jt(()=>{l.value=!0});let u=!1,c=Ce(()=>e.role==="dialog"||e.role==="alertdialog"?e.role:(u||(u=!0,console.warn(`Invalid role [${c}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")),d=re(0),f=av(),p=Ce(()=>e.open===wy&&f!==null?(f.value&ar.Open)===ar.Open:e.open),g=re(null),h=Ce(()=>vo(g));if(i({el:g,$el:g}),!(e.open!==wy||f!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof p.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${p.value===wy?void 0:e.open}`);let m=Ce(()=>l.value&&p.value?0:1),v=Ce(()=>m.value===0),y=Ce(()=>d.value>1),_=ct(I$,null)!==null,[b,x]=CV(),{resolveContainers:w,mainTreeNodeRef:$,MainTreeNode:E}=$V({portals:b,defaultContainers:[Ce(()=>{var Re;return(Re=le.panelRef.value)!=null?Re:g.value})]}),S=Ce(()=>y.value?"parent":"leaf"),T=Ce(()=>f!==null?(f.value&ar.Closing)===ar.Closing:!1),P=Ce(()=>_||T.value?!1:v.value),C=Ce(()=>{var Re,Xe,F;return(F=Array.from((Xe=(Re=h.value)==null?void 0:Re.querySelectorAll("body > *"))!=null?Xe:[]).find(H=>H.id==="headlessui-portal-root"?!1:H.contains(Ae($))&&H instanceof HTMLElement))!=null?F:null});KM(C,P);let B=Ce(()=>y.value?!0:v.value),V=Ce(()=>{var Re,Xe,F;return(F=Array.from((Xe=(Re=h.value)==null?void 0:Re.querySelectorAll("[data-headlessui-portal]"))!=null?Xe:[]).find(H=>H.contains(Ae($))&&H instanceof HTMLElement))!=null?F:null});KM(V,B),_ne({type:"Dialog",enabled:Ce(()=>m.value===0),element:g,onUpdate:(Re,Xe)=>{if(Xe==="Dialog")return ei(Re,{[$$.Add]:()=>d.value+=1,[$$.Remove]:()=>d.value-=1})}});let ce=wne({name:"DialogDescription",slot:Ce(()=>({open:p.value}))}),X=re(null),le={titleId:X,panelRef:re(null),dialogState:m,setTitleId(Re){X.value!==Re&&(X.value=Re)},close(){t("close",!1)}};tr(I$,le);let me=Ce(()=>!(!v.value||y.value));YI(w,(Re,Xe)=>{Re.preventDefault(),le.close(),Qn(()=>Xe==null?void 0:Xe.focus())},me);let Ie=Ce(()=>!(y.value||m.value!==0));QI((o=h.value)==null?void 0:o.defaultView,"keydown",Re=>{Ie.value&&(Re.defaultPrevented||Re.key===jn.Escape&&(Re.preventDefault(),Re.stopPropagation(),le.close()))});let Tt=Ce(()=>!(T.value||m.value!==0||_));return mne(h,Tt,Re=>{var Xe;return{containers:[...(Xe=Re.containers)!=null?Xe:[],w]}}),sn(Re=>{if(m.value!==0)return;let Xe=Ae(g);if(!Xe)return;let F=new ResizeObserver(H=>{for(let J of H){let Q=J.target.getBoundingClientRect();Q.x===0&&Q.y===0&&Q.width===0&&Q.height===0&&le.close()}});F.observe(Xe),Re(()=>F.disconnect())}),()=>{let{open:Re,initialFocus:Xe,...F}=e,H={...n,ref:g,id:a,role:c.value,"aria-modal":m.value===0?!0:void 0,"aria-labelledby":X.value,"aria-describedby":ce.value},J={open:m.value===0};return Yt(GM,{force:!0},()=>[Yt(Sne,()=>Yt($ne,{target:g.value},()=>Yt(GM,{force:!1},()=>Yt(sh,{initialFocus:Xe,containers:w,features:v.value?ei(S.value,{parent:sh.features.RestoreFocus,leaf:sh.features.All&~sh.features.FocusLock}):sh.features.None},()=>Yt(x,{},()=>Kr({ourProps:H,theirProps:{...F,...n},slot:J,attrs:n,slots:r,visible:m.value===0,features:au.RenderStrategy|au.Static,name:"Dialog"})))))),Yt(E)])}}}),Ine=Tn({name:"DialogPanel",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:null}},setup(e,{attrs:t,slots:n,expose:r}){var i;let s=(i=e.id)!=null?i:`headlessui-dialog-panel-${ps()}`,o=ZI("DialogPanel");r({el:o.panelRef,$el:o.panelRef});function a(l){l.stopPropagation()}return()=>{let{...l}=e,u={id:s,ref:o.panelRef,onClick:a};return Kr({ourProps:u,theirProps:l,slot:{open:o.dialogState.value===0},attrs:t,slots:n,name:"DialogPanel"})}}}),Cne=Tn({name:"DialogTitle",props:{as:{type:[Object,String],default:"h2"},id:{type:String,default:null}},setup(e,{attrs:t,slots:n}){var r;let i=(r=e.id)!=null?r:`headlessui-dialog-title-${ps()}`,s=ZI("DialogTitle");return Jt(()=>{s.setTitleId(i),Mr(()=>s.setTitleId(null))}),()=>{let{...o}=e;return Kr({ourProps:{id:i},theirProps:o,slot:{open:s.dialogState.value===0},attrs:t,slots:n,name:"DialogTitle"})}}}),XM=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function QM(e){var t,n;let r=(t=e.innerText)!=null?t:"",i=e.cloneNode(!0);if(!(i instanceof HTMLElement))return r;let s=!1;for(let a of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),s=!0;let o=s?(n=i.innerText)!=null?n:"":r;return XM.test(o)&&(o=o.replace(XM,"")),o}function Ane(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(i=>{let s=document.getElementById(i);if(s){let o=s.getAttribute("aria-label");return typeof o=="string"?o.trim():QM(s).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return QM(e).trim()}function One(e){let t=re(""),n=re("");return()=>{let r=Ae(e);if(!r)return"";let i=r.innerText;if(t.value===i)return n.value;let s=Ane(r).trim().toLowerCase();return t.value=i,n.value=s,s}}var Rne=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Rne||{}),Pne=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Pne||{});function Mne(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let OV=Symbol("MenuContext");function Qw(e){let t=ct(OV,null);if(t===null){let n=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Qw),n}return t}let Dne=Tn({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:t,attrs:n}){let r=re(1),i=re(null),s=re(null),o=re([]),a=re(""),l=re(null),u=re(1);function c(f=p=>p){let p=l.value!==null?o.value[l.value]:null,g=hV(f(o.value.slice()),m=>Ae(m.dataRef.domRef)),h=p?g.indexOf(p):null;return h===-1&&(h=null),{items:g,activeItemIndex:h}}let d={menuState:r,buttonRef:i,itemsRef:s,items:o,searchQuery:a,activeItemIndex:l,activationTrigger:u,closeMenu:()=>{r.value=1,l.value=null},openMenu:()=>r.value=0,goToItem(f,p,g){let h=c(),m=sne(f===cs.Specific?{focus:cs.Specific,id:p}:{focus:f},{resolveItems:()=>h.items,resolveActiveIndex:()=>h.activeItemIndex,resolveId:v=>v.id,resolveDisabled:v=>v.dataRef.disabled});a.value="",l.value=m,u.value=g??1,o.value=h.items},search(f){let p=a.value!==""?0:1;a.value+=f.toLowerCase();let g=(l.value!==null?o.value.slice(l.value+p).concat(o.value.slice(0,l.value+p)):o.value).find(m=>m.dataRef.textValue.startsWith(a.value)&&!m.dataRef.disabled),h=g?o.value.indexOf(g):-1;h===-1||h===l.value||(l.value=h,u.value=1)},clearSearch(){a.value=""},registerItem(f,p){let g=c(h=>[...h,{id:f,dataRef:p}]);o.value=g.items,l.value=g.activeItemIndex,u.value=1},unregisterItem(f){let p=c(g=>{let h=g.findIndex(m=>m.id===f);return h!==-1&&g.splice(h,1),g});o.value=p.items,l.value=p.activeItemIndex,u.value=1}};return YI([i,s],(f,p)=>{var g;d.closeMenu(),Xw(p,Yw.Loose)||(f.preventDefault(),(g=Ae(i))==null||g.focus())},Ce(()=>r.value===0)),tr(OV,d),XI(Ce(()=>ei(r.value,{0:ar.Open,1:ar.Closed}))),()=>{let f={open:r.value===0,close:d.closeMenu};return Kr({ourProps:{},theirProps:e,slot:f,slots:t,attrs:n,name:"Menu"})}}}),Nne=Tn({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:t,slots:n,expose:r}){var i;let s=(i=e.id)!=null?i:`headlessui-menu-button-${ps()}`,o=Qw("MenuButton");r({el:o.buttonRef,$el:o.buttonRef});function a(d){switch(d.key){case jn.Space:case jn.Enter:case jn.ArrowDown:d.preventDefault(),d.stopPropagation(),o.openMenu(),Qn(()=>{var f;(f=Ae(o.itemsRef))==null||f.focus({preventScroll:!0}),o.goToItem(cs.First)});break;case jn.ArrowUp:d.preventDefault(),d.stopPropagation(),o.openMenu(),Qn(()=>{var f;(f=Ae(o.itemsRef))==null||f.focus({preventScroll:!0}),o.goToItem(cs.Last)});break}}function l(d){switch(d.key){case jn.Space:d.preventDefault();break}}function u(d){e.disabled||(o.menuState.value===0?(o.closeMenu(),Qn(()=>{var f;return(f=Ae(o.buttonRef))==null?void 0:f.focus({preventScroll:!0})})):(d.preventDefault(),o.openMenu(),Mne(()=>{var f;return(f=Ae(o.itemsRef))==null?void 0:f.focus({preventScroll:!0})})))}let c=vV(Ce(()=>({as:e.as,type:t.type})),o.buttonRef);return()=>{var d;let f={open:o.menuState.value===0},{...p}=e,g={ref:o.buttonRef,id:s,type:c.value,"aria-haspopup":"menu","aria-controls":(d=Ae(o.itemsRef))==null?void 0:d.id,"aria-expanded":o.menuState.value===0,onKeydown:a,onKeyup:l,onClick:u};return Kr({ourProps:g,theirProps:p,slot:f,attrs:t,slots:n,name:"MenuButton"})}}}),Lne=Tn({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:t,slots:n,expose:r}){var i;let s=(i=e.id)!=null?i:`headlessui-menu-items-${ps()}`,o=Qw("MenuItems"),a=re(null);r({el:o.itemsRef,$el:o.itemsRef}),ene({container:Ce(()=>Ae(o.itemsRef)),enabled:Ce(()=>o.menuState.value===0),accept(f){return f.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:f.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(f){f.setAttribute("role","none")}});function l(f){var p;switch(a.value&&clearTimeout(a.value),f.key){case jn.Space:if(o.searchQuery.value!=="")return f.preventDefault(),f.stopPropagation(),o.search(f.key);case jn.Enter:if(f.preventDefault(),f.stopPropagation(),o.activeItemIndex.value!==null){let g=o.items.value[o.activeItemIndex.value];(p=Ae(g.dataRef.domRef))==null||p.click()}o.closeMenu(),pV(Ae(o.buttonRef));break;case jn.ArrowDown:return f.preventDefault(),f.stopPropagation(),o.goToItem(cs.Next);case jn.ArrowUp:return f.preventDefault(),f.stopPropagation(),o.goToItem(cs.Previous);case jn.Home:case jn.PageUp:return f.preventDefault(),f.stopPropagation(),o.goToItem(cs.First);case jn.End:case jn.PageDown:return f.preventDefault(),f.stopPropagation(),o.goToItem(cs.Last);case jn.Escape:f.preventDefault(),f.stopPropagation(),o.closeMenu(),Qn(()=>{var g;return(g=Ae(o.buttonRef))==null?void 0:g.focus({preventScroll:!0})});break;case jn.Tab:f.preventDefault(),f.stopPropagation(),o.closeMenu(),Qn(()=>Xte(Ae(o.buttonRef),f.shiftKey?qr.Previous:qr.Next));break;default:f.key.length===1&&(o.search(f.key),a.value=setTimeout(()=>o.clearSearch(),350));break}}function u(f){switch(f.key){case jn.Space:f.preventDefault();break}}let c=av(),d=Ce(()=>c!==null?(c.value&ar.Open)===ar.Open:o.menuState.value===0);return()=>{var f,p;let g={open:o.menuState.value===0},{...h}=e,m={"aria-activedescendant":o.activeItemIndex.value===null||(f=o.items.value[o.activeItemIndex.value])==null?void 0:f.id,"aria-labelledby":(p=Ae(o.buttonRef))==null?void 0:p.id,id:s,onKeydown:l,onKeyup:u,role:"menu",tabIndex:0,ref:o.itemsRef};return Kr({ourProps:m,theirProps:h,slot:g,attrs:t,slots:n,features:au.RenderStrategy|au.Static,visible:d.value,name:"MenuItems"})}}}),dE=Tn({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:t,attrs:n,expose:r}){var i;let s=(i=e.id)!=null?i:`headlessui-menu-item-${ps()}`,o=Qw("MenuItem"),a=re(null);r({el:a,$el:a});let l=Ce(()=>o.activeItemIndex.value!==null?o.items.value[o.activeItemIndex.value].id===s:!1),u=One(a),c=Ce(()=>({disabled:e.disabled,get textValue(){return u()},domRef:a}));Jt(()=>o.registerItem(s,c)),Mr(()=>o.unregisterItem(s)),sn(()=>{o.menuState.value===0&&l.value&&o.activationTrigger.value!==0&&Qn(()=>{var v,y;return(y=(v=Ae(a))==null?void 0:v.scrollIntoView)==null?void 0:y.call(v,{block:"nearest"})})});function d(v){if(e.disabled)return v.preventDefault();o.closeMenu(),pV(Ae(o.buttonRef))}function f(){if(e.disabled)return o.goToItem(cs.Nothing);o.goToItem(cs.Specific,s)}let p=Zte();function g(v){p.update(v)}function h(v){p.wasMoved(v)&&(e.disabled||l.value||o.goToItem(cs.Specific,s,0))}function m(v){p.wasMoved(v)&&(e.disabled||l.value&&o.goToItem(cs.Nothing))}return()=>{let{disabled:v,...y}=e,_={active:l.value,disabled:v,close:o.closeMenu};return Kr({ourProps:{id:s,ref:a,role:"menuitem",tabIndex:v===!0?void 0:-1,"aria-disabled":v===!0?!0:void 0,onClick:d,onFocus:f,onPointerenter:g,onMouseenter:g,onPointermove:h,onMousemove:h,onPointerleave:m,onMouseleave:m},theirProps:{...n,...y},slot:_,attrs:n,slots:t,name:"MenuItem"})}}});var Fne=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Fne||{});let RV=Symbol("PopoverContext");function eC(e){let t=ct(RV,null);if(t===null){let n=new Error(`<${e} /> is missing a parent <${DV.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,eC),n}return t}let Bne=Symbol("PopoverGroupContext");function PV(){return ct(Bne,null)}let MV=Symbol("PopoverPanelContext");function Une(){return ct(MV,null)}let DV=Tn({name:"Popover",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:t,attrs:n,expose:r}){var i;let s=re(null);r({el:s,$el:s});let o=re(1),a=re(null),l=re(null),u=re(null),c=re(null),d=Ce(()=>vo(s)),f=Ce(()=>{var x,w;if(!Ae(a)||!Ae(c))return!1;for(let B of document.querySelectorAll("body > *"))if(Number(B==null?void 0:B.contains(Ae(a)))^Number(B==null?void 0:B.contains(Ae(c))))return!0;let $=ov(),E=$.indexOf(Ae(a)),S=(E+$.length-1)%$.length,T=(E+1)%$.length,P=$[S],C=$[T];return!((x=Ae(c))!=null&&x.contains(P))&&!((w=Ae(c))!=null&&w.contains(C))}),p={popoverState:o,buttonId:re(null),panelId:re(null),panel:c,button:a,isPortalled:f,beforePanelSentinel:l,afterPanelSentinel:u,togglePopover(){o.value=ei(o.value,{0:1,1:0})},closePopover(){o.value!==1&&(o.value=1)},close(x){p.closePopover();let w=(()=>x?x instanceof HTMLElement?x:x.value instanceof HTMLElement?Ae(x):Ae(p.button):Ae(p.button))();w==null||w.focus()}};tr(RV,p),XI(Ce(()=>ei(o.value,{0:ar.Open,1:ar.Closed})));let g={buttonId:p.buttonId,panelId:p.panelId,close(){p.closePopover()}},h=PV(),m=h==null?void 0:h.registerPopover,[v,y]=CV(),_=$V({mainTreeNodeRef:h==null?void 0:h.mainTreeNodeRef,portals:v,defaultContainers:[a,c]});function b(){var x,w,$,E;return(E=h==null?void 0:h.isFocusWithinPopoverGroup())!=null?E:((x=d.value)==null?void 0:x.activeElement)&&(((w=Ae(a))==null?void 0:w.contains(d.value.activeElement))||(($=Ae(c))==null?void 0:$.contains(d.value.activeElement)))}return sn(()=>m==null?void 0:m(g)),QI((i=d.value)==null?void 0:i.defaultView,"focus",x=>{var w,$;x.target!==window&&x.target instanceof HTMLElement&&o.value===0&&(b()||a&&c&&(_.contains(x.target)||(w=Ae(p.beforePanelSentinel))!=null&&w.contains(x.target)||($=Ae(p.afterPanelSentinel))!=null&&$.contains(x.target)||p.closePopover()))},!0),YI(_.resolveContainers,(x,w)=>{var $;p.closePopover(),Xw(w,Yw.Loose)||(x.preventDefault(),($=Ae(a))==null||$.focus())},Ce(()=>o.value===0)),()=>{let x={open:o.value===0,close:p.close};return Yt(gn,[Yt(y,{},()=>Kr({theirProps:{...e,...n},ourProps:{ref:s},slot:x,slots:t,attrs:n,name:"Popover"})),Yt(_.MainTreeNode)])}}}),ah=Tn({name:"PopoverButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},inheritAttrs:!1,setup(e,{attrs:t,slots:n,expose:r}){var i;let s=(i=e.id)!=null?i:`headlessui-popover-button-${ps()}`,o=eC("PopoverButton"),a=Ce(()=>vo(o.button));r({el:o.button,$el:o.button}),Jt(()=>{o.buttonId.value=s}),Mr(()=>{o.buttonId.value=null});let l=PV(),u=l==null?void 0:l.closeOthers,c=Une(),d=Ce(()=>c===null?!1:c.value===o.panelId.value),f=re(null),p=`headlessui-focus-sentinel-${ps()}`;d.value||sn(()=>{o.button.value=Ae(f)});let g=vV(Ce(()=>({as:e.as,type:t.type})),f);function h(x){var w,$,E,S,T;if(d.value){if(o.popoverState.value===1)return;switch(x.key){case jn.Space:case jn.Enter:x.preventDefault(),($=(w=x.target).click)==null||$.call(w),o.closePopover(),(E=Ae(o.button))==null||E.focus();break}}else switch(x.key){case jn.Space:case jn.Enter:x.preventDefault(),x.stopPropagation(),o.popoverState.value===1&&(u==null||u(o.buttonId.value)),o.togglePopover();break;case jn.Escape:if(o.popoverState.value!==0)return u==null?void 0:u(o.buttonId.value);if(!Ae(o.button)||(S=a.value)!=null&&S.activeElement&&!((T=Ae(o.button))!=null&&T.contains(a.value.activeElement)))return;x.preventDefault(),x.stopPropagation(),o.closePopover();break}}function m(x){d.value||x.key===jn.Space&&x.preventDefault()}function v(x){var w,$;e.disabled||(d.value?(o.closePopover(),(w=Ae(o.button))==null||w.focus()):(x.preventDefault(),x.stopPropagation(),o.popoverState.value===1&&(u==null||u(o.buttonId.value)),o.togglePopover(),($=Ae(o.button))==null||$.focus()))}function y(x){x.preventDefault(),x.stopPropagation()}let _=JI();function b(){let x=Ae(o.panel);if(!x)return;function w(){ei(_.value,{[ds.Forwards]:()=>As(x,qr.First),[ds.Backwards]:()=>As(x,qr.Last)})===zg.Error&&As(ov().filter($=>$.dataset.headlessuiFocusGuard!=="true"),ei(_.value,{[ds.Forwards]:qr.Next,[ds.Backwards]:qr.Previous}),{relativeTo:Ae(o.button)})}w()}return()=>{let x=o.popoverState.value===0,w={open:x},{...$}=e,E=d.value?{ref:f,type:g.value,onKeydown:h,onClick:v}:{ref:f,id:s,type:g.value,"aria-expanded":o.popoverState.value===0,"aria-controls":Ae(o.panel)?o.panelId.value:void 0,disabled:e.disabled?!0:void 0,onKeydown:h,onKeyup:m,onClick:v,onMousedown:y};return Yt(gn,[Kr({ourProps:E,theirProps:{...t,...$},slot:w,attrs:t,slots:n,name:"PopoverButton"}),x&&!d.value&&o.isPortalled.value&&Yt(Bf,{id:p,features:Cc.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:b})])}}}),Vne=Tn({name:"PopoverPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},focus:{type:Boolean,default:!1},id:{type:String,default:null}},inheritAttrs:!1,setup(e,{attrs:t,slots:n,expose:r}){var i;let s=(i=e.id)!=null?i:`headlessui-popover-panel-${ps()}`,{focus:o}=e,a=eC("PopoverPanel"),l=Ce(()=>vo(a.panel)),u=`headlessui-focus-sentinel-before-${ps()}`,c=`headlessui-focus-sentinel-after-${ps()}`;r({el:a.panel,$el:a.panel}),Jt(()=>{a.panelId.value=s}),Mr(()=>{a.panelId.value=null}),tr(MV,a.panelId),sn(()=>{var y,_;if(!o||a.popoverState.value!==0||!a.panel)return;let b=(y=l.value)==null?void 0:y.activeElement;(_=Ae(a.panel))!=null&&_.contains(b)||As(Ae(a.panel),qr.First)});let d=av(),f=Ce(()=>d!==null?(d.value&ar.Open)===ar.Open:a.popoverState.value===0);function p(y){var _,b;switch(y.key){case jn.Escape:if(a.popoverState.value!==0||!Ae(a.panel)||l.value&&!((_=Ae(a.panel))!=null&&_.contains(l.value.activeElement)))return;y.preventDefault(),y.stopPropagation(),a.closePopover(),(b=Ae(a.button))==null||b.focus();break}}function g(y){var _,b,x,w,$;let E=y.relatedTarget;E&&Ae(a.panel)&&((_=Ae(a.panel))!=null&&_.contains(E)||(a.closePopover(),((x=(b=Ae(a.beforePanelSentinel))==null?void 0:b.contains)!=null&&x.call(b,E)||($=(w=Ae(a.afterPanelSentinel))==null?void 0:w.contains)!=null&&$.call(w,E))&&E.focus({preventScroll:!0})))}let h=JI();function m(){let y=Ae(a.panel);if(!y)return;function _(){ei(h.value,{[ds.Forwards]:()=>{var b;As(y,qr.First)===zg.Error&&((b=Ae(a.afterPanelSentinel))==null||b.focus())},[ds.Backwards]:()=>{var b;(b=Ae(a.button))==null||b.focus({preventScroll:!0})}})}_()}function v(){let y=Ae(a.panel);if(!y)return;function _(){ei(h.value,{[ds.Forwards]:()=>{let b=Ae(a.button),x=Ae(a.panel);if(!b)return;let w=ov(),$=w.indexOf(b),E=w.slice(0,$+1),S=[...w.slice($+1),...E];for(let T of S.slice())if(T.dataset.headlessuiFocusGuard==="true"||x!=null&&x.contains(T)){let P=S.indexOf(T);P!==-1&&S.splice(P,1)}As(S,qr.First,{sorted:!1})},[ds.Backwards]:()=>{var b;As(y,qr.Previous)===zg.Error&&((b=Ae(a.button))==null||b.focus())}})}_()}return()=>{let y={open:a.popoverState.value===0,close:a.close},{focus:_,...b}=e,x={ref:a.panel,id:s,onKeydown:p,onFocusout:o&&a.popoverState.value===0?g:void 0,tabIndex:-1};return Kr({ourProps:x,theirProps:{...t,...b},attrs:t,slot:y,slots:{...n,default:(...w)=>{var $;return[Yt(gn,[f.value&&a.isPortalled.value&&Yt(Bf,{id:u,ref:a.beforePanelSentinel,features:Cc.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:m}),($=n.default)==null?void 0:$.call(n,...w),f.value&&a.isPortalled.value&&Yt(Bf,{id:c,ref:a.afterPanelSentinel,features:Cc.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:v})])]}},features:au.RenderStrategy|au.Static,visible:f.value,name:"PopoverPanel"})}}});function jne(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function fE(e,...t){e&&t.length>0&&e.classList.add(...t)}function xy(e,...t){e&&t.length>0&&e.classList.remove(...t)}var C$=(e=>(e.Finished="finished",e.Cancelled="cancelled",e))(C$||{});function Hne(e,t){let n=iv();if(!e)return n.dispose;let{transitionDuration:r,transitionDelay:i}=getComputedStyle(e),[s,o]=[r,i].map(a=>{let[l=0]=a.split(",").filter(Boolean).map(u=>u.includes("ms")?parseFloat(u):parseFloat(u)*1e3).sort((u,c)=>c-u);return l});return s!==0?n.setTimeout(()=>t("finished"),s+o):t("finished"),n.add(()=>t("cancelled")),n.dispose}function JM(e,t,n,r,i,s){let o=iv(),a=s!==void 0?jne(s):()=>{};return xy(e,...i),fE(e,...t,...n),o.nextFrame(()=>{xy(e,...n),fE(e,...r),o.add(Hne(e,l=>(xy(e,...r,...t),fE(e,...i),a(l))))}),o.add(()=>xy(e,...t,...n,...r,...i)),o.add(()=>a("cancelled")),o.dispose}function Ku(e=""){return e.split(/\s+/).filter(t=>t.length>1)}let tC=Symbol("TransitionContext");var Wne=(e=>(e.Visible="visible",e.Hidden="hidden",e))(Wne||{});function qne(){return ct(tC,null)!==null}function zne(){let e=ct(tC,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}function Kne(){let e=ct(nC,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}let nC=Symbol("NestingContext");function Jw(e){return"children"in e?Jw(e.children):e.value.filter(({state:t})=>t==="visible").length>0}function NV(e){let t=re([]),n=re(!1);Jt(()=>n.value=!0),Mr(()=>n.value=!1);function r(s,o=Bl.Hidden){let a=t.value.findIndex(({id:l})=>l===s);a!==-1&&(ei(o,{[Bl.Unmount](){t.value.splice(a,1)},[Bl.Hidden](){t.value[a].state="hidden"}}),!Jw(t)&&n.value&&(e==null||e()))}function i(s){let o=t.value.find(({id:a})=>a===s);return o?o.state!=="visible"&&(o.state="visible"):t.value.push({id:s,state:"visible"}),()=>r(s,Bl.Unmount)}return{children:t,register:i,unregister:r}}let LV=au.RenderStrategy,FV=Tn({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:n,slots:r,expose:i}){let s=re(0);function o(){s.value|=ar.Opening,t("beforeEnter")}function a(){s.value&=~ar.Opening,t("afterEnter")}function l(){s.value|=ar.Closing,t("beforeLeave")}function u(){s.value&=~ar.Closing,t("afterLeave")}if(!qne()&&nne())return()=>Yt(BV,{...e,onBeforeEnter:o,onAfterEnter:a,onBeforeLeave:l,onAfterLeave:u},r);let c=re(null),d=Ce(()=>e.unmount?Bl.Unmount:Bl.Hidden);i({el:c,$el:c});let{show:f,appear:p}=zne(),{register:g,unregister:h}=Kne(),m=re(f.value?"visible":"hidden"),v={value:!0},y=ps(),_={value:!1},b=NV(()=>{!_.value&&m.value!=="hidden"&&(m.value="hidden",h(y),u())});Jt(()=>{let B=g(y);Mr(B)}),sn(()=>{if(d.value===Bl.Hidden&&y){if(f.value&&m.value!=="visible"){m.value="visible";return}ei(m.value,{hidden:()=>h(y),visible:()=>g(y)})}});let x=Ku(e.enter),w=Ku(e.enterFrom),$=Ku(e.enterTo),E=Ku(e.entered),S=Ku(e.leave),T=Ku(e.leaveFrom),P=Ku(e.leaveTo);Jt(()=>{sn(()=>{if(m.value==="visible"){let B=Ae(c);if(B instanceof Comment&&B.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function C(B){let V=v.value&&!p.value,ce=Ae(c);!ce||!(ce instanceof HTMLElement)||V||(_.value=!0,f.value&&o(),f.value||l(),B(f.value?JM(ce,x,w,$,E,X=>{_.value=!1,X===C$.Finished&&a()}):JM(ce,S,T,P,E,X=>{_.value=!1,X===C$.Finished&&(Jw(b)||(m.value="hidden",h(y),u()))})))}return Jt(()=>{bt([f],(B,V,ce)=>{C(ce),v.value=!1},{immediate:!0})}),tr(nC,b),XI(Ce(()=>ei(m.value,{visible:ar.Open,hidden:ar.Closed})|s.value)),()=>{let{appear:B,show:V,enter:ce,enterFrom:X,enterTo:le,entered:me,leave:Ie,leaveFrom:Tt,leaveTo:Re,...Xe}=e,F={ref:c},H={...Xe,...p.value&&f.value&&sv.isServer?{class:Pr([n.class,Xe.class,...x,...w])}:{}};return Kr({theirProps:H,ourProps:F,slot:{},slots:r,attrs:n,features:LV,visible:m.value==="visible",name:"TransitionChild"})}}}),Gne=FV,BV=Tn({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:n,slots:r}){let i=av(),s=Ce(()=>e.show===null&&i!==null?(i.value&ar.Open)===ar.Open:e.show);sn(()=>{if(![!0,!1].includes(s.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let o=re(s.value?"visible":"hidden"),a=NV(()=>{o.value="hidden"}),l=re(!0),u={show:s,appear:Ce(()=>e.appear||!l.value)};return Jt(()=>{sn(()=>{l.value=!1,s.value?o.value="visible":Jw(a)||(o.value="hidden")})}),tr(nC,a),tr(tC,u),()=>{let c=bV(e,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),d={unmount:e.unmount};return Kr({ourProps:{...d,as:"template"},theirProps:{},slot:{},slots:{...r,default:()=>[Yt(Gne,{onBeforeEnter:()=>t("beforeEnter"),onAfterEnter:()=>t("afterEnter"),onBeforeLeave:()=>t("beforeLeave"),onAfterLeave:()=>t("afterLeave"),...n,...d,...c},r.default)]},attrs:{},features:LV,visible:o.value==="visible",name:"Transition"})}}});var UV={exports:{}};const Yne=Fte(Tte);(function(e,t){(function(r,i){e.exports=i(Yne)})(us,n=>(()=>{var r={113:(E,S)=>{Object.defineProperty(S,"__esModule",{value:!0}),S.default=(T,P)=>{const C=T.__vccOpts||T;for(const[B,V]of P)C[B]=V;return C}},594:E=>{E.exports=n}},i={};function s(E){var S=i[E];if(S!==void 0)return S.exports;var T=i[E]={exports:{}};return r[E](T,T.exports,s),T.exports}s.d=(E,S)=>{for(var T in S)s.o(S,T)&&!s.o(E,T)&&Object.defineProperty(E,T,{enumerable:!0,get:S[T]})},s.o=(E,S)=>Object.prototype.hasOwnProperty.call(E,S),s.r=E=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(E,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(E,"__esModule",{value:!0})};var o={};s.r(o),s.d(o,{ToastComponent:()=>b,ToastPlugin:()=>w,ToastPositions:()=>p,default:()=>$,useToast:()=>x});var a=s(594);const l=["innerHTML"];function u(E,S,T,P,C,B){return(0,a.openBlock)(),(0,a.createBlock)(a.Transition,{"enter-active-class":E.transition.enter,"leave-active-class":E.transition.leave},{default:(0,a.withCtx)(()=>[(0,a.withDirectives)((0,a.createElementVNode)("div",{ref:"root",role:"alert",class:(0,a.normalizeClass)(["v-toast__item",[`v-toast__item--${E.type}`,`v-toast__item--${E.position}`]]),onMouseover:S[0]||(S[0]=V=>E.toggleTimer(!0)),onMouseleave:S[1]||(S[1]=V=>E.toggleTimer(!1)),onClick:S[2]||(S[2]=function(){return E.whenClicked&&E.whenClicked(...arguments)})},[S[3]||(S[3]=(0,a.createElementVNode)("div",{class:"v-toast__icon"},null,-1)),(0,a.createElementVNode)("p",{class:"v-toast__text",innerHTML:E.message},null,8,l)],34),[[a.vShow,E.isActive]])]),_:1},8,["enter-active-class","leave-active-class"])}function c(E){var S;typeof E.remove<"u"?E.remove():(S=E.parentNode)==null||S.removeChild(E)}function d(E,S,T){let P=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const C=(0,a.h)(E,S,P),B=document.createElement("div");return B.classList.add("v-toast--pending"),T.appendChild(B),(0,a.render)(C,B),C.component}class f{constructor(S,T){this.startedAt=Date.now(),this.callback=S,this.delay=T,this.timer=setTimeout(S,T)}pause(){this.stop(),this.delay-=Date.now()-this.startedAt}resume(){this.stop(),this.startedAt=Date.now(),this.timer=setTimeout(this.callback,this.delay)}stop(){clearTimeout(this.timer)}}const p=Object.freeze({TOP_RIGHT:"top-right",TOP:"top",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",BOTTOM:"bottom",BOTTOM_LEFT:"bottom-left"});function g(E){return{all:E=E||new Map,on:function(S,T){var P=E.get(S);P?P.push(T):E.set(S,[T])},off:function(S,T){var P=E.get(S);P&&(T?P.splice(P.indexOf(T)>>>0,1):E.set(S,[]))},emit:function(S,T){var P=E.get(S);P&&P.slice().map(function(C){C(T)}),(P=E.get("*"))&&P.slice().map(function(C){C(S,T)})}}}const m=g(),v=(0,a.defineComponent)({name:"Toast",props:{message:{type:String,required:!0},type:{type:String,default:"success"},position:{type:String,default:p.BOTTOM_RIGHT,validator(E){return Object.values(p).includes(E)}},duration:{type:Number,default:3e3},dismissible:{type:Boolean,default:!0},onDismiss:{type:Function,default:()=>{}},onClick:{type:Function,default:()=>{}},queue:Boolean,pauseOnHover:{type:Boolean,default:!0}},data(){return{isActive:!1,parentTop:null,parentBottom:null,isHovered:!1}},beforeMount(){this.setupContainer()},mounted(){this.showNotice(),m.on("toast-clear",this.dismiss)},methods:{setupContainer(){if(this.parentTop=document.querySelector(".v-toast.v-toast--top"),this.parentBottom=document.querySelector(".v-toast.v-toast--bottom"),this.parentTop&&this.parentBottom)return;this.parentTop||(this.parentTop=document.createElement("div"),this.parentTop.className="v-toast v-toast--top"),this.parentBottom||(this.parentBottom=document.createElement("div"),this.parentBottom.className="v-toast v-toast--bottom");const E=document.body;E.appendChild(this.parentTop),E.appendChild(this.parentBottom)},shouldQueue(){return this.queue?this.parentTop.childElementCount>0||this.parentBottom.childElementCount>0:!1},dismiss(){this.timer&&this.timer.stop(),clearTimeout(this.queueTimer),this.isActive=!1,setTimeout(()=>{this.onDismiss.apply(null,arguments);const E=this.$refs.root;(0,a.render)(null,E),c(E)},150)},showNotice(){if(this.shouldQueue()){this.queueTimer=setTimeout(this.showNotice,250);return}const E=this.$refs.root.parentElement;this.correctParent.insertAdjacentElement("afterbegin",this.$refs.root),c(E),this.isActive=!0,this.duration&&(this.timer=new f(this.dismiss,this.duration))},whenClicked(){this.dismissible&&(this.onClick.apply(null,arguments),this.dismiss())},toggleTimer(E){!this.pauseOnHover||!this.timer||(E?this.timer.pause():this.timer.resume())}},computed:{correctParent(){switch(this.position){case p.TOP:case p.TOP_RIGHT:case p.TOP_LEFT:return this.parentTop;case p.BOTTOM:case p.BOTTOM_RIGHT:case p.BOTTOM_LEFT:return this.parentBottom}},transition(){switch(this.position){case p.TOP:case p.TOP_RIGHT:case p.TOP_LEFT:return{enter:"v-toast--fade-in-down",leave:"v-toast--fade-out"};case p.BOTTOM:case p.BOTTOM_RIGHT:case p.BOTTOM_LEFT:return{enter:"v-toast--fade-in-up",leave:"v-toast--fade-out"}}}},beforeUnmount(){m.off("toast-clear",this.dismiss)}});var y=s(113);const b=(0,y.default)(v,[["render",u]]),x=function(){let E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{open(S){let T=null;typeof S=="string"&&(T=S);const C=Object.assign({},{message:T},E,S);return{dismiss:d(b,C,document.body).ctx.dismiss}},clear(){m.emit("toast-clear")},success(S){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:S,type:"success"},T))},error(S){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:S,type:"error"},T))},info(S){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:S,type:"info"},T))},warning(S){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:S,type:"warning"},T))},default(S){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:S,type:"default"},T))}}},w={install:function(E){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},T=x(S);E.config.globalProperties.$toast=T,E.provide("$toast",T)}},$=w;return o})())})(UV);var VV=UV.exports;const Xne=KI(VV),Qne="production",ZM=Qne==="qa",uQe="mixo.io",Jne="https://app.mixo.io",Zne="mixo-admin";typeof window<"u"&&(window==null||window.localStorage.getItem("mixo-admin"));const rC={delay:2e3,position:"top"},ere=({app:e})=>{e.use(Xne,rC)},tre=Object.freeze(Object.defineProperty({__proto__:null,defaultToastOptions:rC,install:ere},Symbol.toStringTag,{value:"Module"})),nre="modulepreload",rre=function(e){return"/"+e},eD={},qt=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=rre(s),s in eD)return;eD[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let c=i.length-1;c>=0;c--){const d=i[c];if(d.href===s&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":nre,o||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),o)return new Promise((c,d)=>{u.addEventListener("load",c),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var ire=Object.defineProperty,sre=Object.defineProperties,ore=Object.getOwnPropertyDescriptors,C0=Object.getOwnPropertySymbols,jV=Object.prototype.hasOwnProperty,HV=Object.prototype.propertyIsEnumerable,A$=(e,t,n)=>t in e?ire(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qi=(e,t)=>{for(var n in t||(t={}))jV.call(t,n)&&A$(e,n,t[n]);if(C0)for(var n of C0(t))HV.call(t,n)&&A$(e,n,t[n]);return e},Oo=(e,t)=>sre(e,ore(t)),WV=(e,t)=>{var n={};for(var r in e)jV.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&C0)for(var r of C0(e))t.indexOf(r)<0&&HV.call(e,r)&&(n[r]=e[r]);return n},wn=(e,t,n)=>(A$(e,typeof t!="symbol"?t+"":t,n),n),pf=(e,t,n)=>new Promise((r,i)=>{var s=l=>{try{a(n.next(l))}catch(u){i(u)}},o=l=>{try{a(n.throw(l))}catch(u){i(u)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o);a((n=n.apply(e,t)).next())});const are=({apiKey:e})=>{(function(t,n){var r=t.amplitude||{_q:[],_iq:{}},i=n.createElement("script");i.type="text/javascript",i.integrity="sha384-+EO59vL/X7v6VE2s6/F4HxfHlK0nDUVWKVg8K9oUlvffAeeaShVBmbORTC2D3UF+",i.crossOrigin="anonymous",i.async=!0,i.src="https://cdn.amplitude.com/libs/amplitude-8.17.0-min.gz.js",i.onload=function(){t.amplitude.runQueuedFunctions||console.log("[Amplitude] Error: could not load SDK"),amplitude.getInstance().init(e)};var s=n.getElementsByTagName("script")[0];s.parentNode.insertBefore(i,s);function o(h,m){h.prototype[m]=function(){return this._q.push([m].concat(Array.prototype.slice.call(arguments,0))),this}}for(var a=function(){return this._q=[],this},l=["add","append","clearAll","prepend","set","setOnce","unset","preInsert","postInsert","remove"],u=0;u<l.length;u++)o(a,l[u]);r.Identify=a;for(var c=function(){return this._q=[],this},d=["setProductId","setQuantity","setPrice","setRevenueType","setEventProperties"],f=0;f<d.length;f++)o(c,d[f]);r.Revenue=c;var p=["init","logEvent","logRevenue","setUserId","setUserProperties","setOptOut","setVersionName","setDomain","setDeviceId","enableTracking","setGlobalUserProperties","identify","clearUserProperties","setGroup","logRevenueV2","regenerateDeviceId","groupIdentify","onInit","logEventWithTimestamp","logEventWithGroups","setSessionId","resetSessionId"];function g(h){function m(y){h[y]=function(){h._q.push([y].concat(Array.prototype.slice.call(arguments,0)))}}for(var v=0;v<p.length;v++)m(p[v])}g(r),r.getInstance=function(h){return h=(!h||h.length===0?"$default_instance":h).toLowerCase(),Object.prototype.hasOwnProperty.call(r._iq,h)||(r._iq[h]={_q:[]},g(r._iq[h])),r._iq[h]},t.amplitude=r})(window,document)};var Kg;(function(e){e.RECORDING_START_TIME="highlightRecordingStartTime",e.SEGMENT_LAST_SENT_HASH_KEY="HIGHLIGHT_SEGMENT_LAST_SENT_HASH_KEY",e.SESSION_DATA="sessionData",e.SESSION_SECURE_ID="sessionSecureID",e.USER_IDENTIFIER="highlightIdentifier",e.USER_OBJECT="highlightUserObject",e.PAYLOAD_ID="payloadId"})(Kg||(Kg={}));const lre=({projectToken:e})=>{if(window.mixpanel)return;(function(n,r){if(!r.__SV){var i,s;window.mixpanel=r,r._i=[],r.init=function(o,a,l){function u(f,p){var g=p.split(".");g.length==2&&(f=f[g[0]],p=g[1]),f[p]=function(){f.push([p].concat(Array.prototype.slice.call(arguments,0)))}}var c=r;for(typeof l<"u"?c=r[l]=[]:l="mixpanel",c.people=c.people||[],c.toString=function(f){var p="mixpanel";return l!=="mixpanel"&&(p+="."+l),f||(p+=" (stub)"),p},c.people.toString=function(){return c.toString(1)+".people (stub)"},i="disable time_event track track_pageview track_links track_forms track_with_groups add_group set_group remove_group register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking start_batch_senders people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user people.remove".split(" "),s=0;s<i.length;s++)u(c,i[s]);var d="set set_once union unset remove delete".split(" ");c.get_group=function(){function f(m){p[m]=function(){call2_args=arguments,call2=[m].concat(Array.prototype.slice.call(call2_args,0)),c.push([g,call2])}}for(var p={},g=["get_group"].concat(Array.prototype.slice.call(arguments,0)),h=0;h<d.length;h++)f(d[h]);return p},r._i.push([o,a,l])},r.__SV=1.2}})(document,window.mixpanel||[]);const t=document.createElement("script");t.src=ure,document.head.appendChild(t),t.addEventListener("load",()=>{var n;(n=window.mixpanel)==null||n.init(e)})},ure="https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";function cre(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],i=n(r);return typeof i=="function"&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=i,()=>{e[t]=r}}catch{return()=>{}}}function dre(e){if(!e||!e.outerHTML)return"";let t="";for(;e.parentElement;){let n=e.localName;if(!n)break;n=n.toLowerCase();let r=e.parentElement,i=[];if(r.children&&r.children.length>0)for(let s=0;s<r.children.length;s++){let o=r.children[s];o.localName&&o.localName.toLowerCase&&o.localName.toLowerCase()===n&&i.push(o)}i.length>1&&(n+=":eq("+i.indexOf(e)+")"),t=n+(t?">"+t:""),e=r}return t}function O$(e){return Object.prototype.toString.call(e)==="[object Object]"}function qV(e,t){if(t===0)return!0;const n=Object.keys(e);for(const r of n)if(O$(e[r])&&qV(e[r],t-1))return!0;return!1}function pE(e,t){const n={numOfKeysLimit:50,depthOfLimit:4};Object.assign(n,t);const r=[],i=[];return JSON.stringify(e,function(a,l){if(r.length>0){const u=r.indexOf(this);~u?r.splice(u+1):r.push(this),~u?i.splice(u,1/0,a):i.push(a),~r.indexOf(l)&&(r[0]===l?l="[Circular ~]":l="[Circular ~."+i.slice(0,r.indexOf(l)).join(".")+"]")}else r.push(l);if(l==null)return l;if(s(l))return o(l);if(l instanceof Event){const u={};for(const c in l){const d=l[c];Array.isArray(d)?u[c]=dre(d.length?d[0]:null):u[c]=d}return u}else{if(l instanceof Node)return l instanceof HTMLElement?l?l.outerHTML:"":l.nodeName;if(l instanceof Error)return l.name+": "+l.message}return l});function s(a){return O$(a)&&Object.keys(a).length>n.numOfKeysLimit||typeof a=="function"?!0:a instanceof Event&&a.isTrusted===!1?Object.keys(a).length===1:!!(O$(a)&&qV(a,n.depthOfLimit))}function o(a){let l=a.toString();return n.stringLengthLimit&&l.length>n.stringLengthLimit&&(l=`${l.slice(0,n.stringLengthLimit)}...`),l}}var zV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function KV(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var GV={exports:{}},tD={exports:{}},nD;function fre(){return nD||(nD=1,function(e,t){(function(n,r){e.exports=r()})(zV,function(){function n(h){return!isNaN(parseFloat(h))&&isFinite(h)}function r(h){return h.charAt(0).toUpperCase()+h.substring(1)}function i(h){return function(){return this[h]}}var s=["isConstructor","isEval","isNative","isToplevel"],o=["columnNumber","lineNumber"],a=["fileName","functionName","source"],l=["args"],u=["evalOrigin"],c=s.concat(o,a,l,u);function d(h){if(h)for(var m=0;m<c.length;m++)h[c[m]]!==void 0&&this["set"+r(c[m])](h[c[m]])}d.prototype={getArgs:function(){return this.args},setArgs:function(h){if(Object.prototype.toString.call(h)!=="[object Array]")throw new TypeError("Args must be an Array");this.args=h},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(h){if(h instanceof d)this.evalOrigin=h;else if(h instanceof Object)this.evalOrigin=new d(h);else throw new TypeError("Eval Origin must be an Object or StackFrame")},toString:function(){var h=this.getFileName()||"",m=this.getLineNumber()||"",v=this.getColumnNumber()||"",y=this.getFunctionName()||"";return this.getIsEval()?h?"[eval] ("+h+":"+m+":"+v+")":"[eval]:"+m+":"+v:y?y+" ("+h+":"+m+":"+v+")":h+":"+m+":"+v}},d.fromString=function(h){var m=h.indexOf("("),v=h.lastIndexOf(")"),y=h.substring(0,m),_=h.substring(m+1,v).split(","),b=h.substring(v+1);if(b.indexOf("@")===0)var x=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(b,""),w=x[1],$=x[2],E=x[3];return new d({functionName:y,args:_||void 0,fileName:w,lineNumber:$||void 0,columnNumber:E||void 0})};for(var f=0;f<s.length;f++)d.prototype["get"+r(s[f])]=i(s[f]),d.prototype["set"+r(s[f])]=function(h){return function(m){this[h]=!!m}}(s[f]);for(var p=0;p<o.length;p++)d.prototype["get"+r(o[p])]=i(o[p]),d.prototype["set"+r(o[p])]=function(h){return function(m){if(!n(m))throw new TypeError(h+" must be a Number");this[h]=Number(m)}}(o[p]);for(var g=0;g<a.length;g++)d.prototype["get"+r(a[g])]=i(a[g]),d.prototype["set"+r(a[g])]=function(h){return function(m){this[h]=String(m)}}(a[g]);return d})}(tD)),tD.exports}(function(e,t){(function(n,r){e.exports=r(fre())})(zV,function(n){var r=/(^|@)\S+:\d+/,i=/^\s*at .*(\S+:\d+|\(native\))/m,s=/^(eval@)?(\[native code])?$/;return{parse:function(o){if(typeof o.stacktrace<"u"||typeof o["opera#sourceloc"]<"u")return this.parseOpera(o);if(o.stack&&o.stack.match(i))return this.parseV8OrIE(o);if(o.stack)return this.parseFFOrSafari(o);throw new Error("Cannot parse given Error object")},extractLocation:function(o){if(o.indexOf(":")===-1)return[o];var a=/(.+?)(?::(\d+))?(?::(\d+))?$/,l=a.exec(o.replace(/[()]/g,""));return[l[1],l[2]||void 0,l[3]||void 0]},parseV8OrIE:function(o){var a=o.stack.split(`
`).filter(function(l){return!!l.match(i)},this);return a.map(function(l){l.indexOf("(eval ")>-1&&(l=l.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var u=l.replace(/^\s+/,"").replace(/\(eval code/g,"("),c=u.match(/ (\((.+):(\d+):(\d+)\)$)/);u=c?u.replace(c[0],""):u;var d=u.split(/\s+/).slice(1),f=this.extractLocation(c?c[1]:d.pop()),p=d.join(" ")||void 0,g=["eval","<anonymous>"].indexOf(f[0])>-1?void 0:f[0];return new n({functionName:p,fileName:g,lineNumber:f[1],columnNumber:f[2],source:l})},this)},parseFFOrSafari:function(o){var a=o.stack.split(`
`).filter(function(l){return!l.match(s)},this);return a.map(function(l){if(l.indexOf(" > eval")>-1&&(l=l.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),l.indexOf("@")===-1&&l.indexOf(":")===-1)return new n({functionName:l});var u=/((.*".+"[^@]*)?[^@]*)(?:@)/,c=l.match(u),d=c&&c[1]?c[1]:void 0,f=this.extractLocation(l.replace(u,""));return new n({functionName:d,fileName:f[0],lineNumber:f[1],columnNumber:f[2],source:l})},this)},parseOpera:function(o){return!o.stacktrace||o.message.indexOf(`
`)>-1&&o.message.split(`
`).length>o.stacktrace.split(`
`).length?this.parseOpera9(o):o.stack?this.parseOpera11(o):this.parseOpera10(o)},parseOpera9:function(o){for(var a=/Line (\d+).*script (?:in )?(\S+)/i,l=o.message.split(`
`),u=[],c=2,d=l.length;c<d;c+=2){var f=a.exec(l[c]);f&&u.push(new n({fileName:f[2],lineNumber:f[1],source:l[c]}))}return u},parseOpera10:function(o){for(var a=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,l=o.stacktrace.split(`
`),u=[],c=0,d=l.length;c<d;c+=2){var f=a.exec(l[c]);f&&u.push(new n({functionName:f[3]||void 0,fileName:f[2],lineNumber:f[1],source:l[c]}))}return u},parseOpera11:function(o){var a=o.stack.split(`
`).filter(function(l){return!!l.match(r)&&!l.match(/^Error created at/)},this);return a.map(function(l){var u=l.split("@"),c=this.extractLocation(u.pop()),d=u.shift()||"",f=d.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,p;d.match(/\(([^)]*)\)/)&&(p=d.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var g=p===void 0||p==="[arguments not available]"?void 0:p.split(",");return new n({functionName:f,args:g,fileName:c[0],lineNumber:c[1],columnNumber:c[2],source:l})},this)}}})})(GV);var pre=GV.exports;const A0=KV(pre);function hre(e,t){const n=t.logger;if(!n)return()=>{};let r;typeof n=="string"?r=window[n]:r=n;const i=[];if(t.level.includes("error")&&window){const o=a=>{const{message:l,error:u}=a;let c=[];u&&(c=A0.parse(u));const d=[pE(l,t.stringifyOptions)];e({type:"Error",trace:c,time:Date.now(),value:d})};window.addEventListener("error",o),i.push(()=>{window&&window.removeEventListener("error",o)})}for(const o of t.level)i.push(s(r,o));return()=>{i.forEach(o=>o())};function s(o,a){return o[a]?cre(o,a,l=>(...u)=>{l.apply(this,u);try{const c=A0.parse(new Error),d=t.serializeConsoleAttributes?u.map(f=>typeof f=="object"?pE(f,t.stringifyOptions):f):u.filter(f=>typeof f!="object").map(f=>`${f}`);e({type:a,trace:c.slice(1),value:d,attributes:pE(u.filter(f=>typeof f=="object").reduce((f,p)=>qi(qi({},f),p),{}),t.stringifyOptions),time:Date.now()})}catch(c){l("highlight logger error:",c,...u)}}):()=>{}}}var R$={exports:{}};(function(e,t){t=e.exports=n,t.getSerialize=r;function n(i,s,o,a){return JSON.stringify(i,r(s,a),o)}function r(i,s){var o=[],a=[];return s==null&&(s=function(l,u){return o[0]===u?"[Circular ~]":"[Circular ~."+a.slice(0,o.indexOf(u)).join(".")+"]"}),function(l,u){if(o.length>0){var c=o.indexOf(this);~c?o.splice(c+1):o.push(this),~c?a.splice(c,1/0,l):a.push(l),~o.indexOf(u)&&(u=s.call(this,l,u))}else o.push(u);return i==null?u:i.call(this,l,u)}}})(R$,R$.exports);var gre=R$.exports;const O0=KV(gre);function hE(e,t,n,r){var i,s,o,a;let l=[];try{l=A0.parse(r??t)}catch{l=A0.parse(new Error)}let u={};t instanceof Error&&(t=t.message,t.cause&&(u={"exception.cause":t.cause}));const c=vre(l);e({event:O0(t),type:"window.onerror",url:window.location.href,source:n??"",lineNumber:(i=c[0])!=null&&i.lineNumber?(s=c[0])==null?void 0:s.lineNumber:0,columnNumber:(o=c[0])!=null&&o.columnNumber?(a=c[0])==null?void 0:a.columnNumber:0,stackTrace:c,timestamp:new Date().toISOString(),payload:u?O0(u):void 0})}const mre=(e,{enablePromisePatch:t})=>{if(typeof window>"u")return()=>{};const n=window.onerror=(o,a,l,u,c)=>{hE(e,o,a,c)},r=window.onunhandledrejection=o=>{if(o.reason){const a=o.promise;a.getStack?hE(e,o.reason,o.type,a.getStack()):hE(e,o.reason,o.type)}},i=window.Promise,s=class extends i{constructor(o){super(o),wn(this,"promiseCreationError"),this.promiseCreationError=new Error}getStack(){return this.promiseCreationError}static shouldPatch(){const o=typeof window.Zone>"u";return t&&o}};return s.shouldPatch()&&(window.Promise=s),()=>{window.Promise=i,window.onunhandledrejection=r,window.onerror=n}},vre=e=>{var t,n;if(e.length===0)return e;const r=e[0];return(t=r.fileName)!=null&&t.includes("highlight.run")||(n=r.fileName)!=null&&n.includes("highlight.io")||r.functionName==="new highlightPromise"?e.slice(1):e},yre=["assert","count","countReset","debug","dir","dirxml","error","group","groupCollapsed","groupEnd","info","log","table","time","timeEnd","timeLog","trace","warn"];var rD;(function(e){e.DeviceMemory="DeviceMemory",e.ViewportHeight="ViewportHeight",e.ViewportWidth="ViewportWidth",e.ViewportArea="ViewportArea"})(rD||(rD={}));var iD;(function(e){e.Device="Device",e.WebVital="WebVital",e.Performance="Performance",e.Frontend="Frontend",e.Backend="Backend"})(iD||(iD={}));const sD=['["\\"Script error.\\""]','"Script error."','["\\"Load failed.\\""]','"Load failed."','["\\"Network request failed.\\""]','"Network request failed."','["\\"Document is not focused.\\""]','"Document is not focused."','["\\"Failed to fetch\\""]','"Failed to fetch"','[{"isTrusted":true}]','{"isTrusted":true}','["{}"]','"{}"','[""]','""','["\\"\\""]','""'],oD=["websocket error",'\\"ResizeObserver loop'],aD=(e,t,n)=>{const r=_re(t,e.headers,n);return Oo(qi({},e),{headers:r})},_re=(e,t,n)=>{var r,i;const s=qi({},t);return n?((r=Object.keys(s))==null||r.forEach(o=>{[...n].includes(o==null?void 0:o.toLowerCase())||(s[o]="[REDACTED]")}),s):((i=Object.keys(s))==null||i.forEach(o=>{[...bre,...e].includes(o==null?void 0:o.toLowerCase())&&(s[o]="[REDACTED]")}),s)},bre=["authorization","cookie","proxy-authorization","token"],wre=["https://www.googleapis.com/identitytoolkit","https://securetoken.googleapis.com"];let xre="localStorage",Ere=class{constructor(){wn(this,"storage",{})}getItem(t){var n;return(n=this.storage[t])!=null?n:""}setItem(t,n){this.storage[t]=n}removeItem(t){delete this.storage[t]}},Sre=new Ere;const YV=()=>{try{switch(xre){case"localStorage":return window.localStorage;case"sessionStorage":return window.sessionStorage}}catch{return Sre}},XV=e=>YV().getItem(e),$re=(e,t)=>YV().setItem(e,t),Tre=15*60*1e3,kre=()=>{let e=JSON.parse(XV(Kg.SESSION_DATA)||"{}");if(e&&e.lastPushTime&&Date.now()-e.lastPushTime<Tre)return e},Ire=function(){var e;return(e=XV(Kg.SESSION_SECURE_ID))!=null?e:""};var Cre={REACT_APP_COMMIT_SHA:"805580fda0fa3af7d28982f12865e6b5a1e1a9e4",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const QV="X-Highlight-Request",lD=e=>{let t=e;return!e.startsWith("https://")&&!e.startsWith("http://")&&(t=`${window.location.origin}${t}`),t.replace(/\/+$/,"")},Are=(e,{headersToRedact:t,headersToRecord:n,requestResponseSanitizer:r})=>{var i,s;let o=e;if(r){let d=!0;try{o.request.body=JSON.parse(o.request.body)}catch{d=!1}let f=!0;try{o.response.body=JSON.parse(o.response.body)}catch{f=!1}try{o=r(o)}catch{}finally{d=d&&!!((i=o==null?void 0:o.request)!=null&&i.body),f=f&&!!((s=o==null?void 0:o.response)!=null&&s.body),d&&(o.request.body=JSON.stringify(o.request.body)),f&&(o.response.body=JSON.stringify(o.response.body))}if(!o)return null}const a=o,{request:l,response:u}=a,c=WV(a,["request","response"]);return qi({request:aD(l,t,n),response:aD(u,t,n)},c)},uD=(e,t,n,r)=>{e.sort((l,u)=>l.responseEnd-u.responseEnd);const i={xmlhttprequest:{},others:{},fetch:{}},s=e.reduce((l,u)=>{const c=lD(u.name);return u.initiatorType===n?l[n][c]=[...l[n][c]||[],u]:l.others[c]=[...l.others[c]||[],u],l},i);let o={};o=t.reduce((l,u)=>{const c=lD(u.request.url);return l[c]=[...l[c]||[],u],l},o);for(let l in s[n]){const u=s[n][l],c=o[l];if(!c)continue;const d=Math.max(u.length-c.length,0);for(let f=d;f<u.length;f++)u[f]&&(u[f].requestResponsePair=c[f-d])}let a=[];for(let l in s)for(let u in s[l])a=a.concat(s[l][u]);return a.sort((l,u)=>l.fetchStart-u.fetchStart).reduce((l,u)=>{let c=u.requestResponsePair;return c&&(c=Are(u.requestResponsePair,r),!c)||(u.toJSON=function(){const d=window.performance.timeOrigin;return{initiatorType:this.initiatorType,startTimeAbs:d+this.startTime,connectStartAbs:d+this.connectStart,connectEndAbs:d+this.connectEnd,domainLookupStartAbs:d+this.domainLookupStart,domainLookupEndAbs:d+this.domainLookupEnd,fetchStartAbs:d+this.fetchStart,redirectStartAbs:d+this.redirectStart,redirectEndAbs:d+this.redirectEnd,requestStartAbs:d+this.requestStart,responseStartAbs:d+this.responseStart,responseEndAbs:d+this.responseEnd,secureConnectionStartAbs:d+this.secureConnectionStart,workerStartAbs:d+this.workerStart,name:this.name,transferSize:this.transferSize,encodedBodySize:this.encodedBodySize,decodedBodySize:this.decodedBodySize,nextHopProtocol:this.nextHopProtocol,requestResponsePairs:c}},l.push(u)),l},[])},Ore=(e,t)=>{var n;return e.toLocaleLowerCase().includes((n=Cre.REACT_APP_PUBLIC_GRAPH_URI)!=null?n:"highlight.io")||e.toLocaleLowerCase().includes("highlight.io")||e.toLocaleLowerCase().includes(t)},iC=(e,t,n)=>!Ore(e,t)||sC(e,n),sC=(e,t)=>{var n;let r=[];t===!0?(r=["localhost",/^\//],(n=window==null?void 0:window.location)!=null&&n.host&&r.push(window.location.host)):t instanceof Array&&(r=t);let i=!1;return r.forEach(s=>{e.match(s)&&(i=!0)}),i};function Rre(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length,i=0;i<e;i++)t+=n.charAt(Math.floor(Math.random()*r));return t}const oC=()=>[Ire(),Rre(10)],JV=(e,t)=>e+"/"+t,Pre=(e,t,n,r,i,s)=>{const o=XMLHttpRequest.prototype,a=o.open,l=o.send,u=o.setRequestHeader;return o.open=function(c,d){return typeof d=="string"?this._url=d:this._url=d.toString(),this._method=c,this._requestHeaders={},this._shouldRecordHeaderAndBody=!r.some(f=>this._url.toLowerCase().includes(f)),a.apply(this,arguments)},o.setRequestHeader=function(c,d){return this._requestHeaders[c]=d,u.apply(this,arguments)},o.send=function(c){if(!iC(this._url,t,n))return l.apply(this,arguments);const[d,f]=oC();sC(this._url,n)&&this.setRequestHeader(QV,JV(d,f));const p=this._shouldRecordHeaderAndBody,g={sessionSecureID:d,id:f,url:this._url,verb:this._method,headers:p?this._requestHeaders:{},body:void 0};if(p&&c){const h=cD(c,g.url);h&&(g.body=tc(h,i,s,g.headers))}return this.addEventListener("load",function(){return pf(this,null,function*(){const h={status:this.status,headers:{},body:void 0};if(p){const m=this.getAllResponseHeaders().trim().split(/[\r\n]+/),v={};if(m.forEach(function(y){const _=y.split(": "),b=_.shift();v[b]=_.join(": ")}),h.headers=v,c){const y=cD(c,g.url);y&&(g.body=tc(y,i,s,h.headers))}if(this.responseType===""||this.responseType==="text")h.body=tc(this.responseText,i,s,h.headers),h.size=this.responseText.length*8;else if(this.responseType==="blob"){if(this.response instanceof Blob)try{const y=yield this.response.text();h.body=tc(y,i,s,h.headers),h.size=this.response.size}catch{}}else try{h.body=tc(this.response,i,s,h.headers)}catch{}}e({request:g,response:h,urlBlocked:!p})})}),this.addEventListener("error",function(){return pf(this,null,function*(){const h={status:this.status,headers:void 0,body:void 0};e({request:g,response:h,urlBlocked:!1})})}),l.apply(this,arguments)},()=>{o.open=a,o.send=l,o.setRequestHeader=u}},cD=(e,t)=>{if(typeof e=="string"){if(!((t!=null&&t.includes("localhost")||t!=null&&t.includes("highlight.run"))&&e.includes("pushPayload")))return e}else if(typeof e=="object"||typeof e=="number"||typeof e=="boolean")return O0(e);return null},dD=64*1024,Mre={"application/json":64*1024*1024,"text/plain":64*1024*1024},tc=(e,t,n,r)=>{var i,s,o;let a=dD;if(r){let l="";typeof r.get=="function"?l=(i=r.get("content-type"))!=null?i:"":l=(s=r["content-type"])!=null?s:"";try{l=l.split(";")[0]}catch{}a=(o=Mre[l])!=null?o:dD}if(e){if(t)try{const l=JSON.parse(e);Array.isArray(l)?l.forEach(u=>{Object.keys(u).forEach(c=>{t.includes(c.toLocaleLowerCase())&&(u[c]="[REDACTED]")})}):Object.keys(l).forEach(u=>{t.includes(u.toLocaleLowerCase())&&(l[u]="[REDACTED]")}),e=JSON.stringify(l)}catch{}if(n)try{const l=JSON.parse(e);Object.keys(l).forEach(u=>{n.includes(u.toLocaleLowerCase())||(l[u]="[REDACTED]")}),e=JSON.stringify(l)}catch{}}try{e=e.slice(0,a)}catch{}return e},Dre=(e,t,n,r,i,s)=>{const o=window._fetchProxy;return window._fetchProxy=function(a,l){const{method:u,url:c}=Nre(a,l);if(!iC(c,t,n))return o.call(this,a,l);const[d,f]=oC();if(sC(c,n)){l=l||{};let m=new Headers(l.headers);a instanceof Request&&[...a.headers].forEach(([v,y])=>m.set(v,y)),m.set(QV,JV(d,f)),l.headers=Object.fromEntries(m.entries())}const p={sessionSecureID:d,id:f,headers:{},body:void 0,url:c,verb:u},g=!r.some(m=>c.toLowerCase().includes(m));g&&(p.headers=Object.fromEntries(new Headers(l==null?void 0:l.headers).entries()),p.body=tc(l==null?void 0:l.body,i,s,l==null?void 0:l.headers));let h=o.call(this,a,l);return Lre(h,p,e,g,i,s),h},()=>{window._fetchProxy=o}},Nre=(e,t)=>{const n=t&&t.method||typeof e=="object"&&"method"in e&&e.method||"GET";let r;return typeof e=="object"?"url"in e&&e.url?r=e.url:r=e.toString():r=e,{method:n,url:r}},Lre=(e,t,n,r,i,s)=>{const o=a=>pf(void 0,null,function*(){let l={body:void 0,headers:void 0,status:0,size:0},u=!1,c=!r;if("stack"in a||a instanceof Error)l=Oo(qi({},l),{body:a.message,status:0,size:void 0}),u=!0;else if("status"in a){if(l=Oo(qi({},l),{status:a.status}),r){let d;try{const f=a.clone().body;if(f){let p=f.getReader(),g=new TextDecoder,h,m="";for(;!(h=yield p.read()).done;){let v=h.value;m+=g.decode(v)}d=m,d=tc(d,i,s,a.headers)}else d=""}catch(f){d=`Unable to clone response: ${f}`}l.body=d,l.headers=Object.fromEntries(a.headers.entries()),l.size=d.length*8}(a.type==="opaque"||a.type==="opaqueredirect")&&(c=!0,l=Oo(qi({},l),{body:"CORS blocked request"})),u=!0}u&&n({request:t,response:l,urlBlocked:c})});e.then(o).catch(()=>{})},Fre=(e,t,n)=>{const r=window._highlightWebSocketRequestCallback;window._highlightWebSocketRequestCallback=e;const i=window._highlightWebSocketEventCallback;return window._highlightWebSocketEventCallback=s=>{const o=s,a=WV(o,["message","size"]),l=n.some(u=>s.name.toLowerCase().includes(u))?a:s;t(l)},()=>{window._highlightWebSocketRequestCallback=r,window._highlightWebSocketEventCallback=i}},Bre=({xhrCallback:e,fetchCallback:t,webSocketRequestCallback:n,webSocketEventCallback:r,disableWebSocketRecording:i,bodyKeysToRedact:s,backendUrl:o,tracingOrigins:a,urlBlocklist:l,sessionSecureID:u,bodyKeysToRecord:c})=>{const d=Pre(e,o,a,l,s,c),f=Dre(t,o,a,l,s,c),p=i?()=>{}:Fre(n,r,l);return()=>{d(),f(),p()}};var Ure={REACT_APP_COMMIT_SHA:"805580fda0fa3af7d28982f12865e6b5a1e1a9e4",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};let Vre=class ZV{constructor(t){wn(this,"disableConsoleRecording"),wn(this,"reportConsoleErrors"),wn(this,"enablePromisePatch"),wn(this,"consoleMethodsToRecord"),wn(this,"listeners"),wn(this,"errors"),wn(this,"messages"),wn(this,"options"),wn(this,"hasNetworkRecording",!0),wn(this,"_backendUrl"),wn(this,"disableNetworkRecording"),wn(this,"enableRecordingNetworkContents"),wn(this,"xhrNetworkContents"),wn(this,"fetchNetworkContents"),wn(this,"disableRecordingWebSocketContents"),wn(this,"webSocketNetworkContents"),wn(this,"webSocketEventContents"),wn(this,"tracingOrigins"),wn(this,"networkHeadersToRedact"),wn(this,"networkBodyKeysToRedact"),wn(this,"networkBodyKeysToRecord"),wn(this,"networkHeaderKeysToRecord"),wn(this,"lastNetworkRequestTimestamp"),wn(this,"urlBlocklist"),wn(this,"requestResponseSanitizer");var n,r;this.options=t,this.disableConsoleRecording=!!t.disableConsoleRecording,this.reportConsoleErrors=(n=t.reportConsoleErrors)!=null?n:!1,this.enablePromisePatch=(r=t.enablePromisePatch)!=null?r:!0,this.consoleMethodsToRecord=t.consoleMethodsToRecord||[...yre],this.listeners=[],this.errors=[],this.messages=[],this.lastNetworkRequestTimestamp=0}isListening(){return this.listeners.length>0}startListening(){if(this.isListening())return;const t=this;this.disableConsoleRecording||this.listeners.push(hre(n=>{var r,i,s;if(this.reportConsoleErrors&&(n.type==="Error"||n.type==="error")&&n.value&&n.trace){const o=O0(n.value);if(sD.includes(o)||oD.some(a=>o.includes(a)))return;t.errors.push({event:o,type:"console.error",url:window.location.href,source:(r=n.trace[0])!=null&&r.fileName?n.trace[0].fileName:"",lineNumber:(i=n.trace[0])!=null&&i.lineNumber?n.trace[0].lineNumber:0,columnNumber:(s=n.trace[0])!=null&&s.columnNumber?n.trace[0].columnNumber:0,stackTrace:n.trace,timestamp:new Date().toISOString()})}t.messages.push(n)},{level:this.consoleMethodsToRecord,logger:"console",stringifyOptions:{depthOfLimit:10,numOfKeysLimit:100,stringLengthLimit:1e3}})),this.listeners.push(mre(n=>{sD.includes(n.event)||oD.some(r=>n.event.includes(r))||t.errors.push(n)},{enablePromisePatch:this.enablePromisePatch})),ZV.setupNetworkListener(this,this.options)}stopListening(){this.listeners.forEach(t=>t()),this.listeners=[]}static setupNetworkListener(t,n){var r,i,s,o,a,l,u,c,d,f,p,g;t._backendUrl=(n==null?void 0:n.backendUrl)||Ure.REACT_APP_PUBLIC_GRAPH_URI||"https://pub.highlight.run",t.xhrNetworkContents=[],t.fetchNetworkContents=[],t.webSocketNetworkContents=[],t.webSocketEventContents=[],t.networkHeadersToRedact=[],t.urlBlocklist=[],t.tracingOrigins=n.tracingOrigins||[],(n==null?void 0:n.disableNetworkRecording)!==void 0?(t.disableNetworkRecording=n==null?void 0:n.disableNetworkRecording,t.enableRecordingNetworkContents=!1,t.disableRecordingWebSocketContents=!0,t.networkHeadersToRedact=[],t.networkBodyKeysToRedact=[],t.urlBlocklist=[],t.networkBodyKeysToRecord=[],t.networkBodyKeysToRecord=[]):typeof(n==null?void 0:n.networkRecording)=="boolean"?(t.disableNetworkRecording=!n.networkRecording,t.enableRecordingNetworkContents=!1,t.disableRecordingWebSocketContents=!0,t.networkHeadersToRedact=[],t.networkBodyKeysToRedact=[],t.urlBlocklist=[]):(((r=n.networkRecording)==null?void 0:r.enabled)!==void 0?t.disableNetworkRecording=!n.networkRecording.enabled:t.disableNetworkRecording=!1,t.enableRecordingNetworkContents=((i=n.networkRecording)==null?void 0:i.recordHeadersAndBody)||!1,t.disableRecordingWebSocketContents=((s=n.networkRecording)==null?void 0:s.disableWebSocketEventRecordings)||!1,t.networkHeadersToRedact=((a=(o=n.networkRecording)==null?void 0:o.networkHeadersToRedact)==null?void 0:a.map(h=>h.toLowerCase()))||[],t.networkBodyKeysToRedact=((u=(l=n.networkRecording)==null?void 0:l.networkBodyKeysToRedact)==null?void 0:u.map(h=>h.toLowerCase()))||[],t.urlBlocklist=((d=(c=n.networkRecording)==null?void 0:c.urlBlocklist)==null?void 0:d.map(h=>h.toLowerCase()))||[],t.urlBlocklist=[...t.urlBlocklist,...wre],t.requestResponseSanitizer=(f=n.networkRecording)==null?void 0:f.requestResponseSanitizer,t.networkHeaderKeysToRecord=(p=n.networkRecording)==null?void 0:p.headerKeysToRecord,t.networkHeaderKeysToRecord&&(t.networkHeadersToRedact=[],t.networkHeaderKeysToRecord=t.networkHeaderKeysToRecord.map(h=>h.toLocaleLowerCase())),t.networkBodyKeysToRecord=(g=n.networkRecording)==null?void 0:g.bodyKeysToRecord,t.networkBodyKeysToRecord&&(t.networkBodyKeysToRedact=[],t.networkBodyKeysToRecord=t.networkBodyKeysToRecord.map(h=>h.toLocaleLowerCase()))),!t.disableNetworkRecording&&t.enableRecordingNetworkContents&&t.listeners.push(Bre({xhrCallback:h=>{t.xhrNetworkContents.push(h)},fetchCallback:h=>{t.fetchNetworkContents.push(h)},webSocketRequestCallback:h=>{t.webSocketNetworkContents&&t.webSocketNetworkContents.push(h)},webSocketEventCallback:h=>{t.webSocketEventContents.push(h)},disableWebSocketRecording:t.disableRecordingWebSocketContents,bodyKeysToRedact:t.networkBodyKeysToRedact,backendUrl:t._backendUrl,tracingOrigins:t.tracingOrigins,urlBlocklist:t.urlBlocklist,sessionSecureID:n.sessionSecureID,bodyKeysToRecord:t.networkBodyKeysToRecord}))}static getRecordedNetworkResources(t,n){var r,i;let s=[],o=[];if(!t.disableNetworkRecording){const a=((r=window==null?void 0:window.performance)==null?void 0:r.timeOrigin)||0;s=performance.getEntriesByType("resource");const l=(n-a)*2;if(s=s.filter(u=>u.responseEnd<t.lastNetworkRequestTimestamp?!1:iC(u.name,t._backendUrl,t.tracingOrigins)).map(u=>Oo(qi({},u.toJSON()),{offsetStartTime:u.startTime-l,offsetResponseEnd:u.responseEnd-l,offsetFetchStart:u.fetchStart-l})),t.lastNetworkRequestTimestamp=((i=s.at(-1))==null?void 0:i.responseEnd)||t.lastNetworkRequestTimestamp,t.enableRecordingNetworkContents){const u={headersToRedact:t.networkHeadersToRedact,headersToRecord:t.networkHeaderKeysToRecord,requestResponseSanitizer:t.requestResponseSanitizer};s=uD(s,t.xhrNetworkContents,"xmlhttprequest",u),s=uD(s,t.fetchNetworkContents,"fetch",u)}}return t.disableRecordingWebSocketContents||(o=t.webSocketNetworkContents||[]),[...s,...o]}static getRecordedWebSocketEvents(t){let n=[];return!t.disableNetworkRecording&&!t.disableRecordingWebSocketContents&&(n=t.webSocketEventContents),n}static clearRecordedNetworkResources(t){t.disableNetworkRecording||(t.xhrNetworkContents=[],t.fetchNetworkContents=[],t.webSocketNetworkContents=[],t.webSocketEventContents=[],performance.clearResourceTimings())}};const jre=()=>{var e;const t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";var n="";const r=typeof window<"u"&&((e=window.crypto)==null?void 0:e.getRandomValues),i=new Uint32Array(28);r&&window.crypto.getRandomValues(i);for(let s=0;s<28;s++)r?n+=t.charAt(i[s]%t.length):n+=t.charAt(Math.floor(Math.random()*t.length));return n},Hre="8.13.0",P$=()=>{if(typeof window<"u"){if(typeof window._highlightFetchPatch<"u")return;window._originalFetch=window.fetch,window._fetchProxy=(e,t)=>window._originalFetch(e,t),window._highlightFetchPatch=(e,t)=>window._fetchProxy.call(window||global,e,t),window.fetch=window._highlightFetchPatch}},fD=()=>null,M$=()=>{if(typeof window<"u"){if(typeof window._highlightWebSocketRequestCallback<"u")return;window._highlightWebSocketRequestCallback=fD,window._highlightWebSocketEventCallback=fD;const e=new Proxy(window.WebSocket,{construct(t,n){const[,r]=oC(),i=new t(...n),s=c=>{window._highlightWebSocketRequestCallback({socketId:r,initiatorType:"websocket",type:"open",name:i.url,startTimeAbs:performance.timeOrigin+c.timeStamp})},o=c=>{window._highlightWebSocketRequestCallback({socketId:r,initiatorType:"websocket",type:"close",name:i.url,responseEndAbs:performance.timeOrigin+c.timeStamp}),i.removeEventListener("open",s),i.removeEventListener("error",l),i.removeEventListener("message",a),i.removeEventListener("close",o)},a=c=>{const{data:d}=c,f=typeof d=="string"?c.data:void 0;let p;typeof d=="string"?p=d.length:d instanceof Blob?p=d.size:p=d.byteLength||0,window._highlightWebSocketEventCallback({socketId:r,type:"received",name:i.url,timeStamp:performance.timeOrigin+c.timeStamp,size:p,message:f})},l=c=>{window._highlightWebSocketEventCallback({socketId:r,type:"error",name:i.url,timeStamp:performance.timeOrigin+c.timeStamp,size:0})};i.addEventListener("open",s),i.addEventListener("error",l),i.addEventListener("message",a),i.addEventListener("close",o);const u=new Proxy(i.send,{apply:function(c,d,f){const p=f[0],g=typeof p=="string"?p:void 0;let h;typeof p=="string"?h=p.length:p instanceof Blob?h=p.size:h=p.byteLength||0,window._highlightWebSocketEventCallback({socketId:r,type:"sent",name:i.url,timeStamp:performance.timeOrigin+performance.now(),size:h,message:g}),c.apply(d,f)}});return i.send=u,i}});window.WebSocket=e}},Wre=()=>{var e,t;typeof chrome<"u"&&(e=chrome==null?void 0:chrome.runtime)!=null&&e.onMessage&&((t=chrome==null?void 0:chrome.runtime)==null||t.onMessage.addListener((n,r,i)=>{const s=n.action;switch(console.log(`[highlight] received '${s}' event from extension.`),s){case"init":{Bn.init(1,{debug:!0}),Bn.getSessionURL().then(o=>{i({url:o})});break}case"stop":{Bn.stop(),i({success:!0});break}}return!0}))};var D$;(function(e){e.Device="Device",e.WebVital="WebVital",e.Frontend="Frontend",e.Backend="Backend"})(D$||(D$={}));const ua=(e,t)=>{console.warn(`highlight.run warning: (${e}): `,t)},qre=200;let Ey=[],gE,bn,Sy,pD=!1;const Bn={options:void 0,init:(e,t)=>{var n,r,i,s,o,a,l,u;try{if(Bn.options=t,typeof window>"u"||typeof document>"u")return;if(!e){console.info("Highlight is not initializing because projectID was passed undefined.");return}let c=kre(),d=jre();if(c!=null&&c.sessionSecureID)d=c.sessionSecureID;else{const p=Oo(qi({},c),{projectID:+e,sessionSecureID:d});$re(Kg.SESSION_DATA,JSON.stringify(p))}if(pD)return{sessionSecureID:d};pD=!0,P$(),M$(),qt(()=>import("./index-D9pynCqZ-4b062250.js"),[]).then(p=>p.i).then(p=>pf(void 0,[p],function*({Highlight:g}){bn=new g(f,Sy),P$(),M$(),t!=null&&t.manualStart||(yield bn.initialize())}));const f={organizationID:e,debug:t==null?void 0:t.debug,backendUrl:t==null?void 0:t.backendUrl,tracingOrigins:t==null?void 0:t.tracingOrigins,disableNetworkRecording:t==null?void 0:t.disableNetworkRecording,networkRecording:t==null?void 0:t.networkRecording,disableBackgroundRecording:t==null?void 0:t.disableBackgroundRecording,disableConsoleRecording:t==null?void 0:t.disableConsoleRecording,disableSessionRecording:t==null?void 0:t.disableSessionRecording,reportConsoleErrors:t==null?void 0:t.reportConsoleErrors,consoleMethodsToRecord:t==null?void 0:t.consoleMethodsToRecord,privacySetting:t==null?void 0:t.privacySetting,enableSegmentIntegration:t==null?void 0:t.enableSegmentIntegration,enableCanvasRecording:t==null?void 0:t.enableCanvasRecording,enablePerformanceRecording:t==null?void 0:t.enablePerformanceRecording,enablePromisePatch:t==null?void 0:t.enablePromisePatch,samplingStrategy:t==null?void 0:t.samplingStrategy,inlineImages:t==null?void 0:t.inlineImages,inlineStylesheet:t==null?void 0:t.inlineStylesheet,recordCrossOriginIframe:t==null?void 0:t.recordCrossOriginIframe,firstloadVersion:Hre,environment:(t==null?void 0:t.environment)||"production",appVersion:t==null?void 0:t.version,serviceName:t==null?void 0:t.serviceName,sessionShortcut:t==null?void 0:t.sessionShortcut,sessionSecureID:d,storageMode:t==null?void 0:t.storageMode,sendMode:t==null?void 0:t.sendMode};return Sy=new Vre(f),t!=null&&t.manualStart||Sy.startListening(),!((r=(n=t==null?void 0:t.integrations)==null?void 0:n.mixpanel)!=null&&r.disabled)&&(s=(i=t==null?void 0:t.integrations)==null?void 0:i.mixpanel)!=null&&s.projectToken&&lre(t.integrations.mixpanel),!((a=(o=t==null?void 0:t.integrations)==null?void 0:o.amplitude)!=null&&a.disabled)&&(u=(l=t==null?void 0:t.integrations)==null?void 0:l.amplitude)!=null&&u.apiKey&&are(t.integrations.amplitude),{sessionSecureID:d}}catch(c){ua("init",c)}},snapshot:e=>pf(void 0,null,function*(){try{if(bn&&bn.ready)return yield bn.snapshot(e)}catch(t){ua("snapshot",t)}}),addSessionFeedback:({verbatim:e,userName:t,userEmail:n,timestampOverride:r})=>{try{Bn.onHighlightReady(()=>bn.addSessionFeedback({verbatim:e,timestamp:r||new Date().toISOString(),user_email:n,user_name:t}))}catch(i){ua("error",i)}},consumeError:(e,t,n)=>{try{Bn.onHighlightReady(()=>bn.consumeCustomError(e,t,JSON.stringify(n)))}catch(r){ua("error",r)}},consume:(e,t)=>{try{Bn.onHighlightReady(()=>bn.consumeError(e,t))}catch(n){ua("error",n)}},error:(e,t)=>{try{Bn.onHighlightReady(()=>bn.pushCustomError(e,JSON.stringify(t)))}catch(n){ua("error",n)}},track:(e,t={})=>{var n,r,i,s,o,a,l,u,c,d,f;try{Bn.onHighlightReady(()=>bn.addProperties(Oo(qi({},t),{event:e})));const p=bn==null?void 0:bn.getCurrentSessionURL();(i=(r=(n=Bn.options)==null?void 0:n.integrations)==null?void 0:r.mixpanel)!=null&&i.disabled||(s=window.mixpanel)!=null&&s.track&&window.mixpanel.track(e,Oo(qi({},t),{highlightSessionURL:p})),(l=(a=(o=Bn.options)==null?void 0:o.integrations)==null?void 0:a.amplitude)!=null&&l.disabled||(u=window.amplitude)!=null&&u.getInstance&&window.amplitude.getInstance().logEvent(e,Oo(qi({},t),{highlightSessionURL:p})),(f=(d=(c=Bn.options)==null?void 0:c.integrations)==null?void 0:d.intercom)!=null&&f.disabled||window.Intercom&&window.Intercom("trackEvent",e,t)}catch(p){ua("track",p)}},start:e=>{(bn==null?void 0:bn.state)==="Recording"&&!(e!=null&&e.forceNew)?e!=null&&e.silent||console.warn("Highlight is already recording. Please `H.stop()` the current session before starting a new one."):(Sy.startListening(),Bn.onHighlightReady(()=>pf(void 0,null,function*(){yield bn.initialize(e)}),{waitForReady:!1}))},stop:e=>{(bn==null?void 0:bn.state)!=="Recording"?e!=null&&e.silent||console.warn("Highlight is already stopped. Please call `H.start()`."):Bn.onHighlightReady(()=>bn.stopRecording(!0))},identify:(e,t={})=>{var n,r,i,s,o,a,l,u;try{Bn.onHighlightReady(()=>bn.identify(e,t))}catch(c){ua("identify",c)}if((i=(r=(n=Bn.options)==null?void 0:n.integrations)==null?void 0:r.mixpanel)!=null&&i.disabled||(s=window.mixpanel)!=null&&s.identify&&(window.mixpanel.identify(typeof(t==null?void 0:t.email)=="string"?t==null?void 0:t.email:e),t&&(window.mixpanel.track("identify",t),window.mixpanel.people.set(t))),!((l=(a=(o=Bn.options)==null?void 0:o.integrations)==null?void 0:a.amplitude)!=null&&l.disabled)&&(u=window.amplitude)!=null&&u.getInstance&&(window.amplitude.getInstance().setUserId(e),Object.keys(t).length>0)){const c=Object.keys(t).reduce((d,f)=>(d.set(f,t[f]),d),new window.amplitude.Identify);window.amplitude.getInstance().identify(c)}},metrics:e=>{try{Bn.onHighlightReady(()=>bn.recordMetric(e.map(t=>Oo(qi({},t),{category:D$.Frontend}))))}catch(t){ua("metrics",t)}},getSessionURL:()=>new Promise((e,t)=>{Bn.onHighlightReady(()=>{const n=bn.getCurrentSessionURL();n?e(n):t(new Error("Unable to get session URL"))})}),getSessionDetails:()=>new Promise((e,t)=>{Bn.onHighlightReady(()=>{const n=bn.getCurrentSessionURL();if(n){const r=bn.getCurrentSessionTimestamp(),i=new Date().getTime(),s=new URL(n),o=new URL(n);o.searchParams.set("ts",((i-r)/1e3).toString()),e({url:s.toString(),urlWithTimestamp:o.toString()})}else t(new Error("Could not get session URL"))})}),getRecordingState:()=>{var e;return(e=bn==null?void 0:bn.state)!=null?e:"NotRecording"},onHighlightReady:(e,t)=>{if(Ey.push({options:t,func:e}),gE===void 0){const n=()=>{var r;const i=[];for(const s of Ey)bn&&(((r=s.options)==null?void 0:r.waitForReady)===!1||bn.ready)?s.func():i.push(s);Ey=i,gE=void 0,Ey.length>0&&(gE=setTimeout(n,qre))};n()}}};typeof window<"u"&&(window.H=Bn);Wre();P$();M$();const{VITE_APP_ENV:$y}={VITE_FIREBASE_EXTENSIONS_REGION:"us-west2",VITE_PEXELS_API_KEY:"Ed0RE2RH5c42fhTqMU0Q5oJeWkvjg3raDQE5ZDfq5y4dSYjP61pXeBag",VITE_ENTRI_APPLICATION_ID:"mixo",VITE_FIREBASE_MESSAGING_SENDER_ID:"725498859830",VITE_APP_URL:"https://app.mixo.io",VITE_RECAPTCHA_SITE_KEY:"6Lf0kGsoAAAAAIH-9bzbWxuDwy7LlN-MWerrq6oa",VITE_LINKEDIN_PARTNER_ID:"7006708",VITE_FUNCTIONS_URL:"https://us-west2-mixo-app.cloudfunctions.net",VITE_FIREBASE_RTDB_URL:"https://mixo-app-default-rtdb.firebaseio.com",VITE_GITHUB_SHA:"abf61747049fcf16221db86a879e43d381393275",VITE_MIXO_FORM_SCHEMA_URL:"https://formschema-cirj42yhua-wl.a.run.app",VITE_FIREBASE_MEASUREMENT_ID:"G-JHGL8M7FHL",VITE_FIREBASE_STORAGE_BUCKET:"mixo-app.appspot.com",VITE_FIREBASE_AUTH_DOMAIN:"mixo-app.firebaseapp.com",VITE_MIXPANEL_TOKEN:"35d21fbe7f782990b936227a30e1804a",VITE_MIXO_DOMAIN:"mixo.io",VITE_FIREBASE_PROJECT_ID:"mixo-app",VITE_FIREBASE_APP_ID:"1:725498859830:web:6421f91ef9f6e95c056397",VITE_APP_ENV:"production",VITE_FIREBASE_API_KEY:"AIzaSyAVslymxdABi7BdNzjT1quXFZduuyz6EhE",VITE_HIGHLIGHT_PROJECT_ID:"odz3pmep",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};let $r={};const Ty=typeof window<"u"&&(window==null?void 0:window.localStorage.getItem("mixo-admin"))==="true";var nU,rU,iU,sU,oU;$r={...window==null?void 0:window.console},$r.error=(e,t)=>{$y==="production"&&!Ty?Bn.consumeError(e,e==null?void 0:e.label,t):(console.group("👨‍💻:",(e==null?void 0:e.label)||"Error"),console.info(t),e&&console.error(e),console.groupEnd())},$r.log=$y==="production"&&!Ty?()=>{}:(nU=window==null?void 0:window.console)==null?void 0:nU.log,$r.groupCollapsed=$y==="production"&&!Ty?()=>{}:(rU=window==null?void 0:window.console)==null?void 0:rU.groupCollapsed,$r.groupEnd=$y==="production"&&!Ty?()=>{}:(iU=window==null?void 0:window.console)==null?void 0:iU.groupEnd,$r.info=(sU=window==null?void 0:window.console)==null?void 0:sU.info,$r.warn=(oU=window==null?void 0:window.console)==null?void 0:oU.warn;const zre={class:"absolute top-1.5 [line-height:0] [right:1vw]"},Kre={class:"overflow-hidden rounded-lg shadow-lg ring-1 ring-slate-300"},Gre={__name:"PreviewMenu",props:{editContent:{type:Boolean,default:!1},reselectImage:{type:Boolean,default:!1},editBrand:{type:Boolean,default:!1},rewriteContent:{type:Boolean,default:!1},mapping:{type:Object,default:()=>({section:"",field:"",index:null,pageDataMapping:null})},isUpdated:{type:Boolean,default:!1}},setup(e){const t=e;t.editContent&&!t.mapping.section&&$r.warn("PreviewMenu.vue: If editContent is set to true, then mapping.section must be provided",t),(t.rewriteContent||t.reselectImage)&&!t.mapping.pageDataMapping&&$r.warn("PreviewMenu.vue: If rewriteContent or reselectImage is set to true, then mapping.pageDataMapping must be provided",t);const n=VV.useToast(rC),r=(i,s)=>{fV.send(window==null?void 0:window.parent,i,t==null?void 0:t.mapping,Jne).catch(o=>{n.error("Something went wrong. Please try again."),console.error(o),console.log(t==null?void 0:t.mapping)}),s&&typeof s=="function"&&s()};return(i,s)=>{const o=Lte,a=Mte,l=Ote,u=uV;return te(),De("div",zre,[Se(ve(DV),{class:"relative"},{default:et(({open:c})=>[Se(ve(ah),{class:Pr([c?"":"text-opacity-40 lg:text-opacity-60","group inline-flex items-center rounded-md bg-slate-100 px-0.5 shadow text-brand-primary focus:ring-brand-primary focus:outline-none focus:ring-1 focus:ring-offset-1 focus:ring-offset-slate-100/70 focus:bg-slate ring-1 ring-slate-200 hover:ring-brand-primary/40 hover:bg-slate-100 hover:text-opacity-70"])},{default:et(()=>[Se(o,{class:"w-5 h-5"})]),_:2},1032,["class"]),Se(Hg,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"translate-y-1 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-1 opacity-0"},{default:et(()=>[Se(ve(Vne),{class:"absolute right-0 z-10 pt-1 transform pr-0.5 sm:px-0 w-max"},{default:et(({close:d})=>[ee("div",Kre,[ee("div",{class:"flex flex-col relative gap-2 bg-white p-2 text-sm tracking-normal font-medium",onClick:s[0]||(s[0]=Rl(()=>{},["stop","prevent"]))},[e.editBrand?(te(),ze(ve(ah),{key:0,class:"default-link flex items-center gap-1",type:"button",onClick:Rl(f=>r("previewFrameEditBrand",d),["stop","prevent"])},{default:et(()=>[Se(a,{class:"w-4 h-4"}),s[1]||(s[1]=En(" Customize Brand "))]),_:2},1032,["onClick"])):Ge("",!0),e.editContent?(te(),ze(ve(ah),{key:1,class:"default-link flex items-center gap-1",type:"button",onClick:Rl(f=>r("previewFrameEditContent",d),["stop","prevent"])},{default:et(()=>[Se(l,{class:"w-4 h-4"}),s[2]||(s[2]=En(" Edit Content "))]),_:2},1032,["onClick"])):Ge("",!0),e.rewriteContent?(te(),ze(ve(ah),{key:2,type:"button",class:"group flex items-center gap-1",title:"AI will rewrite this selected content for you",onClick:Rl(f=>r("previewFrameRewriteContent",d),["stop","prevent"])},{default:et(()=>[Se(u,{class:"w-4 h-4 text-brand-primary underline group-hover:no-underline group-hover:text-brand-secondary"}),s[3]||(s[3]=ee("span",{class:"text-brand-primary underline group-hover:no-underline group-hover:text-brand-secondary"},"Rewrite Text",-1)),s[4]||(s[4]=ee("span",{class:"text-xs bg-brand-alt px-2 rounded-full text-white flex-row-center font-mono font-semibold no-underline group-hover:no-underline"},"AI",-1))]),_:2},1032,["onClick"])):Ge("",!0),e.reselectImage?(te(),ze(ve(ah),{key:3,class:"group flex items-center gap-1",type:"button",title:"AI will reselect another image for you",onClick:Rl(f=>r("previewFrameReselectImage",d),["stop","prevent"])},{default:et(()=>[Se(u,{class:"w-4 h-4 text-brand-primary underline group-hover:no-underline group-hover:text-brand-secondary"}),s[5]||(s[5]=ee("span",{class:"text-brand-primary underline group-hover:no-underline group-hover:text-brand-secondary"},"Reselect Image",-1)),s[6]||(s[6]=ee("span",{class:"text-xs bg-brand-alt px-2 rounded-full text-white flex-row-center font-mono font-semibold no-underline group-hover:no-underline"},"AI",-1))]),_:2},1032,["onClick"])):Ge("",!0)])])]),_:1})]),_:1})]),_:1})])}}},hD=(e,t,n)=>{if(e.querySelector(".preview-menu-container"))return;const r=document.createElement("div");r.classList.add("preview-menu-container"),e.classList.add("preview-menu-wrapper"),e.classList.add("relative"),qg(Gre,{...t==null?void 0:t.value,isUpdated:n}).mount(r),e.appendChild(r)},Yre=async({app:e})=>{e.directive("preview",{updated(t,n){hD(t,n,!0)},mounted(t,n){hD(t,n,!1)}})},Xre=Object.freeze(Object.defineProperty({__proto__:null,install:Yre},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Te=function(e,t){if(!e)throw xp(t)},xp=function(e){return new Error("Firebase Database ("+ej.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Qre=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},Zw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(f=64)),r.push(n[c],n[d],n[f],n[p])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(tj(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Qre(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new Jre;const f=s<<2|a>>4;if(r.push(f),u!==64){const p=a<<4&240|u>>2;if(r.push(p),d!==64){const g=u<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Jre extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nj=function(e){const t=tj(e);return Zw.encodeByteArray(t,!0)},R0=function(e){return nj(e).replace(/\./g,"")},P0=function(e){try{return Zw.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zre(e){return rj(void 0,e)}function rj(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!eie(n)||(e[n]=rj(e[n],t[n]));return e}function eie(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ij(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tie=()=>ij().__FIREBASE_DEFAULTS__,nie=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},rie=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&P0(e[1]);return t&&JSON.parse(t)},aC=()=>{try{return tie()||nie()||rie()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},sj=e=>{var t,n;return(n=(t=aC())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},lC=e=>{const t=sj(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},oj=()=>{var e;return(e=aC())===null||e===void 0?void 0:e.config},aj=e=>{var t;return(t=aC())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[R0(JSON.stringify(n)),R0(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hi())}function uj(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function cj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iie(){const e=hi();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function dj(){return ej.NODE_ADMIN===!0}function e1(){try{return typeof indexedDB=="object"}catch{return!1}}function fj(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}function sie(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oie="FirebaseError";class Es extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=oie,Object.setPrototypeOf(this,Es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$u.prototype.create)}}class $u{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?aie(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Es(i,a,r)}}function aie(e,t){return e.replace(lie,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const lie=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(e){return JSON.parse(e)}function kr(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=Gg(P0(s[0])||""),n=Gg(P0(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},uie=function(e){const t=pj(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},cie=function(e){const t=pj(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Uf(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function N$(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function M0(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Yg(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(gD(s)&&gD(o)){if(!Yg(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function gD(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Rh(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(s)}}),t}function Ph(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class die{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if(typeof t=="string")for(let d=0;d<16;d++)r[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):d<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const f=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[o]=t.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=t[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)t[r]=this.chain_[i]>>s&255,++r;return t}}function fie(e,t){const n=new pie(e,t);return n.subscribe.bind(n)}class pie{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");hie(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=mE),i.error===void 0&&(i.error=mE),i.complete===void 0&&(i.complete=mE);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hie(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function mE(){}function cC(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gie=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,Te(r<e.length,"Surrogate pair missing trail surrogate.");const o=e.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},t1=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mie=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vie=1e3,yie=2,_ie=4*60*60*1e3,bie=.5;function L$(e,t=vie,n=yie){const r=t*Math.pow(n,e),i=Math.round(bie*r*(Math.random()-.5)*2);return Math.min(_ie,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(e){return e&&e._delegate?e._delegate:e}class gi{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wie{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new lu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Eie(t))try{this.getOrInitializeService({instanceIdentifier:Qu})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Qu){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Qu){return this.instances.has(t)}getOptions(t=Qu){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xie(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Qu){return this.component?this.component.multipleInstances?t:Qu:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xie(e){return e===Qu?void 0:e}function Eie(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sie{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new wie(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Wt||(Wt={}));const $ie={debug:Wt.DEBUG,verbose:Wt.VERBOSE,info:Wt.INFO,warn:Wt.WARN,error:Wt.ERROR,silent:Wt.SILENT},Tie=Wt.INFO,kie={[Wt.DEBUG]:"log",[Wt.VERBOSE]:"log",[Wt.INFO]:"info",[Wt.WARN]:"warn",[Wt.ERROR]:"error"},Iie=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=kie[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Sp{constructor(t){this.name=t,this._logLevel=Tie,this._logHandler=Iie,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Wt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?$ie[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Wt.DEBUG,...t),this._logHandler(this,Wt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Wt.VERBOSE,...t),this._logHandler(this,Wt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Wt.INFO,...t),this._logHandler(this,Wt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Wt.WARN,...t),this._logHandler(this,Wt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Wt.ERROR,...t),this._logHandler(this,Wt.ERROR,...t)}}const Cie=(e,t)=>t.some(n=>e instanceof n);let mD,vD;function Aie(){return mD||(mD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Oie(){return vD||(vD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hj=new WeakMap,F$=new WeakMap,gj=new WeakMap,vE=new WeakMap,dC=new WeakMap;function Rie(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Gl(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&hj.set(n,e)}).catch(()=>{}),dC.set(t,e),t}function Pie(e){if(F$.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});F$.set(e,t)}let B$={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return F$.get(e);if(t==="objectStoreNames")return e.objectStoreNames||gj.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gl(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Mie(e){B$=e(B$)}function Die(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(yE(this),t,...n);return gj.set(r,t.sort?t.sort():[t]),Gl(r)}:Oie().includes(e)?function(...t){return e.apply(yE(this),t),Gl(hj.get(this))}:function(...t){return Gl(e.apply(yE(this),t))}}function Nie(e){return typeof e=="function"?Die(e):(e instanceof IDBTransaction&&Pie(e),Cie(e,Aie())?new Proxy(e,B$):e)}function Gl(e){if(e instanceof IDBRequest)return Rie(e);if(vE.has(e))return vE.get(e);const t=Nie(e);return t!==e&&(vE.set(e,t),dC.set(t,e)),t}const yE=e=>dC.get(e);function Lie(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=Gl(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Gl(o.result),l.oldVersion,l.newVersion,Gl(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const Fie=["get","getKey","getAll","getAllKeys","count"],Bie=["put","add","delete","clear"],_E=new Map;function yD(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(_E.get(t))return _E.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Bie.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Fie.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return _E.set(t,s),s}Mie(e=>({...e,get:(t,n,r)=>yD(t,n)||e.get(t,n,r),has:(t,n)=>!!yD(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uie{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Vie(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Vie(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const U$="@firebase/app",_D="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac=new Sp("@firebase/app"),jie="@firebase/app-compat",Hie="@firebase/analytics-compat",Wie="@firebase/analytics",qie="@firebase/app-check-compat",zie="@firebase/app-check",Kie="@firebase/auth",Gie="@firebase/auth-compat",Yie="@firebase/database",Xie="@firebase/database-compat",Qie="@firebase/functions",Jie="@firebase/functions-compat",Zie="@firebase/installations",ese="@firebase/installations-compat",tse="@firebase/messaging",nse="@firebase/messaging-compat",rse="@firebase/performance",ise="@firebase/performance-compat",sse="@firebase/remote-config",ose="@firebase/remote-config-compat",ase="@firebase/storage",lse="@firebase/storage-compat",use="@firebase/firestore",cse="@firebase/firestore-compat",dse="firebase",fse="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V$="[DEFAULT]",pse={[U$]:"fire-core",[jie]:"fire-core-compat",[Wie]:"fire-analytics",[Hie]:"fire-analytics-compat",[zie]:"fire-app-check",[qie]:"fire-app-check-compat",[Kie]:"fire-auth",[Gie]:"fire-auth-compat",[Yie]:"fire-rtdb",[Xie]:"fire-rtdb-compat",[Qie]:"fire-fn",[Jie]:"fire-fn-compat",[Zie]:"fire-iid",[ese]:"fire-iid-compat",[tse]:"fire-fcm",[nse]:"fire-fcm-compat",[rse]:"fire-perf",[ise]:"fire-perf-compat",[sse]:"fire-rc",[ose]:"fire-rc-compat",[ase]:"fire-gcs",[lse]:"fire-gcs-compat",[use]:"fire-fst",[cse]:"fire-fst-compat","fire-js":"fire-js",[dse]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg=new Map,j$=new Map;function hse(e,t){try{e.container.addComponent(t)}catch(n){Ac.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Oi(e){const t=e.name;if(j$.has(t))return Ac.debug(`There were multiple attempts to register component ${t}.`),!1;j$.set(t,e);for(const n of Xg.values())hse(n,e);return!0}function yo(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gse={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Yl=new $u("app","Firebase",gse);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mse{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Yl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu=fse;function mj(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:V$,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Yl.create("bad-app-name",{appName:String(i)});if(n||(n=oj()),!n)throw Yl.create("no-options");const s=Xg.get(i);if(s){if(Yg(n,s.options)&&Yg(r,s.config))return s;throw Yl.create("duplicate-app",{appName:i})}const o=new Sie(i);for(const l of j$.values())o.addComponent(l);const a=new mse(n,r,o);return Xg.set(i,a),a}function rd(e=V$){const t=Xg.get(e);if(!t&&e===V$&&oj())return mj();if(!t)throw Yl.create("no-app",{appName:e});return t}function vse(){return Array.from(Xg.values())}function Or(e,t,n){var r;let i=(r=pse[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ac.warn(a.join(" "));return}Oi(new gi(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yse="firebase-heartbeat-database",_se=1,Qg="firebase-heartbeat-store";let bE=null;function vj(){return bE||(bE=Lie(yse,_se,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Qg)}}}).catch(e=>{throw Yl.create("idb-open",{originalErrorMessage:e.message})})),bE}async function bse(e){try{return await(await vj()).transaction(Qg).objectStore(Qg).get(yj(e))}catch(t){if(t instanceof Es)Ac.warn(t.message);else{const n=Yl.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ac.warn(n.message)}}}async function bD(e,t){try{const r=(await vj()).transaction(Qg,"readwrite");await r.objectStore(Qg).put(t,yj(e)),await r.done}catch(n){if(n instanceof Es)Ac.warn(n.message);else{const r=Yl.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ac.warn(r.message)}}}function yj(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wse=1024,xse=30*24*60*60*1e3;class Ese{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $se(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=wD();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=xse}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=wD(),{heartbeatsToSend:n,unsentEntries:r}=Sse(this._heartbeatsCache.heartbeats),i=R0(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function wD(){return new Date().toISOString().substring(0,10)}function Sse(e,t=wse){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),xD(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),xD(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class $se{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return e1()?fj().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await bse(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return bD(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return bD(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function xD(e){return R0(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tse(e){Oi(new gi("platform-logger",t=>new Uie(t),"PRIVATE")),Oi(new gi("heartbeat",t=>new Ese(t),"PRIVATE")),Or(U$,_D,e),Or(U$,_D,"esm2017"),Or("fire-js","")}Tse("");var kse="firebase",Ise="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Or(kse,Ise,"app");const ED="@firebase/database",SD="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _j="";function Cse(e){_j=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ase{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),kr(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Gg(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ose{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return Za(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Ase(t)}}catch{}return new Ose},ic=bj("localStorage"),H$=bj("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf=new Sp("@firebase/database"),Rse=function(){let e=1;return function(){return e++}}(),wj=function(e){const t=gie(e),n=new die;n.update(t);const r=n.digest();return Zw.encodeByteArray(r)},lv=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=lv.apply(null,r):typeof r=="object"?t+=kr(r):t+=r,t+=" "}return t};let vc=null,$D=!0;const Pse=function(e,t){Te(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(hf.logLevel=Wt.VERBOSE,vc=hf.log.bind(hf),t&&H$.set("logging_enabled",!0)):typeof e=="function"?vc=e:(vc=null,H$.remove("logging_enabled"))},ai=function(...e){if($D===!0&&($D=!1,vc===null&&H$.get("logging_enabled")===!0&&Pse(!0)),vc){const t=lv.apply(null,e);vc(t)}},uv=function(e){return function(...t){ai(e,...t)}},W$=function(...e){const t="FIREBASE INTERNAL ERROR: "+lv(...e);hf.error(t)},ja=function(...e){const t=`FIREBASE FATAL ERROR: ${lv(...e)}`;throw hf.error(t),new Error(t)},Xi=function(...e){const t="FIREBASE WARNING: "+lv(...e);hf.warn(t)},Mse=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Xi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},xj=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Dse=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Vf="[MIN_NAME]",Oc="[MAX_NAME]",$p=function(e,t){if(e===t)return 0;if(e===Vf||t===Oc)return-1;if(t===Vf||e===Oc)return 1;{const n=TD(e),r=TD(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},Nse=function(e,t){return e===t?0:e<t?-1:1},lh=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+kr(t))},fC=function(e){if(typeof e!="object"||e===null)return kr(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=kr(t[r]),n+=":",n+=fC(e[t[r]]);return n+="}",n},Ej=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function rs(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const Sj=function(e){Te(!xj(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let i,s,o,a,l;e===0?(s=0,o=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=a+r,o=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(e/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=t;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(c.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},Lse=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Fse=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Bse(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}const Use=new RegExp("^-?(0*)\\d{1,10}$"),Vse=-2147483648,jse=2147483647,TD=function(e){if(Use.test(e)){const t=Number(e);if(t>=Vse&&t<=jse)return t}return null},Tp=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw Xi("Exception was thrown by user callback.",n),t},Math.floor(0))}},Hse=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},eg=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wse{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){Xi(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qse{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(ai("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Xi(t)}}class gf{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}gf.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC="5",$j="v",Tj="s",kj="r",Ij="f",Cj=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Aj="ls",Oj="p",q$="ac",Rj="websocket",Pj="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(t,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ic.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&ic.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function zse(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function Dj(e,t,n){Te(typeof t=="string","typeof type must == string"),Te(typeof n=="object","typeof params must == object");let r;if(t===Rj)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===Pj)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);zse(e)&&(n.ns=e.namespace);const i=[];return rs(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kse{constructor(){this.counters_={}}incrementCounter(t,n=1){Za(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return Zre(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE={},xE={};function hC(e){const t=e.toString();return wE[t]||(wE[t]=new Kse),wE[t]}function Gse(e,t){const n=e.toString();return xE[n]||(xE[n]=t()),xE[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yse{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Tp(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD="start",Xse="close",Qse="pLPCommand",Jse="pRTLPCB",Nj="id",Lj="pw",Fj="ser",Zse="cb",eoe="seg",toe="ts",noe="d",roe="dframe",Bj=1870,Uj=30,ioe=Bj-Uj,soe=25e3,ooe=3e4;class Yd{constructor(t,n,r,i,s,o,a){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=uv(t),this.stats_=hC(n),this.urlFn=l=>(this.appCheckToken&&(l[q$]=this.appCheckToken),Dj(n,Pj,l))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Yse(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(ooe)),Dse(()=>{if(this.isClosed_)return;this.scriptTagHolder=new gC((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===kD)this.id=a,this.password=l;else if(o===Xse)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[kD]="t",r[Fj]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Zse]=this.scriptTagHolder.uniqueCallbackIdentifier),r[$j]=pC,this.transportSessionId&&(r[Tj]=this.transportSessionId),this.lastSessionId&&(r[Aj]=this.lastSessionId),this.applicationId&&(r[Oj]=this.applicationId),this.appCheckToken&&(r[q$]=this.appCheckToken),typeof location<"u"&&location.hostname&&Cj.test(location.hostname)&&(r[kj]=Ij);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Yd.forceAllow_=!0}static forceDisallow(){Yd.forceDisallow_=!0}static isAvailable(){return Yd.forceAllow_?!0:!Yd.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Lse()&&!Fse()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=kr(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=nj(n),i=Ej(r,ioe);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[roe]="t",r[Nj]=t,r[Lj]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=kr(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class gC{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Rse(),window[Qse+this.uniqueCallbackIdentifier]=t,window[Jse+this.uniqueCallbackIdentifier]=n,this.myIFrame=gC.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){ai("frame writing exception"),a.stack&&ai(a.stack),ai(a)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||ai("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[Nj]=this.myID,t[Lj]=this.myPW,t[Fj]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Uj+r.length<=Bj;){const o=this.pendingSegs.shift();r=r+"&"+eoe+i+"="+o.seg+"&"+toe+i+"="+o.ts+"&"+noe+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(soe)),s=()=>{clearTimeout(i),r()};this.addTag(t,s)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{ai("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aoe=16384,loe=45e3;let D0=null;typeof MozWebSocket<"u"?D0=MozWebSocket:typeof WebSocket<"u"&&(D0=WebSocket);class Js{constructor(t,n,r,i,s,o,a){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=uv(this.connId),this.stats_=hC(n),this.connURL=Js.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,i,s){const o={};return o[$j]=pC,typeof location<"u"&&location.hostname&&Cj.test(location.hostname)&&(o[kj]=Ij),n&&(o[Tj]=n),r&&(o[Aj]=r),i&&(o[q$]=i),s&&(o[Oj]=s),Dj(t,Rj,o)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ic.set("previous_websocket_failure",!0);try{let r;dj(),this.mySock=new D0(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Js.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&D0!==null&&!Js.forceDisallow_}static previouslyFailed(){return ic.isInMemoryStorage||ic.get("previous_websocket_failure")===!0}markConnectionHealthy(){ic.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Gg(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(Te(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=kr(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Ej(n,aoe);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(loe))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Js.responsesRequiredToBeHealthy=2;Js.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Yd,Js]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=Js&&Js.isAvailable();let r=n&&!Js.previouslyFailed();if(t.webSocketOnly&&(n||Xi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Js];else{const i=this.transports_=[];for(const s of Jg.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Jg.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Jg.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uoe=6e4,coe=5e3,doe=10*1024,foe=100*1024,EE="t",ID="d",poe="s",CD="r",hoe="e",AD="o",OD="a",RD="n",PD="p",goe="h";class moe{constructor(t,n,r,i,s,o,a,l,u,c){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=uv("c:"+this.id+":"),this.transportManager_=new Jg(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=eg(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>foe?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>doe?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(EE in t){const n=t[EE];n===OD?this.upgradeIfSecondaryHealthy_():n===CD?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===AD&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=lh("t",t),r=lh("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:PD,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:OD,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:RD,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=lh("t",t),r=lh("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=lh(EE,t);if(ID in t){const r=t[ID];if(n===goe){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===RD){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===poe?this.onConnectionShutdown_(r):n===CD?this.onReset_(r):n===hoe?W$("Server Error: "+r):n===AD?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):W$("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),pC!==r&&Xi("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),eg(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(uoe))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):eg(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(coe))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:PD,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ic.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(t){this.allowedEvents_=t,this.listeners_={},Te(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(t){Te(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0 extends jj{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!uC()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new N0}getInitialEvent(t){return Te(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=32,DD=768;class $n{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function Qt(){return new $n("")}function xt(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function uu(e){return e.pieces_.length-e.pieceNum_}function Rn(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new $n(e.pieces_,t)}function Hj(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function voe(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function Wj(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function qj(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new $n(t,0)}function Ir(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof $n)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new $n(n,0)}function It(e){return e.pieceNum_>=e.pieces_.length}function Ti(e,t){const n=xt(e),r=xt(t);if(n===null)return t;if(n===r)return Ti(Rn(e),Rn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function mC(e,t){if(uu(e)!==uu(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Zs(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(uu(e)>uu(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class yoe{constructor(t,n){this.errorPrefix_=n,this.parts_=Wj(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=t1(this.parts_[r]);zj(this)}}function _oe(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=t1(t),zj(e)}function boe(e){const t=e.parts_.pop();e.byteLength_-=t1(t),e.parts_.length>0&&(e.byteLength_-=1)}function zj(e){if(e.byteLength_>DD)throw new Error(e.errorPrefix_+"has a key path longer than "+DD+" bytes ("+e.byteLength_+").");if(e.parts_.length>MD)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+MD+") or object contains a cycle "+Ju(e))}function Ju(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC extends jj{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new vC}getInitialEvent(t){return Te(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh=1e3,woe=60*5*1e3,ND=30*1e3,xoe=1.3,Eoe=3e4,Soe="server_kill",LD=3;class Ia extends Vj{constructor(t,n,r,i,s,o,a,l){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Ia.nextPersistentConnectionId_++,this.log_=uv("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=uh,this.maxReconnectDelay_=woe,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!dj())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");vC.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&N0.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const i=++this.requestNumber_,s={r:i,a:t,b:n};this.log_(kr(s)),Te(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(t){this.initConnection_();const n=new lu,i={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(t,n,r,i){this.initConnection_();const s=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),Te(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Te(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:t,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";t.tag&&(s.q=n._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;Ia.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===t&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),t.onComplete&&t.onComplete(u,l))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&Za(t,"w")){const r=Uf(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Xi(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||cie(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=ND)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=uie(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),Te(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,t._queryObject,n)}sendUnlisten_(t,n,r,i){this.log_("Unlisten on "+t+" for "+n);const s={p:t},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(t,n,r,i){this.putInternal("p",t,n,r,i)}merge(t,n,r,i){this.putInternal("m",t,n,r,i)}putInternal(t,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:t,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+kr(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):W$("Unrecognized action received from server: "+kr(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){Te(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=uh,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=uh,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Eoe&&(this.reconnectDelay_=uh),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*xoe)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Ia.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(d){Te(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?ai("getToken() completed but was canceled"):(ai("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new moe(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,p=>{Xi(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(Soe)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Xi(d),l())}}}interrupt(t){ai("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){ai("Resuming connection for reason: "+t),delete this.interruptReasons_[t],N$(this.interruptReasons_)&&(this.reconnectDelay_=uh,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(s=>fC(s)).join("$"):r="default";const i=this.removeListen_(t,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,n){const r=new $n(t).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(t,n){ai("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=LD&&(this.reconnectDelay_=ND,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){ai("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=LD&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+_j.replace(/\./g,"-")]=1,uC()?t["framework.cordova"]=1:cj()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=N0.getInstance().currentlyOnline();return N$(this.interruptReasons_)&&t}}Ia.nextPersistentConnectionId_=0;Ia.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new St(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new St(Vf,t),i=new St(Vf,n);return this.compare(r,i)!==0}minPost(){return St.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ky;class Kj extends n1{static get __EMPTY_NODE(){return ky}static set __EMPTY_NODE(t){ky=t}compare(t,n){return $p(t.name,n.name)}isDefinedOn(t){throw xp("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return St.MIN}maxPost(){return new St(Oc,ky)}makePost(t,n){return Te(typeof t=="string","KeyIndex indexValue must always be a string."),new St(t,ky)}toString(){return".key"}}const mf=new Kj;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(t,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,i&&(o*=-1),o<0)this.isReverse_?t=t.left:t=t.right;else if(o===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Hr{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??Hr.RED,this.left=i??Gi.EMPTY_NODE,this.right=s??Gi.EMPTY_NODE}copy(t,n,r,i,s){return new Hr(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Gi.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return Gi.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Hr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Hr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Hr.RED=!0;Hr.BLACK=!1;class $oe{copy(t,n,r,i,s){return this}insert(t,n,r){return new Hr(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Gi{constructor(t,n=Gi.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new Gi(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Hr.BLACK,null,null))}remove(t){return new Gi(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Hr.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Iy(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Iy(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Iy(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Iy(this.root_,null,this.comparator_,!0,t)}}Gi.EMPTY_NODE=new $oe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Toe(e,t){return $p(e.name,t.name)}function yC(e,t){return $p(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let z$;function koe(e){z$=e}const Gj=function(e){return typeof e=="number"?"number:"+Sj(e):"string:"+e},Yj=function(e){if(e.isLeafNode()){const t=e.val();Te(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Za(t,".sv"),"Priority must be a string or number.")}else Te(e===z$||e.isEmpty(),"priority of unexpected type.");Te(e===z$||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FD;class Vr{constructor(t,n=Vr.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Te(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Yj(this.priorityNode_)}static set __childrenNodeConstructor(t){FD=t}static get __childrenNodeConstructor(){return FD}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Vr(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Vr.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return It(t)?this:xt(t)===".priority"?this.priorityNode_:Vr.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:Vr.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=xt(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Te(r!==".priority"||uu(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Vr.__childrenNodeConstructor.EMPTY_NODE.updateChild(Rn(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Gj(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=Sj(this.value_):t+=this.value_,this.lazyHash_=wj(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Vr.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Vr.__childrenNodeConstructor?-1:(Te(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,i=Vr.VALUE_TYPE_ORDER.indexOf(n),s=Vr.VALUE_TYPE_ORDER.indexOf(r);return Te(i>=0,"Unknown leaf type: "+n),Te(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Vr.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xj,Qj;function Ioe(e){Xj=e}function Coe(e){Qj=e}class Aoe extends n1{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?$p(t.name,n.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return St.MIN}maxPost(){return new St(Oc,new Vr("[PRIORITY-POST]",Qj))}makePost(t,n){const r=Xj(t);return new St(n,new Vr("[PRIORITY-POST]",r))}toString(){return".priority"}}const er=new Aoe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ooe=Math.log(2);class Roe{constructor(t){const n=s=>parseInt(Math.log(s)/Ooe,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const L0=function(e,t,n,r){e.sort(t);const i=function(l,u){const c=u-l;let d,f;if(c===0)return null;if(c===1)return d=e[l],f=n?n(d):d,new Hr(f,d.node,Hr.BLACK,null,null);{const p=parseInt(c/2,10)+l,g=i(l,p),h=i(p+1,u);return d=e[p],f=n?n(d):d,new Hr(f,d.node,Hr.BLACK,g,h)}},s=function(l){let u=null,c=null,d=e.length;const f=function(g,h){const m=d-g,v=d;d-=g;const y=i(m+1,v),_=e[m],b=n?n(_):_;p(new Hr(b,_.node,h,null,y))},p=function(g){u?(u.left=g,u=g):(c=g,u=g)};for(let g=0;g<l.count;++g){const h=l.nextBitIsOne(),m=Math.pow(2,l.count-(g+1));h?f(m,Hr.BLACK):(f(m,Hr.BLACK),f(m,Hr.RED))}return c},o=new Roe(e.length),a=s(o);return new Gi(r||t,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SE;const xd={};class xa{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return Te(xd&&er,"ChildrenNode.ts has not been loaded"),SE=SE||new xa({".priority":xd},{".priority":er}),SE}get(t){const n=Uf(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Gi?n:null}hasIndex(t){return Za(this.indexSet_,t.toString())}addIndex(t,n){Te(t!==mf,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(St.Wrap);let o=s.getNext();for(;o;)i=i||t.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=L0(r,t.getCompare()):a=xd;const l=t.toString(),u=Object.assign({},this.indexSet_);u[l]=t;const c=Object.assign({},this.indexes_);return c[l]=a,new xa(c,u)}addToIndexes(t,n){const r=M0(this.indexes_,(i,s)=>{const o=Uf(this.indexSet_,s);if(Te(o,"Missing index implementation for "+s),i===xd)if(o.isDefinedOn(t.node)){const a=[],l=n.getIterator(St.Wrap);let u=l.getNext();for(;u;)u.name!==t.name&&a.push(u),u=l.getNext();return a.push(t),L0(a,o.getCompare())}else return xd;else{const a=n.get(t.name);let l=i;return a&&(l=l.remove(new St(t.name,a))),l.insert(t,t.node)}});return new xa(r,this.indexSet_)}removeFromIndexes(t,n){const r=M0(this.indexes_,i=>{if(i===xd)return i;{const s=n.get(t.name);return s?i.remove(new St(t.name,s)):i}});return new xa(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ch;class tt{constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Yj(this.priorityNode_),this.children_.isEmpty()&&Te(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ch||(ch=new tt(new Gi(yC),null,xa.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ch}updatePriority(t){return this.children_.isEmpty()?this:new tt(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?ch:n}}getChild(t){const n=xt(t);return n===null?this:this.getImmediateChild(n).getChild(Rn(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(Te(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new St(t,n);let i,s;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?ch:this.priorityNode_;return new tt(i,o,s)}}updateChild(t,n){const r=xt(t);if(r===null)return n;{Te(xt(t)!==".priority"||uu(t)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Rn(t),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(er,(o,a)=>{n[o]=a.val(t),r++,s&&tt.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!t&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+Gj(this.getPriority().val())+":"),this.forEachChild(er,(n,r)=>{const i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":wj(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new St(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new St(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new St(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,i=>i);{const i=this.children_.getIteratorFrom(t.name,St.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,i=>i);{const i=this.children_.getReverseIteratorFrom(t.name,St.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===cv?-1:0}withIndex(t){if(t===mf||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new tt(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===mf||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(er),i=n.getIterator(er);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(t){return t===mf?null:this.indexMap_.get(t.toString())}}tt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Poe extends tt{constructor(){super(new Gi(yC),tt.EMPTY_NODE,xa.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return tt.EMPTY_NODE}isEmpty(){return!1}}const cv=new Poe;Object.defineProperties(St,{MIN:{value:new St(Vf,tt.EMPTY_NODE)},MAX:{value:new St(Oc,cv)}});Kj.__EMPTY_NODE=tt.EMPTY_NODE;Vr.__childrenNodeConstructor=tt;koe(cv);Coe(cv);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Moe=!0;function Wr(e,t=null){if(e===null)return tt.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),Te(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new Vr(n,Wr(t))}if(!(e instanceof Array)&&Moe){const n=[];let r=!1;if(rs(e,(o,a)=>{if(o.substring(0,1)!=="."){const l=Wr(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new St(o,l)))}}),n.length===0)return tt.EMPTY_NODE;const s=L0(n,Toe,o=>o.name,yC);if(r){const o=L0(n,er.getCompare());return new tt(s,Wr(t),new xa({".priority":o},{".priority":er}))}else return new tt(s,Wr(t),xa.Default)}else{let n=tt.EMPTY_NODE;return rs(e,(r,i)=>{if(Za(e,r)&&r.substring(0,1)!=="."){const s=Wr(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Wr(t))}}Ioe(Wr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Doe extends n1{constructor(t){super(),this.indexPath_=t,Te(!It(t)&&xt(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?$p(t.name,n.name):s}makePost(t,n){const r=Wr(t),i=tt.EMPTY_NODE.updateChild(this.indexPath_,r);return new St(n,i)}maxPost(){const t=tt.EMPTY_NODE.updateChild(this.indexPath_,cv);return new St(Oc,t)}toString(){return Wj(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Noe extends n1{compare(t,n){const r=t.node.compareTo(n.node);return r===0?$p(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return St.MIN}maxPost(){return St.MAX}makePost(t,n){const r=Wr(t);return new St(n,r)}toString(){return".value"}}const Loe=new Noe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj(e){return{type:"value",snapshotNode:e}}function jf(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Zg(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function em(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function Foe(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(t){this.index_=t}updateChild(t,n,r,i,s,o){Te(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=t.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?t.hasChild(n)?o.trackChildChange(Zg(n,a)):Te(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(jf(n,r)):o.trackChildChange(em(n,r,a))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(er,(i,s)=>{n.hasChild(i)||r.trackChildChange(Zg(i,s))}),n.isLeafNode()||n.forEachChild(er,(i,s)=>{if(t.hasChild(i)){const o=t.getImmediateChild(i);o.equals(s)||r.trackChildChange(em(i,s,o))}else r.trackChildChange(jf(i,s))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?tt.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(t){this.indexedFilter_=new _C(t.getIndex()),this.index_=t.getIndex(),this.startPost_=tm.getStartPost_(t),this.endPost_=tm.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,s,o){return this.matches(new St(n,r))||(r=tt.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,o)}updateFullNode(t,n,r){n.isLeafNode()&&(n=tt.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(tt.EMPTY_NODE);const s=this;return n.forEachChild(er,(o,a)=>{s.matches(new St(o,a))||(i=i.updateImmediateChild(o,tt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Boe{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new tm(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,s,o){return this.rangedFilter_.matches(new St(n,r))||(r=tt.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,o):this.fullLimitUpdateChild_(t,n,r,s,o)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=tt.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=tt.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(tt.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,tt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,p)=>d(p,f)}else o=this.index_.getCompare();const a=t;Te(a.numChildren()===this.limit_,"");const l=new St(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,u,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const p=f==null?1:o(f,l);if(c&&!r.isEmpty()&&p>=0)return s!=null&&s.trackChildChange(em(n,r,d)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Zg(n,d));const h=a.updateImmediateChild(n,tt.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(jf(f.name,f.node)),h.updateImmediateChild(f.name,f.node)):h}}else return r.isEmpty()?t:c&&o(u,l)>=0?(s!=null&&(s.trackChildChange(Zg(u.name,u.node)),s.trackChildChange(jf(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,tt.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=er}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Te(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Te(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Vf}hasEnd(){return this.endSet_}getIndexEndValue(){return Te(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Te(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Oc}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Te(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===er}copy(){const t=new bC;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Uoe(e){return e.loadsAllData()?new _C(e.getIndex()):e.hasLimit()?new Boe(e):new tm(e)}function BD(e){const t={};if(e.isDefault())return t;let n;if(e.index_===er?n="$priority":e.index_===Loe?n="$value":e.index_===mf?n="$key":(Te(e.index_ instanceof Doe,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=kr(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=kr(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+kr(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=kr(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+kr(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function UD(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==er&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0 extends Vj{constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=uv("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(Te(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,i){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const o=F0.getListenId_(t,r),a={};this.listens_[o]=a;const l=BD(t._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),Uf(this.listens_,o)===a){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(t,n){const r=F0.getListenId_(t,n);delete this.listens_[r]}get(t){const n=BD(t._queryParams),r=t._path.toString(),i=new lu;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Ep(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Gg(a.responseText)}catch{Xi("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Xi("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Voe{constructor(){this.rootNode_=tt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(){return{value:null,children:new Map}}function Zj(e,t,n){if(It(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=xt(t);e.children.has(r)||e.children.set(r,B0());const i=e.children.get(r);t=Rn(t),Zj(i,t,n)}}function K$(e,t,n){e.value!==null?n(t,e.value):joe(e,(r,i)=>{const s=new $n(t.toString()+"/"+r);K$(i,s,n)})}function joe(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hoe{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&rs(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD=10*1e3,Woe=30*1e3,qoe=5*60*1e3;class zoe{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Hoe(t);const r=VD+(Woe-VD)*Math.random();eg(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;rs(t,(i,s)=>{s>0&&Za(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),eg(this.reportStats_.bind(this),Math.floor(Math.random()*2*qoe))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eo;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(eo||(eo={}));function eH(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function wC(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function xC(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=eo.ACK_USER_WRITE,this.source=eH()}operationForChild(t){if(It(this.path)){if(this.affectedTree.value!=null)return Te(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new $n(t));return new U0(Qt(),n,this.revert)}}else return Te(xt(this.path)===t,"operationForChild called for unrelated child."),new U0(Rn(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(t,n){this.source=t,this.path=n,this.type=eo.LISTEN_COMPLETE}operationForChild(t){return It(this.path)?new nm(this.source,Qt()):new nm(this.source,Rn(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=eo.OVERWRITE}operationForChild(t){return It(this.path)?new Rc(this.source,Qt(),this.snap.getImmediateChild(t)):new Rc(this.source,Rn(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=eo.MERGE}operationForChild(t){if(It(this.path)){const n=this.children.subtree(new $n(t));return n.isEmpty()?null:n.value?new Rc(this.source,Qt(),n.value):new rm(this.source,Qt(),n)}else return Te(xt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new rm(this.source,Rn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(It(t))return this.isFullyInitialized()&&!this.filtered_;const n=xt(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Koe{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Goe(e,t,n,r){const i=[],s=[];return t.forEach(o=>{o.type==="child_changed"&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(Foe(o.childName,o.snapshotNode))}),dh(e,i,"child_removed",t,r,n),dh(e,i,"child_added",t,r,n),dh(e,i,"child_moved",s,r,n),dh(e,i,"child_changed",t,r,n),dh(e,i,"value",t,r,n),i}function dh(e,t,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>Xoe(e,a,l)),o.forEach(a=>{const l=Yoe(e,a,s);i.forEach(u=>{u.respondsTo(a.type)&&t.push(u.createEvent(l,e.query_))})})}function Yoe(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function Xoe(e,t,n){if(t.childName==null||n.childName==null)throw xp("Should only compare child_ events.");const r=new St(t.childName,t.snapshotNode),i=new St(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(e,t){return{eventCache:e,serverCache:t}}function tg(e,t,n,r){return r1(new cu(t,n,r),e.serverCache)}function tH(e,t,n,r){return r1(e.eventCache,new cu(t,n,r))}function V0(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Pc(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $E;const Qoe=()=>($E||($E=new Gi(Nse)),$E);class Vn{constructor(t,n=Qoe()){this.value=t,this.children=n}static fromObject(t){let n=new Vn(null);return rs(t,(r,i)=>{n=n.set(new $n(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:Qt(),value:this.value};if(It(t))return null;{const r=xt(t),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(Rn(t),n);return s!=null?{path:Ir(new $n(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(It(t))return this;{const n=xt(t),r=this.children.get(n);return r!==null?r.subtree(Rn(t)):new Vn(null)}}set(t,n){if(It(t))return new Vn(n,this.children);{const r=xt(t),s=(this.children.get(r)||new Vn(null)).set(Rn(t),n),o=this.children.insert(r,s);return new Vn(this.value,o)}}remove(t){if(It(t))return this.children.isEmpty()?new Vn(null):new Vn(null,this.children);{const n=xt(t),r=this.children.get(n);if(r){const i=r.remove(Rn(t));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Vn(null):new Vn(this.value,s)}else return this}}get(t){if(It(t))return this.value;{const n=xt(t),r=this.children.get(n);return r?r.get(Rn(t)):null}}setTree(t,n){if(It(t))return n;{const r=xt(t),s=(this.children.get(r)||new Vn(null)).setTree(Rn(t),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Vn(this.value,o)}}fold(t){return this.fold_(Qt(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Ir(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,Qt(),n)}findOnPath_(t,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(It(t))return null;{const s=xt(t),o=this.children.get(s);return o?o.findOnPath_(Rn(t),Ir(n,s),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,Qt(),n)}foreachOnPath_(t,n,r){if(It(t))return this;{this.value&&r(n,this.value);const i=xt(t),s=this.children.get(i);return s?s.foreachOnPath_(Rn(t),Ir(n,i),r):new Vn(null)}}foreach(t){this.foreach_(Qt(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Ir(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(t){this.writeTree_=t}static empty(){return new so(new Vn(null))}}function ng(e,t,n){if(It(t))return new so(new Vn(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const i=r.path;let s=r.value;const o=Ti(i,t);return s=s.updateChild(o,n),new so(e.writeTree_.set(i,s))}else{const i=new Vn(n),s=e.writeTree_.setTree(t,i);return new so(s)}}}function jD(e,t,n){let r=e;return rs(n,(i,s)=>{r=ng(r,Ir(t,i),s)}),r}function HD(e,t){if(It(t))return so.empty();{const n=e.writeTree_.setTree(t,new Vn(null));return new so(n)}}function G$(e,t){return id(e,t)!=null}function id(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Ti(n.path,t)):null}function WD(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(er,(r,i)=>{t.push(new St(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new St(r,i.value))}),t}function Xl(e,t){if(It(t))return e;{const n=id(e,t);return n!=null?new so(new Vn(n)):new so(e.writeTree_.subtree(t))}}function Y$(e){return e.writeTree_.isEmpty()}function Hf(e,t){return nH(Qt(),e.writeTree_,t)}function nH(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,s)=>{i===".priority"?(Te(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=nH(Ir(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(Ir(e,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(e,t){return oH(t,e)}function Joe(e,t,n,r,i){Te(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=ng(e.visibleWrites,t,n)),e.lastWriteId=r}function Zoe(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function eae(e,t){const n=e.allWrites.findIndex(a=>a.writeId===t);Te(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const a=e.allWrites[o];a.visible&&(o>=n&&tae(a,r.path)?i=!1:Zs(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return nae(e),!0;if(r.snap)e.visibleWrites=HD(e.visibleWrites,r.path);else{const a=r.children;rs(a,l=>{e.visibleWrites=HD(e.visibleWrites,Ir(r.path,l))})}return!0}else return!1}function tae(e,t){if(e.snap)return Zs(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Zs(Ir(e.path,n),t))return!0;return!1}function nae(e){e.visibleWrites=rH(e.allWrites,rae,Qt()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function rae(e){return e.visible}function rH(e,t,n){let r=so.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const o=s.path;let a;if(s.snap)Zs(n,o)?(a=Ti(n,o),r=ng(r,a,s.snap)):Zs(o,n)&&(a=Ti(o,n),r=ng(r,Qt(),s.snap.getChild(a)));else if(s.children){if(Zs(n,o))a=Ti(n,o),r=jD(r,a,s.children);else if(Zs(o,n))if(a=Ti(o,n),It(a))r=jD(r,Qt(),s.children);else{const l=Uf(s.children,xt(a));if(l){const u=l.getChild(Rn(a));r=ng(r,Qt(),u)}}}else throw xp("WriteRecord should have .snap or .children")}}return r}function iH(e,t,n,r,i){if(!r&&!i){const s=id(e.visibleWrites,t);if(s!=null)return s;{const o=Xl(e.visibleWrites,t);if(Y$(o))return n;if(n==null&&!G$(o,Qt()))return null;{const a=n||tt.EMPTY_NODE;return Hf(o,a)}}}else{const s=Xl(e.visibleWrites,t);if(!i&&Y$(s))return n;if(!i&&n==null&&!G$(s,Qt()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Zs(u.path,t)||Zs(t,u.path))},a=rH(e.allWrites,o,t),l=n||tt.EMPTY_NODE;return Hf(a,l)}}}function iae(e,t,n){let r=tt.EMPTY_NODE;const i=id(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(er,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Xl(e.visibleWrites,t);return n.forEachChild(er,(o,a)=>{const l=Hf(Xl(s,new $n(o)),a);r=r.updateImmediateChild(o,l)}),WD(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Xl(e.visibleWrites,t);return WD(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function sae(e,t,n,r,i){Te(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Ir(t,n);if(G$(e.visibleWrites,s))return null;{const o=Xl(e.visibleWrites,s);return Y$(o)?i.getChild(n):Hf(o,i.getChild(n))}}function oae(e,t,n,r){const i=Ir(t,n),s=id(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Xl(e.visibleWrites,i);return Hf(o,r.getNode().getImmediateChild(n))}else return null}function aae(e,t){return id(e.visibleWrites,t)}function lae(e,t,n,r,i,s,o){let a;const l=Xl(e.visibleWrites,t),u=id(l,Qt());if(u!=null)a=u;else if(n!=null)a=Hf(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=f.getNext();for(;p&&c.length<i;)d(p,r)!==0&&c.push(p),p=f.getNext();return c}else return[]}function uae(){return{visibleWrites:so.empty(),allWrites:[],lastWriteId:-1}}function j0(e,t,n,r){return iH(e.writeTree,e.treePath,t,n,r)}function EC(e,t){return iae(e.writeTree,e.treePath,t)}function qD(e,t,n,r){return sae(e.writeTree,e.treePath,t,n,r)}function H0(e,t){return aae(e.writeTree,Ir(e.treePath,t))}function cae(e,t,n,r,i,s){return lae(e.writeTree,e.treePath,t,n,r,i,s)}function SC(e,t,n){return oae(e.writeTree,e.treePath,t,n)}function sH(e,t){return oH(Ir(e.treePath,t),e.writeTree)}function oH(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dae{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;Te(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Te(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,em(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Zg(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,jf(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,em(r,t.snapshotNode,i.oldSnap));else throw xp("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fae{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const aH=new fae;class $C{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new cu(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return SC(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Pc(this.viewCache_),s=cae(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pae(e){return{filter:e}}function hae(e,t){Te(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),Te(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function gae(e,t,n,r,i){const s=new dae;let o,a;if(n.type===eo.OVERWRITE){const u=n;u.source.fromUser?o=X$(e,t,u.path,u.snap,r,i,s):(Te(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered()&&!It(u.path),o=W0(e,t,u.path,u.snap,r,i,a,s))}else if(n.type===eo.MERGE){const u=n;u.source.fromUser?o=vae(e,t,u.path,u.children,r,i,s):(Te(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered(),o=Q$(e,t,u.path,u.children,r,i,a,s))}else if(n.type===eo.ACK_USER_WRITE){const u=n;u.revert?o=bae(e,t,u.path,r,i,s):o=yae(e,t,u.path,u.affectedTree,r,i,s)}else if(n.type===eo.LISTEN_COMPLETE)o=_ae(e,t,n.path,r,s);else throw xp("Unknown operation type: "+n.type);const l=s.getChanges();return mae(t,o,l),{viewCache:o,changes:l}}function mae(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=V0(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Jj(V0(t)))}}function lH(e,t,n,r,i,s){const o=t.eventCache;if(H0(r,n)!=null)return t;{let a,l;if(It(n))if(Te(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const u=Pc(t),c=u instanceof tt?u:tt.EMPTY_NODE,d=EC(r,c);a=e.filter.updateFullNode(t.eventCache.getNode(),d,s)}else{const u=j0(r,Pc(t));a=e.filter.updateFullNode(t.eventCache.getNode(),u,s)}else{const u=xt(n);if(u===".priority"){Te(uu(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=t.serverCache.getNode();const d=qD(r,n,c,l);d!=null?a=e.filter.updatePriority(c,d):a=o.getNode()}else{const c=Rn(n);let d;if(o.isCompleteForChild(u)){l=t.serverCache.getNode();const f=qD(r,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(u).updateChild(c,f):d=o.getNode().getImmediateChild(u)}else d=SC(r,u,t.serverCache);d!=null?a=e.filter.updateChild(o.getNode(),u,d,c,i,s):a=o.getNode()}}return tg(t,a,o.isFullyInitialized()||It(n),e.filter.filtersNodes())}}function W0(e,t,n,r,i,s,o,a){const l=t.serverCache;let u;const c=o?e.filter:e.filter.getIndexedFilter();if(It(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),p,null)}else{const p=xt(n);if(!l.isCompleteForPath(n)&&uu(n)>1)return t;const g=Rn(n),m=l.getNode().getImmediateChild(p).updateChild(g,r);p===".priority"?u=c.updatePriority(l.getNode(),m):u=c.updateChild(l.getNode(),p,m,g,aH,null)}const d=tH(t,u,l.isFullyInitialized()||It(n),c.filtersNodes()),f=new $C(i,d,s);return lH(e,d,n,i,f,a)}function X$(e,t,n,r,i,s,o){const a=t.eventCache;let l,u;const c=new $C(i,t,s);if(It(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),l=tg(t,u,!0,e.filter.filtersNodes());else{const d=xt(n);if(d===".priority")u=e.filter.updatePriority(t.eventCache.getNode(),r),l=tg(t,u,a.isFullyInitialized(),a.isFiltered());else{const f=Rn(n),p=a.getNode().getImmediateChild(d);let g;if(It(f))g=r;else{const h=c.getCompleteChild(d);h!=null?Hj(f)===".priority"&&h.getChild(qj(f)).isEmpty()?g=h:g=h.updateChild(f,r):g=tt.EMPTY_NODE}if(p.equals(g))l=t;else{const h=e.filter.updateChild(a.getNode(),d,g,f,c,o);l=tg(t,h,a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function zD(e,t){return e.eventCache.isCompleteForChild(t)}function vae(e,t,n,r,i,s,o){let a=t;return r.foreach((l,u)=>{const c=Ir(n,l);zD(t,xt(c))&&(a=X$(e,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=Ir(n,l);zD(t,xt(c))||(a=X$(e,a,c,u,i,s,o))}),a}function KD(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function Q$(e,t,n,r,i,s,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l=t,u;It(n)?u=r:u=new Vn(null).setTree(n,r);const c=t.serverCache.getNode();return u.children.inorderTraversal((d,f)=>{if(c.hasChild(d)){const p=t.serverCache.getNode().getImmediateChild(d),g=KD(e,p,f);l=W0(e,l,new $n(d),g,i,s,o,a)}}),u.children.inorderTraversal((d,f)=>{const p=!t.serverCache.isCompleteForChild(d)&&f.value===null;if(!c.hasChild(d)&&!p){const g=t.serverCache.getNode().getImmediateChild(d),h=KD(e,g,f);l=W0(e,l,new $n(d),h,i,s,o,a)}}),l}function yae(e,t,n,r,i,s,o){if(H0(i,n)!=null)return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(r.value!=null){if(It(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return W0(e,t,n,l.getNode().getChild(n),i,s,a,o);if(It(n)){let u=new Vn(null);return l.getNode().forEachChild(mf,(c,d)=>{u=u.set(new $n(c),d)}),Q$(e,t,n,u,i,s,a,o)}else return t}else{let u=new Vn(null);return r.foreach((c,d)=>{const f=Ir(n,c);l.isCompleteForPath(f)&&(u=u.set(c,l.getNode().getChild(f)))}),Q$(e,t,n,u,i,s,a,o)}}function _ae(e,t,n,r,i){const s=t.serverCache,o=tH(t,s.getNode(),s.isFullyInitialized()||It(n),s.isFiltered());return lH(e,o,n,r,aH,i)}function bae(e,t,n,r,i,s){let o;if(H0(r,n)!=null)return t;{const a=new $C(r,t,i),l=t.eventCache.getNode();let u;if(It(n)||xt(n)===".priority"){let c;if(t.serverCache.isFullyInitialized())c=j0(r,Pc(t));else{const d=t.serverCache.getNode();Te(d instanceof tt,"serverChildren would be complete if leaf node"),c=EC(r,d)}c=c,u=e.filter.updateFullNode(l,c,s)}else{const c=xt(n);let d=SC(r,c,t.serverCache);d==null&&t.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=e.filter.updateChild(l,c,d,Rn(n),a,s):t.eventCache.getNode().hasChild(c)?u=e.filter.updateChild(l,c,tt.EMPTY_NODE,Rn(n),a,s):u=l,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=j0(r,Pc(t)),o.isLeafNode()&&(u=e.filter.updateFullNode(u,o,s)))}return o=t.serverCache.isFullyInitialized()||H0(r,Qt())!=null,tg(t,u,o,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wae{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new _C(r.getIndex()),s=Uoe(r);this.processor_=pae(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(tt.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(tt.EMPTY_NODE,a.getNode(),null),c=new cu(l,o.isFullyInitialized(),i.filtersNodes()),d=new cu(u,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=r1(d,c),this.eventGenerator_=new Koe(this.query_)}get query(){return this.query_}}function xae(e){return e.viewCache_.serverCache.getNode()}function Eae(e){return V0(e.viewCache_)}function Sae(e,t){const n=Pc(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!It(t)&&!n.getImmediateChild(xt(t)).isEmpty())?n.getChild(t):null}function GD(e){return e.eventRegistrations_.length===0}function $ae(e,t){e.eventRegistrations_.push(t)}function YD(e,t,n){const r=[];if(n){Te(t==null,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(t){let i=[];for(let s=0;s<e.eventRegistrations_.length;++s){const o=e.eventRegistrations_[s];if(!o.matches(t))i.push(o);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(s+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function XD(e,t,n,r){t.type===eo.MERGE&&t.source.queryId!==null&&(Te(Pc(e.viewCache_),"We should always have a full cache before handling merges"),Te(V0(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=gae(e.processor_,i,t,n,r);return hae(e.processor_,s.viewCache),Te(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,uH(e,s.changes,s.viewCache.eventCache.getNode(),null)}function Tae(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(er,(s,o)=>{r.push(jf(s,o))}),n.isFullyInitialized()&&r.push(Jj(n.getNode())),uH(e,r,n.getNode(),t)}function uH(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return Goe(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let q0;class cH{constructor(){this.views=new Map}}function kae(e){Te(!q0,"__referenceConstructor has already been defined"),q0=e}function Iae(){return Te(q0,"Reference.ts has not been loaded"),q0}function Cae(e){return e.views.size===0}function TC(e,t,n,r){const i=t.source.queryId;if(i!==null){const s=e.views.get(i);return Te(s!=null,"SyncTree gave us an op for an invalid query."),XD(s,t,n,r)}else{let s=[];for(const o of e.views.values())s=s.concat(XD(o,t,n,r));return s}}function dH(e,t,n,r,i){const s=t._queryIdentifier,o=e.views.get(s);if(!o){let a=j0(n,i?r:null),l=!1;a?l=!0:r instanceof tt?(a=EC(n,r),l=!1):(a=tt.EMPTY_NODE,l=!1);const u=r1(new cu(a,l,!1),new cu(r,i,!1));return new wae(t,u)}return o}function Aae(e,t,n,r,i,s){const o=dH(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),$ae(o,n),Tae(o,n)}function Oae(e,t,n,r){const i=t._queryIdentifier,s=[];let o=[];const a=du(e);if(i==="default")for(const[l,u]of e.views.entries())o=o.concat(YD(u,n,r)),GD(u)&&(e.views.delete(l),u.query._queryParams.loadsAllData()||s.push(u.query));else{const l=e.views.get(i);l&&(o=o.concat(YD(l,n,r)),GD(l)&&(e.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!du(e)&&s.push(new(Iae())(t._repo,t._path)),{removed:s,events:o}}function fH(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Ql(e,t){let n=null;for(const r of e.views.values())n=n||Sae(r,t);return n}function pH(e,t){if(t._queryParams.loadsAllData())return s1(e);{const r=t._queryIdentifier;return e.views.get(r)}}function hH(e,t){return pH(e,t)!=null}function du(e){return s1(e)!=null}function s1(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let z0;function Rae(e){Te(!z0,"__referenceConstructor has already been defined"),z0=e}function Pae(){return Te(z0,"Reference.ts has not been loaded"),z0}let Mae=1;class QD{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Vn(null),this.pendingWriteTree_=uae(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function gH(e,t,n,r,i){return Joe(e.pendingWriteTree_,t,n,r,i),i?fv(e,new Rc(eH(),t,n)):[]}function sc(e,t,n=!1){const r=Zoe(e.pendingWriteTree_,t);if(eae(e.pendingWriteTree_,t)){let s=new Vn(null);return r.snap!=null?s=s.set(Qt(),!0):rs(r.children,o=>{s=s.set(new $n(o),!0)}),fv(e,new U0(r.path,s,n))}else return[]}function dv(e,t,n){return fv(e,new Rc(wC(),t,n))}function Dae(e,t,n){const r=Vn.fromObject(n);return fv(e,new rm(wC(),t,r))}function Nae(e,t){return fv(e,new nm(wC(),t))}function Lae(e,t,n){const r=IC(e,n);if(r){const i=CC(r),s=i.path,o=i.queryId,a=Ti(s,t),l=new nm(xC(o),a);return AC(e,s,l)}else return[]}function K0(e,t,n,r,i=!1){const s=t._path,o=e.syncPointTree_.get(s);let a=[];if(o&&(t._queryIdentifier==="default"||hH(o,t))){const l=Oae(o,t,n,r);Cae(o)&&(e.syncPointTree_=e.syncPointTree_.remove(s));const u=l.removed;if(a=l.events,!i){const c=u.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=e.syncPointTree_.findOnPath(s,(f,p)=>du(p));if(c&&!d){const f=e.syncPointTree_.subtree(s);if(!f.isEmpty()){const p=Uae(f);for(let g=0;g<p.length;++g){const h=p[g],m=h.query,v=_H(e,h);e.listenProvider_.startListening(rg(m),im(e,m),v.hashFn,v.onComplete)}}}!d&&u.length>0&&!r&&(c?e.listenProvider_.stopListening(rg(t),null):u.forEach(f=>{const p=e.queryToTagMap.get(o1(f));e.listenProvider_.stopListening(rg(f),p)}))}Vae(e,u)}return a}function mH(e,t,n,r){const i=IC(e,r);if(i!=null){const s=CC(i),o=s.path,a=s.queryId,l=Ti(o,t),u=new Rc(xC(a),l,n);return AC(e,o,u)}else return[]}function Fae(e,t,n,r){const i=IC(e,r);if(i){const s=CC(i),o=s.path,a=s.queryId,l=Ti(o,t),u=Vn.fromObject(n),c=new rm(xC(a),l,u);return AC(e,o,c)}else return[]}function J$(e,t,n,r=!1){const i=t._path;let s=null,o=!1;e.syncPointTree_.foreachOnPath(i,(f,p)=>{const g=Ti(f,i);s=s||Ql(p,g),o=o||du(p)});let a=e.syncPointTree_.get(i);a?(o=o||du(a),s=s||Ql(a,Qt())):(a=new cH,e.syncPointTree_=e.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=tt.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((p,g)=>{const h=Ql(g,Qt());h&&(s=s.updateImmediateChild(p,h))}));const u=hH(a,t);if(!u&&!t._queryParams.loadsAllData()){const f=o1(t);Te(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");const p=jae();e.queryToTagMap.set(f,p),e.tagToQueryMap.set(p,f)}const c=i1(e.pendingWriteTree_,i);let d=Aae(a,t,n,c,s,l);if(!u&&!o&&!r){const f=pH(a,t);d=d.concat(Hae(e,t,f))}return d}function kC(e,t,n){const i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(o,a)=>{const l=Ti(o,t),u=Ql(a,l);if(u)return u});return iH(i,t,s,n,!0)}function Bae(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(u,c)=>{const d=Ti(u,n);r=r||Ql(c,d)});let i=e.syncPointTree_.get(n);i?r=r||Ql(i,Qt()):(i=new cH,e.syncPointTree_=e.syncPointTree_.set(n,i));const s=r!=null,o=s?new cu(r,!0,!1):null,a=i1(e.pendingWriteTree_,t._path),l=dH(i,t,a,s?o.getNode():tt.EMPTY_NODE,s);return Eae(l)}function fv(e,t){return vH(t,e.syncPointTree_,null,i1(e.pendingWriteTree_,Qt()))}function vH(e,t,n,r){if(It(e.path))return yH(e,t,n,r);{const i=t.get(Qt());n==null&&i!=null&&(n=Ql(i,Qt()));let s=[];const o=xt(e.path),a=e.operationForChild(o),l=t.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=sH(r,o);s=s.concat(vH(a,l,u,c))}return i&&(s=s.concat(TC(i,e,r,n))),s}}function yH(e,t,n,r){const i=t.get(Qt());n==null&&i!=null&&(n=Ql(i,Qt()));let s=[];return t.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=sH(r,o),c=e.operationForChild(o);c&&(s=s.concat(yH(c,a,l,u)))}),i&&(s=s.concat(TC(i,e,r,n))),s}function _H(e,t){const n=t.query,r=im(e,n);return{hashFn:()=>(xae(t)||tt.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?Lae(e,n._path,r):Nae(e,n._path);{const s=Bse(i,n);return K0(e,n,null,s)}}}}function im(e,t){const n=o1(t);return e.queryToTagMap.get(n)}function o1(e){return e._path.toString()+"$"+e._queryIdentifier}function IC(e,t){return e.tagToQueryMap.get(t)}function CC(e){const t=e.indexOf("$");return Te(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new $n(e.substr(0,t))}}function AC(e,t,n){const r=e.syncPointTree_.get(t);Te(r,"Missing sync point for query tag that we're tracking");const i=i1(e.pendingWriteTree_,t);return TC(r,n,i,null)}function Uae(e){return e.fold((t,n,r)=>{if(n&&du(n))return[s1(n)];{let i=[];return n&&(i=fH(n)),rs(r,(s,o)=>{i=i.concat(o)}),i}})}function rg(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Pae())(e._repo,e._path):e}function Vae(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const i=o1(r),s=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(s)}}}function jae(){return Mae++}function Hae(e,t,n){const r=t._path,i=im(e,t),s=_H(e,n),o=e.listenProvider_.startListening(rg(t),i,s.hashFn,s.onComplete),a=e.syncPointTree_.subtree(r);if(i)Te(!du(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,c,d)=>{if(!It(u)&&c&&du(c))return[s1(c).query];{let f=[];return c&&(f=f.concat(fH(c).map(p=>p.query))),rs(d,(p,g)=>{f=f.concat(g)}),f}});for(let u=0;u<l.length;++u){const c=l[u];e.listenProvider_.stopListening(rg(c),im(e,c))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new OC(n)}node(){return this.node_}}class RC{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=Ir(this.path_,t);return new RC(this.syncTree_,n)}node(){return kC(this.syncTree_,this.path_)}}const Wae=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},JD=function(e,t,n){if(!e||typeof e!="object")return e;if(Te(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return qae(e[".sv"],t,n);if(typeof e[".sv"]=="object")return zae(e[".sv"],t);Te(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},qae=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:Te(!1,"Unexpected server value: "+e)}},zae=function(e,t,n){e.hasOwnProperty("increment")||Te(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&Te(!1,"Unexpected increment value: "+r);const i=t.node();if(Te(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},Kae=function(e,t,n,r){return PC(t,new RC(n,e),r)},bH=function(e,t,n){return PC(e,new OC(t),n)};function PC(e,t,n){const r=e.getPriority().val(),i=JD(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const o=e,a=JD(o.getValue(),t,n);return a!==o.getValue()||i!==o.getPriority().val()?new Vr(a,Wr(i)):e}else{const o=e;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Vr(i))),o.forEachChild(er,(a,l)=>{const u=PC(l,t.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function DC(e,t){let n=t instanceof $n?t:new $n(t),r=e,i=xt(n);for(;i!==null;){const s=Uf(r.node.children,i)||{children:{},childCount:0};r=new MC(i,r,s),n=Rn(n),i=xt(n)}return r}function kp(e){return e.node.value}function wH(e,t){e.node.value=t,Z$(e)}function xH(e){return e.node.childCount>0}function Gae(e){return kp(e)===void 0&&!xH(e)}function a1(e,t){rs(e.node.children,(n,r)=>{t(new MC(n,e,r))})}function EH(e,t,n,r){n&&!r&&t(e),a1(e,i=>{EH(i,t,!0,r)}),n&&r&&t(e)}function Yae(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function pv(e){return new $n(e.parent===null?e.name:pv(e.parent)+"/"+e.name)}function Z$(e){e.parent!==null&&Xae(e.parent,e.name,e)}function Xae(e,t,n){const r=Gae(n),i=Za(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Z$(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,Z$(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qae=/[\[\].#$\/\u0000-\u001F\u007F]/,Jae=/[\[\].#$\u0000-\u001F\u007F]/,TE=10*1024*1024,SH=function(e){return typeof e=="string"&&e.length!==0&&!Qae.test(e)},$H=function(e){return typeof e=="string"&&e.length!==0&&!Jae.test(e)},Zae=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),$H(e)},ele=function(e,t,n,r){r&&t===void 0||NC(cC(e,"value"),t,n)},NC=function(e,t,n){const r=n instanceof $n?new yoe(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Ju(r));if(typeof t=="function")throw new Error(e+"contains a function "+Ju(r)+" with contents = "+t.toString());if(xj(t))throw new Error(e+"contains "+t.toString()+" "+Ju(r));if(typeof t=="string"&&t.length>TE/3&&t1(t)>TE)throw new Error(e+"contains a string greater than "+TE+" utf8 bytes "+Ju(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,s=!1;if(rs(t,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!SH(o)))throw new Error(e+" contains an invalid key ("+o+") "+Ju(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);_oe(r,o),NC(e,a,r),boe(r)}),i&&s)throw new Error(e+' contains ".value" child '+Ju(r)+" in addition to actual children.")}},TH=function(e,t,n,r){if(!(r&&n===void 0)&&!$H(n))throw new Error(cC(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},tle=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),TH(e,t,n,r)},kH=function(e,t){if(xt(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},nle=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!SH(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Zae(n))throw new Error(cC(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rle{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function LC(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();n!==null&&!mC(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function IH(e,t,n){LC(e,n),CH(e,r=>mC(r,t))}function Wo(e,t,n){LC(e,n),CH(e,r=>Zs(r,t)||Zs(t,r))}function CH(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){const s=i.path;t(s)?(ile(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function ile(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();vc&&ai("event: "+n.toString()),Tp(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sle="repo_interrupt",ole=25;class ale{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new rle,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=B0(),this.transactionQueueTree_=new MC,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function lle(e,t,n){if(e.stats_=hC(e.repoInfo_),e.forceRestClient_||Hse())e.server_=new F0(e.repoInfo_,(r,i,s,o)=>{ZD(e,r,i,s,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>eN(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{kr(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Ia(e.repoInfo_,t,(r,i,s,o)=>{ZD(e,r,i,s,o)},r=>{eN(e,r)},r=>{cle(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=Gse(e.repoInfo_,()=>new zoe(e.stats_,e.server_)),e.infoData_=new Voe,e.infoSyncTree_=new QD({startListening:(r,i,s,o)=>{let a=[];const l=e.infoData_.getNode(r._path);return l.isEmpty()||(a=dv(e.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),BC(e,"connected",!1),e.serverSyncTree_=new QD({startListening:(r,i,s,o)=>(e.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);Wo(e.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function ule(e){const n=e.infoData_.getNode(new $n(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function FC(e){return Wae({timestamp:ule(e)})}function ZD(e,t,n,r,i){e.dataUpdateCount++;const s=new $n(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const l=M0(n,u=>Wr(u));o=Fae(e.serverSyncTree_,s,l,i)}else{const l=Wr(n);o=mH(e.serverSyncTree_,s,l,i)}else if(r){const l=M0(n,u=>Wr(u));o=Dae(e.serverSyncTree_,s,l)}else{const l=Wr(n);o=dv(e.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=u1(e,s)),Wo(e.eventQueue_,a,o)}function eN(e,t){BC(e,"connected",t),t===!1&&ple(e)}function cle(e,t){rs(t,(n,r)=>{BC(e,n,r)})}function BC(e,t,n){const r=new $n("/.info/"+t),i=Wr(n);e.infoData_.updateSnapshot(r,i);const s=dv(e.infoSyncTree_,r,i);Wo(e.eventQueue_,r,s)}function AH(e){return e.nextWriteId_++}function dle(e,t,n){const r=Bae(e.serverSyncTree_,t);return r!=null?Promise.resolve(r):e.server_.get(t).then(i=>{const s=Wr(i).withIndex(t._queryParams.getIndex());J$(e.serverSyncTree_,t,n,!0);let o;if(t._queryParams.loadsAllData())o=dv(e.serverSyncTree_,t._path,s);else{const a=im(e.serverSyncTree_,t);o=mH(e.serverSyncTree_,t._path,s,a)}return Wo(e.eventQueue_,t._path,o),K0(e.serverSyncTree_,t,n,null,!0),s},i=>(l1(e,"get for query "+kr(t)+" failed: "+i),Promise.reject(new Error(i))))}function fle(e,t,n,r,i){l1(e,"set",{path:t.toString(),value:n,priority:r});const s=FC(e),o=Wr(n,r),a=kC(e.serverSyncTree_,t),l=bH(o,a,s),u=AH(e),c=gH(e.serverSyncTree_,t,l,u,!0);LC(e.eventQueue_,c),e.server_.put(t.toString(),o.val(!0),(f,p)=>{const g=f==="ok";g||Xi("set at "+t+" failed: "+f);const h=sc(e.serverSyncTree_,u,!g);Wo(e.eventQueue_,t,h),mle(e,i,f,p)});const d=DH(e,t);u1(e,d),Wo(e.eventQueue_,d,[])}function ple(e){l1(e,"onDisconnectEvents");const t=FC(e),n=B0();K$(e.onDisconnect_,Qt(),(i,s)=>{const o=Kae(i,s,e.serverSyncTree_,t);Zj(n,i,o)});let r=[];K$(n,Qt(),(i,s)=>{r=r.concat(dv(e.serverSyncTree_,i,s));const o=DH(e,i);u1(e,o)}),e.onDisconnect_=B0(),Wo(e.eventQueue_,Qt(),r)}function hle(e,t,n){let r;xt(t._path)===".info"?r=J$(e.infoSyncTree_,t,n):r=J$(e.serverSyncTree_,t,n),IH(e.eventQueue_,t._path,r)}function tN(e,t,n){let r;xt(t._path)===".info"?r=K0(e.infoSyncTree_,t,n):r=K0(e.serverSyncTree_,t,n),IH(e.eventQueue_,t._path,r)}function gle(e){e.persistentConnection_&&e.persistentConnection_.interrupt(sle)}function l1(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),ai(n,...t)}function mle(e,t,n,r){t&&Tp(()=>{if(n==="ok")t(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,t(o)}})}function OH(e,t,n){return kC(e.serverSyncTree_,t,n)||tt.EMPTY_NODE}function UC(e,t=e.transactionQueueTree_){if(t||c1(e,t),kp(t)){const n=PH(e,t);Te(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&vle(e,pv(t),n)}else xH(t)&&a1(t,n=>{UC(e,n)})}function vle(e,t,n){const r=n.map(u=>u.currentWriteId),i=OH(e,t,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];Te(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=Ti(t,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=t;e.server_.put(l.toString(),a,u=>{l1(e,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,c=c.concat(sc(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();c1(e,DC(e.transactionQueueTree_,t)),UC(e,e.transactionQueueTree_),Wo(e.eventQueue_,t,c);for(let f=0;f<d.length;f++)Tp(d[f])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Xi("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}u1(e,t)}},o)}function u1(e,t){const n=RH(e,t),r=pv(n),i=PH(e,n);return yle(e,i,r),r}function yle(e,t,n){if(t.length===0)return;const r=[];let i=[];const o=t.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){const l=t[a],u=Ti(n,l.path);let c=!1,d;if(Te(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,i=i.concat(sc(e.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=ole)c=!0,d="maxretry",i=i.concat(sc(e.serverSyncTree_,l.currentWriteId,!0));else{const f=OH(e,l.path,o);l.currentInputSnapshot=f;const p=t[a].update(f.val());if(p!==void 0){NC("transaction failed: Data returned ",p,l.path);let g=Wr(p);typeof p=="object"&&p!=null&&Za(p,".priority")||(g=g.updatePriority(f.getPriority()));const m=l.currentWriteId,v=FC(e),y=bH(g,f,v);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=y,l.currentWriteId=AH(e),o.splice(o.indexOf(m),1),i=i.concat(gH(e.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally)),i=i.concat(sc(e.serverSyncTree_,m,!0))}else c=!0,d="nodata",i=i.concat(sc(e.serverSyncTree_,l.currentWriteId,!0))}Wo(e.eventQueue_,n,i),i=[],c&&(t[a].status=2,function(f){setTimeout(f,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&(d==="nodata"?r.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):r.push(()=>t[a].onComplete(new Error(d),!1,null))))}c1(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)Tp(r[a]);UC(e,e.transactionQueueTree_)}function RH(e,t){let n,r=e.transactionQueueTree_;for(n=xt(t);n!==null&&kp(r)===void 0;)r=DC(r,n),t=Rn(t),n=xt(t);return r}function PH(e,t){const n=[];return MH(e,t,n),n.sort((r,i)=>r.order-i.order),n}function MH(e,t,n){const r=kp(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);a1(t,i=>{MH(e,i,n)})}function c1(e,t){const n=kp(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,wH(t,n.length>0?n:void 0)}a1(t,r=>{c1(e,r)})}function DH(e,t){const n=pv(RH(e,t)),r=DC(e.transactionQueueTree_,t);return Yae(r,i=>{kE(e,i)}),kE(e,r),EH(r,i=>{kE(e,i)}),n}function kE(e,t){const n=kp(t);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(Te(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(Te(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(sc(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?wH(t,void 0):n.length=s+1,Wo(e.eventQueue_,pv(t),i);for(let o=0;o<r.length;o++)Tp(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _le(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function ble(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Xi(`Invalid query segment '${n}' in query '${e}'`)}return t}const nN=function(e,t){const n=wle(e),r=n.namespace;n.domain==="firebase.com"&&ja(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&ja("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Mse();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Mj(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new $n(n.pathString)}},wle=function(e){let t="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof e=="string"){let u=e.indexOf("//");u>=0&&(a=e.substring(0,u-1),e=e.substring(u+2));let c=e.indexOf("/");c===-1&&(c=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(c,d)),c<d&&(i=_le(e.substring(c,d)));const f=ble(e.substring(Math.min(e.length,d)));u=t.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(t.substring(u+1),10)):u=t.length;const p=t.slice(0,u);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const g=t.indexOf(".");r=t.substring(0,g).toLowerCase(),n=t.substring(g+1),s=r}"ns"in f&&(s=f.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NH{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+kr(this.snapshot.exportVal())}}class LH{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FH{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return Te(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return It(this._path)?null:Hj(this._path)}get ref(){return new Jo(this._repo,this._path)}get _queryIdentifier(){const t=UD(this._queryParams),n=fC(t);return n==="{}"?"default":n}get _queryObject(){return UD(this._queryParams)}isEqual(t){if(t=zt(t),!(t instanceof VC))return!1;const n=this._repo===t._repo,r=mC(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+voe(this._path)}}class Jo extends VC{constructor(t,n){super(t,n,new bC,!1)}get parent(){const t=qj(this._path);return t===null?null:new Jo(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Wf{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new $n(t),r=G0(this.ref,t);return new Wf(this._node.getChild(n),r,er)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new Wf(i,G0(this.ref,r),er)))}hasChild(t){const n=new $n(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function dQe(e,t){return e=zt(e),e._checkNotDeleted("ref"),t!==void 0?G0(e._root,t):e._root}function G0(e,t){return e=zt(e),xt(e._path)===null?tle("child","path",t,!1):TH("child","path",t,!1),new Jo(e._repo,Ir(e._path,t))}function fQe(e){return kH("remove",e._path),xle(e,null)}function xle(e,t){e=zt(e),kH("set",e._path),ele("set",t,e._path,!1);const n=new lu;return fle(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function pQe(e){e=zt(e);const t=new FH(()=>{}),n=new d1(t);return dle(e._repo,e,n).then(r=>new Wf(r,new Jo(e._repo,e._path),e._queryParams.getIndex()))}class d1{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const r=n._queryParams.getIndex();return new NH("value",this,new Wf(t.snapshotNode,new Jo(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new LH(this,t,n):null}matches(t){return t instanceof d1?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class jC{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new LH(this,t,n):null}createEvent(t,n){Te(t.childName!=null,"Child events should have a childName.");const r=G0(new Jo(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new NH(t.type,this,new Wf(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof jC?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function Ele(e,t,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=n,u=(c,d)=>{tN(e._repo,e,a),l(c,d)};u.userCallback=n.userCallback,u.context=n.context,n=u}const o=new FH(n,s||void 0),a=t==="value"?new d1(o):new jC(t,o);return hle(e._repo,e,a),()=>tN(e._repo,e,a)}function hQe(e,t,n,r){return Ele(e,"value",t,n,r)}kae(Jo);Rae(Jo);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sle="FIREBASE_DATABASE_EMULATOR_HOST",eT={};let $le=!1;function Tle(e,t,n,r){e.repoInfo_=new Mj(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}function kle(e,t,n,r,i){let s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||ja("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ai("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o=nN(s,i),a=o.repoInfo,l,u;typeof process<"u"&&process.env&&(u=process.env[Sle]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=nN(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new gf(gf.OWNER):new qse(e.name,e.options,t);nle("Invalid Firebase Database URL",o),It(o.path)||ja("Database URL must point to the root of a Firebase Database (not including a child path).");const d=Cle(a,e,c,new Wse(e.name,n));return new Ale(d,e)}function Ile(e,t){const n=eT[t];(!n||n[e.key]!==e)&&ja(`Database ${t}(${e.repoInfo_}) has already been deleted.`),gle(e),delete n[e.key]}function Cle(e,t,n,r){let i=eT[t.name];i||(i={},eT[t.name]=i);let s=i[e.toURLString()];return s&&ja("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new ale(e,$le,n,r),i[e.toURLString()]=s,s}class Ale{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(lle(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Jo(this._repo,Qt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Ile(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&ja("Cannot call "+t+" on a deleted database.")}}function Ole(e=rd(),t){const n=yo(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=lC("database");r&&Rle(n,...r)}return n}function Rle(e,t,n,r={}){e=zt(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&ja("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&ja('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new gf(gf.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:lj(r.mockUserToken,e.app.options.projectId);s=new gf(o)}Tle(i,t,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ple(e){Cse(Tu),Oi(new gi("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return kle(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Or(ED,SD,e),Or(ED,SD,"esm2017")}Ia.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Ia.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};Ple();var Mle=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ne,HC=HC||{},ot=Mle||self;function f1(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function hv(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function Dle(e){return Object.prototype.hasOwnProperty.call(e,IE)&&e[IE]||(e[IE]=++Nle)}var IE="closure_uid_"+(1e9*Math.random()>>>0),Nle=0;function Lle(e,t,n){return e.call.apply(e.bind,arguments)}function Fle(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function di(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?di=Lle:di=Fle,di.apply(null,arguments)}function Cy(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Gr(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[i].apply(r,o)}}function ku(){this.s=this.s,this.o=this.o}var Ble=0;ku.prototype.s=!1;ku.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Ble!=0)&&Dle(this)};ku.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const BH=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function WC(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function rN(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(f1(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function fi(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}fi.prototype.h=function(){this.defaultPrevented=!0};var Ule=function(){if(!ot.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ot.addEventListener("test",()=>{},t),ot.removeEventListener("test",()=>{},t)}catch{}return e}();function sm(e){return/^[\s\xa0]*$/.test(e)}function p1(){var e=ot.navigator;return e&&(e=e.userAgent)?e:""}function Ro(e){return p1().indexOf(e)!=-1}function qC(e){return qC[" "](e),e}qC[" "]=function(){};function Vle(e,t){var n=Pue;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var jle=Ro("Opera"),qf=Ro("Trident")||Ro("MSIE"),UH=Ro("Edge"),tT=UH||qf,VH=Ro("Gecko")&&!(p1().toLowerCase().indexOf("webkit")!=-1&&!Ro("Edge"))&&!(Ro("Trident")||Ro("MSIE"))&&!Ro("Edge"),Hle=p1().toLowerCase().indexOf("webkit")!=-1&&!Ro("Edge");function jH(){var e=ot.document;return e?e.documentMode:void 0}var nT;e:{var CE="",AE=function(){var e=p1();if(VH)return/rv:([^\);]+)(\)|;)/.exec(e);if(UH)return/Edge\/([\d\.]+)/.exec(e);if(qf)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(Hle)return/WebKit\/(\S+)/.exec(e);if(jle)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(AE&&(CE=AE?AE[1]:""),qf){var OE=jH();if(OE!=null&&OE>parseFloat(CE)){nT=String(OE);break e}}nT=CE}var rT;if(ot.document&&qf){var iN=jH();rT=iN||parseInt(nT,10)||void 0}else rT=void 0;var Wle=rT;function om(e,t){if(fi.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(VH){e:{try{qC(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:qle[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&om.$.h.call(this)}}Gr(om,fi);var qle={2:"touch",3:"pen",4:"mouse"};om.prototype.h=function(){om.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var gv="closure_listenable_"+(1e6*Math.random()|0),zle=0;function Kle(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++zle,this.fa=this.ia=!1}function h1(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function zC(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Gle(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function HH(e){const t={};for(const n in e)t[n]=e[n];return t}const sN="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function WH(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<sN.length;s++)n=sN[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function g1(e){this.src=e,this.g={},this.h=0}g1.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=sT(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new Kle(t,this.src,s,!!r,i),t.ia=n,e.push(t)),t};function iT(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=BH(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(h1(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function sT(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}var KC="closure_lm_"+(1e6*Math.random()|0),RE={};function qH(e,t,n,r,i){if(r&&r.once)return KH(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)qH(e,t[s],n,r,i);return null}return n=XC(n),e&&e[gv]?e.O(t,n,hv(r)?!!r.capture:!!r,i):zH(e,t,n,!1,r,i)}function zH(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=hv(i)?!!i.capture:!!i,a=YC(e);if(a||(e[KC]=a=new g1(e)),n=a.add(t,n,r,o,s),n.proxy)return n;if(r=Yle(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Ule||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(YH(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Yle(){function e(n){return t.call(e.src,e.listener,n)}const t=Xle;return e}function KH(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)KH(e,t[s],n,r,i);return null}return n=XC(n),e&&e[gv]?e.P(t,n,hv(r)?!!r.capture:!!r,i):zH(e,t,n,!0,r,i)}function GH(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)GH(e,t[s],n,r,i);else r=hv(r)?!!r.capture:!!r,n=XC(n),e&&e[gv]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=sT(s,n,r,i),-1<n&&(h1(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=YC(e))&&(t=e.g[t.toString()],e=-1,t&&(e=sT(t,n,r,i)),(n=-1<e?t[e]:null)&&GC(n))}function GC(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[gv])iT(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(YH(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=YC(t))?(iT(n,e),n.h==0&&(n.src=null,t[KC]=null)):h1(e)}}}function YH(e){return e in RE?RE[e]:RE[e]="on"+e}function Xle(e,t){if(e.fa)e=!0;else{t=new om(t,this);var n=e.listener,r=e.la||e.src;e.ia&&GC(e),e=n.call(r,t)}return e}function YC(e){return e=e[KC],e instanceof g1?e:null}var PE="__closure_events_fn_"+(1e9*Math.random()>>>0);function XC(e){return typeof e=="function"?e:(e[PE]||(e[PE]=function(t){return e.handleEvent(t)}),e[PE])}function zr(){ku.call(this),this.i=new g1(this),this.S=this,this.J=null}Gr(zr,ku);zr.prototype[gv]=!0;zr.prototype.removeEventListener=function(e,t,n,r){GH(this,e,t,n,r)};function Zr(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new fi(t,e);else if(t instanceof fi)t.target=t.target||e;else{var i=t;t=new fi(r,e),WH(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Ay(o,r,!0,t)&&i}if(o=t.g=e,i=Ay(o,r,!0,t)&&i,i=Ay(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=Ay(o,r,!1,t)&&i}zr.prototype.N=function(){if(zr.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)h1(n[r]);delete e.g[t],e.h--}}this.J=null};zr.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};zr.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Ay(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&iT(e.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var QC=ot.JSON.stringify;class Qle{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function Jle(){var e=JC;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class Zle{constructor(){this.h=this.g=null}add(t,n){const r=XH.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var XH=new Qle(()=>new eue,e=>e.reset());class eue{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function tue(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function nue(e){ot.setTimeout(()=>{throw e},0)}let am,lm=!1,JC=new Zle,QH=()=>{const e=ot.Promise.resolve(void 0);am=()=>{e.then(rue)}};var rue=()=>{for(var e;e=Jle();){try{e.h.call(e.g)}catch(n){nue(n)}var t=XH;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}lm=!1};function m1(e,t){zr.call(this),this.h=e||1,this.g=t||ot,this.j=di(this.qb,this),this.l=Date.now()}Gr(m1,zr);Ne=m1.prototype;Ne.ga=!1;Ne.T=null;Ne.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Zr(this,"tick"),this.ga&&(ZC(this),this.start()))}};Ne.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function ZC(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}Ne.N=function(){m1.$.N.call(this),ZC(this),delete this.g};function eA(e,t,n){if(typeof e=="function")n&&(e=di(e,n));else if(e&&typeof e.handleEvent=="function")e=di(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:ot.setTimeout(e,t||0)}function JH(e){e.g=eA(()=>{e.g=null,e.i&&(e.i=!1,JH(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class iue extends ku{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:JH(this)}N(){super.N(),this.g&&(ot.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function um(e){ku.call(this),this.h=e,this.g={}}Gr(um,ku);var oN=[];function ZH(e,t,n,r){Array.isArray(n)||(n&&(oN[0]=n.toString()),n=oN);for(var i=0;i<n.length;i++){var s=qH(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function eW(e){zC(e.g,function(t,n){this.g.hasOwnProperty(n)&&GC(t)},e),e.g={}}um.prototype.N=function(){um.$.N.call(this),eW(this)};um.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function v1(){this.g=!0}v1.prototype.Ea=function(){this.g=!1};function sue(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function oue(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function Xd(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+lue(e,n)+(r?" "+r:"")})}function aue(e,t){e.info(function(){return"TIMEOUT: "+t})}v1.prototype.info=function(){};function lue(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return QC(n)}catch{return t}}var sd={},aN=null;function y1(){return aN=aN||new zr}sd.Ta="serverreachability";function tW(e){fi.call(this,sd.Ta,e)}Gr(tW,fi);function cm(e){const t=y1();Zr(t,new tW(t))}sd.STAT_EVENT="statevent";function nW(e,t){fi.call(this,sd.STAT_EVENT,e),this.stat=t}Gr(nW,fi);function ki(e){const t=y1();Zr(t,new nW(t,e))}sd.Ua="timingevent";function rW(e,t){fi.call(this,sd.Ua,e),this.size=t}Gr(rW,fi);function mv(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return ot.setTimeout(function(){e()},t)}var _1={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},iW={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function tA(){}tA.prototype.h=null;function lN(e){return e.h||(e.h=e.i())}function sW(){}var vv={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function nA(){fi.call(this,"d")}Gr(nA,fi);function rA(){fi.call(this,"c")}Gr(rA,fi);var oT;function b1(){}Gr(b1,tA);b1.prototype.g=function(){return new XMLHttpRequest};b1.prototype.i=function(){return{}};oT=new b1;function yv(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new um(this),this.P=uue,e=tT?125:void 0,this.V=new m1(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new oW}function oW(){this.i=null,this.g="",this.h=!1}var uue=45e3,aT={},Y0={};Ne=yv.prototype;Ne.setTimeout=function(e){this.P=e};function lT(e,t,n){e.L=1,e.v=x1(Ha(t)),e.s=n,e.S=!0,aW(e,null)}function aW(e,t){e.G=Date.now(),_v(e),e.A=Ha(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),gW(n.i,"t",r),e.C=0,n=e.l.J,e.h=new oW,e.g=NW(e.l,n?t:null,!e.s),0<e.O&&(e.M=new iue(di(e.Pa,e,e.g),e.O)),ZH(e.U,e.g,"readystatechange",e.nb),t=e.I?HH(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),cm(),sue(e.j,e.u,e.A,e.m,e.W,e.s)}Ne.nb=function(e){e=e.target;const t=this.M;t&&Po(e)==3?t.l():this.Pa(e)};Ne.Pa=function(e){try{if(e==this.g)e:{const c=Po(this.g);var t=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||tT||this.g&&(this.h.h||this.g.ja()||fN(this.g)))){this.J||c!=4||t==7||(t==8||0>=d?cm(3):cm(2)),w1(this);var n=this.g.da();this.ca=n;t:if(lW(this)){var r=fN(this.g);e="";var i=r.length,s=Po(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){oc(this),ig(this);var o="";break t}this.h.i=new ot.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,oue(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!sm(a)){var u=a;break t}}u=null}if(n=u)Xd(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,uT(this,n);else{this.i=!1,this.o=3,ki(12),oc(this),ig(this);break e}}this.S?(uW(this,c,o),tT&&this.i&&c==3&&(ZH(this.U,this.V,"tick",this.mb),this.V.start())):(Xd(this.j,this.m,o,null),uT(this,o)),c==4&&oc(this),this.i&&!this.J&&(c==4?RW(this.l,this):(this.i=!1,_v(this)))}else Aue(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,ki(12)):(this.o=0,ki(13)),oc(this),ig(this)}}}catch{}finally{}};function lW(e){return e.g?e.u=="GET"&&e.L!=2&&e.l.Ha:!1}function uW(e,t,n){let r=!0,i;for(;!e.J&&e.C<n.length;)if(i=cue(e,n),i==Y0){t==4&&(e.o=4,ki(14),r=!1),Xd(e.j,e.m,null,"[Incomplete Response]");break}else if(i==aT){e.o=4,ki(15),Xd(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Xd(e.j,e.m,i,null),uT(e,i);lW(e)&&i!=Y0&&i!=aT&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,ki(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),uA(t),t.M=!0,ki(11))):(Xd(e.j,e.m,n,"[Invalid Chunked Response]"),oc(e),ig(e))}Ne.mb=function(){if(this.g){var e=Po(this.g),t=this.g.ja();this.C<t.length&&(w1(this),uW(this,e,t),this.i&&e!=4&&_v(this))}};function cue(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?Y0:(n=Number(t.substring(n,r)),isNaN(n)?aT:(r+=1,r+n>t.length?Y0:(t=t.slice(r,r+n),e.C=r+n,t)))}Ne.cancel=function(){this.J=!0,oc(this)};function _v(e){e.Y=Date.now()+e.P,cW(e,e.P)}function cW(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=mv(di(e.lb,e),t)}function w1(e){e.B&&(ot.clearTimeout(e.B),e.B=null)}Ne.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(aue(this.j,this.A),this.L!=2&&(cm(),ki(17)),oc(this),this.o=2,ig(this)):cW(this,this.Y-e)};function ig(e){e.l.H==0||e.J||RW(e.l,e)}function oc(e){w1(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,ZC(e.V),eW(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function uT(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||cT(n.i,e))){if(!e.K&&cT(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)J0(n),$1(n);else break e;lA(n),ki(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=mv(di(n.ib,n),6e3));if(1>=yW(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ac(n,11)}else if((e.K||n.g==e)&&J0(n),!sm(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=e.g;if(p){const g=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(iA(s,s.h),s.h=null))}if(r.F){const h=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,Hn(r.I,r.F,h))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=e;if(r.wa=DW(r,r.J?r.pa:null,r.Y),o.K){_W(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(w1(a),_v(a)),r.g=o}else AW(r);0<n.j.length&&T1(n)}else u[0]!="stop"&&u[0]!="close"||ac(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?ac(n,7):aA(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}cm(4)}catch{}}function due(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(f1(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function fue(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(f1(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function dW(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(f1(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=fue(e),r=due(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var fW=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pue(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function yc(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof yc){this.h=e.h,X0(this,e.j),this.s=e.s,this.g=e.g,Q0(this,e.m),this.l=e.l;var t=e.i,n=new dm;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),uN(this,n),this.o=e.o}else e&&(t=String(e).match(fW))?(this.h=!1,X0(this,t[1]||"",!0),this.s=Mh(t[2]||""),this.g=Mh(t[3]||"",!0),Q0(this,t[4]),this.l=Mh(t[5]||"",!0),uN(this,t[6]||"",!0),this.o=Mh(t[7]||"")):(this.h=!1,this.i=new dm(null,this.h))}yc.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Dh(t,cN,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Dh(t,cN,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(Dh(n,n.charAt(0)=="/"?mue:gue,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Dh(n,yue)),e.join("")};function Ha(e){return new yc(e)}function X0(e,t,n){e.j=n?Mh(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Q0(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function uN(e,t,n){t instanceof dm?(e.i=t,_ue(e.i,e.h)):(n||(t=Dh(t,vue)),e.i=new dm(t,e.h))}function Hn(e,t,n){e.i.set(t,n)}function x1(e){return Hn(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Mh(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Dh(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,hue),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function hue(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var cN=/[#\/\?@]/g,gue=/[#\?:]/g,mue=/[#\?]/g,vue=/[#\?@]/g,yue=/#/g;function dm(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Iu(e){e.g||(e.g=new Map,e.h=0,e.i&&pue(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}Ne=dm.prototype;Ne.add=function(e,t){Iu(this),this.i=null,e=Ip(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function pW(e,t){Iu(e),t=Ip(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function hW(e,t){return Iu(e),t=Ip(e,t),e.g.has(t)}Ne.forEach=function(e,t){Iu(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};Ne.ta=function(){Iu(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};Ne.Z=function(e){Iu(this);let t=[];if(typeof e=="string")hW(this,e)&&(t=t.concat(this.g.get(Ip(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};Ne.set=function(e,t){return Iu(this),this.i=null,e=Ip(this,e),hW(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};Ne.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function gW(e,t,n){pW(e,t),0<n.length&&(e.i=null,e.g.set(Ip(e,t),WC(n)),e.h+=n.length)}Ne.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function Ip(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function _ue(e,t){t&&!e.j&&(Iu(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(pW(this,r),gW(this,i,n))},e)),e.j=t}var bue=class{constructor(t,n){this.g=t,this.map=n}};function mW(e){this.l=e||wue,ot.PerformanceNavigationTiming?(e=ot.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(ot.g&&ot.g.Ka&&ot.g.Ka()&&ot.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var wue=10;function vW(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function yW(e){return e.h?1:e.g?e.g.size:0}function cT(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function iA(e,t){e.g?e.g.add(t):e.h=t}function _W(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}mW.prototype.cancel=function(){if(this.i=bW(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function bW(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return WC(e.i)}var xue=class{stringify(t){return ot.JSON.stringify(t,void 0)}parse(t){return ot.JSON.parse(t,void 0)}};function Eue(){this.g=new xue}function Sue(e,t,n){const r=n||"";try{dW(e,function(i,s){let o=i;hv(i)&&(o=QC(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function $ue(e,t){const n=new v1;if(ot.Image){const r=new Image;r.onload=Cy(Oy,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Cy(Oy,n,r,"TestLoadImage: error",!1,t),r.onabort=Cy(Oy,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Cy(Oy,n,r,"TestLoadImage: timeout",!1,t),ot.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Oy(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function bv(e){this.l=e.fc||null,this.j=e.ob||!1}Gr(bv,tA);bv.prototype.g=function(){return new E1(this.l,this.j)};bv.prototype.i=function(e){return function(){return e}}({});function E1(e,t){zr.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=sA,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Gr(E1,zr);var sA=0;Ne=E1.prototype;Ne.open=function(e,t){if(this.readyState!=sA)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,fm(this)};Ne.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||ot).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};Ne.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wv(this)),this.readyState=sA};Ne.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,fm(this)),this.g&&(this.readyState=3,fm(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ot.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;wW(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function wW(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}Ne.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?wv(this):fm(this),this.readyState==3&&wW(this)}};Ne.Za=function(e){this.g&&(this.response=this.responseText=e,wv(this))};Ne.Ya=function(e){this.g&&(this.response=e,wv(this))};Ne.ka=function(){this.g&&wv(this)};function wv(e){e.readyState=4,e.l=null,e.j=null,e.A=null,fm(e)}Ne.setRequestHeader=function(e,t){this.v.append(e,t)};Ne.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};Ne.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function fm(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(E1.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var Tue=ot.JSON.parse;function rr(e){zr.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=xW,this.L=this.M=!1}Gr(rr,zr);var xW="",kue=/^https?$/i,Iue=["POST","PUT"];Ne=rr.prototype;Ne.Oa=function(e){this.M=e};Ne.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():oT.g(),this.C=this.u?lN(this.u):lN(oT),this.g.onreadystatechange=di(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){dN(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=ot.FormData&&e instanceof ot.FormData,!(0<=BH(Iue,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{$W(this),0<this.B&&((this.L=Cue(this.g))?(this.g.timeout=this.B,this.g.ontimeout=di(this.ua,this)):this.A=eA(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){dN(this,s)}};function Cue(e){return qf&&typeof e.timeout=="number"&&e.ontimeout!==void 0}Ne.ua=function(){typeof HC<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Zr(this,"timeout"),this.abort(8))};function dN(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,EW(e),S1(e)}function EW(e){e.F||(e.F=!0,Zr(e,"complete"),Zr(e,"error"))}Ne.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Zr(this,"complete"),Zr(this,"abort"),S1(this))};Ne.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),S1(this,!0)),rr.$.N.call(this)};Ne.La=function(){this.s||(this.G||this.v||this.l?SW(this):this.kb())};Ne.kb=function(){SW(this)};function SW(e){if(e.h&&typeof HC<"u"&&(!e.C[1]||Po(e)!=4||e.da()!=2)){if(e.v&&Po(e)==4)eA(e.La,0,e);else if(Zr(e,"readystatechange"),Po(e)==4){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=o===0){var i=String(e.I).match(fW)[1]||null;!i&&ot.self&&ot.self.location&&(i=ot.self.location.protocol.slice(0,-1)),r=!kue.test(i?i.toLowerCase():"")}n=r}if(n)Zr(e,"complete"),Zr(e,"success");else{e.m=6;try{var s=2<Po(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.da()+"]",EW(e)}}finally{S1(e)}}}}function S1(e,t){if(e.g){$W(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Zr(e,"ready");try{n.onreadystatechange=r}catch{}}}function $W(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(ot.clearTimeout(e.A),e.A=null)}Ne.isActive=function(){return!!this.g};function Po(e){return e.g?e.g.readyState:0}Ne.da=function(){try{return 2<Po(this)?this.g.status:-1}catch{return-1}};Ne.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Ne.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),Tue(t)}};function fN(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case xW:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function Aue(e){const t={};e=(e.g&&2<=Po(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(sm(e[r]))continue;var n=tue(e[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}Gle(t,function(r){return r.join(", ")})}Ne.Ia=function(){return this.m};Ne.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function TW(e){let t="";return zC(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function oA(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=TW(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Hn(e,t,n))}function fh(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function kW(e){this.Ga=0,this.j=[],this.l=new v1,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=fh("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=fh("baseRetryDelayMs",5e3,e),this.hb=fh("retryDelaySeedMs",1e4,e),this.eb=fh("forwardChannelMaxRetries",2,e),this.xa=fh("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new mW(e&&e.concurrentRequestLimit),this.Ja=new Eue,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Ne=kW.prototype;Ne.ra=8;Ne.H=1;function aA(e){if(IW(e),e.H==3){var t=e.W++,n=Ha(e.I);if(Hn(n,"SID",e.K),Hn(n,"RID",t),Hn(n,"TYPE","terminate"),xv(e,n),t=new yv(e,e.l,t),t.L=2,t.v=x1(Ha(n)),n=!1,ot.navigator&&ot.navigator.sendBeacon)try{n=ot.navigator.sendBeacon(t.v.toString(),"")}catch{}!n&&ot.Image&&(new Image().src=t.v,n=!0),n||(t.g=NW(t.l,null),t.g.ha(t.v)),t.G=Date.now(),_v(t)}MW(e)}function $1(e){e.g&&(uA(e),e.g.cancel(),e.g=null)}function IW(e){$1(e),e.u&&(ot.clearTimeout(e.u),e.u=null),J0(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&ot.clearTimeout(e.m),e.m=null)}function T1(e){if(!vW(e.i)&&!e.m){e.m=!0;var t=e.Na;am||QH(),lm||(am(),lm=!0),JC.add(t,e),e.C=0}}function Oue(e,t){return yW(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=mv(di(e.Na,e,t),PW(e,e.C)),e.C++,!0)}Ne.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new yv(this,this.l,e);let s=this.s;if(this.U&&(s?(s=HH(s),WH(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=CW(this,i,t),n=Ha(this.I),Hn(n,"RID",e),Hn(n,"CVER",22),this.F&&Hn(n,"X-HTTP-Session-Id",this.F),xv(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(TW(s)))+"&"+t:this.o&&oA(n,this.o,s)),iA(this.i,i),this.bb&&Hn(n,"TYPE","init"),this.P?(Hn(n,"$req",t),Hn(n,"SID","null"),i.aa=!0,lT(i,n,null)):lT(i,n,t),this.H=2}}else this.H==3&&(e?pN(this,e):this.j.length==0||vW(this.i)||pN(this))};function pN(e,t){var n;t?n=t.m:n=e.W++;const r=Ha(e.I);Hn(r,"SID",e.K),Hn(r,"RID",n),Hn(r,"AID",e.V),xv(e,r),e.o&&e.s&&oA(r,e.o,e.s),n=new yv(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=CW(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),iA(e.i,n),lT(n,r,t)}function xv(e,t){e.na&&zC(e.na,function(n,r){Hn(t,r,n)}),e.h&&dW({},function(n,r){Hn(t,r,n)})}function CW(e,t,n){n=Math.min(e.j.length,n);var r=e.h?di(e.h.Va,e.h,e):null;e:{var i=e.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{Sue(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function AW(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;am||QH(),lm||(am(),lm=!0),JC.add(t,e),e.A=0}}function lA(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=mv(di(e.Ma,e),PW(e,e.A)),e.A++,!0)}Ne.Ma=function(){if(this.u=null,OW(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=mv(di(this.jb,this),e)}};Ne.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ki(10),$1(this),OW(this))};function uA(e){e.B!=null&&(ot.clearTimeout(e.B),e.B=null)}function OW(e){e.g=new yv(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=Ha(e.wa);Hn(t,"RID","rpc"),Hn(t,"SID",e.K),Hn(t,"AID",e.V),Hn(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Hn(t,"TO",e.qa),Hn(t,"TYPE","xmlhttp"),xv(e,t),e.o&&e.s&&oA(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=x1(Ha(t)),n.s=null,n.S=!0,aW(n,e)}Ne.ib=function(){this.v!=null&&(this.v=null,$1(this),lA(this),ki(19))};function J0(e){e.v!=null&&(ot.clearTimeout(e.v),e.v=null)}function RW(e,t){var n=null;if(e.g==t){J0(e),uA(e),e.g=null;var r=2}else if(cT(e.i,t))n=t.F,_W(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;r=y1(),Zr(r,new rW(r,n)),T1(e)}else AW(e);else if(i=t.o,i==3||i==0&&0<t.ca||!(r==1&&Oue(e,t)||r==2&&lA(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ac(e,5);break;case 4:ac(e,10);break;case 3:ac(e,6);break;default:ac(e,2)}}}function PW(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function ac(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=di(e.pb,e);n||(n=new yc("//www.google.com/images/cleardot.gif"),ot.location&&ot.location.protocol=="http"||X0(n,"https"),x1(n)),$ue(n.toString(),r)}else ki(2);e.H=0,e.h&&e.h.za(t),MW(e),IW(e)}Ne.pb=function(e){e?(this.l.info("Successfully pinged google.com"),ki(2)):(this.l.info("Failed to ping google.com"),ki(1))};function MW(e){if(e.H=0,e.ma=[],e.h){const t=bW(e.i);(t.length!=0||e.j.length!=0)&&(rN(e.ma,t),rN(e.ma,e.j),e.i.i.length=0,WC(e.j),e.j.length=0),e.h.ya()}}function DW(e,t,n){var r=n instanceof yc?Ha(n):new yc(n);if(r.g!="")t&&(r.g=t+"."+r.g),Q0(r,r.m);else{var i=ot.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new yc(null);r&&X0(s,r),t&&(s.g=t),i&&Q0(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&Hn(r,n,t),Hn(r,"VER",e.ra),xv(e,r),r}function NW(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ha&&!e.va?new rr(new bv({ob:!0})):new rr(e.va),t.Oa(e.J),t}Ne.isActive=function(){return!!this.h&&this.h.isActive(this)};function LW(){}Ne=LW.prototype;Ne.Ba=function(){};Ne.Aa=function(){};Ne.za=function(){};Ne.ya=function(){};Ne.isActive=function(){return!0};Ne.Va=function(){};function Z0(){if(qf&&!(10<=Number(Wle)))throw Error("Environmental error: no available transport.")}Z0.prototype.g=function(e,t){return new ms(e,t)};function ms(e,t){zr.call(this),this.g=new kW(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!sm(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!sm(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Cp(this)}Gr(ms,zr);ms.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;ki(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=DW(e,null,e.Y),T1(e)};ms.prototype.close=function(){aA(this.g)};ms.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=QC(e),e=n);t.j.push(new bue(t.fb++,e)),t.H==3&&T1(t)};ms.prototype.N=function(){this.g.h=null,delete this.j,aA(this.g),delete this.g,ms.$.N.call(this)};function FW(e){nA.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Gr(FW,nA);function BW(){rA.call(this),this.status=1}Gr(BW,rA);function Cp(e){this.g=e}Gr(Cp,LW);Cp.prototype.Ba=function(){Zr(this.g,"a")};Cp.prototype.Aa=function(e){Zr(this.g,new FW(e))};Cp.prototype.za=function(e){Zr(this.g,new BW)};Cp.prototype.ya=function(){Zr(this.g,"b")};function Rue(){this.blockSize=-1}function uo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Gr(uo,Rue);uo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function ME(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^s&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^s)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~s))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}uo.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(i==0)for(;s<=n;)ME(this,e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){ME(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){ME(this,r),i=0;break}}this.h=i,this.i+=t};uo.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function mn(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=e[i]|0;r&&s==t||(n[i]=s,r=!1)}this.g=n}var Pue={};function cA(e){return-128<=e&&128>e?Vle(e,function(t){return new mn([t|0],0>t?-1:0)}):new mn([e|0],0>e?-1:0)}function Mo(e){if(isNaN(e)||!isFinite(e))return vf;if(0>e)return Qr(Mo(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=dT;return new mn(t,0)}function UW(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return Qr(UW(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Mo(Math.pow(t,8)),r=vf,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),o=parseInt(e.substring(i,i+s),t);8>s?(s=Mo(Math.pow(t,s)),r=r.R(s).add(Mo(o))):(r=r.R(n),r=r.add(Mo(o)))}return r}var dT=4294967296,vf=cA(0),fT=cA(1),hN=cA(16777216);Ne=mn.prototype;Ne.ea=function(){if(ks(this))return-Qr(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:dT+r)*t,t*=dT}return e};Ne.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(Ea(this))return"0";if(ks(this))return"-"+Qr(this).toString(e);for(var t=Mo(Math.pow(e,6)),n=this,r="";;){var i=tb(n,t).g;n=eb(n,i.R(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,Ea(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};Ne.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function Ea(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function ks(e){return e.h==-1}Ne.X=function(e){return e=eb(this,e),ks(e)?-1:Ea(e)?0:1};function Qr(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new mn(n,~e.h).add(fT)}Ne.abs=function(){return ks(this)?Qr(this):this};Ne.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(this.D(i)&65535)+(e.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new mn(n,n[n.length-1]&-2147483648?-1:0)};function eb(e,t){return e.add(Qr(t))}Ne.R=function(e){if(Ea(this)||Ea(e))return vf;if(ks(this))return ks(e)?Qr(this).R(Qr(e)):Qr(Qr(this).R(e));if(ks(e))return Qr(this.R(Qr(e)));if(0>this.X(hN)&&0>e.X(hN))return Mo(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=e.D(i)>>>16,l=e.D(i)&65535;n[2*r+2*i]+=o*l,Ry(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Ry(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Ry(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Ry(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new mn(n,0)};function Ry(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function ph(e,t){this.g=e,this.h=t}function tb(e,t){if(Ea(t))throw Error("division by zero");if(Ea(e))return new ph(vf,vf);if(ks(e))return t=tb(Qr(e),t),new ph(Qr(t.g),Qr(t.h));if(ks(t))return t=tb(e,Qr(t)),new ph(Qr(t.g),t.h);if(30<e.g.length){if(ks(e)||ks(t))throw Error("slowDivide_ only works with positive integers.");for(var n=fT,r=t;0>=r.X(e);)n=gN(n),r=gN(r);var i=Ed(n,1),s=Ed(r,1);for(r=Ed(r,2),n=Ed(n,2);!Ea(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=Ed(r,1),n=Ed(n,1)}return t=eb(e,i.R(t)),new ph(i,t)}for(i=vf;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Mo(n),o=s.R(t);ks(o)||0<o.X(e);)n-=r,s=Mo(n),o=s.R(t);Ea(s)&&(s=fT),i=i.add(s),e=eb(e,o)}return new ph(i,e)}Ne.gb=function(e){return tb(this,e).h};Ne.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new mn(n,this.h&e.h)};Ne.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new mn(n,this.h|e.h)};Ne.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new mn(n,this.h^e.h)};function gN(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new mn(n,e.h)}function Ed(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new mn(i,e.h)}Z0.prototype.createWebChannel=Z0.prototype.g;ms.prototype.send=ms.prototype.u;ms.prototype.open=ms.prototype.m;ms.prototype.close=ms.prototype.close;_1.NO_ERROR=0;_1.TIMEOUT=8;_1.HTTP_ERROR=6;iW.COMPLETE="complete";sW.EventType=vv;vv.OPEN="a";vv.CLOSE="b";vv.ERROR="c";vv.MESSAGE="d";zr.prototype.listen=zr.prototype.O;rr.prototype.listenOnce=rr.prototype.P;rr.prototype.getLastError=rr.prototype.Sa;rr.prototype.getLastErrorCode=rr.prototype.Ia;rr.prototype.getStatus=rr.prototype.da;rr.prototype.getResponseJson=rr.prototype.Wa;rr.prototype.getResponseText=rr.prototype.ja;rr.prototype.send=rr.prototype.ha;rr.prototype.setWithCredentials=rr.prototype.Oa;uo.prototype.digest=uo.prototype.l;uo.prototype.reset=uo.prototype.reset;uo.prototype.update=uo.prototype.j;mn.prototype.add=mn.prototype.add;mn.prototype.multiply=mn.prototype.R;mn.prototype.modulo=mn.prototype.gb;mn.prototype.compare=mn.prototype.X;mn.prototype.toNumber=mn.prototype.ea;mn.prototype.toString=mn.prototype.toString;mn.prototype.getBits=mn.prototype.D;mn.fromNumber=Mo;mn.fromString=UW;var Mue=function(){return new Z0},Due=function(){return y1()},DE=_1,Nue=iW,Lue=sd,mN={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Fue=bv,Py=sW,Bue=rr,Uue=uo,yf=mn;const vN="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ii=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};ii.UNAUTHENTICATED=new ii(null),ii.GOOGLE_CREDENTIALS=new ii("google-credentials-uid"),ii.FIRST_PARTY=new ii("first-party-uid"),ii.MOCK_USER=new ii("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ap="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc=new Sp("@firebase/firestore");function yN(){return Mc.logLevel}function qe(e,...t){if(Mc.logLevel<=Wt.DEBUG){const n=t.map(dA);Mc.debug(`Firestore (${Ap}): ${e}`,...n)}}function Wa(e,...t){if(Mc.logLevel<=Wt.ERROR){const n=t.map(dA);Mc.error(`Firestore (${Ap}): ${e}`,...n)}}function zf(e,...t){if(Mc.logLevel<=Wt.WARN){const n=t.map(dA);Mc.warn(`Firestore (${Ap}): ${e}`,...n)}}function dA(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(e="Unexpected state"){const t=`FIRESTORE (${Ap}) INTERNAL ASSERTION FAILED: `+e;throw Wa(t),new Error(t)}function Wn(e,t){e||it()}function ht(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let Be=class extends Es{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ca=class{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let VW=class{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}},Vue=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(ii.UNAUTHENTICATED))}shutdown(){}},jue=class{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Hue=class{constructor(t){this.t=t,this.currentUser=ii.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ca;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ca,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{qe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(qe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ca)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(qe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Wn(typeof r.accessToken=="string"),new VW(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Wn(t===null||typeof t=="string"),new ii(t)}},Wue=class{constructor(t,n,r){this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=ii.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}},que=class{constructor(t,n,r){this.h=t,this.l=n,this.m=r}getToken(){return Promise.resolve(new Wue(this.h,this.l,this.m))}start(t,n){t.enqueueRetryable(()=>n(ii.FIRST_PARTY))}shutdown(){}invalidateToken(){}},zue=class{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Kue=class{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,n){const r=s=>{s.error!=null&&qe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,qe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{qe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):qe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Wn(typeof n.token=="string"),this.T=n.token,new zue(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gue(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jW=class{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=Gue(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}};function rn(e,t){return e<t?-1:e>t?1:0}function Kf(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ii=class A_{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Be(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Be(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Be(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Be(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return A_.fromMillis(Date.now())}static fromDate(t){return A_.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new A_(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?rn(this.nanoseconds,t.nanoseconds):rn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _t=class O_{constructor(t){this.timestamp=t}static fromTimestamp(t){return new O_(t)}static min(){return new O_(new Ii(0,0))}static max(){return new O_(new Ii(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HW=class pT{constructor(t,n,r){n===void 0?n=0:n>t.length&&it(),r===void 0?r=t.length-n:r>t.length-n&&it(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return pT.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof pT?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}},lr=class R_ extends HW{construct(t,n,r){return new R_(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new Be(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new R_(n)}static emptyPath(){return new R_([])}};const Yue=/^[_a-zA-Z][_a-zA-Z0-9]*$/;let qo=class Nd extends HW{construct(t,n,r){return new Nd(t,n,r)}static isValidIdentifier(t){return Yue.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nd.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Nd(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Be(de.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new Be(de.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Be(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Be(de.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Nd(n)}static emptyPath(){return new Nd([])}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nt=class Nh{constructor(t){this.path=t}static fromPath(t){return new Nh(lr.fromString(t))}static fromName(t){return new Nh(lr.fromString(t).popFirst(5))}static empty(){return new Nh(lr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&lr.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return lr.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Nh(new lr(t.slice()))}};function Xue(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=_t.fromTimestamp(r===1e9?new Ii(n+1,0):new Ii(n,r));return new pm(i,nt.empty(),t)}function Que(e){return new pm(e.readTime,e.key,-1)}let pm=class hT{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new hT(_t.min(),nt.empty(),-1)}static max(){return new hT(_t.max(),nt.empty(),-1)}};function Jue(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=nt.comparator(e.documentKey,t.documentKey),n!==0?n:rn(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zue="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";let ece=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ev(e){if(e.code!==de.FAILED_PRECONDITION||e.message!==Zue)throw e;qe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pe=class Bi{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&it(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Bi((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Bi?n:Bi.resolve(n)}catch(n){return Bi.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Bi.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Bi.reject(n)}static resolve(t){return new Bi((n,r)=>{n(t)})}static reject(t){return new Bi((n,r)=>{r(t)})}static waitFor(t){return new Bi((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(t){let n=Bi.resolve(!1);for(const r of t)n=n.next(i=>i?Bi.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new Bi((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(t[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(t,n){return new Bi((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}};function Sv(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fA=class{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}};fA.ct=-1;function k1(e){return e==null}function nb(e){return e===0&&1/e==-1/0}function tce(e){return typeof e=="number"&&Number.isInteger(e)&&!nb(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function od(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function WW(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Er=class gT{constructor(t,n){this.comparator=t,this.root=n||Jl.EMPTY}insert(t,n){return new gT(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Jl.BLACK,null,null))}remove(t){return new gT(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Jl.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new My(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new My(this.root,t,this.comparator,!1)}getReverseIterator(){return new My(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new My(this.root,t,this.comparator,!0)}},My=class{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}},Jl=class ha{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??ha.RED,this.left=i??ha.EMPTY,this.right=s??ha.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new ha(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ha.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return ha.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ha.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ha.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw it();const t=this.left.check();if(t!==this.right.check())throw it();return t+(this.isRed()?0:1)}};Jl.EMPTY=null,Jl.RED=!0,Jl.BLACK=!1;Jl.EMPTY=new class{constructor(){this.size=0}get key(){throw it()}get value(){throw it()}get color(){throw it()}get left(){throw it()}get right(){throw it()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Jl(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hs=class mT{constructor(t){this.comparator=t,this.data=new Er(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new bN(this.data.getIterator())}getIteratorFrom(t){return new bN(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof mT)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new mT(this.comparator);return n.data=t,n}},bN=class{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Do=class vT{constructor(t){this.fields=t,t.sort(qo.comparator)}static empty(){return new vT([])}unionWith(t){let n=new hs(qo.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new vT(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Kf(this.fields,t.fields,(n,r)=>n.isEqual(r))}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qW=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vs=class yT{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new qW("Invalid base64 string: "+i):i}}(t);return new yT(n)}static fromUint8Array(t){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(t);return new yT(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return rn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}};vs.EMPTY_BYTE_STRING=new vs("");const nce=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fu(e){if(Wn(!!e),typeof e=="string"){let t=0;const n=nce.exec(e);if(Wn(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:_r(e.seconds),nanos:_r(e.nanos)}}function _r(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Dc(e){return typeof e=="string"?vs.fromBase64String(e):vs.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function hA(e){const t=e.mapValue.fields.__previous_value__;return pA(t)?hA(t):t}function hm(e){const t=fu(e.mapValue.fields.__local_write_time__.timestampValue);return new Ii(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rce=class{constructor(t,n,r,i,s,o,a,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}},zW=class _T{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new _T("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof _T&&t.projectId===this.projectId&&t.database===this.database}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Nc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?pA(e)?4:ice(e)?9007199254740991:10:it()}function zo(e,t){if(e===t)return!0;const n=Nc(e);if(n!==Nc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return hm(e).isEqual(hm(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=fu(r.timestampValue),o=fu(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return Dc(r.bytesValue).isEqual(Dc(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return _r(r.geoPointValue.latitude)===_r(i.geoPointValue.latitude)&&_r(r.geoPointValue.longitude)===_r(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return _r(r.integerValue)===_r(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=_r(r.doubleValue),o=_r(i.doubleValue);return s===o?nb(s)===nb(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return Kf(e.arrayValue.values||[],t.arrayValue.values||[],zo);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(_N(s)!==_N(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!zo(s[a],o[a])))return!1;return!0}(e,t);default:return it()}}function gm(e,t){return(e.values||[]).find(n=>zo(n,t))!==void 0}function Gf(e,t){if(e===t)return 0;const n=Nc(e),r=Nc(t);if(n!==r)return rn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return rn(e.booleanValue,t.booleanValue);case 2:return function(i,s){const o=_r(i.integerValue||i.doubleValue),a=_r(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(e,t);case 3:return wN(e.timestampValue,t.timestampValue);case 4:return wN(hm(e),hm(t));case 5:return rn(e.stringValue,t.stringValue);case 6:return function(i,s){const o=Dc(i),a=Dc(s);return o.compareTo(a)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=rn(o[l],a[l]);if(u!==0)return u}return rn(o.length,a.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){const o=rn(_r(i.latitude),_r(s.latitude));return o!==0?o:rn(_r(i.longitude),_r(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=Gf(o[l],a[l]);if(u)return u}return rn(o.length,a.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,s){if(i===Dy.mapValue&&s===Dy.mapValue)return 0;if(i===Dy.mapValue)return 1;if(s===Dy.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const d=rn(a[c],u[c]);if(d!==0)return d;const f=Gf(o[a[c]],l[u[c]]);if(f!==0)return f}return rn(a.length,u.length)}(e.mapValue,t.mapValue);default:throw it()}}function wN(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return rn(e,t);const n=fu(e),r=fu(t),i=rn(n.seconds,r.seconds);return i!==0?i:rn(n.nanos,r.nanos)}function Yf(e){return bT(e)}function bT(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const i=fu(r);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Dc(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,nt.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=bT(o);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${bT(r.fields[a])}`;return s+"}"}(e.mapValue):it();var t,n}function xN(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function wT(e){return!!e&&"integerValue"in e}function gA(e){return!!e&&"arrayValue"in e}function EN(e){return!!e&&"nullValue"in e}function SN(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function P_(e){return!!e&&"mapValue"in e}function sg(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return od(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=sg(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=sg(e.arrayValue.values[n]);return t}return Object.assign({},e)}function ice(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(t){this.value=t}static empty(){return new zi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!P_(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=sg(n)}setAll(t){let n=qo.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=sg(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());P_(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return zo(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];P_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){od(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new zi(sg(this.value))}}function KW(e){const t=[];return od(e.fields,(n,r)=>{const i=new qo([n]);if(P_(r)){const s=KW(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new Do(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new li(t,0,_t.min(),_t.min(),_t.min(),zi.empty(),0)}static newFoundDocument(t,n,r,i){return new li(t,1,n,_t.min(),r,i,0)}static newNoDocument(t,n){return new li(t,2,n,_t.min(),_t.min(),zi.empty(),0)}static newUnknownDocument(t,n){return new li(t,3,n,_t.min(),_t.min(),zi.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=zi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=zi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof li&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new li(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(t,n){this.position=t,this.inclusive=n}}function $N(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=nt.comparator(nt.fromName(o.referenceValue),n.key):r=Gf(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function TN(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!zo(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(t,n="asc"){this.field=t,this.dir=n}}function sce(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GW=class{};class xr extends GW{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new ace(t,n,r):n==="array-contains"?new cce(t,r):n==="in"?new dce(t,r):n==="not-in"?new fce(t,r):n==="array-contains-any"?new pce(t,r):new xr(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new lce(t,r):new uce(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Gf(n,this.value)):n!==null&&Nc(this.value)===Nc(n)&&this.matchesComparison(Gf(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return it()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class co extends GW{constructor(t,n){super(),this.filters=t,this.op=n,this.lt=null}static create(t,n){return new co(t,n)}matches(t){return YW(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft(n=>n.isInequality());return t!==null?t.field:null}ft(t){for(const n of this.getFlattenedFilters())if(t(n))return n;return null}}function YW(e){return e.op==="and"}function XW(e){return oce(e)&&YW(e)}function oce(e){for(const t of e.filters)if(t instanceof co)return!1;return!0}function xT(e){if(e instanceof xr)return e.field.canonicalString()+e.op.toString()+Yf(e.value);if(XW(e))return e.filters.map(t=>xT(t)).join(",");{const t=e.filters.map(n=>xT(n)).join(",");return`${e.op}(${t})`}}function QW(e,t){return e instanceof xr?function(n,r){return r instanceof xr&&n.op===r.op&&n.field.isEqual(r.field)&&zo(n.value,r.value)}(e,t):e instanceof co?function(n,r){return r instanceof co&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&QW(s,r.filters[o]),!0):!1}(e,t):void it()}function JW(e){return e instanceof xr?function(t){return`${t.field.canonicalString()} ${t.op} ${Yf(t.value)}`}(e):e instanceof co?function(t){return t.op.toString()+" {"+t.getFilters().map(JW).join(" ,")+"}"}(e):"Filter"}let ace=class extends xr{constructor(t,n,r){super(t,n,r),this.key=nt.fromName(r.referenceValue)}matches(t){const n=nt.comparator(t.key,this.key);return this.matchesComparison(n)}},lce=class extends xr{constructor(t,n){super(t,"in",n),this.keys=ZW("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}},uce=class extends xr{constructor(t,n){super(t,"not-in",n),this.keys=ZW("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}};function ZW(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>nt.fromName(r.referenceValue))}let cce=class extends xr{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return gA(n)&&gm(n.arrayValue,this.value)}},dce=class extends xr{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&gm(this.value.arrayValue,n)}},fce=class extends xr{constructor(t,n){super(t,"not-in",n)}matches(t){if(gm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!gm(this.value.arrayValue,n)}},pce=class extends xr{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!gA(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>gm(this.value.arrayValue,r))}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hce=class{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}};function kN(e,t=null,n=[],r=[],i=null,s=null,o=null){return new hce(e,t,n,r,i,s,o)}function mA(e){const t=ht(e);if(t.dt===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>xT(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),k1(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Yf(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Yf(r)).join(",")),t.dt=n}return t.dt}function vA(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!sce(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!QW(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!TN(e.startAt,t.startAt)&&TN(e.endAt,t.endAt)}function ET(e){return nt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $v=class{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}};function gce(e,t,n,r,i,s,o,a){return new $v(e,t,n,r,i,s,o,a)}function I1(e){return new $v(e)}function IN(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function e6(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function yA(e){for(const t of e.filters){const n=t.getFirstInequalityField();if(n!==null)return n}return null}function t6(e){return e.collectionGroup!==null}function _f(e){const t=ht(e);if(t.wt===null){t.wt=[];const n=yA(t),r=e6(t);if(n!==null&&r===null)n.isKeyField()||t.wt.push(new og(n)),t.wt.push(new og(qo.keyField(),"asc"));else{let i=!1;for(const s of t.explicitOrderBy)t.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new og(qo.keyField(),s))}}}return t.wt}function qa(e){const t=ht(e);if(!t._t)if(t.limitType==="F")t._t=kN(t.path,t.collectionGroup,_f(t),t.filters,t.limit,t.startAt,t.endAt);else{const n=[];for(const s of _f(t)){const o=s.dir==="desc"?"asc":"desc";n.push(new og(s.field,o))}const r=t.endAt?new rb(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new rb(t.startAt.position,t.startAt.inclusive):null;t._t=kN(t.path,t.collectionGroup,n,t.filters,t.limit,r,i)}return t._t}function ST(e,t){t.getFirstInequalityField(),yA(e);const n=e.filters.concat([t]);return new $v(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function $T(e,t,n){return new $v(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function C1(e,t){return vA(qa(e),qa(t))&&e.limitType===t.limitType}function n6(e){return`${mA(qa(e))}|lt:${e.limitType}`}function TT(e){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(r=>JW(r)).join(", ")}]`),k1(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Yf(r)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Yf(r)).join(",")),`Target(${n})`}(qa(e))}; limitType=${e.limitType})`}function A1(e,t){return t.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):nt.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,r){for(const i of _f(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(e,t)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=$N(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,_f(n),r)||n.endAt&&!function(i,s,o){const a=$N(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,_f(n),r))}(e,t)}function mce(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function r6(e){return(t,n)=>{let r=!1;for(const i of _f(e)){const s=vce(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function vce(e,t,n){const r=e.field.isKeyField()?nt.comparator(t.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?Gf(a,l):it()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return it()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Op=class{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){od(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return WW(this.inner)}size(){return this.innerSize}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yce=new Er(nt.comparator);function za(){return yce}const i6=new Er(nt.comparator);function Lh(...e){let t=i6;for(const n of e)t=t.insert(n.key,n);return t}function s6(e){let t=i6;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function lc(){return ag()}function o6(){return ag()}function ag(){return new Op(e=>e.toString(),(e,t)=>e.isEqual(t))}const _ce=new Er(nt.comparator),bce=new hs(nt.comparator);function Ot(...e){let t=bce;for(const n of e)t=t.add(n);return t}const wce=new hs(rn);function xce(){return wce}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a6(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nb(t)?"-0":t}}function l6(e){return{integerValue:""+e}}function Ece(e,t){return tce(t)?l6(t):a6(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let O1=class{constructor(){this._=void 0}};function Sce(e,t,n){return e instanceof ib?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&pA(i)&&(i=hA(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,t):e instanceof mm?c6(e,t):e instanceof vm?d6(e,t):function(r,i){const s=u6(r,i),o=CN(s)+CN(r.gt);return wT(s)&&wT(r.gt)?l6(o):a6(r.serializer,o)}(e,t)}function $ce(e,t,n){return e instanceof mm?c6(e,t):e instanceof vm?d6(e,t):n}function u6(e,t){return e instanceof sb?wT(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}let ib=class extends O1{},mm=class extends O1{constructor(t){super(),this.elements=t}};function c6(e,t){const n=f6(t);for(const r of e.elements)n.some(i=>zo(i,r))||n.push(r);return{arrayValue:{values:n}}}let vm=class extends O1{constructor(t){super(),this.elements=t}};function d6(e,t){let n=f6(t);for(const r of e.elements)n=n.filter(i=>!zo(i,r));return{arrayValue:{values:n}}}let sb=class extends O1{constructor(t,n){super(),this.serializer=t,this.gt=n}};function CN(e){return _r(e.integerValue||e.doubleValue)}function f6(e){return gA(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function Tce(e,t){return e.field.isEqual(t.field)&&function(n,r){return n instanceof mm&&r instanceof mm||n instanceof vm&&r instanceof vm?Kf(n.elements,r.elements,zo):n instanceof sb&&r instanceof sb?zo(n.gt,r.gt):n instanceof ib&&r instanceof ib}(e.transform,t.transform)}let kce=class{constructor(t,n){this.version=t,this.transformResults=n}},_c=class M_{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new M_}static exists(t){return new M_(void 0,t)}static updateTime(t){return new M_(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}};function D_(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}let R1=class{};function p6(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new _A(e.key,_c.none()):new Tv(e.key,e.data,_c.none());{const n=e.data,r=zi.empty();let i=new hs(qo.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Cu(e.key,r,new Do(i.toArray()),_c.none())}}function Ice(e,t,n){e instanceof Tv?function(r,i,s){const o=r.value.clone(),a=ON(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,n):e instanceof Cu?function(r,i,s){if(!D_(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=ON(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(h6(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function lg(e,t,n,r){return e instanceof Tv?function(i,s,o,a){if(!D_(i.precondition,s))return o;const l=i.value.clone(),u=RN(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(e,t,n,r):e instanceof Cu?function(i,s,o,a){if(!D_(i.precondition,s))return o;const l=RN(i.fieldTransforms,a,s),u=s.data;return u.setAll(h6(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(e,t,n,r):function(i,s,o){return D_(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,n)}function Cce(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=u6(r.transform,i||null);s!=null&&(n===null&&(n=zi.empty()),n.set(r.field,s))}return n||null}function AN(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Kf(n,r,(i,s)=>Tce(i,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}let Tv=class extends R1{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Cu=class extends R1{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function h6(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function ON(e,t,n){const r=new Map;Wn(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,$ce(o,a,n[i]))}return r}function RN(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Sce(s,o,t))}return r}let _A=class extends R1{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Ace=class extends R1{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oce=class{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&Ice(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=lg(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=lg(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=o6();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=p6(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(_t.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Ot())}isEqual(t){return this.batchId===t.batchId&&Kf(this.mutations,t.mutations,(n,r)=>AN(n,r))&&Kf(this.baseMutations,t.baseMutations,(n,r)=>AN(n,r))}},Rce=class g6{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){Wn(t.mutations.length===r.length);let i=_ce;const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new g6(t,n,r,i)}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pce=class{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mce=class{constructor(t,n){this.count=t,this.unchangedNames=n}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yr,Ft;function Dce(e){switch(e){default:return it();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function m6(e){if(e===void 0)return Wa("GRPC error has no .code"),de.UNKNOWN;switch(e){case yr.OK:return de.OK;case yr.CANCELLED:return de.CANCELLED;case yr.UNKNOWN:return de.UNKNOWN;case yr.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case yr.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case yr.INTERNAL:return de.INTERNAL;case yr.UNAVAILABLE:return de.UNAVAILABLE;case yr.UNAUTHENTICATED:return de.UNAUTHENTICATED;case yr.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case yr.NOT_FOUND:return de.NOT_FOUND;case yr.ALREADY_EXISTS:return de.ALREADY_EXISTS;case yr.PERMISSION_DENIED:return de.PERMISSION_DENIED;case yr.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case yr.ABORTED:return de.ABORTED;case yr.OUT_OF_RANGE:return de.OUT_OF_RANGE;case yr.UNIMPLEMENTED:return de.UNIMPLEMENTED;case yr.DATA_LOSS:return de.DATA_LOSS;default:return it()}}(Ft=yr||(yr={}))[Ft.OK=0]="OK",Ft[Ft.CANCELLED=1]="CANCELLED",Ft[Ft.UNKNOWN=2]="UNKNOWN",Ft[Ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ft[Ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ft[Ft.NOT_FOUND=5]="NOT_FOUND",Ft[Ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ft[Ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ft[Ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ft[Ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ft[Ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ft[Ft.ABORTED=10]="ABORTED",Ft[Ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ft[Ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ft[Ft.INTERNAL=13]="INTERNAL",Ft[Ft.UNAVAILABLE=14]="UNAVAILABLE",Ft[Ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nce=class v6{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ny}static getOrCreateInstance(){return Ny===null&&(Ny=new v6),Ny}onExistenceFilterMismatch(t){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,t),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(t))}},Ny=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lce(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fce=new yf([4294967295,4294967295],0);function PN(e){const t=Lce().encode(e),n=new Uue;return n.update(t),new Uint8Array(n.digest())}function MN(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new yf([n,r],0),new yf([i,s],0)]}let Bce=class y6{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Fh(`Invalid padding: ${n}`);if(r<0)throw new Fh(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Fh(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Fh(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*t.length-n,this.Tt=yf.fromNumber(this.It)}Et(t,n,r){let i=t.add(n.multiply(yf.fromNumber(r)));return i.compare(Fce)===1&&(i=new yf([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}vt(t){if(this.It===0)return!1;const n=PN(t),[r,i]=MN(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new y6(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.It===0)return;const n=PN(t),[r,i]=MN(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}},Fh=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _6=class b6{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,bA.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new b6(_t.min(),i,new Er(rn),za(),Ot())}},bA=class w6{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new w6(r,n,Ot(),Ot(),Ot())}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let N_=class{constructor(t,n,r,i){this.Pt=t,this.removedTargetIds=n,this.key=r,this.bt=i}},x6=class{constructor(t,n){this.targetId=t,this.Vt=n}},E6=class{constructor(t,n,r=vs.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}},DN=class{constructor(){this.St=0,this.Dt=LN(),this.Ct=vs.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(t){t.approximateByteSize()>0&&(this.Nt=!0,this.Ct=t)}Ot(){let t=Ot(),n=Ot(),r=Ot();return this.Dt.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:it()}}),new bA(this.Ct,this.xt,t,n,r)}Ft(){this.Nt=!1,this.Dt=LN()}Bt(t,n){this.Nt=!0,this.Dt=this.Dt.insert(t,n)}Lt(t){this.Nt=!0,this.Dt=this.Dt.remove(t)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}},Uce=class{constructor(t){this.Gt=t,this.Qt=new Map,this.jt=za(),this.zt=NN(),this.Wt=new Er(rn)}Ht(t){for(const n of t.Pt)t.bt&&t.bt.isFoundDocument()?this.Jt(n,t.bt):this.Yt(n,t.key,t.bt);for(const n of t.removedTargetIds)this.Yt(n,t.key,t.bt)}Xt(t){this.forEachTarget(t,n=>{const r=this.Zt(n);switch(t.state){case 0:this.te(n)&&r.$t(t.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(t.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(t.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(t.resumeToken));break;default:it()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(t){var n;const r=t.targetId,i=t.Vt.count,s=this.se(r);if(s){const o=s.target;if(ET(o))if(i===0){const a=new nt(o.path);this.Yt(r,a,li.newNoDocument(a,_t.min()))}else Wn(i===1);else{const a=this.ie(r);if(a!==i){const l=this.re(t,a);if(l!==0){this.ee(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,u)}(n=Nce.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(u,c,d){var f,p,g,h,m,v;const y={localCacheCount:c,existenceFilterCount:d.count},_=d.unchangedNames;return _&&(y.bloomFilter={applied:u===0,hashCount:(f=_==null?void 0:_.hashCount)!==null&&f!==void 0?f:0,bitmapLength:(h=(g=(p=_==null?void 0:_.bits)===null||p===void 0?void 0:p.bitmap)===null||g===void 0?void 0:g.length)!==null&&h!==void 0?h:0,padding:(v=(m=_==null?void 0:_.bits)===null||m===void 0?void 0:m.padding)!==null&&v!==void 0?v:0}),y}(l,a,t.Vt))}}}}re(t,n){const{unchangedNames:r,count:i}=t.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let l,u;try{l=Dc(s).toUint8Array()}catch(c){if(c instanceof qW)return zf("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw c}try{u=new Bce(l,o,a)}catch(c){return zf(c instanceof Fh?"BloomFilter error: ":"Applying bloom filter failed: ",c),1}return u.It===0?1:i!==n-this.oe(t.targetId,u)?2:0}oe(t,n){const r=this.Gt.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(t,s,null),i++)}),i}ce(t){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&ET(a.target)){const l=new nt(a.target.path);this.jt.get(l)!==null||this.ae(o,l)||this.Yt(o,l,li.newNoDocument(l,t))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=Ot();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.se(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(t));const i=new _6(t,n,this.Wt,this.jt,r);return this.jt=za(),this.zt=NN(),this.Wt=new Er(rn),i}Jt(t,n){if(!this.te(t))return;const r=this.ae(t,n.key)?2:0;this.Zt(t).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(t))}Yt(t,n,r){if(!this.te(t))return;const i=this.Zt(t);this.ae(t,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(t)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(t){this.Qt.delete(t)}ie(t){const n=this.Zt(t).Ot();return this.Gt.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}qt(t){this.Zt(t).qt()}Zt(t){let n=this.Qt.get(t);return n||(n=new DN,this.Qt.set(t,n)),n}he(t){let n=this.zt.get(t);return n||(n=new hs(rn),this.zt=this.zt.insert(t,n)),n}te(t){const n=this.se(t)!==null;return n||qe("WatchChangeAggregator","Detected inactive target",t),n}se(t){const n=this.Qt.get(t);return n&&n.kt?null:this.Gt.le(t)}ee(t){this.Qt.set(t,new DN),this.Gt.getRemoteKeysForTarget(t).forEach(n=>{this.Yt(t,n,null)})}ae(t,n){return this.Gt.getRemoteKeysForTarget(t).has(n)}};function NN(){return new Er(nt.comparator)}function LN(){return new Er(nt.comparator)}const Vce=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),jce=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Hce=(()=>({and:"AND",or:"OR"}))();let Wce=class{constructor(t,n){this.databaseId=t,this.useProto3Json=n}};function kT(e,t){return e.useProto3Json||k1(t)?t:{value:t}}function ob(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function S6(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function qce(e,t){return ob(e,t.toTimestamp())}function Lo(e){return Wn(!!e),_t.fromTimestamp(function(t){const n=fu(t);return new Ii(n.seconds,n.nanos)}(e))}function wA(e,t){return function(n){return new lr(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function $6(e){const t=lr.fromString(e);return Wn(C6(t)),t}function IT(e,t){return wA(e.databaseId,t.path)}function NE(e,t){const n=$6(t);if(n.get(1)!==e.databaseId.projectId)throw new Be(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Be(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new nt(T6(n))}function CT(e,t){return wA(e.databaseId,t)}function zce(e){const t=$6(e);return t.length===4?lr.emptyPath():T6(t)}function AT(e){return new lr(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function T6(e){return Wn(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function FN(e,t,n){return{name:IT(e,t),fields:n.value.mapValue.fields}}function Kce(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:it()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(Wn(u===void 0||typeof u=="string"),vs.fromBase64String(u||"")):(Wn(u===void 0||u instanceof Uint8Array),vs.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(l){const u=l.code===void 0?de.UNKNOWN:m6(l.code);return new Be(u,l.message||"")}(o);n=new E6(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=NE(e,r.document.name),s=Lo(r.document.updateTime),o=r.document.createTime?Lo(r.document.createTime):_t.min(),a=new zi({mapValue:{fields:r.document.fields}}),l=li.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new N_(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=NE(e,r.document),s=r.readTime?Lo(r.readTime):_t.min(),o=li.newNoDocument(i,s),a=r.removedTargetIds||[];n=new N_([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=NE(e,r.document),s=r.removedTargetIds||[];n=new N_([],s,i,null)}else{if(!("filter"in t))return it();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Mce(i,s),a=r.targetId;n=new x6(a,o)}}return n}function Gce(e,t){let n;if(t instanceof Tv)n={update:FN(e,t.key,t.value)};else if(t instanceof _A)n={delete:IT(e,t.key)};else if(t instanceof Cu)n={update:FN(e,t.key,t.data),updateMask:rde(t.fieldMask)};else{if(!(t instanceof Ace))return it();n={verify:IT(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof ib)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof mm)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof vm)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof sb)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw it()}(0,r))),t.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:qce(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:it()}(e,t.precondition)),n}function Yce(e,t){return e&&e.length>0?(Wn(t!==void 0),e.map(n=>function(r,i){let s=r.updateTime?Lo(r.updateTime):Lo(i);return s.isEqual(_t.min())&&(s=Lo(i)),new kce(s,r.transformResults||[])}(n,t))):[]}function Xce(e,t){return{documents:[CT(e,t.path)]}}function Qce(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=CT(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=CT(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return I6(co.create(l,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:Ld(c.field),direction:ede(c.dir)}}(u))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=kT(e,t.limit);var a;return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function Jce(e){let t=zce(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Wn(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(c){const d=k6(c);return d instanceof co&&XW(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(d){return new og(Fd(d.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(c)));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,k1(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,f=c.values||[];return new rb(f,d)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const d=!c.before,f=c.values||[];return new rb(f,d)}(n.endAt)),gce(t,i,o,s,a,"F",l,u)}function Zce(e,t){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return it()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function k6(e){return e.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Fd(t.unaryFilter.field);return xr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Fd(t.unaryFilter.field);return xr.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Fd(t.unaryFilter.field);return xr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Fd(t.unaryFilter.field);return xr.create(s,"!=",{nullValue:"NULL_VALUE"});default:return it()}}(e):e.fieldFilter!==void 0?function(t){return xr.create(Fd(t.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return it()}}(t.fieldFilter.op),t.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(t){return co.create(t.compositeFilter.filters.map(n=>k6(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return it()}}(t.compositeFilter.op))}(e):it()}function ede(e){return Vce[e]}function tde(e){return jce[e]}function nde(e){return Hce[e]}function Ld(e){return{fieldPath:e.canonicalString()}}function Fd(e){return qo.fromServerFormat(e.fieldPath)}function I6(e){return e instanceof xr?function(t){if(t.op==="=="){if(SN(t.value))return{unaryFilter:{field:Ld(t.field),op:"IS_NAN"}};if(EN(t.value))return{unaryFilter:{field:Ld(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(SN(t.value))return{unaryFilter:{field:Ld(t.field),op:"IS_NOT_NAN"}};if(EN(t.value))return{unaryFilter:{field:Ld(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ld(t.field),op:tde(t.op),value:t.value}}}(e):e instanceof co?function(t){const n=t.getFilters().map(r=>I6(r));return n.length===1?n[0]:{compositeFilter:{op:nde(t.op),filters:n}}}(e):it()}function rde(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function C6(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xA=class Bh{constructor(t,n,r,i,s=_t.min(),o=_t.min(),a=vs.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new Bh(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Bh(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Bh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Bh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ide=class{constructor(t){this.fe=t}};function sde(e){const t=Jce({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?$T(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ode=class{constructor(){this.rn=new ade}addToCollectionParentIndex(t,n){return this.rn.add(n),Pe.resolve()}getCollectionParents(t,n){return Pe.resolve(this.rn.getEntries(n))}addFieldIndex(t,n){return Pe.resolve()}deleteFieldIndex(t,n){return Pe.resolve()}getDocumentsMatchingTarget(t,n){return Pe.resolve(null)}getIndexType(t,n){return Pe.resolve(0)}getFieldIndexes(t,n){return Pe.resolve([])}getNextCollectionGroupToUpdate(t){return Pe.resolve(null)}getMinOffset(t,n){return Pe.resolve(pm.min())}getMinOffsetFromCollectionGroup(t,n){return Pe.resolve(pm.min())}updateCollectionGroup(t,n,r){return Pe.resolve()}updateIndexEntries(t,n){return Pe.resolve()}},ade=class{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new hs(lr.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new hs(lr.comparator)).toArray()}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OT=class RT{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new RT(0)}static Mn(){return new RT(-1)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lde=class{constructor(){this.changes=new Op(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,li.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Pe.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ude=class{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cde=class{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&lg(r.mutation,i,Do.empty(),Ii.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Ot()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Ot()){const i=lc();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=Lh();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=lc();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Ot()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=za();const o=ag(),a=ag();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Cu)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),lg(c.mutation,u,c.mutation.getFieldMask(),Ii.now())):o.set(u.key,Do.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new ude(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(t,n){const r=ag();let i=new Er((o,a)=>o-a),s=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Do.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||Ot()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=o6();c.forEach(f=>{if(!s.has(f)){const p=p6(n.get(f),r.get(f));p!==null&&d.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,d))}return Pe.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r){return function(i){return nt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):t6(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r):this.getDocumentsMatchingCollectionQuery(t,n,r)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):Pe.resolve(lc());let a=-1,l=s;return o.next(u=>Pe.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?Pe.resolve():this.remoteDocumentCache.getEntry(t,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,l,u,Ot())).next(c=>({batchId:a,changes:s6(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new nt(n)).next(r=>{let i=Lh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r){const i=n.collectionGroup;let s=Lh();return this.indexManager.getCollectionParents(t,i).next(o=>Pe.forEach(o,a=>{const l=function(u,c){return new $v(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(t,l,r).next(u=>{u.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,i))).next(s=>{i.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,li.newInvalidDocument(u)))});let o=Lh();return s.forEach((a,l)=>{const u=i.get(a);u!==void 0&&lg(u.mutation,l,Do.empty(),Ii.now()),A1(n,l)&&(o=o.insert(a,l))}),o})}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dde=class{constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,n){return Pe.resolve(this.cs.get(n))}saveBundleMetadata(t,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Lo(r.createTime)}),Pe.resolve()}getNamedQuery(t,n){return Pe.resolve(this.hs.get(n))}saveNamedQuery(t,n){return this.hs.set(n.name,function(r){return{name:r.name,query:sde(r.bundledQuery),readTime:Lo(r.readTime)}}(n)),Pe.resolve()}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fde=class{constructor(){this.overlays=new Er(nt.comparator),this.ls=new Map}getOverlay(t,n){return Pe.resolve(this.overlays.get(n))}getOverlays(t,n){const r=lc();return Pe.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.we(t,n,s)}),Pe.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),Pe.resolve()}getOverlaysForCollection(t,n,r){const i=lc(),s=n.length+1,o=new nt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Pe.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new Er((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=lc(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=lc(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return Pe.resolve(a)}we(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Pce(n,r));let s=this.ls.get(n);s===void 0&&(s=Ot(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EA=class{constructor(){this.fs=new hs(jr.ds),this.ws=new hs(jr._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,n){const r=new jr(t,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.ys(new jr(t,n))}ps(t,n){t.forEach(r=>this.removeReference(r,n))}Is(t){const n=new nt(new lr([])),r=new jr(n,t),i=new jr(n,t+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(t=>this.ys(t))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const n=new nt(new lr([])),r=new jr(n,t),i=new jr(n,t+1);let s=Ot();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new jr(t,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}},jr=class{constructor(t,n){this.key=t,this.As=n}static ds(t,n){return nt.comparator(t.key,n.key)||rn(t.As,n.As)}static _s(t,n){return rn(t.As,n.As)||nt.comparator(t.key,n.key)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pde=class{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new hs(jr.ds)}checkEmpty(t){return Pe.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Oce(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new jr(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return Pe.resolve(o)}lookupMutationBatch(t,n){return Pe.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.bs(r),s=i<0?0:i;return Pe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Pe.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(t){return Pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new jr(n,0),i=new jr(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),Pe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new hs(rn);return n.forEach(i=>{const s=new jr(i,0),o=new jr(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),Pe.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;nt.isDocumentKey(s)||(s=s.child(""));const o=new jr(new nt(s),0);let a=new hs(rn);return this.Rs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.As)),!0)},o),Pe.resolve(this.Vs(a))}Vs(t){const n=[];return t.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){Wn(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return Pe.forEach(n.mutations,i=>{const s=new jr(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Rs=r})}Cn(t){}containsKey(t,n){const r=new jr(n,0),i=this.Rs.firstAfterOrEqual(r);return Pe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,Pe.resolve()}Ss(t,n){return this.bs(t)}bs(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Ps(t){const n=this.bs(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hde=class{constructor(t){this.Ds=t,this.docs=new Er(nt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return Pe.resolve(r?r.document.mutableCopy():li.newInvalidDocument(n))}getEntries(t,n){let r=za();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():li.newInvalidDocument(i))}),Pe.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=za();const o=n.path,a=new nt(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Jue(Que(c),r)<=0||(i.has(c.key)||A1(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return Pe.resolve(s)}getAllFromCollectionGroup(t,n,r,i){it()}Cs(t,n){return Pe.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new gde(this)}getSize(t){return Pe.resolve(this.size)}};class gde extends lde{constructor(t){super(),this.os=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(t,i)):this.os.removeEntry(r)}),Pe.waitFor(n)}getFromCache(t,n){return this.os.getEntry(t,n)}getAllFromCache(t,n){return this.os.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mde=class{constructor(t){this.persistence=t,this.xs=new Op(n=>mA(n),vA),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.Ns=0,this.ks=new EA,this.targetCount=0,this.Ms=OT.kn()}forEachTarget(t,n){return this.xs.forEach((r,i)=>n(i)),Pe.resolve()}getLastRemoteSnapshotVersion(t){return Pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Pe.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),Pe.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),Pe.resolve()}Fn(t){this.xs.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Ms=new OT(n),this.highestTargetId=n),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,n){return this.Fn(n),this.targetCount+=1,Pe.resolve()}updateTargetData(t,n){return this.Fn(n),Pe.resolve()}removeTargetData(t,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,Pe.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Pe.waitFor(s).next(()=>i)}getTargetCount(t){return Pe.resolve(this.targetCount)}getTargetData(t,n){const r=this.xs.get(n)||null;return Pe.resolve(r)}addMatchingKeys(t,n,r){return this.ks.gs(n,r),Pe.resolve()}removeMatchingKeys(t,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),Pe.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.ks.Is(n),Pe.resolve()}getMatchingKeysForTargetId(t,n){const r=this.ks.Es(n);return Pe.resolve(r)}containsKey(t,n){return Pe.resolve(this.ks.containsKey(n))}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vde=class{constructor(t,n){this.$s={},this.overlays={},this.Os=new fA(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new mde(this),this.indexManager=new ode,this.remoteDocumentCache=function(r){return new hde(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new ide(n),this.qs=new dde(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new fde,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.$s[t.toKey()];return r||(r=new pde(n,this.referenceDelegate),this.$s[t.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,n,r){qe("MemoryPersistence","Starting transaction:",t);const i=new yde(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(t,n){return Pe.or(Object.values(this.$s).map(r=>()=>r.containsKey(t,n)))}},yde=class extends ece{constructor(t){super(),this.currentSequenceNumber=t}};class SA{constructor(t){this.persistence=t,this.Qs=new EA,this.js=null}static zs(t){return new SA(t)}get Ws(){if(this.js)return this.js;throw it()}addReference(t,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),Pe.resolve()}removeReference(t,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),Pe.resolve()}markPotentiallyOrphaned(t,n){return this.Ws.add(n.toString()),Pe.resolve()}removeTarget(t,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}Us(){this.js=new Set}Ks(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Pe.forEach(this.Ws,r=>{const i=nt.fromPath(r);return this.Hs(t,i).next(s=>{s||n.removeEntry(i,_t.min())})}).next(()=>(this.js=null,n.apply(t)))}updateLimboDocument(t,n){return this.Hs(t,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(t){return 0}Hs(t,n){return Pe.or([()=>Pe.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Gs(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(t,n){let r=Ot(),i=Ot();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new $A(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _de{constructor(){this.qi=!1}initialize(t,n){this.Ui=t,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(t,n,r,i){return this.Ki(t,n).next(s=>s||this.Gi(t,n,i,r)).next(s=>s||this.Qi(t,n))}Ki(t,n){if(IN(n))return Pe.resolve(null);let r=qa(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=$T(n,null,"F"),r=qa(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=Ot(...s);return this.Ui.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.ji(n,a);return this.zi(n,u,o,l.readTime)?this.Ki(t,$T(n,null,"F")):this.Wi(t,u,n,l)}))})))}Gi(t,n,r,i){return IN(n)||i.isEqual(_t.min())?this.Qi(t,n):this.Ui.getDocuments(t,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(t,n):(yN()<=Wt.DEBUG&&qe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),TT(n)),this.Wi(t,o,n,Xue(i,-1)))})}ji(t,n){let r=new hs(r6(t));return n.forEach((i,s)=>{A1(t,s)&&(r=r.add(s))}),r}zi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(t,n){return yN()<=Wt.DEBUG&&qe("QueryEngine","Using full collection scan to execute query:",TT(n)),this.Ui.getDocumentsMatchingQuery(t,n,pm.min())}Wi(t,n,r,i){return this.Ui.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bde{constructor(t,n,r,i){this.persistence=t,this.Hi=n,this.serializer=i,this.Ji=new Er(rn),this.Yi=new Op(s=>mA(s),vA),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(r)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new cde(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ji))}}function wde(e,t,n,r){return new bde(e,t,n,r)}async function A6(e,t){const n=ht(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Ot();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({er:u,removedBatchIds:o,addedBatchIds:a}))})})}function xde(e,t){const n=ht(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,d=c.keys();let f=Pe.resolve();return d.forEach(p=>{f=f.next(()=>u.getEntry(a,p)).next(g=>{const h=l.docVersions.get(p);Wn(h!==null),g.version.compareTo(h)<0&&(c.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),u.addEntry(g)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=Ot();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function O6(e){const t=ht(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Bs.getLastRemoteSnapshotVersion(n))}function Ede(e,t){const n=ht(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];t.targetChanges.forEach((c,d)=>{const f=i.get(d);if(!f)return;a.push(n.Bs.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,c.addedDocuments,d)));let p=f.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(d)!==null?p=p.withResumeToken(vs.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(d,p),function(g,h,m){return g.resumeToken.approximateByteSize()===0||h.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(f,p,c)&&a.push(n.Bs.updateTargetData(s,p))});let l=za(),u=Ot();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(Sde(s,o,t.documentUpdates).next(c=>{l=c.nr,u=c.sr})),!r.isEqual(_t.min())){const c=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return Pe.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ji=i,s))}function Sde(e,t,n){let r=Ot(),i=Ot();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=za();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(_t.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):qe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{nr:o,sr:i}})}function $de(e,t){const n=ht(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function Tde(e,t){const n=ht(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,t).next(s=>s?(i=s,Pe.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new xA(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(t,r.targetId)),r})}async function PT(e,t,n){const r=ht(e),i=r.Ji.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Sv(o))throw o;qe("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function BN(e,t,n){const r=ht(e);let i=_t.min(),s=Ot();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=ht(a),d=c.Yi.get(u);return d!==void 0?Pe.resolve(c.Ji.get(d)):c.Bs.getTargetData(l,u)}(r,o,qa(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,t,n?i:_t.min(),n?s:Ot())).next(a=>(kde(r,mce(t),a),{documents:a,ir:s})))}function kde(e,t,n){let r=e.Xi.get(t)||_t.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.Xi.set(t,r)}class UN{constructor(){this.activeTargetIds=xce()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Ide{constructor(){this.Hr=new UN,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,n,r){this.Jr[t]=n}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new UN,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cde{Yr(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){qe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){qe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ly=null;function LE(){return Ly===null?Ly=268435456+Math.round(2147483648*Math.random()):Ly++,"0x"+Ly.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ade={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ode{constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri="WebChannelConnection";class Rde extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http";this.mo=n+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,n,r,i,s){const o=LE(),a=this.To(t,n);qe("RestConnection",`Sending RPC '${t}' ${o}:`,a,r);const l={};return this.Eo(l,i,s),this.Ao(t,a,l,r).then(u=>(qe("RestConnection",`Received RPC '${t}' ${o}: `,u),u),u=>{throw zf("RestConnection",`RPC '${t}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}vo(t,n,r,i,s,o){return this.Io(t,n,r,i,s)}Eo(t,n,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+Ap,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>t[s]=i),r&&r.headers.forEach((i,s)=>t[s]=i)}To(t,n){const r=Ade[t];return`${this.mo}/v1/${n}:${r}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,n,r,i){const s=LE();return new Promise((o,a)=>{const l=new Bue;l.setWithCredentials(!0),l.listenOnce(Nue.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case DE.NO_ERROR:const c=l.getResponseJson();qe(ri,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(c)),o(c);break;case DE.TIMEOUT:qe(ri,`RPC '${t}' ${s} timed out`),a(new Be(de.DEADLINE_EXCEEDED,"Request time out"));break;case DE.HTTP_ERROR:const d=l.getStatus();if(qe(ri,`RPC '${t}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const g=function(h){const m=h.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(m)>=0?m:de.UNKNOWN}(p.status);a(new Be(g,p.message))}else a(new Be(de.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Be(de.UNAVAILABLE,"Connection failed."));break;default:it()}}finally{qe(ri,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(i);qe(ri,`RPC '${t}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Ro(t,n,r){const i=LE(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=Mue(),a=Due(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new Fue({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");qe(ri,`Creating RPC '${t}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let f=!1,p=!1;const g=new Ode({ro:m=>{p?qe(ri,`Not sending because RPC '${t}' stream ${i} is closed:`,m):(f||(qe(ri,`Opening RPC '${t}' stream ${i} transport.`),d.open(),f=!0),qe(ri,`RPC '${t}' stream ${i} sending:`,m),d.send(m))},oo:()=>d.close()}),h=(m,v,y)=>{m.listen(v,_=>{try{y(_)}catch(b){setTimeout(()=>{throw b},0)}})};return h(d,Py.EventType.OPEN,()=>{p||qe(ri,`RPC '${t}' stream ${i} transport opened.`)}),h(d,Py.EventType.CLOSE,()=>{p||(p=!0,qe(ri,`RPC '${t}' stream ${i} transport closed`),g.wo())}),h(d,Py.EventType.ERROR,m=>{p||(p=!0,zf(ri,`RPC '${t}' stream ${i} transport errored:`,m),g.wo(new Be(de.UNAVAILABLE,"The operation could not be completed")))}),h(d,Py.EventType.MESSAGE,m=>{var v;if(!p){const y=m.data[0];Wn(!!y);const _=y,b=_.error||((v=_[0])===null||v===void 0?void 0:v.error);if(b){qe(ri,`RPC '${t}' stream ${i} received error:`,b);const x=b.status;let w=function(E){const S=yr[E];if(S!==void 0)return m6(S)}(x),$=b.message;w===void 0&&(w=de.INTERNAL,$="Unknown error status: "+x+" with message "+b.message),p=!0,g.wo(new Be(w,$)),d.close()}else qe(ri,`RPC '${t}' stream ${i} received:`,y),g._o(y)}}),h(a,Lue.STAT_EVENT,m=>{m.stat===mN.PROXY?qe(ri,`RPC '${t}' stream ${i} detected buffering proxy`):m.stat===mN.NOPROXY&&qe(ri,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.fo()},0),g}}function FE(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(e){return new Wce(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(t,n,r=1e3,i=1.5,s=6e4){this.ii=t,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&qe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),t())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(t,n,r,i,s,o,a,l){this.ii=t,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new R6(t,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(t){this.Ho(),this.stream.send(t)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(t,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,t!==4?this.qo.reset():n&&n.code===de.RESOURCE_EXHAUSTED?(Wa(n.toString()),Wa("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{t(()=>{const i=new Be(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(t,n){const r=this.Xo(this.Fo);this.stream=this.eu(t,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(t){return qe("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return n=>{this.ii.enqueueAndForget(()=>this.Fo===t?n():(qe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Pde extends P6{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(t,n){return this.connection.Ro("Listen",t,n)}onMessage(t){this.qo.reset();const n=Kce(this.serializer,t),r=function(i){if(!("targetChange"in i))return _t.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?_t.min():s.readTime?Lo(s.readTime):_t.min()}(t);return this.listener.nu(n,r)}su(t){const n={};n.database=AT(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=ET(a)?{documents:Xce(i,a)}:{query:Qce(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=S6(i,s.resumeToken);const l=kT(i,s.expectedCount);l!==null&&(o.expectedCount=l)}else if(s.snapshotVersion.compareTo(_t.min())>0){o.readTime=ob(i,s.snapshotVersion.toTimestamp());const l=kT(i,s.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,t);const r=Zce(this.serializer,t);r&&(n.labels=r),this.Wo(n)}iu(t){const n={};n.database=AT(this.serializer),n.removeTarget=t,this.Wo(n)}}class Mde extends P6{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,n){return this.connection.Ro("Write",t,n)}onMessage(t){if(Wn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const n=Yce(t.writeResults,t.commitTime),r=Lo(t.commitTime);return this.listener.cu(r,n)}return Wn(!t.writeResults||t.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const t={};t.database=AT(this.serializer),this.Wo(t)}uu(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>Gce(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dde extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Be(de.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(t,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Be(de.UNKNOWN,i.toString())})}vo(t,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(t,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Be(de.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class Nde{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(t){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,t==="Online"&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Wa(n),this.mu=!1):qe("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lde{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{ad(this)&&(qe("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=ht(a);l.vu.add(4),await kv(l),l.bu.set("Unknown"),l.vu.delete(4),await M1(l)}(this))})}),this.bu=new Nde(r,i)}}async function M1(e){if(ad(e))for(const t of e.Ru)await t(!0)}async function kv(e){for(const t of e.Ru)await t(!1)}function M6(e,t){const n=ht(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),IA(n)?kA(n):Rp(n).Ko()&&TA(n,t))}function D6(e,t){const n=ht(e),r=Rp(n);n.Au.delete(t),r.Ko()&&N6(n,t),n.Au.size===0&&(r.Ko()?r.jo():ad(n)&&n.bu.set("Unknown"))}function TA(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_t.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Rp(e).su(t)}function N6(e,t){e.Vu.qt(t),Rp(e).iu(t)}function kA(e){e.Vu=new Uce({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),Rp(e).start(),e.bu.gu()}function IA(e){return ad(e)&&!Rp(e).Uo()&&e.Au.size>0}function ad(e){return ht(e).vu.size===0}function L6(e){e.Vu=void 0}async function Fde(e){e.Au.forEach((t,n)=>{TA(e,t)})}async function Bde(e,t){L6(e),IA(e)?(e.bu.Iu(t),kA(e)):e.bu.set("Unknown")}async function Ude(e,t,n){if(e.bu.set("Online"),t instanceof E6&&t.state===2&&t.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.Au.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.Au.delete(o),r.Vu.removeTarget(o))}(e,t)}catch(r){qe("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await ab(e,r)}else if(t instanceof N_?e.Vu.Ht(t):t instanceof x6?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(_t.min()))try{const r=await O6(e.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.Au.get(l);u&&i.Au.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,l)=>{const u=i.Au.get(a);if(!u)return;i.Au.set(a,u.withResumeToken(vs.EMPTY_BYTE_STRING,u.snapshotVersion)),N6(i,a);const c=new xA(u.target,a,l,u.sequenceNumber);TA(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(e,n)}catch(r){qe("RemoteStore","Failed to raise snapshot:",r),await ab(e,r)}}async function ab(e,t,n){if(!Sv(t))throw t;e.vu.add(1),await kv(e),e.bu.set("Offline"),n||(n=()=>O6(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{qe("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await M1(e)})}function F6(e,t){return t().catch(n=>ab(e,n,t))}async function D1(e){const t=ht(e),n=pu(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;Vde(t);)try{const i=await $de(t.localStore,r);if(i===null){t.Eu.length===0&&n.jo();break}r=i.batchId,jde(t,i)}catch(i){await ab(t,i)}B6(t)&&U6(t)}function Vde(e){return ad(e)&&e.Eu.length<10}function jde(e,t){e.Eu.push(t);const n=pu(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function B6(e){return ad(e)&&!pu(e).Uo()&&e.Eu.length>0}function U6(e){pu(e).start()}async function Hde(e){pu(e).hu()}async function Wde(e){const t=pu(e);for(const n of e.Eu)t.uu(n.mutations)}async function qde(e,t,n){const r=e.Eu.shift(),i=Rce.from(r,t,n);await F6(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await D1(e)}async function zde(e,t){t&&pu(e).ou&&await async function(n,r){if(i=r.code,Dce(i)&&i!==de.ABORTED){const s=n.Eu.shift();pu(n).Qo(),await F6(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await D1(n)}var i}(e,t),B6(e)&&U6(e)}async function jN(e,t){const n=ht(e);n.asyncQueue.verifyOperationInProgress(),qe("RemoteStore","RemoteStore received new credentials");const r=ad(n);n.vu.add(3),await kv(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await M1(n)}async function Kde(e,t){const n=ht(e);t?(n.vu.delete(2),await M1(n)):t||(n.vu.add(2),await kv(n),n.bu.set("Unknown"))}function Rp(e){return e.Su||(e.Su=function(t,n,r){const i=ht(t);return i.fu(),new Pde(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(e.datastore,e.asyncQueue,{uo:Fde.bind(null,e),ao:Bde.bind(null,e),nu:Ude.bind(null,e)}),e.Ru.push(async t=>{t?(e.Su.Qo(),IA(e)?kA(e):e.bu.set("Unknown")):(await e.Su.stop(),L6(e))})),e.Su}function pu(e){return e.Du||(e.Du=function(t,n,r){const i=ht(t);return i.fu(),new Mde(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(e.datastore,e.asyncQueue,{uo:Hde.bind(null,e),ao:zde.bind(null,e),au:Wde.bind(null,e),cu:qde.bind(null,e)}),e.Ru.push(async t=>{t?(e.Du.Qo(),await D1(e)):(await e.Du.stop(),e.Eu.length>0&&(qe("RemoteStore",`Stopping write stream with ${e.Eu.length} pending writes`),e.Eu=[]))})),e.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gde=class V6{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ca,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new V6(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Be(de.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function CA(e,t){if(Wa("AsyncQueue",`${t}: ${e}`),Sv(e))return new Be(de.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let j6=class L_{constructor(t){this.comparator=t?(n,r)=>t(n,r)||nt.comparator(n.key,r.key):(n,r)=>nt.comparator(n.key,r.key),this.keyedMap=Lh(),this.sortedSet=new Er(this.comparator)}static emptySet(t){return new L_(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof L_)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new L_;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HN=class{constructor(){this.Cu=new Er(nt.comparator)}track(t){const n=t.doc.key,r=this.Cu.get(n);r?t.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,t):t.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Cu=this.Cu.remove(n):t.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:t.doc}):it():this.Cu=this.Cu.insert(n,t)}xu(){const t=[];return this.Cu.inorderTraversal((n,r)=>{t.push(r)}),t}},lb=class H6{constructor(t,n,r,i,s,o,a,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new H6(t,n,j6.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&C1(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yde{constructor(){this.Nu=void 0,this.listeners=[]}}let Xde=class{constructor(){this.queries=new Op(t=>n6(t),C1),this.onlineState="Unknown",this.ku=new Set}};async function AA(e,t){const n=ht(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Yde),i)try{s.Nu=await n.onListen(r)}catch(o){const a=CA(o,`Initialization of query '${TT(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,s),s.listeners.push(t),t.Mu(n.onlineState),s.Nu&&t.$u(s.Nu)&&RA(n)}async function OA(e,t){const n=ht(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Qde(e,t){const n=ht(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&RA(n)}function Jde(e,t,n){const r=ht(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function RA(e){e.ku.forEach(t=>{t.next()})}class PA{constructor(t,n,r){this.query=t,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new lb(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Fu?this.Lu(t)&&(this.Ou.next(t),n=!0):this.qu(t,this.onlineState)&&(this.Uu(t),n=!0),this.Bu=t,n}onError(t){this.Ou.error(t)}Mu(t){this.onlineState=t;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,t)&&(this.Uu(this.Bu),n=!0),n}qu(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Lu(t){if(t.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(t){t=lb.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Fu=!0,this.Ou.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let W6=class{constructor(t){this.key=t}},q6=class{constructor(t){this.key=t}},Zde=class{constructor(t,n){this.query=t,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Ot(),this.mutatedKeys=Ot(),this.tc=r6(t),this.ec=new j6(this.tc)}get nc(){return this.Yu}sc(t,n){const r=n?n.ic:new HN,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,d)=>{const f=i.get(c),p=A1(this.query,d)?d:null,g=!!f&&this.mutatedKeys.has(f.key),h=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let m=!1;f&&p?f.data.isEqual(p.data)?g!==h&&(r.track({type:3,doc:p}),m=!0):this.rc(f,p)||(r.track({type:2,doc:p}),m=!0,(l&&this.tc(p,l)>0||u&&this.tc(p,u)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),m=!0):f&&!p&&(r.track({type:1,doc:f}),m=!0,(l||u)&&(a=!0)),m&&(p?(o=o.add(p),s=h?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r){const i=this.ec;this.ec=t.ec,this.mutatedKeys=t.mutatedKeys;const s=t.ic.xu();s.sort((u,c)=>function(d,f){const p=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return it()}};return p(d)-p(f)}(u.type,c.type)||this.tc(u.doc,c.doc)),this.oc(r);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,s.length!==0||l?{snapshot:new lb(this.query,t.ec,i,s,t.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new HN,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(t){return!this.Yu.has(t)&&!!this.ec.has(t)&&!this.ec.get(t).hasLocalMutations}oc(t){t&&(t.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=t.current)}uc(){if(!this.current)return[];const t=this.Zu;this.Zu=Ot(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return t.forEach(r=>{this.Zu.has(r)||n.push(new q6(r))}),this.Zu.forEach(r=>{t.has(r)||n.push(new W6(r))}),n}hc(t){this.Yu=t.ir,this.Zu=Ot();const n=this.sc(t.documents);return this.applyChanges(n,!0)}lc(){return lb.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}};class efe{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class tfe{constructor(t){this.key=t,this.fc=!1}}class nfe{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Op(a=>n6(a),C1),this._c=new Map,this.mc=new Set,this.gc=new Er(nt.comparator),this.yc=new Map,this.Ic=new EA,this.Tc={},this.Ec=new Map,this.Ac=OT.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function rfe(e,t){const n=pfe(e);let r,i;const s=n.wc.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=await Tde(n.localStore,qa(t)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await ife(n,t,r,a==="current",o.resumeToken),n.isPrimaryClient&&M6(n.remoteStore,o)}return i}async function ife(e,t,n,r,i){e.Rc=(d,f,p)=>async function(g,h,m,v){let y=h.view.sc(m);y.zi&&(y=await BN(g.localStore,h.query,!1).then(({documents:x})=>h.view.sc(x,y)));const _=v&&v.targetChanges.get(h.targetId),b=h.view.applyChanges(y,g.isPrimaryClient,_);return qN(g,h.targetId,b.cc),b.snapshot}(e,d,f,p);const s=await BN(e.localStore,t,!0),o=new Zde(t,s.ir),a=o.sc(s.documents),l=bA.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=o.applyChanges(a,e.isPrimaryClient,l);qN(e,n,u.cc);const c=new efe(t,n,o);return e.wc.set(t,c),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),u.snapshot}async function sfe(e,t){const n=ht(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!C1(s,t))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await PT(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),D6(n.remoteStore,r.targetId),MT(n,r.targetId)}).catch(Ev)):(MT(n,r.targetId),await PT(n.localStore,r.targetId,!0))}async function ofe(e,t,n){const r=hfe(e);try{const i=await function(s,o){const a=ht(s),l=Ii.now(),u=o.reduce((f,p)=>f.add(p.key),Ot());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=za(),g=Ot();return a.Zi.getEntries(f,u).next(h=>{p=h,p.forEach((m,v)=>{v.isValidDocument()||(g=g.add(m))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,p)).next(h=>{c=h;const m=[];for(const v of o){const y=Cce(v,c.get(v.key).overlayedDocument);y!=null&&m.push(new Cu(v.key,y,KW(y.value.mapValue),_c.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,m,o)}).next(h=>{d=h;const m=h.applyToLocalDocumentSet(c,g);return a.documentOverlayCache.saveOverlays(f,h.batchId,m)})}).then(()=>({batchId:d.batchId,changes:s6(c)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.Tc[s.currentUser.toKey()];l||(l=new Er(rn)),l=l.insert(o,a),s.Tc[s.currentUser.toKey()]=l}(r,i.batchId,n),await Iv(r,i.changes),await D1(r.remoteStore)}catch(i){const s=CA(i,"Failed to persist write");n.reject(s)}}async function z6(e,t){const n=ht(e);try{const r=await Ede(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(Wn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?Wn(o.fc):i.removedDocuments.size>0&&(Wn(o.fc),o.fc=!1))}),await Iv(n,r,t)}catch(r){await Ev(r)}}function WN(e,t,n){const r=ht(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(t);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=ht(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const d of c.listeners)d.Mu(o)&&(l=!0)}),l&&RA(a)}(r.eventManager,t),i.length&&r.dc.nu(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function afe(e,t,n){const r=ht(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),s=i&&i.key;if(s){let o=new Er(nt.comparator);o=o.insert(s,li.newNoDocument(s,_t.min()));const a=Ot().add(s),l=new _6(_t.min(),new Map,new Er(rn),o,a);await z6(r,l),r.gc=r.gc.remove(s),r.yc.delete(t),MA(r)}else await PT(r.localStore,t,!1).then(()=>MT(r,t,n)).catch(Ev)}async function lfe(e,t){const n=ht(e),r=t.batch.batchId;try{const i=await xde(n.localStore,t);G6(n,r,null),K6(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Iv(n,i)}catch(i){await Ev(i)}}async function ufe(e,t,n){const r=ht(e);try{const i=await function(s,o){const a=ht(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(Wn(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,t);G6(r,t,n),K6(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Iv(r,i)}catch(i){await Ev(i)}}function K6(e,t){(e.Ec.get(t)||[]).forEach(n=>{n.resolve()}),e.Ec.delete(t)}function G6(e,t,n){const r=ht(e);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function MT(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach(r=>{e.Ic.containsKey(r)||Y6(e,r)})}function Y6(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);n!==null&&(D6(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),MA(e))}function qN(e,t,n){for(const r of n)r instanceof W6?(e.Ic.addReference(r.key,t),cfe(e,r)):r instanceof q6?(qe("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||Y6(e,r.key)):it()}function cfe(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(qe("SyncEngine","New document in limbo: "+n),e.mc.add(r),MA(e))}function MA(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new nt(lr.fromString(t)),r=e.Ac.next();e.yc.set(r,new tfe(n)),e.gc=e.gc.insert(n,r),M6(e.remoteStore,new xA(qa(I1(n.path)),r,"TargetPurposeLimboResolution",fA.ct))}}async function Iv(e,t,n){const r=ht(e),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{o.push(r.Rc(l,t,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=$A.Li(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.dc.nu(i),await async function(a,l){const u=ht(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>Pe.forEach(l,d=>Pe.forEach(d.Fi,f=>u.persistence.referenceDelegate.addReference(c,d.targetId,f)).next(()=>Pe.forEach(d.Bi,f=>u.persistence.referenceDelegate.removeReference(c,d.targetId,f)))))}catch(c){if(!Sv(c))throw c;qe("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const d=c.targetId;if(!c.fromCache){const f=u.Ji.get(d),p=f.snapshotVersion,g=f.withLastLimboFreeSnapshotVersion(p);u.Ji=u.Ji.insert(d,g)}}}(r.localStore,s))}async function dfe(e,t){const n=ht(e);if(!n.currentUser.isEqual(t)){qe("SyncEngine","User change. New user:",t.toKey());const r=await A6(n.localStore,t);n.currentUser=t,function(i,s){i.Ec.forEach(o=>{o.forEach(a=>{a.reject(new Be(de.CANCELLED,s))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Iv(n,r.er)}}function ffe(e,t){const n=ht(e),r=n.yc.get(t);if(r&&r.fc)return Ot().add(r.key);{let i=Ot();const s=n._c.get(t);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}function pfe(e){const t=ht(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=z6.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ffe.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=afe.bind(null,t),t.dc.nu=Qde.bind(null,t.eventManager),t.dc.Pc=Jde.bind(null,t.eventManager),t}function hfe(e){const t=ht(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=lfe.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ufe.bind(null,t),t}let zN=class{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=P1(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return wde(this.persistence,new _de,t.initialUser,this.serializer)}createPersistence(t){return new vde(SA.zs,this.serializer)}createSharedClientState(t){return new Ide}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}},gfe=class{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>WN(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=dfe.bind(null,this.syncEngine),await Kde(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new Xde}createDatastore(t){const n=P1(t.databaseInfo.databaseId),r=(i=t.databaseInfo,new Rde(i));var i;return function(s,o,a,l){return new Dde(s,o,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return n=this.localStore,r=this.datastore,i=t.asyncQueue,s=a=>WN(this.syncEngine,a,0),o=VN.D()?new VN:new Cde,new Lde(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(t,n){return function(r,i,s,o,a,l,u){const c=new nfe(r,i,s,o,a,l);return u&&(c.vc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(t){const n=ht(t);qe("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await kv(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DA=class{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Sc(this.observer.next,t)}error(t){this.observer.error?this.Sc(this.observer.error,t):Wa("Uncaught Error in snapshot listener:",t.toString())}Dc(){this.muted=!0}Sc(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mfe=class{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ii.UNAUTHENTICATED,this.clientId=jW.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{qe("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(qe("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Be(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ca;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=CA(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}};async function BE(e,t){e.asyncQueue.verifyOperationInProgress(),qe("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await A6(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function KN(e,t){e.asyncQueue.verifyOperationInProgress();const n=await yfe(e);qe("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(i=>jN(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>jN(t.remoteStore,s)),e._onlineComponents=t}function vfe(e){return e.name==="FirebaseError"?e.code===de.FAILED_PRECONDITION||e.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function yfe(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){qe("FirestoreClient","Using user provided OfflineComponentProvider");try{await BE(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!vfe(n))throw n;zf("Error using user provided cache. Falling back to memory cache: "+n),await BE(e,new zN)}}else qe("FirestoreClient","Using default OfflineComponentProvider"),await BE(e,new zN);return e._offlineComponents}async function X6(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(qe("FirestoreClient","Using user provided OnlineComponentProvider"),await KN(e,e._uninitializedComponentsProvider._online)):(qe("FirestoreClient","Using default OnlineComponentProvider"),await KN(e,new gfe))),e._onlineComponents}function _fe(e){return X6(e).then(t=>t.syncEngine)}async function ub(e){const t=await X6(e),n=t.eventManager;return n.onListen=rfe.bind(null,t.syncEngine),n.onUnlisten=sfe.bind(null,t.syncEngine),n}function bfe(e,t,n={}){const r=new Ca;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new DA({next:d=>{s.enqueueAndForget(()=>OA(i,c));const f=d.docs.has(o);!f&&d.fromCache?l.reject(new Be(de.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&d.fromCache&&a&&a.source==="server"?l.reject(new Be(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new PA(I1(o.path),u,{includeMetadataChanges:!0,Ku:!0});return AA(i,c)}(await ub(e),e.asyncQueue,t,n,r)),r.promise}function wfe(e,t,n={}){const r=new Ca;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new DA({next:d=>{s.enqueueAndForget(()=>OA(i,c)),d.fromCache&&a.source==="server"?l.reject(new Be(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new PA(o,u,{includeMetadataChanges:!0,Ku:!0});return AA(i,c)}(await ub(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q6(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J6(e,t,n){if(!n)throw new Be(de.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function xfe(e,t,n,r){if(t===!0&&r===!0)throw new Be(de.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function YN(e){if(!nt.isDocumentKey(e))throw new Be(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function XN(e){if(nt.isDocumentKey(e))throw new Be(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function N1(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":it()}function Ms(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Be(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=N1(e);throw new Be(de.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new Be(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Be(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}xfe("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Q6((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Be(de.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Be(de.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Be(de.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=t.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams;var n,r}}class L1{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new QN({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Be(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new Be(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new QN(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Vue;switch(n.type){case"firstParty":return new que(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Be(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=GN.get(t);n&&(qe("ComponentProvider","Removing Datastore"),GN.delete(t),n.terminate())}(this),Promise.resolve()}}function Efe(e,t,n,r={}){var i;const s=(e=Ms(e,L1))._getSettings(),o=`${t}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&zf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=ii.MOCK_USER;else{a=lj(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Be(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ii(u)}e._authCredentials=new jue(new VW(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ci(this.firestore,t,this._key)}}class ld{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new ld(this.firestore,t,this._query)}}class Zl extends ld{constructor(t,n,r){super(t,n,I1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ci(this.firestore,null,new nt(t))}withConverter(t){return new Zl(this.firestore,t,this._path)}}function LJe(e,t,...n){if(e=zt(e),J6("collection","path",t),e instanceof L1){const r=lr.fromString(t,...n);return XN(r),new Zl(e,null,r)}{if(!(e instanceof Ci||e instanceof Zl))throw new Be(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(lr.fromString(t,...n));return XN(r),new Zl(e.firestore,null,r)}}function NA(e,t,...n){if(e=zt(e),arguments.length===1&&(t=jW.A()),J6("doc","path",t),e instanceof L1){const r=lr.fromString(t,...n);return YN(r),new Ci(e,null,new nt(r))}{if(!(e instanceof Ci||e instanceof Zl))throw new Be(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(lr.fromString(t,...n));return YN(r),new Ci(e.firestore,e instanceof Zl?e.converter:null,new nt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sfe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new R6(this,"async_queue_retry"),this.Xc=()=>{const n=FE();n&&qe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const t=FE();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const n=FE();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Ca;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qc.push(t),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(t){if(!Sv(t))throw t;qe("AsyncQueue","Operation failed with retryable error: "+t)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(t){const n=this.Gc.then(()=>(this.Hc=!0,t().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Wa("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(t,n,r){this.Zc(),this.Yc.indexOf(t)>-1&&(n=0);const i=Gde.createAndSchedule(this,t,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&it()}verifyOperationInProgress(){}async sa(){let t;do t=this.Gc,await t;while(t!==this.Gc)}ia(t){for(const n of this.zc)if(n.timerId===t)return!0;return!1}ra(t){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.sa()})}oa(t){this.Yc.push(t)}na(t){const n=this.zc.indexOf(t);this.zc.splice(n,1)}}function JN(e){return function(t,n){if(typeof t!="object"||t===null)return!1;const r=t;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(e,["next","error","complete"])}class hu extends L1{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new Sfe,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Z6(this),this._firestoreClient.terminate()}}function $fe(e,t){const n=typeof e=="object"?e:rd(),r=typeof e=="string"?e:t||"(default)",i=yo(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=lC("firestore");s&&Efe(i,...s)}return i}function F1(e){return e._firestoreClient||Z6(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Z6(e){var t,n,r;const i=e._freezeSettings(),s=function(o,a,l,u){return new rce(o,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Q6(u.experimentalLongPollingOptions),u.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new mfe(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Xf(vs.fromBase64String(t))}catch(n){throw new Be(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Xf(vs.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Be(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qo(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Be(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Be(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return rn(this._lat,t._lat)||rn(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tfe=/^__.*__$/;class kfe{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Cu(t,this.data,this.fieldMask,n,this.fieldTransforms):new Tv(t,this.data,n,this.fieldTransforms)}}class e9{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Cu(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function t9(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw it()}}class BA{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new BA(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.aa({path:r,la:!1});return i.fa(t),i}da(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.aa({path:r,la:!1});return i.ua(),i}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return cb(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(t.length===0)throw this._a("Document fields must not be empty");if(t9(this.ca)&&Tfe.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class Ife{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||P1(t)}ya(t,n,r,i=!1){return new BA({ca:t,methodName:n,ga:r,path:qo.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function UA(e){const t=e._freezeSettings(),n=P1(e._databaseId);return new Ife(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Cfe(e,t,n,r,i,s={}){const o=e.ya(s.merge||s.mergeFields?2:0,t,n,i);VA("Data must be an object, but it was:",o,r);const a=i9(r,o);let l,u;if(s.merge)l=new Do(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const f=DT(t,d,n);if(!o.contains(f))throw new Be(de.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);o9(c,f)||c.push(f)}l=new Do(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new kfe(new zi(a),l,u)}let n9=class r9 extends LA{_toFieldTransform(t){if(t.ca!==2)throw t.ca===1?t._a(`${this._methodName}() can only appear at the top level of your update data`):t._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof r9}};function Afe(e,t,n,r){const i=e.ya(1,t,n);VA("Data must be an object, but it was:",i,r);const s=[],o=zi.empty();od(r,(l,u)=>{const c=jA(t,l,n);u=zt(u);const d=i.da(c);if(u instanceof n9)s.push(c);else{const f=Cv(u,d);f!=null&&(s.push(c),o.set(c,f))}});const a=new Do(s);return new e9(o,a,i.fieldTransforms)}function Ofe(e,t,n,r,i,s){const o=e.ya(1,t,n),a=[DT(t,r,n)],l=[i];if(s.length%2!=0)throw new Be(de.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(DT(t,s[f])),l.push(s[f+1]);const u=[],c=zi.empty();for(let f=a.length-1;f>=0;--f)if(!o9(u,a[f])){const p=a[f];let g=l[f];g=zt(g);const h=o.da(p);if(g instanceof n9)u.push(p);else{const m=Cv(g,h);m!=null&&(u.push(p),c.set(p,m))}}const d=new Do(u);return new e9(c,d,o.fieldTransforms)}function Rfe(e,t,n,r=!1){return Cv(n,e.ya(r?4:3,t))}function Cv(e,t){if(s9(e=zt(e)))return VA("Unsupported field value:",t,e),i9(e,t);if(e instanceof LA)return function(n,r){if(!t9(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&t.ca!==4)throw t._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Cv(o,r.wa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if((n=zt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Ece(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Ii.fromDate(n);return{timestampValue:ob(r.serializer,i)}}if(n instanceof Ii){const i=new Ii(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ob(r.serializer,i)}}if(n instanceof FA)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Xf)return{bytesValue:S6(r.serializer,n._byteString)};if(n instanceof Ci){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:wA(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${N1(n)}`)}(e,t)}function i9(e,t){const n={};return WW(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):od(e,(r,i)=>{const s=Cv(i,t.ha(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function s9(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ii||e instanceof FA||e instanceof Xf||e instanceof Ci||e instanceof LA)}function VA(e,t,n){if(!s9(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=N1(n);throw r==="an object"?t._a(e+" a custom object"):t._a(e+" "+r)}}function DT(e,t,n){if((t=zt(t))instanceof B1)return t._internalPath;if(typeof t=="string")return jA(e,t);throw cb("Field path arguments must be of type string or ",e,!1,void 0,n)}const Pfe=new RegExp("[~\\*/\\[\\]]");function jA(e,t,n){if(t.search(Pfe)>=0)throw cb(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new B1(...t.split("."))._internalPath}catch{throw cb(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function cb(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Be(de.INVALID_ARGUMENT,a+e+l)}function o9(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let a9=class{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ci(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Mfe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(HA("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}},Mfe=class extends a9{data(){return super.data()}};function HA(e,t){return typeof t=="string"?jA(e,t):t instanceof B1?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l9(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Be(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}let WA=class{},Dfe=class extends WA{};function jJe(e,t,...n){let r=[];t instanceof WA&&r.push(t),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof Nfe).length,o=i.filter(a=>a instanceof u9).length;if(s>1||s>0&&o>0)throw new Be(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}let u9=class c9 extends Dfe{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new c9(t,n,r)}_apply(t){const n=this._parse(t);return f9(t._query,n),new ld(t.firestore,t.converter,ST(t._query,n))}_parse(t){const n=UA(t.firestore);return function(i,s,o,a,l,u,c){let d;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Be(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){eL(c,u);const f=[];for(const p of c)f.push(ZN(a,i,p));d={arrayValue:{values:f}}}else d=ZN(a,i,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||eL(c,u),d=Rfe(o,s,c,u==="in"||u==="not-in");return xr.create(l,u,d)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}};function HJe(e,t,n){const r=t,i=HA("where",e);return u9._create(i,r,n)}let Nfe=class d9 extends WA{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new d9(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:co.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)f9(s,a),s=ST(s,a)}(t._query,n),new ld(t.firestore,t.converter,ST(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function ZN(e,t,n){if(typeof(n=zt(n))=="string"){if(n==="")throw new Be(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!t6(t)&&n.indexOf("/")!==-1)throw new Be(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(lr.fromString(n));if(!nt.isDocumentKey(r))throw new Be(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return xN(e,new nt(r))}if(n instanceof Ci)return xN(e,n._key);throw new Be(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${N1(n)}.`)}function eL(e,t){if(!Array.isArray(e)||e.length===0)throw new Be(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function f9(e,t){if(t.isInequality()){const r=yA(e),i=t.field;if(r!==null&&!r.isEqual(i))throw new Be(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=e6(e);s!==null&&Lfe(e,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new Be(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Be(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function Lfe(e,t,n){if(!n.isEqual(t))throw new Be(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}let Ffe=class{convertValue(t,n="none"){switch(Nc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return _r(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Dc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw it()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return od(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new FA(_r(t.latitude),_r(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=hA(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(hm(t));default:return null}}convertTimestamp(t){const n=fu(t);return new Ii(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=lr.fromString(t);Wn(C6(r));const i=new zW(r.get(1),r.get(3)),s=new nt(r.popFirst(5));return i.isEqual(n)||Wa(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bfe(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class p9 extends a9{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new F_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(HA("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class F_ extends p9{data(t={}){return super.data(t)}}class h9{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Uh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new F_(this._firestore,this._userDataWriter,r.key,r,new Uh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Be(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new F_(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Uh(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new F_(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Uh(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:Ufe(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Ufe(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return it()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vfe(e){e=Ms(e,Ci);const t=Ms(e.firestore,hu);return bfe(F1(t),e._key).then(n=>g9(t,e,n))}class qA extends Ffe{constructor(t){super(),this.firestore=t}convertBytes(t){return new Xf(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ci(this.firestore,null,n)}}function qJe(e){e=Ms(e,ld);const t=Ms(e.firestore,hu),n=F1(t),r=new qA(t);return l9(e._query),wfe(n,e._query).then(i=>new h9(t,r,e,i))}function jfe(e,t,n,...r){e=Ms(e,Ci);const i=Ms(e.firestore,hu),s=UA(i);let o;return o=typeof(t=zt(t))=="string"||t instanceof B1?Ofe(s,"updateDoc",e._key,t,n,r):Afe(s,"updateDoc",e._key,t),zA(i,[o.toMutation(e._key,_c.exists(!0))])}function zJe(e){return zA(Ms(e.firestore,hu),[new _A(e._key,_c.none())])}function KJe(e,t){const n=Ms(e.firestore,hu),r=NA(e),i=Bfe(e.converter,t);return zA(n,[Cfe(UA(e.firestore),"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,_c.exists(!1))]).then(()=>r)}function Hfe(e,...t){var n,r,i;e=zt(e);let s={includeMetadataChanges:!1},o=0;typeof t[o]!="object"||JN(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(JN(t[o])){const d=t[o];t[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),t[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),t[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(e instanceof Ci)u=Ms(e.firestore,hu),c=I1(e._key.path),l={next:d=>{t[o]&&t[o](g9(u,e,d))},error:t[o+1],complete:t[o+2]};else{const d=Ms(e,ld);u=Ms(d.firestore,hu),c=d._query;const f=new qA(u);l={next:p=>{t[o]&&t[o](new h9(u,f,d,p))},error:t[o+1],complete:t[o+2]},l9(e._query)}return function(d,f,p,g){const h=new DA(g),m=new PA(f,h,p);return d.asyncQueue.enqueueAndForget(async()=>AA(await ub(d),m)),()=>{h.Dc(),d.asyncQueue.enqueueAndForget(async()=>OA(await ub(d),m))}}(F1(u),c,a,l)}function zA(e,t){return function(n,r){const i=new Ca;return n.asyncQueue.enqueueAndForget(async()=>ofe(await _fe(n),r,i)),i.promise}(F1(e),t)}function g9(e,t,n){const r=n.docs.get(t._key),i=new qA(e);return new p9(e,i,t._key,r,new Uh(n.hasPendingWrites,n.fromCache),t.converter)}(function(e,t=!0){(function(n){Ap=n})(Tu),Oi(new gi("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new hu(new Hue(n.getProvider("auth-internal")),new Kue(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Be(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zW(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Or(vN,"3.13.0",e),Or(vN,"3.13.0","esm2017")})();const Wfe=(e,t)=>t.some(n=>e instanceof n);let tL,nL;function qfe(){return tL||(tL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zfe(){return nL||(nL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const m9=new WeakMap,NT=new WeakMap,v9=new WeakMap,UE=new WeakMap,KA=new WeakMap;function Kfe(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(eu(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&m9.set(n,e)}).catch(()=>{}),KA.set(t,e),t}function Gfe(e){if(NT.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});NT.set(e,t)}let LT={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return NT.get(e);if(t==="objectStoreNames")return e.objectStoreNames||v9.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return eu(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Yfe(e){LT=e(LT)}function Xfe(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(VE(this),t,...n);return v9.set(r,t.sort?t.sort():[t]),eu(r)}:zfe().includes(e)?function(...t){return e.apply(VE(this),t),eu(m9.get(this))}:function(...t){return eu(e.apply(VE(this),t))}}function Qfe(e){return typeof e=="function"?Xfe(e):(e instanceof IDBTransaction&&Gfe(e),Wfe(e,qfe())?new Proxy(e,LT):e)}function eu(e){if(e instanceof IDBRequest)return Kfe(e);if(UE.has(e))return UE.get(e);const t=Qfe(e);return t!==e&&(UE.set(e,t),KA.set(t,e)),t}const VE=e=>KA.get(e);function Jfe(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=eu(o);return r&&o.addEventListener("upgradeneeded",l=>{r(eu(o.result),l.oldVersion,l.newVersion,eu(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const Zfe=["get","getKey","getAll","getAllKeys","count"],epe=["put","add","delete","clear"],jE=new Map;function rL(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(jE.get(t))return jE.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=epe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Zfe.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return jE.set(t,s),s}Yfe(e=>({...e,get:(t,n,r)=>rL(t,n)||e.get(t,n,r),has:(t,n)=>!!rL(t,n)||e.has(t,n)}));const y9="@firebase/installations",GA="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _9=1e4,b9=`w:${GA}`,w9="FIS_v2",tpe="https://firebaseinstallations.googleapis.com/v1",npe=60*60*1e3,rpe="installations",ipe="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const spe={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Lc=new $u(rpe,ipe,spe);function x9(e){return e instanceof Es&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E9({projectId:e}){return`${tpe}/projects/${e}/installations`}function S9(e){return{token:e.token,requestStatus:2,expiresIn:ape(e.expiresIn),creationTime:Date.now()}}async function $9(e,t){const r=(await t.json()).error;return Lc.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function T9({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function ope(e,{refreshToken:t}){const n=T9(e);return n.append("Authorization",lpe(t)),n}async function k9(e){const t=await e();return t.status>=500&&t.status<600?e():t}function ape(e){return Number(e.replace("s","000"))}function lpe(e){return`${w9} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function upe({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=E9(e),i=T9(e),s=t.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:w9,appId:e.appId,sdkVersion:b9},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await k9(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:S9(u.authToken)}}else throw await $9("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I9(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cpe(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dpe=/^[cdef][\w-]{21}$/,FT="";function fpe(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=ppe(e);return dpe.test(n)?n:FT}catch{return FT}}function ppe(e){return cpe(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C9=new Map;function A9(e,t){const n=U1(e);O9(n,t),hpe(n,t)}function O9(e,t){const n=C9.get(e);if(n)for(const r of n)r(t)}function hpe(e,t){const n=gpe();n&&n.postMessage({key:e,fid:t}),mpe()}let uc=null;function gpe(){return!uc&&"BroadcastChannel"in self&&(uc=new BroadcastChannel("[Firebase] FID Change"),uc.onmessage=e=>{O9(e.data.key,e.data.fid)}),uc}function mpe(){C9.size===0&&uc&&(uc.close(),uc=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vpe="firebase-installations-database",ype=1,Fc="firebase-installations-store";let HE=null;function YA(){return HE||(HE=Jfe(vpe,ype,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Fc)}}})),HE}async function db(e,t){const n=U1(e),i=(await YA()).transaction(Fc,"readwrite"),s=i.objectStore(Fc),o=await s.get(n);return await s.put(t,n),await i.done,(!o||o.fid!==t.fid)&&A9(e,t.fid),t}async function R9(e){const t=U1(e),r=(await YA()).transaction(Fc,"readwrite");await r.objectStore(Fc).delete(t),await r.done}async function V1(e,t){const n=U1(e),i=(await YA()).transaction(Fc,"readwrite"),s=i.objectStore(Fc),o=await s.get(n),a=t(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&A9(e,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XA(e){let t;const n=await V1(e.appConfig,r=>{const i=_pe(r),s=bpe(e,i);return t=s.registrationPromise,s.installationEntry});return n.fid===FT?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function _pe(e){const t=e||{fid:fpe(),registrationStatus:0};return P9(t)}function bpe(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Lc.create("app-offline"));return{installationEntry:t,registrationPromise:i}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=wpe(e,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:xpe(e)}:{installationEntry:t}}async function wpe(e,t){try{const n=await upe(e,t);return db(e.appConfig,n)}catch(n){throw x9(n)&&n.customData.serverCode===409?await R9(e.appConfig):await db(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function xpe(e){let t=await iL(e.appConfig);for(;t.registrationStatus===1;)await I9(100),t=await iL(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await XA(e);return r||n}return t}function iL(e){return V1(e,t=>{if(!t)throw Lc.create("installation-not-found");return P9(t)})}function P9(e){return Epe(e)?{fid:e.fid,registrationStatus:0}:e}function Epe(e){return e.registrationStatus===1&&e.registrationTime+_9<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Spe({appConfig:e,heartbeatServiceProvider:t},n){const r=$pe(e,n),i=ope(e,n),s=t.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:b9,appId:e.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await k9(()=>fetch(r,a));if(l.ok){const u=await l.json();return S9(u)}else throw await $9("Generate Auth Token",l)}function $pe(e,{fid:t}){return`${E9(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QA(e,t=!1){let n;const r=await V1(e.appConfig,s=>{if(!M9(s))throw Lc.create("not-registered");const o=s.authToken;if(!t&&Ipe(o))return s;if(o.requestStatus===1)return n=Tpe(e,t),s;{if(!navigator.onLine)throw Lc.create("app-offline");const a=Ape(s);return n=kpe(e,a),a}});return n?await n:r.authToken}async function Tpe(e,t){let n=await sL(e.appConfig);for(;n.authToken.requestStatus===1;)await I9(100),n=await sL(e.appConfig);const r=n.authToken;return r.requestStatus===0?QA(e,t):r}function sL(e){return V1(e,t=>{if(!M9(t))throw Lc.create("not-registered");const n=t.authToken;return Ope(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function kpe(e,t){try{const n=await Spe(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await db(e.appConfig,r),n}catch(n){if(x9(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await R9(e.appConfig);else{const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await db(e.appConfig,r)}throw n}}function M9(e){return e!==void 0&&e.registrationStatus===2}function Ipe(e){return e.requestStatus===2&&!Cpe(e)}function Cpe(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+npe}function Ape(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function Ope(e){return e.requestStatus===1&&e.requestTime+_9<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rpe(e){const t=e,{installationEntry:n,registrationPromise:r}=await XA(t);return r?r.catch(console.error):QA(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ppe(e,t=!1){const n=e;return await Mpe(n),(await QA(n,t)).token}async function Mpe(e){const{registrationPromise:t}=await XA(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dpe(e){if(!e||!e.options)throw WE("App Configuration");if(!e.name)throw WE("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw WE(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function WE(e){return Lc.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9="installations",Npe="installations-internal",Lpe=e=>{const t=e.getProvider("app").getImmediate(),n=Dpe(t),r=yo(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Fpe=e=>{const t=e.getProvider("app").getImmediate(),n=yo(t,D9).getImmediate();return{getId:()=>Rpe(n),getToken:i=>Ppe(n,i)}};function Bpe(){Oi(new gi(D9,Lpe,"PUBLIC")),Oi(new gi(Npe,Fpe,"PRIVATE"))}Bpe();Or(y9,GA);Or(y9,GA,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="analytics",Upe="firebase_id",Vpe="origin",jpe=60*1e3,Hpe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",JA="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai=new Sp("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wpe={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},gs=new $u("analytics","Analytics",Wpe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qpe(e){if(!e.startsWith(JA)){const t=gs.create("invalid-gtag-resource",{gtagURL:e});return Ai.warn(t.message),""}return e}function N9(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function zpe(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function Kpe(e,t){const n=zpe("firebase-js-sdk-policy",{createScriptURL:qpe}),r=document.createElement("script"),i=`${JA}?l=${e}&id=${t}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Gpe(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function Ype(e,t,n,r,i,s){const o=r[i];try{if(o)await t[o];else{const l=(await N9(n)).find(u=>u.measurementId===i);l&&await t[l.appId]}}catch(a){Ai.error(a)}e("config",i,s)}async function Xpe(e,t,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await N9(n);for(const l of o){const u=a.find(d=>d.measurementId===l),c=u&&t[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(t)),await Promise.all(s),e("event",r,i||{})}catch(s){Ai.error(s)}}function Qpe(e,t,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await Xpe(e,t,n,a,l)}else if(s==="config"){const[a,l]=o;await Ype(e,t,n,r,a,l)}else if(s==="consent"){const[a]=o;e("consent","update",a)}else if(s==="get"){const[a,l,u]=o;e("get",a,l,u)}else if(s==="set"){const[a]=o;e("set",a)}else e(s,...o)}catch(a){Ai.error(a)}}return i}function Jpe(e,t,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=Qpe(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}function Zpe(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(JA)&&n.src.includes(e))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ehe=30,the=1e3;class nhe{constructor(t={},n=the){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const L9=new nhe;function rhe(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function ihe(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:rhe(r)},s=Hpe.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((t=l.error)===null||t===void 0)&&t.message&&(a=l.error.message)}catch{}throw gs.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function she(e,t=L9,n){const{appId:r,apiKey:i,measurementId:s}=e.options;if(!r)throw gs.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw gs.create("no-api-key")}const o=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new lhe;return setTimeout(async()=>{a.abort()},n!==void 0?n:jpe),F9({appId:r,apiKey:i,measurementId:s},o,a,t)}async function F9(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=L9){var s;const{appId:o,measurementId:a}=e;try{await ohe(r,t)}catch(l){if(a)return Ai.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await ihe(e);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!ahe(u)){if(i.deleteThrottleMetadata(o),a)return Ai.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?L$(n,i.intervalMillis,ehe):L$(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,d),Ai.debug(`Calling attemptFetch again in ${c} millis`),F9(e,d,r,i)}}function ohe(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(s),r(gs.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function ahe(e){if(!(e instanceof Es)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class lhe{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function uhe(e,t,n,r,i){if(i&&i.global){e("event",n,r);return}else{const s=await t,o=Object.assign(Object.assign({},r),{send_to:s});e("event",n,o)}}async function che(e,t,n,r){if(r&&r.global){const i={};for(const s of Object.keys(n))i[`user_properties.${s}`]=n[s];return e("set",i),Promise.resolve()}else{const i=await t;e("config",i,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dhe(){if(e1())try{await fj()}catch(e){return Ai.warn(gs.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return Ai.warn(gs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function fhe(e,t,n,r,i,s,o){var a;const l=she(e);l.then(p=>{n[p.measurementId]=p.appId,e.options.measurementId&&p.measurementId!==e.options.measurementId&&Ai.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Ai.error(p)),t.push(l);const u=dhe().then(p=>{if(p)return r.getId()}),[c,d]=await Promise.all([l,u]);Zpe(s)||Kpe(s,c.measurementId),i("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[Vpe]="firebase",f.update=!0,d!=null&&(f[Upe]=d),i("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class phe{constructor(t){this.app=t}_delete(){return delete bf[this.app.options.appId],Promise.resolve()}}let bf={},oL=[];const aL={};let qE="dataLayer",hhe="gtag",lL,ZA,uL=!1;function ghe(){const e=[];if(uj()&&e.push("This is a browser extension environment."),sie()||e.push("Cookies are not available."),e.length>0){const t=e.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=gs.create("invalid-analytics-context",{errorInfo:t});Ai.warn(n.message)}}function mhe(e,t,n){ghe();const r=e.options.appId;if(!r)throw gs.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Ai.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw gs.create("no-api-key");if(bf[r]!=null)throw gs.create("already-exists",{id:r});if(!uL){Gpe(qE);const{wrappedGtag:s,gtagCore:o}=Jpe(bf,oL,aL,qE,hhe);ZA=s,lL=o,uL=!0}return bf[r]=fhe(e,oL,aL,t,lL,qE,n),new phe(e)}function vhe(e=rd()){e=zt(e);const t=yo(e,fb);return t.isInitialized()?t.getImmediate():yhe(e)}function yhe(e,t={}){const n=yo(e,fb);if(n.isInitialized()){const i=n.getImmediate();if(Yg(t,n.getOptions()))return i;throw gs.create("already-initialized")}return n.initialize({options:t})}function _he(e,t,n){e=zt(e),che(ZA,bf[e.app.options.appId],t,n).catch(r=>Ai.error(r))}function B9(e,t,n,r){e=zt(e),uhe(ZA,bf[e.app.options.appId],t,n,r).catch(i=>Ai.error(i))}const cL="@firebase/analytics",dL="0.10.0";function bhe(){Oi(new gi(fb,(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("installations-internal").getImmediate();return mhe(r,i,n)},"PUBLIC")),Oi(new gi("analytics-internal",e,"PRIVATE")),Or(cL,dL),Or(cL,dL,"esm2017");function e(t){try{const n=t.getProvider(fb).getImmediate();return{logEvent:(r,i,s)=>B9(n,r,i,s)}}catch(n){throw gs.create("interop-component-reg-failed",{reason:n})}}}bhe();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const whe="type.googleapis.com/google.protobuf.Int64Value",xhe="type.googleapis.com/google.protobuf.UInt64Value";function U9(e,t){const n={};for(const r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}function BT(e){if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(t=>BT(t));if(typeof e=="function"||typeof e=="object")return U9(e,t=>BT(t));throw new Error("Data cannot be encoded in JSON: "+e)}function pb(e){if(e==null)return e;if(e["@type"])switch(e["@type"]){case whe:case xhe:{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(t=>pb(t)):typeof e=="function"||typeof e=="object"?U9(e,t=>pb(t)):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class wf extends Es{constructor(t,n,r){super(`${eO}/${t}`,n||""),this.details=r}}function Ehe(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function She(e,t){let n=Ehe(e),r=n,i;try{const s=t&&t.error;if(s){const o=s.status;if(typeof o=="string"){if(!fL[o])return new wf("internal","internal");n=fL[o],r=o}const a=s.message;typeof a=="string"&&(r=a),i=s.details,i!==void 0&&(i=pb(i))}}catch{}return n==="ok"?null:new wf(n,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $he{constructor(t,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const t=await this.auth.getToken();return t==null?void 0:t.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.appCheck){const n=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(t){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(t);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="us-central1";function The(e){let t=null;return{promise:new Promise((n,r)=>{t=setTimeout(()=>{r(new wf("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{t&&clearTimeout(t)}}}class khe{constructor(t,n,r,i,s=UT,o){this.app=t,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new $he(n,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(s);this.customDomain=a.origin,this.region=UT}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(t){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${n}.cloudfunctions.net/${t}`}}function Ihe(e,t,n){e.emulatorOrigin=`http://${t}:${n}`}function Che(e,t,n){return r=>Ohe(e,t,r,n||{})}async function Ahe(e,t,n,r){n["Content-Type"]="application/json";let i;try{i=await r(e,{method:"POST",body:JSON.stringify(t),headers:n})}catch{return{status:0,json:null}}let s=null;try{s=await i.json()}catch{}return{status:i.status,json:s}}function Ohe(e,t,n,r){const i=e._url(t);return Rhe(e,i,n,r)}async function Rhe(e,t,n,r){n=BT(n);const i={data:n},s={},o=await e.contextProvider.getContext(r.limitedUseAppCheckTokens);o.authToken&&(s.Authorization="Bearer "+o.authToken),o.messagingToken&&(s["Firebase-Instance-ID-Token"]=o.messagingToken),o.appCheckToken!==null&&(s["X-Firebase-AppCheck"]=o.appCheckToken);const a=r.timeout||7e4,l=The(a),u=await Promise.race([Ahe(t,i,s,e.fetchImpl),l.promise,e.cancelAllRequests]);if(l.cancel(),!u)throw new wf("cancelled","Firebase Functions instance was deleted.");const c=She(u.status,u.json);if(c)throw c;if(!u.json)throw new wf("internal","Response is not valid JSON object.");let d=u.json.data;if(typeof d>"u"&&(d=u.json.result),typeof d>"u")throw new wf("internal","Response is missing data field.");return{data:pb(d)}}const pL="@firebase/functions",hL="0.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Phe="auth-internal",Mhe="app-check-internal",Dhe="messaging-internal";function Nhe(e,t){const n=(r,{instanceIdentifier:i})=>{const s=r.getProvider("app").getImmediate(),o=r.getProvider(Phe),a=r.getProvider(Dhe),l=r.getProvider(Mhe);return new khe(s,o,a,l,i,e)};Oi(new gi(eO,n,"PUBLIC").setMultipleInstances(!0)),Or(pL,hL,t),Or(pL,hL,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V9(e=rd(),t=UT){const r=yo(zt(e),eO).getImmediate({identifier:t}),i=lC("functions");return i&&Lhe(r,...i),r}function Lhe(e,t,n){Ihe(zt(e),t,n)}function j9(e,t,n){return Che(zt(e),t,n)}Nhe(fetch.bind(self));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT=new Map,H9={activated:!1,tokenObservers:[]},Fhe={initialized:!1,enabled:!1};function Rr(e){return VT.get(e)||Object.assign({},H9)}function Bhe(e,t){return VT.set(e,t),VT.get(e)}function j1(){return Fhe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W9="https://content-firebaseappcheck.googleapis.com/v1",Uhe="exchangeRecaptchaEnterpriseToken",Vhe="exchangeDebugToken",gL={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},jhe=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hhe{constructor(t,n,r,i,s){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(t){this.stop();try{this.pending=new lu,await Whe(this.getNextRun(t)),this.pending.resolve(),await this.pending.promise,this.pending=new lu,await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function Whe(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qhe={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Yi=new $u("appCheck","AppCheck",qhe);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(e=!1){var t;return e?(t=self.grecaptcha)===null||t===void 0?void 0:t.enterprise:self.grecaptcha}function tO(e){if(!Rr(e).activated)throw Yi.create("use-before-activation",{appName:e.name})}function q9(e){const t=Math.round(e/1e3),n=Math.floor(t/(3600*24)),r=Math.floor((t-n*3600*24)/3600),i=Math.floor((t-n*3600*24-r*3600)/60),s=t-n*3600*24-r*3600-i*60;let o="";return n&&(o+=Fy(n)+"d:"),r&&(o+=Fy(r)+"h:"),o+=Fy(i)+"m:"+Fy(s)+"s",o}function Fy(e){return e===0?"00":e>=10?e.toString():"0"+e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nO({url:e,body:t},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(t),headers:r};let o;try{o=await fetch(e,s)}catch(d){throw Yi.create("fetch-network-error",{originalErrorMessage:d==null?void 0:d.message})}if(o.status!==200)throw Yi.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(d){throw Yi.create("fetch-parse-error",{originalErrorMessage:d==null?void 0:d.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw Yi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=Number(l[1])*1e3,c=Date.now();return{token:a.token,expireTimeMillis:c+u,issuedAtTimeMillis:c}}function zhe(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${W9}/projects/${n}/apps/${r}:${Uhe}?key=${i}`,body:{recaptcha_enterprise_token:t}}}function z9(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${W9}/projects/${n}/apps/${r}:${Vhe}?key=${i}`,body:{debug_token:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Khe="firebase-app-check-database",Ghe=1,ym="firebase-app-check-store",K9="debug-token";let By=null;function G9(){return By||(By=new Promise((e,t)=>{try{const n=indexedDB.open(Khe,Ghe);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t(Yi.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(ym,{keyPath:"compositeKey"})}}}catch(n){t(Yi.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),By)}function Yhe(e){return X9(Q9(e))}function Xhe(e,t){return Y9(Q9(e),t)}function Qhe(e){return Y9(K9,e)}function Jhe(){return X9(K9)}async function Y9(e,t){const r=(await G9()).transaction(ym,"readwrite"),s=r.objectStore(ym).put({compositeKey:e,value:t});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var u;a(Yi.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})}async function X9(e){const n=(await G9()).transaction(ym,"readonly"),i=n.objectStore(ym).get(e);return new Promise((s,o)=>{i.onsuccess=a=>{const l=a.target.result;s(l?l.value:void 0)},n.onerror=a=>{var l;o(Yi.create("storage-get",{originalErrorMessage:(l=a.target.error)===null||l===void 0?void 0:l.message}))}})}function Q9(e){return`${e.options.appId}-${e.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m=new Sp("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zhe(e){if(e1()){let t;try{t=await Yhe(e)}catch(n){_m.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return t}}function zE(e,t){return e1()?Xhe(e,t).catch(n=>{_m.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function ege(){let e;try{e=await Jhe()}catch{}if(e)return e;{const t=mie();return Qhe(t).catch(n=>_m.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(){return j1().enabled}async function iO(){const e=j1();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function tge(){const e=ij(),t=j1();if(t.initialized=!0,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&e.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;t.enabled=!0;const n=new lu;t.token=n,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(ege())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nge={error:"UNKNOWN_ERROR"};function rge(e){return Zw.encodeString(JSON.stringify(e),!1)}async function hb(e,t=!1){const n=e.app;tO(n);const r=Rr(n);let i=r.token,s;if(i&&!Qd(i)&&(r.token=void 0,i=void 0),!i){const l=await r.cachedTokenPromise;l&&(Qd(l)?i=l:await zE(n,void 0))}if(!t&&i&&Qd(i))return{token:i.token};let o=!1;if(rO()){r.exchangeTokenPromise||(r.exchangeTokenPromise=nO(z9(n,await iO()),e.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const l=await r.exchangeTokenPromise;return await zE(n,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=await Rr(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?_m.warn(l.message):_m.error(l),s=l}let a;return i?s?Qd(i)?a={token:i.token,internalError:s}:a=yL(s):(a={token:i.token},r.token=i,await zE(n,i)):a=yL(s),o&&eq(n,a),a}async function ige(e){const t=e.app;tO(t);const{provider:n}=Rr(t);if(rO()){const r=await iO(),{token:i}=await nO(z9(t,r),e.heartbeatServiceProvider);return{token:i}}else{const{token:r}=await n.getToken();return{token:r}}}function J9(e,t,n,r){const{app:i}=e,s=Rr(i),o={next:n,error:r,type:t};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&Qd(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),vL(e)}).catch(()=>{})}s.cachedTokenPromise.then(()=>vL(e))}function Z9(e,t){const n=Rr(e),r=n.tokenObservers.filter(i=>i.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function vL(e){const{app:t}=e,n=Rr(t);let r=n.tokenRefresher;r||(r=sge(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function sge(e){const{app:t}=e;return new Hhe(async()=>{const n=Rr(t);let r;if(n.token?r=await hb(e,!0):r=await hb(e),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=Rr(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},gL.RETRIAL_MIN_WAIT,gL.RETRIAL_MAX_WAIT)}function eq(e,t){const n=Rr(e).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function Qd(e){return e.expireTimeMillis-Date.now()>0}function yL(e){return{token:rge(nge),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oge{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:t}=Rr(this.app);for(const n of t)Z9(this.app,n.next);return Promise.resolve()}}function age(e,t){return new oge(e,t)}function lge(e){return{getToken:t=>hb(e,t),getLimitedUseToken:()=>ige(e),addTokenListener:t=>J9(e,"INTERNAL",t),removeTokenListener:t=>Z9(e.app,t)}}const uge="@firebase/app-check",cge="0.8.0",dge="https://www.google.com/recaptcha/enterprise.js";function fge(e,t){const n=new lu,r=Rr(e);r.reCAPTCHAState={initialized:n};const i=pge(e),s=mL(!0);return s?_L(e,t,s,i,n):mge(()=>{const o=mL(!0);if(!o)throw new Error("no recaptcha");_L(e,t,o,i,n)}),n.promise}function _L(e,t,n,r,i){n.ready(()=>{gge(e,t,n,r),i.resolve(n)})}function pge(e){const t=`fire_app_check_${e.name}`,n=document.createElement("div");return n.id=t,n.style.display="none",document.body.appendChild(n),t}async function hge(e){tO(e);const n=await Rr(e).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=Rr(e).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}function gge(e,t,n,r){const i=n.render(r,{sitekey:t,size:"invisible",callback:()=>{Rr(e).reCAPTCHAState.succeeded=!0},"error-callback":()=>{Rr(e).reCAPTCHAState.succeeded=!1}}),s=Rr(e);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})}function mge(e){const t=document.createElement("script");t.src=dge,t.onload=e,document.head.appendChild(t)}class sO{constructor(t){this._siteKey=t,this._throttleData=null}async getToken(){var t,n,r;yge(this._throttleData);const i=await hge(this._app).catch(o=>{throw Yi.create("recaptcha-error")});if(!(!((t=Rr(this._app).reCAPTCHAState)===null||t===void 0)&&t.succeeded))throw Yi.create("recaptcha-error");let s;try{s=await nO(zhe(this._app,i),this._heartbeatServiceProvider)}catch(o){throw!((n=o.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=vge(Number((r=o.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),Yi.create("throttled",{time:q9(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):o}return this._throttleData=null,s}initialize(t){this._app=t,this._heartbeatServiceProvider=yo(t,"heartbeat"),fge(t,this._siteKey).catch(()=>{})}isEqual(t){return t instanceof sO?this._siteKey===t._siteKey:!1}}function vge(e,t){if(e===404||e===403)return{backoffCount:1,allowRequestsAfter:Date.now()+jhe,httpStatus:e};{const n=t?t.backoffCount:0,r=L$(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:e}}}function yge(e){if(e&&Date.now()-e.allowRequestsAfter<=0)throw Yi.create("throttled",{time:q9(e.allowRequestsAfter-Date.now()),httpStatus:e.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ge(e=rd(),t){e=zt(e);const n=yo(e,"app-check");if(j1().initialized||tge(),rO()&&iO().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&s.provider.isEqual(t.provider))return i;throw Yi.create("already-initialized",{appName:e.name})}const r=n.initialize({options:t});return bge(e,t.provider,t.isTokenAutoRefreshEnabled),Rr(e).isTokenAutoRefreshEnabled&&J9(r,"INTERNAL",()=>{}),r}function bge(e,t,n){const r=Bhe(e,Object.assign({},H9));r.activated=!0,r.provider=t,r.cachedTokenPromise=Zhe(e).then(i=>(i&&Qd(i)&&(r.token=i,eq(e,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?e.automaticDataCollectionEnabled:n,r.provider.initialize(e)}async function wge(e,t){const n=await hb(e,t);if(n.error)throw n.error;return{token:n.token}}const xge="app-check",bL="app-check-internal";function Ege(){Oi(new gi(xge,e=>{const t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return age(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(bL).initialize()})),Oi(new gi(bL,e=>{const t=e.getProvider("app-check").getImmediate();return lge(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),Or(uge,cge)}Ege();function oO(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function tq(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Sge=tq,nq=new $u("auth","Firebase",tq());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb=new Sp("@firebase/auth");function $ge(e,...t){gb.logLevel<=Wt.WARN&&gb.warn(`Auth (${Tu}): ${e}`,...t)}function B_(e,...t){gb.logLevel<=Wt.ERROR&&gb.error(`Auth (${Tu}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(e,...t){throw aO(e,...t)}function Fo(e,...t){return aO(e,...t)}function rq(e,t,n){const r=Object.assign(Object.assign({},Sge()),{[t]:n});return new $u("auth","Firebase",r).create(t,{appName:e.name})}function Tge(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&Us(e,"argument-error"),rq(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function aO(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return nq.create(e,...t)}function Je(e,t,...n){if(!e)throw aO(t,...n)}function Sa(e){const t="INTERNAL ASSERTION FAILED: "+e;throw B_(t),new Error(t)}function Ka(e,t){e||Sa(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function kge(){return wL()==="http:"||wL()==="https:"}function wL(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ige(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kge()||uj()||"connection"in navigator)?navigator.onLine:!0}function Cge(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(t,n){this.shortDelay=t,this.longDelay=n,Ka(n>t,"Short delay should be less than long delay!"),this.isMobile=uC()||cj()}get(){return Ige()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(e,t){Ka(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iq{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Sa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Sa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Sa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Age={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oge=new Av(3e4,6e4);function ud(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function cd(e,t,n,r,i={}){return sq(e,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});const a=Ep(Object.assign({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),iq.fetch()(oq(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},s))})}async function sq(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Age),t);try{const i=new Rge(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Uy(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uy(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Uy(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw Uy(e,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw rq(e,c,u);Us(e,c)}}catch(i){if(i instanceof Es)throw i;Us(e,"network-request-failed",{message:String(i)})}}async function Ov(e,t,n,r,i={}){const s=await cd(e,t,n,r,i);return"mfaPendingCredential"in s&&Us(e,"multi-factor-auth-required",{_serverResponse:s}),s}function oq(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?lO(e.config,i):`${e.config.apiScheme}://${i}`}class Rge{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Fo(this.auth,"network-request-failed")),Oge.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Uy(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Fo(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pge(e,t){return cd(e,"POST","/v1/accounts:delete",t)}async function Mge(e,t){return cd(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Dge(e,t=!1){const n=zt(e),r=await n.getIdToken(t),i=uO(r);Je(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ug(KE(i.auth_time)),issuedAtTime:ug(KE(i.iat)),expirationTime:ug(KE(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function KE(e){return Number(e)*1e3}function uO(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return B_("JWT malformed, contained fewer than 3 sections"),null;try{const i=P0(n);return i?JSON.parse(i):(B_("Failed to decode base64 JWT payload"),null)}catch(i){return B_("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Nge(e){const t=uO(e);return Je(t,"internal-error"),Je(typeof t.exp<"u","internal-error"),Je(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qf(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Es&&Lge(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function Lge({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fge{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aq{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ug(this.lastLoginAt),this.creationTime=ug(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mb(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Qf(e,Mge(n,{idToken:r}));Je(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?Vge(s.providerUserInfo):[],a=Uge(e.providerData,o),l=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new aq(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,d)}async function Bge(e){const t=zt(e);await mb(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Uge(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function Vge(e){return e.map(t=>{var{providerId:n}=t,r=oO(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jge(e,t){const n=await sq(e,{},async()=>{const r=Ep({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=oq(e,i,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",iq.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Je(t.idToken,"internal-error"),Je(typeof t.idToken<"u","internal-error"),Je(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Nge(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return Je(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await jge(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new bm;return r&&(Je(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(Je(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(Je(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new bm,this.toJSON())}_performRefresh(){return Sa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(e,t){Je(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class bc{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,s=oO(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Fge(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new aq(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await Qf(this,this.stsTokenManager.getToken(this.auth,t));return Je(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return Dge(this,t)}reload(){return Bge(this)}_assign(t){this!==t&&(Je(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new bc(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await mb(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await Qf(this,Pge(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,h=(a=n.tenantId)!==null&&a!==void 0?a:void 0,m=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(u=n.createdAt)!==null&&u!==void 0?u:void 0,y=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:_,emailVerified:b,isAnonymous:x,providerData:w,stsTokenManager:$}=n;Je(_&&$,t,"internal-error");const E=bm.fromJSON(this.name,$);Je(typeof _=="string",t,"internal-error"),_l(d,t.name),_l(f,t.name),Je(typeof b=="boolean",t,"internal-error"),Je(typeof x=="boolean",t,"internal-error"),_l(p,t.name),_l(g,t.name),_l(h,t.name),_l(m,t.name),_l(v,t.name),_l(y,t.name);const S=new bc({uid:_,auth:t,email:f,emailVerified:b,displayName:d,isAnonymous:x,photoURL:g,phoneNumber:p,tenantId:h,stsTokenManager:E,createdAt:v,lastLoginAt:y});return w&&Array.isArray(w)&&(S.providerData=w.map(T=>Object.assign({},T))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(t,n,r=!1){const i=new bm;i.updateFromServerResponse(n);const s=new bc({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await mb(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL=new Map;function $a(e){Ka(e instanceof Function,"Expected a class definition");let t=xL.get(e);return t?(Ka(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,xL.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lq{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}lq.type="NONE";const EL=lq;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(e,t,n){return`firebase:${e}:${t}:${n}`}class xf{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=U_(this.userKey,i.apiKey,s),this.fullPersistenceKey=U_("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?bc._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new xf($a(EL),t,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||$a(EL);const o=U_(r,t.config.apiKey,t.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=bc._fromJSON(t,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new xf(s,t,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new xf(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SL(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(dq(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(uq(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(pq(t))return"Blackberry";if(hq(t))return"Webos";if(cO(t))return"Safari";if((t.includes("chrome/")||cq(t))&&!t.includes("edge/"))return"Chrome";if(fq(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function uq(e=hi()){return/firefox\//i.test(e)}function cO(e=hi()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function cq(e=hi()){return/crios\//i.test(e)}function dq(e=hi()){return/iemobile/i.test(e)}function fq(e=hi()){return/android/i.test(e)}function pq(e=hi()){return/blackberry/i.test(e)}function hq(e=hi()){return/webos/i.test(e)}function H1(e=hi()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Hge(e=hi()){var t;return H1(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function Wge(){return iie()&&document.documentMode===10}function gq(e=hi()){return H1(e)||fq(e)||hq(e)||pq(e)||/windows phone/i.test(e)||dq(e)}function qge(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mq(e,t=[]){let n;switch(e){case"Browser":n=SL(hi());break;case"Worker":n=`${SL(hi())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Tu}/${r}`}async function vq(e,t){return cd(e,"GET","/v2/recaptchaConfig",ud(e,t))}function $L(e){return e!==void 0&&e.enterprise!==void 0}class yq{constructor(t){if(this.siteKey="",this.emailPasswordEnabled=!1,t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zge(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function _q(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=Fo("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",zge().appendChild(r)})}function Kge(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const Gge="https://www.google.com/recaptcha/enterprise.js?render=",Yge="recaptcha-enterprise",Xge="NO_RECAPTCHA";class bq{constructor(t){this.type=Yge,this.auth=Au(t)}async verify(t="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{vq(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new yq(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;$L(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:t}).then(u=>{o(u)}).catch(()=>{o(Xge)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&$L(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}_q(Gge+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function Jf(e,t,n,r=!1){const i=new bq(e);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qge{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((o,a)=>{try{const l=t(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jge{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new TL(this),this.idTokenSubscription=new TL(this),this.beforeStateQueue=new Qge(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nq,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=$a(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await xf.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(t);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await mb(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Cge()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?zt(t):null;return n&&Je(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Je(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence($a(t))})}async initializeRecaptchaConfig(){const t=await vq(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new yq(t);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new bq(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new $u("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&$a(t)||this._popupRedirectResolver;Je(n,this,"argument-error"),this.redirectPersistenceManager=await xf.create(this,[$a(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Je(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?t.addObserver(n,r,i):t.addObserver(n)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=mq(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&$ge(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Au(e){return zt(e)}class TL{constructor(t){this.auth=t,this.observer=null,this.addObserver=fie(n=>this.observer=n)}get next(){return Je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wq(e,t){const n=yo(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Yg(s,t??{}))return i;Us(i,"already-initialized")}return n.initialize({options:t})}function Zge(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map($a);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function eme(e,t,n){const r=Au(e);Je(r._canInitEmulator,r,"emulator-config-failed"),Je(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=xq(t),{host:o,port:a}=tme(t),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||nme()}function xq(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function tme(e){const t=xq(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:kL(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:kL(o)}}}function kL(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function nme(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Sa("not implemented")}_getIdTokenResponse(t){return Sa("not implemented")}_linkToIdToken(t,n){return Sa("not implemented")}_getReauthenticationResolver(t){return Sa("not implemented")}}async function Eq(e,t){return cd(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GE(e,t){return Ov(e,"POST","/v1/accounts:signInWithPassword",ud(e,t))}async function Sq(e,t){return cd(e,"POST","/v1/accounts:sendOobCode",ud(e,t))}async function rme(e,t){return Sq(e,t)}async function YE(e,t){return Sq(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ime(e,t){return Ov(e,"POST","/v1/accounts:signInWithEmailLink",ud(e,t))}async function sme(e,t){return Ov(e,"POST","/v1/accounts:signInWithEmailLink",ud(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm extends dO{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new wm(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new wm(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=t._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await Jf(t,r,"signInWithPassword");return GE(t,i)}else return GE(t,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await Jf(t,r,"signInWithPassword");return GE(t,s)}else return Promise.reject(i)});case"emailLink":return ime(t,{email:this._email,oobCode:this._password});default:Us(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":return Eq(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return sme(t,{idToken:n,email:this._email,oobCode:this._password});default:Us(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ef(e,t){return Ov(e,"POST","/v1/accounts:signInWithIdp",ud(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ome="http://localhost";class Bc extends dO{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Bc(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Us("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,s=oO(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Bc(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return Ef(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Ef(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ef(t,n)}buildRequest(){const t={requestUri:ome,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Ep(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ame(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lme(e){const t=Rh(Ph(e)).link,n=t?Rh(Ph(t)).deep_link_id:null,r=Rh(Ph(e)).deep_link_id;return(r?Rh(Ph(r)).link:null)||r||n||t||e}class fO{constructor(t){var n,r,i,s,o,a;const l=Rh(Ph(t)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=ame((i=l.mode)!==null&&i!==void 0?i:null);Je(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(t){const n=lme(t);try{return new fO(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(){this.providerId=Pp.PROVIDER_ID}static credential(t,n){return wm._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=fO.parseLink(n);return Je(r,"argument-error"),wm._fromEmailAndCode(t,r.code,r.tenantId)}}Pp.PROVIDER_ID="password";Pp.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Pp.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv extends pO{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl extends Rv{constructor(){super("facebook.com")}static credential(t){return Bc._fromParams({providerId:Pl.PROVIDER_ID,signInMethod:Pl.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Pl.credentialFromTaggedObject(t)}static credentialFromError(t){return Pl.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Pl.credential(t.oauthAccessToken)}catch{return null}}}Pl.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml extends Rv{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Bc._fromParams({providerId:Ml.PROVIDER_ID,signInMethod:Ml.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Ml.credentialFromTaggedObject(t)}static credentialFromError(t){return Ml.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Ml.credential(n,r)}catch{return null}}}Ml.GOOGLE_SIGN_IN_METHOD="google.com";Ml.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl extends Rv{constructor(){super("github.com")}static credential(t){return Bc._fromParams({providerId:Dl.PROVIDER_ID,signInMethod:Dl.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Dl.credentialFromTaggedObject(t)}static credentialFromError(t){return Dl.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Dl.credential(t.oauthAccessToken)}catch{return null}}}Dl.GITHUB_SIGN_IN_METHOD="github.com";Dl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl extends Rv{constructor(){super("twitter.com")}static credential(t,n){return Bc._fromParams({providerId:Nl.PROVIDER_ID,signInMethod:Nl.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Nl.credentialFromTaggedObject(t)}static credentialFromError(t){return Nl.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Nl.credential(n,r)}catch{return null}}}Nl.TWITTER_SIGN_IN_METHOD="twitter.com";Nl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XE(e,t){return Ov(e,"POST","/v1/accounts:signUp",ud(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await bc._fromIdTokenResponse(t,r,i),o=IL(r);return new Uc({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=IL(r);return new Uc({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function IL(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb extends Es{constructor(t,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,vb.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new vb(t,n,r,i)}}function $q(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?vb._fromErrorAndOperation(e,s,t,r):s})}async function ume(e,t,n=!1){const r=await Qf(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Uc._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cme(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=await Qf(e,$q(r,i,t,e),n);Je(s.idToken,r,"internal-error");const o=uO(s.idToken);Je(o,r,"internal-error");const{sub:a}=o;return Je(e.uid===a,r,"user-mismatch"),Uc._forOperation(e,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Us(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tq(e,t,n=!1){const r="signIn",i=await $q(e,r,t),s=await Uc._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function dme(e,t){return Tq(Au(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(e,t,n){var r;Je(((r=n.url)===null||r===void 0?void 0:r.length)>0,e,"invalid-continue-uri"),Je(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Je(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Je(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GJe(e,t,n){var r;const i=Au(e),s={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const o=await Jf(i,s,"getOobCode",!0);n&&V_(i,o,n),await YE(i,o)}else n&&V_(i,s,n),await YE(i,s).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const a=await Jf(i,s,"getOobCode",!0);n&&V_(i,a,n),await YE(i,a)}else return Promise.reject(o)})}async function YJe(e,t,n){var r;const i=Au(e),s={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await Jf(i,s,"signUpPassword");o=XE(i,u)}else o=XE(i,s).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await Jf(i,s,"signUpPassword");return XE(i,c)}else return Promise.reject(u)});const a=await o.catch(u=>Promise.reject(u)),l=await Uc._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function XJe(e,t,n){return dme(zt(e),Pp.credential(t,n))}async function fme(e,t){const n=zt(e),i={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&V_(n.auth,i,t);const{email:s}=await rme(n.auth,i);s!==e.email&&await e.reload()}function QJe(e,t){return pme(zt(e),t,null)}async function pme(e,t,n){const{auth:r}=e,s={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(s.email=t),n&&(s.password=n);const o=await Qf(e,Eq(r,s));await e._updateTokensIfNecessary(o,!0)}function kq(e,t,n,r){return zt(e).onIdTokenChanged(t,n,r)}function hme(e,t,n){return zt(e).beforeAuthStateChanged(t,n)}function gme(e){return zt(e).signOut()}const yb="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iq{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yb,"1"),this.storage.removeItem(yb),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mme(){const e=hi();return cO(e)||H1(e)}const vme=1e3,yme=10;class Cq extends Iq{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=mme()&&qge(),this.fallbackToPolling=gq(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(t.newValue!==o)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Wge()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,yme):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},vme)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Cq.type="LOCAL";const Aq=Cq;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oq extends Iq{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Oq.type="SESSION";const hO=Oq;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _me(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new W1(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await _me(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}W1.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bme{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=gO("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bo(){return window}function wme(e){Bo().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rq(){return typeof Bo().WorkerGlobalScope<"u"&&typeof Bo().importScripts=="function"}async function xme(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Eme(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function Sme(){return Rq()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pq="firebaseLocalStorageDb",$me=1,_b="firebaseLocalStorage",Mq="fbase_key";class Pv{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function q1(e,t){return e.transaction([_b],t?"readwrite":"readonly").objectStore(_b)}function Tme(){const e=indexedDB.deleteDatabase(Pq);return new Pv(e).toPromise()}function HT(){const e=indexedDB.open(Pq,$me);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(_b,{keyPath:Mq})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(_b)?t(r):(r.close(),await Tme(),t(await HT()))})})}async function CL(e,t,n){const r=q1(e,!0).put({[Mq]:t,value:n});return new Pv(r).toPromise()}async function kme(e,t){const n=q1(e,!1).get(t),r=await new Pv(n).toPromise();return r===void 0?null:r.value}function AL(e,t){const n=q1(e,!0).delete(t);return new Pv(n).toPromise()}const Ime=800,Cme=3;class Dq{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await HT(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>Cme)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Rq()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=W1._getInstance(Sme()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await xme(),!this.activeServiceWorker)return;this.sender=new bme(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Eme()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await HT();return await CL(t,yb,"1"),await AL(t,yb),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>CL(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>kme(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>AL(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=q1(i,!1).getAll();return new Pv(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ime)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Dq.type="LOCAL";const Nq=Dq;new Av(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lq(e,t){return t?$a(t):(Je(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO extends dO{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ef(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ef(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ef(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function Ame(e){return Tq(e.auth,new mO(e),e.bypassAuthState)}function Ome(e){const{auth:t,user:n}=e;return Je(n,t,"internal-error"),cme(n,new mO(e),e.bypassAuthState)}async function Rme(e){const{auth:t,user:n}=e;return Je(n,t,"internal-error"),ume(n,new mO(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fq{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Ame;case"linkViaPopup":case"linkViaRedirect":return Rme;case"reauthViaPopup":case"reauthViaRedirect":return Ome;default:Us(this.auth,"internal-error")}}resolve(t){Ka(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ka(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pme=new Av(2e3,1e4);async function JJe(e,t,n){const r=Au(e);Tge(e,t,pO);const i=Lq(r,n);return new cc(r,"signInViaPopup",t,i).executeNotNull()}class cc extends Fq{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,cc.currentPopupAction&&cc.currentPopupAction.cancel(),cc.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Je(t,this.auth,"internal-error"),t}async onExecution(){Ka(this.filter.length===1,"Popup operations only handle one event");const t=gO();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Fo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Fo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cc.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Pme.get())};t()}}cc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mme="pendingRedirect",j_=new Map;class Dme extends Fq{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=j_.get(this.auth._key());if(!t){try{const r=await Nme(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}j_.set(this.auth._key(),t)}return this.bypassAuthState||j_.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Nme(e,t){const n=Bme(t),r=Fme(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Lme(e,t){j_.set(e._key(),t)}function Fme(e){return $a(e._redirectPersistence)}function Bme(e){return U_(Mme,e.config.apiKey,e.name)}async function Ume(e,t,n=!1){const r=Au(e),i=Lq(r,t),o=await new Dme(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vme=10*60*1e3;class jme{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Hme(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!Bq(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Fo(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Vme&&this.cachedEventUids.clear(),this.cachedEventUids.has(OL(t))}saveEventToCache(t){this.cachedEventUids.add(OL(t)),this.lastProcessedEventTime=Date.now()}}function OL(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function Bq({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Hme(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Bq(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wme(e,t={}){return cd(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qme=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zme=/^https?/;async function Kme(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Wme(e);for(const n of t)try{if(Gme(n))return}catch{}Us(e,"unauthorized-domain")}function Gme(e){const t=jT(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!zme.test(n))return!1;if(qme.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yme=new Av(3e4,6e4);function RL(){const e=Bo().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function Xme(e){return new Promise((t,n)=>{var r,i,s;function o(){RL(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{RL(),n(Fo(e,"network-request-failed"))},timeout:Yme.get()})}if(!((i=(r=Bo().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((s=Bo().gapi)===null||s===void 0)&&s.load)o();else{const a=Kge("iframefcb");return Bo()[a]=()=>{gapi.load?o():n(Fo(e,"network-request-failed"))},_q(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw H_=null,t})}let H_=null;function Qme(e){return H_=H_||Xme(e),H_}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jme=new Av(5e3,15e3),Zme="__/auth/iframe",eve="emulator/auth/iframe",tve={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nve=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rve(e){const t=e.config;Je(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?lO(t,eve):`https://${e.config.authDomain}/${Zme}`,r={apiKey:t.apiKey,appName:e.name,v:Tu},i=nve.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ep(r).slice(1)}`}async function ive(e){const t=await Qme(e),n=Bo().gapi;return Je(n,e,"internal-error"),t.open({where:document.body,url:rve(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tve,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Fo(e,"network-request-failed"),a=Bo().setTimeout(()=>{s(o)},Jme.get());function l(){Bo().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sve={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ove=500,ave=600,lve="_blank",uve="http://localhost";class PL{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cve(e,t,n,r=ove,i=ave){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},sve),{width:r.toString(),height:i.toString(),top:s,left:o}),u=hi().toLowerCase();n&&(a=cq(u)?lve:n),uq(u)&&(t=t||uve,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[p,g])=>`${f}${p}=${g},`,"");if(Hge(u)&&a!=="_self")return dve(t||"",a),new PL(null);const d=window.open(t||"",a,c);Je(d,e,"popup-blocked");try{d.focus()}catch{}return new PL(d)}function dve(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fve="__/auth/handler",pve="emulator/auth/handler",hve=encodeURIComponent("fac");async function ML(e,t,n,r,i,s){Je(e.config.authDomain,e,"auth-domain-config-required"),Je(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Tu,eventId:i};if(t instanceof pO){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",N$(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(t instanceof Rv){const c=t.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await e._getAppCheckToken(),u=l?`#${hve}=${encodeURIComponent(l)}`:"";return`${gve(e)}?${Ep(a).slice(1)}${u}`}function gve({config:e}){return e.emulator?lO(e,pve):`https://${e.authDomain}/${fve}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="webStorageSupport";class mve{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hO,this._completeRedirectFn=Ume,this._overrideRedirectResult=Lme}async _openPopup(t,n,r,i){var s;Ka((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await ML(t,n,r,jT(),i);return cve(t,o,gO())}async _openRedirect(t,n,r,i){await this._originValidation(t);const s=await ML(t,n,r,jT(),i);return wme(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ka(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await ive(t),r=new jme(t);return n.register("authEvent",i=>(Je(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(QE,{type:QE},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[QE];o!==void 0&&n(!!o),Us(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Kme(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return gq()||cO()||H1()}}const Uq=mve;var DL="@firebase/auth",NL="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vve{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yve(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function _ve(e){Oi(new gi("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Je(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mq(e)},u=new Jge(r,i,s,l);return Zge(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Oi(new gi("auth-internal",t=>{const n=Au(t.getProvider("auth").getImmediate());return(r=>new vve(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Or(DL,NL,yve(e)),Or(DL,NL,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bve=5*60,wve=aj("authIdTokenMaxAge")||bve;let LL=null;const xve=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>wve)return;const i=n==null?void 0:n.token;LL!==i&&(LL=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Eve(e=rd()){const t=yo(e,"auth");if(t.isInitialized())return t.getImmediate();const n=wq(e,{popupRedirectResolver:Uq,persistence:[Nq,Aq,hO]}),r=aj("authTokenSyncURL");if(r){const s=xve(r);hme(n,s,()=>s(n.currentUser)),kq(n,o=>s(o))}const i=sj("auth");return i&&eme(n,`http://${i}`),n}_ve("Browser");var FL=36,Vq="";for(;FL--;)Vq+=FL.toString(36);function Sve(e){for(var t="",n=e||11;n--;)t+=Vq[Math.random()*36|0];return t}const $ve=()=>{{const e=window==null?void 0:window.localStorage.getItem("uid");if(e)return e;const t=`visitor-${Sve()}`;return window==null||window.localStorage.setItem("uid",t),t}},Tve=(e=null)=>{window==null||window.localStorage.setItem("uid",e)};var br;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(br||(br={}));function kve(e){return e.nodeType===e.ELEMENT_NODE}function cg(e){const t=e==null?void 0:e.host;return(t==null?void 0:t.shadowRoot)===e}function dg(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function Ive(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),e}function Cve(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function bb(e){try{const t=e.rules||e.cssRules;return t?Ive(Array.from(t,jq).join("")):null}catch{return null}}function jq(e){let t;if(Ove(e))try{t=bb(e.styleSheet)||Cve(e)}catch{}else if(Rve(e)&&e.selectorText.includes(":"))return Ave(e.cssText);return t||e.cssText}function Ave(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function Ove(e){return"styleSheet"in e}function Rve(e){return"selectorText"in e}class Hq{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(t){var n;if(!t)return-1;const r=(n=this.getMeta(t))===null||n===void 0?void 0:n.id;return r??-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){const r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){const r=this.getNode(t);if(r){const i=this.nodeMetaMap.get(r);i&&this.nodeMetaMap.set(n,i)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function Pve(){return new Hq}function vO({element:e,maskInputOptions:t,tagName:n,type:r,value:i,maskInputFn:s}){let o=i||"";const a=r&&Vc(r);return(t[n.toLowerCase()]||a&&t[a])&&(s?o=s(o,e):o="*".repeat(o.length)),o}function Vc(e){return e.toLowerCase()}const BL="__rrweb_original__";function Mve(e){const t=e.getContext("2d");if(!t)return!0;const n=50;for(let r=0;r<e.width;r+=n)for(let i=0;i<e.height;i+=n){const s=t.getImageData,o=BL in s?s[BL]:s;if(new Uint32Array(o.call(t,r,i,Math.min(n,e.width-r),Math.min(n,e.height-i)).data.buffer).some(l=>l!==0))return!1}return!0}function yO(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Vc(t):null}function Wq(e,t){var n;let r;try{r=new URL(e,t??window.location.href)}catch{return null}const i=/\.([0-9a-z]+)(?:$)/i,s=r.pathname.match(i);return(n=s==null?void 0:s[1])!==null&&n!==void 0?n:null}let Dve=1;const Nve=new RegExp("[^a-z0-9-_:]"),xm=-2;function qq(){return Dve++}function Lve(e){if(e instanceof HTMLFormElement)return"form";const t=Vc(e.tagName);return Nve.test(t)?"div":t}function Fve(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}let Sd,UL;const Bve=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,Uve=/^(?:[a-z+]+:)?\/\//i,Vve=/^www\..*/i,jve=/^(data:)([^,]*),(.*)/i;function wb(e,t){return(e||"").replace(Bve,(n,r,i,s,o,a)=>{const l=i||o||a,u=r||s||"";if(!l)return n;if(Uve.test(l)||Vve.test(l))return`url(${u}${l}${u})`;if(jve.test(l))return`url(${u}${l}${u})`;if(l[0]==="/")return`url(${u}${Fve(t)+l}${u})`;const c=t.split("/"),d=l.split("/");c.pop();for(const f of d)f!=="."&&(f===".."?c.pop():c.push(f));return`url(${u}${c.join("/")}${u})`})}const Hve=/^[^ \t\n\r\u000c]+/,Wve=/^[, \t\n\r\u000c]+/;function qve(e,t){if(t.trim()==="")return t;let n=0;function r(s){let o;const a=s.exec(t.substring(n));return a?(o=a[0],n+=o.length,o):""}const i=[];for(;r(Wve),!(n>=t.length);){let s=r(Hve);if(s.slice(-1)===",")s=Jd(e,s.substring(0,s.length-1)),i.push(s);else{let o="";s=Jd(e,s);let a=!1;for(;;){const l=t.charAt(n);if(l===""){i.push((s+o).trim());break}else if(a)l===")"&&(a=!1);else if(l===","){n+=1,i.push((s+o).trim());break}else l==="("&&(a=!0);o+=l,n+=1}}}return i.join(", ")}function Jd(e,t){if(!t||t.trim()==="")return t;const n=e.createElement("a");return n.href=t,n.href}function zve(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function _O(){const e=document.createElement("a");return e.href="",e.href}function zq(e,t,n,r){return r&&(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?Jd(e,r):n==="srcset"?qve(e,r):n==="style"?wb(r,_O()):t==="object"&&n==="data"?Jd(e,r):r)}function Kq(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function Kve(e,t,n){try{if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let r=e.classList.length;r--;){const i=e.classList[r];if(t.test(i))return!0}if(n)return e.matches(n)}catch{}return!1}function xb(e,t,n){if(!e)return!1;if(e.nodeType!==e.ELEMENT_NODE)return n?xb(e.parentNode,t,n):!1;for(let r=e.classList.length;r--;){const i=e.classList[r];if(t.test(i))return!0}return n?xb(e.parentNode,t,n):!1}function Gq(e,t,n,r){try{const i=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(i===null)return!1;if(typeof t=="string"){if(r){if(i.closest(`.${t}`))return!0}else if(i.classList.contains(t))return!0}else if(xb(i,t,r))return!0;if(n){if(r){if(i.closest(n))return!0}else if(i.matches(n))return!0}}catch{}return!1}function Gve(e,t,n){const r=e.contentWindow;if(!r)return;let i=!1,s;try{s=r.document.readyState}catch{return}if(s!=="complete"){const a=setTimeout(()=>{i||(t(),i=!0)},n);e.addEventListener("load",()=>{clearTimeout(a),i=!0,t()});return}const o="about:blank";if(r.location.href!==o||e.src===o||e.src==="")return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function Yve(e,t,n){let r=!1,i;try{i=e.sheet}catch{return}if(i)return;const s=setTimeout(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{clearTimeout(s),r=!0,t()})}function Xve(e,t){const{doc:n,mirror:r,blockClass:i,blockSelector:s,needsMask:o,inlineStylesheet:a,maskInputOptions:l={},maskTextFn:u,maskInputFn:c,dataURLOptions:d={},inlineImages:f,recordCanvas:p,keepIframeSrcFn:g,newlyAddedElement:h=!1}=t,m=Qve(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:br.Document,childNodes:[],compatMode:e.compatMode}:{type:br.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:br.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:m};case e.ELEMENT_NODE:return Zve(e,{doc:n,blockClass:i,blockSelector:s,inlineStylesheet:a,maskInputOptions:l,maskInputFn:c,dataURLOptions:d,inlineImages:f,recordCanvas:p,keepIframeSrcFn:g,newlyAddedElement:h,rootId:m});case e.TEXT_NODE:return Jve(e,{needsMask:o,maskTextFn:u,rootId:m});case e.CDATA_SECTION_NODE:return{type:br.CDATA,textContent:"",rootId:m};case e.COMMENT_NODE:return{type:br.Comment,textContent:e.textContent||"",rootId:m};default:return!1}}function Qve(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return n===1?void 0:n}function Jve(e,t){var n;const{needsMask:r,maskTextFn:i,rootId:s}=t,o=e.parentNode&&e.parentNode.tagName;let a=e.textContent;const l=o==="STYLE"?!0:void 0,u=o==="SCRIPT"?!0:void 0;if(l&&a){try{e.nextSibling||e.previousSibling||!((n=e.parentNode.sheet)===null||n===void 0)&&n.cssRules&&(a=bb(e.parentNode.sheet))}catch(c){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${c}`,e)}a=wb(a,_O())}return u&&(a="SCRIPT_PLACEHOLDER"),!l&&!u&&a&&r&&(a=i?i(a,e.parentElement):a.replace(/[\S]/g,"*")),{type:br.Text,textContent:a||"",isStyle:l,rootId:s}}function Zve(e,t){const{doc:n,blockClass:r,blockSelector:i,inlineStylesheet:s,maskInputOptions:o={},maskInputFn:a,dataURLOptions:l={},inlineImages:u,recordCanvas:c,keepIframeSrcFn:d,newlyAddedElement:f=!1,rootId:p}=t,g=Kve(e,r,i),h=Lve(e);let m={};const v=e.attributes.length;for(let _=0;_<v;_++){const b=e.attributes[_];Kq(h,b.name,b.value)||(m[b.name]=zq(n,h,Vc(b.name),b.value))}if(h==="link"&&s){const _=Array.from(n.styleSheets).find(x=>x.href===e.href);let b=null;_&&(b=bb(_)),b&&(delete m.rel,delete m.href,m._cssText=wb(b,_.href))}if(h==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const _=bb(e.sheet);_&&(m._cssText=wb(_,_O()))}if(h==="input"||h==="textarea"||h==="select"){const _=e.value,b=e.checked;m.type!=="radio"&&m.type!=="checkbox"&&m.type!=="submit"&&m.type!=="button"&&_?m.value=vO({element:e,type:yO(e),tagName:h,value:_,maskInputOptions:o,maskInputFn:a}):b&&(m.checked=b)}if(h==="option"&&(e.selected&&!o.select?m.selected=!0:delete m.selected),h==="canvas"&&c){if(e.__context==="2d")Mve(e)||(m.rr_dataURL=e.toDataURL(l.type,l.quality));else if(!("__context"in e)){const _=e.toDataURL(l.type,l.quality),b=document.createElement("canvas");b.width=e.width,b.height=e.height;const x=b.toDataURL(l.type,l.quality);_!==x&&(m.rr_dataURL=_)}}if(h==="img"&&u){Sd||(Sd=n.createElement("canvas"),UL=Sd.getContext("2d"));const _=e,b=_.crossOrigin;_.crossOrigin="anonymous";const x=()=>{_.removeEventListener("load",x);try{Sd.width=_.naturalWidth,Sd.height=_.naturalHeight,UL.drawImage(_,0,0),m.rr_dataURL=Sd.toDataURL(l.type,l.quality)}catch(w){console.warn(`Cannot inline img src=${_.currentSrc}! Error: ${w}`)}b?m.crossOrigin=b:_.removeAttribute("crossorigin")};_.complete&&_.naturalWidth!==0?x():_.addEventListener("load",x)}if(h==="audio"||h==="video"){const _=m;_.rr_mediaState=e.paused?"paused":"played",_.rr_mediaCurrentTime=e.currentTime,_.rr_mediaPlaybackRate=e.playbackRate,_.rr_mediaMuted=e.muted,_.rr_mediaLoop=e.loop,_.rr_mediaVolume=e.volume}if(f||(e.scrollLeft&&(m.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(m.rr_scrollTop=e.scrollTop)),g){const{width:_,height:b}=e.getBoundingClientRect();m={class:m.class,rr_width:`${_}px`,rr_height:`${b}px`}}h==="iframe"&&!d(m.src)&&(e.contentDocument||(m.rr_src=m.src),delete m.src);let y;try{customElements.get(h)&&(y=!0)}catch{}return{type:br.Element,tagName:h,attributes:m,childNodes:[],isSVG:zve(e)||void 0,needBlock:g,rootId:p,isCustom:y}}function Cn(e){return e==null?"":e.toLowerCase()}function eye(e,t){if(t.comment&&e.type===br.Comment)return!0;if(e.type===br.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")&&e.attributes.as==="script"||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&Wq(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(Cn(e.attributes.name).match(/^msapplication-tile(image|color)$/)||Cn(e.attributes.name)==="application-name"||Cn(e.attributes.rel)==="icon"||Cn(e.attributes.rel)==="apple-touch-icon"||Cn(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&Cn(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(Cn(e.attributes.property).match(/^(og|twitter|fb):/)||Cn(e.attributes.name).match(/^(og|twitter):/)||Cn(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(Cn(e.attributes.name)==="robots"||Cn(e.attributes.name)==="googlebot"||Cn(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(Cn(e.attributes.name)==="author"||Cn(e.attributes.name)==="generator"||Cn(e.attributes.name)==="framework"||Cn(e.attributes.name)==="publisher"||Cn(e.attributes.name)==="progid"||Cn(e.attributes.property).match(/^article:/)||Cn(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(Cn(e.attributes.name)==="google-site-verification"||Cn(e.attributes.name)==="yandex-verification"||Cn(e.attributes.name)==="csrf-token"||Cn(e.attributes.name)==="p:domain_verify"||Cn(e.attributes.name)==="verify-v1"||Cn(e.attributes.name)==="verification"||Cn(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function Zd(e,t){const{doc:n,mirror:r,blockClass:i,blockSelector:s,maskTextClass:o,maskTextSelector:a,skipChild:l=!1,inlineStylesheet:u=!0,maskInputOptions:c={},maskTextFn:d,maskInputFn:f,slimDOMOptions:p,dataURLOptions:g={},inlineImages:h=!1,recordCanvas:m=!1,onSerialize:v,onIframeLoad:y,iframeLoadTimeout:_=5e3,onStylesheetLoad:b,stylesheetLoadTimeout:x=5e3,keepIframeSrcFn:w=()=>!1,newlyAddedElement:$=!1}=t;let{needsMask:E}=t,{preserveWhiteSpace:S=!0}=t;!E&&e.childNodes&&(E=Gq(e,o,a,E===void 0));const T=Xve(e,{doc:n,mirror:r,blockClass:i,blockSelector:s,needsMask:E,inlineStylesheet:u,maskInputOptions:c,maskTextFn:d,maskInputFn:f,dataURLOptions:g,inlineImages:h,recordCanvas:m,keepIframeSrcFn:w,newlyAddedElement:$});if(!T)return console.warn(e,"not serialized"),null;let P;r.hasNode(e)?P=r.getId(e):eye(T,p)||!S&&T.type===br.Text&&!T.isStyle&&!T.textContent.replace(/^\s+|\s+$/gm,"").length?P=xm:P=qq();const C=Object.assign(T,{id:P});if(r.add(e,C),P===xm)return null;v&&v(e);let B=!l;if(C.type===br.Element){B=B&&!C.needBlock,delete C.needBlock;const V=e.shadowRoot;V&&dg(V)&&(C.isShadowHost=!0)}if((C.type===br.Document||C.type===br.Element)&&B){p.headWhitespace&&C.type===br.Element&&C.tagName==="head"&&(S=!1);const V={doc:n,mirror:r,blockClass:i,blockSelector:s,needsMask:E,maskTextClass:o,maskTextSelector:a,skipChild:l,inlineStylesheet:u,maskInputOptions:c,maskTextFn:d,maskInputFn:f,slimDOMOptions:p,dataURLOptions:g,inlineImages:h,recordCanvas:m,preserveWhiteSpace:S,onSerialize:v,onIframeLoad:y,iframeLoadTimeout:_,onStylesheetLoad:b,stylesheetLoadTimeout:x,keepIframeSrcFn:w};if(!(C.type===br.Element&&C.tagName==="textarea"&&C.attributes.value!==void 0))for(const ce of Array.from(e.childNodes)){const X=Zd(ce,V);X&&C.childNodes.push(X)}if(kve(e)&&e.shadowRoot)for(const ce of Array.from(e.shadowRoot.childNodes)){const X=Zd(ce,V);X&&(dg(e.shadowRoot)&&(X.isShadow=!0),C.childNodes.push(X))}}return e.parentNode&&cg(e.parentNode)&&dg(e.parentNode)&&(C.isShadow=!0),C.type===br.Element&&C.tagName==="iframe"&&Gve(e,()=>{const V=e.contentDocument;if(V&&y){const ce=Zd(V,{doc:V,mirror:r,blockClass:i,blockSelector:s,needsMask:E,maskTextClass:o,maskTextSelector:a,skipChild:!1,inlineStylesheet:u,maskInputOptions:c,maskTextFn:d,maskInputFn:f,slimDOMOptions:p,dataURLOptions:g,inlineImages:h,recordCanvas:m,preserveWhiteSpace:S,onSerialize:v,onIframeLoad:y,iframeLoadTimeout:_,onStylesheetLoad:b,stylesheetLoadTimeout:x,keepIframeSrcFn:w});ce&&y(e,ce)}},_),C.type===br.Element&&C.tagName==="link"&&typeof C.attributes.rel=="string"&&(C.attributes.rel==="stylesheet"||C.attributes.rel==="preload"&&typeof C.attributes.href=="string"&&Wq(C.attributes.href)==="css")&&Yve(e,()=>{if(b){const V=Zd(e,{doc:n,mirror:r,blockClass:i,blockSelector:s,needsMask:E,maskTextClass:o,maskTextSelector:a,skipChild:!1,inlineStylesheet:u,maskInputOptions:c,maskTextFn:d,maskInputFn:f,slimDOMOptions:p,dataURLOptions:g,inlineImages:h,recordCanvas:m,preserveWhiteSpace:S,onSerialize:v,onIframeLoad:y,iframeLoadTimeout:_,onStylesheetLoad:b,stylesheetLoadTimeout:x,keepIframeSrcFn:w});V&&b(e,V)}},x),C}function tye(e,t){const{mirror:n=new Hq,blockClass:r="rr-block",blockSelector:i=null,maskTextClass:s="rr-mask",maskTextSelector:o=null,inlineStylesheet:a=!0,inlineImages:l=!1,recordCanvas:u=!1,maskAllInputs:c=!1,maskTextFn:d,maskInputFn:f,slimDOM:p=!1,dataURLOptions:g,preserveWhiteSpace:h,onSerialize:m,onIframeLoad:v,iframeLoadTimeout:y,onStylesheetLoad:_,stylesheetLoadTimeout:b,keepIframeSrcFn:x=()=>!1}=t||{};return Zd(e,{doc:e,mirror:n,blockClass:r,blockSelector:i,maskTextClass:s,maskTextSelector:o,skipChild:!1,inlineStylesheet:a,maskInputOptions:c===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:c===!1?{password:!0}:c,maskTextFn:d,maskInputFn:f,slimDOMOptions:p===!0||p==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:p==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:p===!1?{}:p,dataURLOptions:g,inlineImages:l,recordCanvas:u,preserveWhiteSpace:h,onSerialize:m,onIframeLoad:v,iframeLoadTimeout:y,onStylesheetLoad:_,stylesheetLoadTimeout:b,keepIframeSrcFn:x,newlyAddedElement:!1})}function Ei(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const Bd=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let VL={map:{},getId(){return console.error(Bd),-1},getNode(){return console.error(Bd),null},removeNodeFromMap(){console.error(Bd)},has(){return console.error(Bd),!1},reset(){console.error(Bd)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(VL=new Proxy(VL,{get(e,t,n){return t==="map"&&console.error(Bd),Reflect.get(e,t,n)}}));function Em(e,t,n={}){let r=null,i=0;return function(...s){const o=Date.now();!i&&n.leading===!1&&(i=o);const a=t-(o-i),l=this;a<=0||a>t?(r&&(clearTimeout(r),r=null),i=o,e.apply(l,s)):!r&&n.trailing!==!1&&(r=setTimeout(()=>{i=n.leading===!1?0:Date.now(),r=null,e.apply(l,s)},a))}}function z1(e,t,n,r,i=window){const s=i.Object.getOwnPropertyDescriptor(e,t);return i.Object.defineProperty(e,t,r?n:{set(o){setTimeout(()=>{n.set.call(this,o)},0),s&&s.set&&s.set.call(this,o)}}),()=>z1(e,t,s||{},!0)}function Mp(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],i=n(r);return typeof i=="function"&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=i,()=>{e[t]=r}}catch{return()=>{}}}let Eb=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(Eb=()=>new Date().getTime());function Yq(e){var t,n,r,i,s,o;const a=e.document;return{left:a.scrollingElement?a.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:(a==null?void 0:a.documentElement.scrollLeft)||((n=(t=a==null?void 0:a.body)===null||t===void 0?void 0:t.parentElement)===null||n===void 0?void 0:n.scrollLeft)||((r=a==null?void 0:a.body)===null||r===void 0?void 0:r.scrollLeft)||0,top:a.scrollingElement?a.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:(a==null?void 0:a.documentElement.scrollTop)||((s=(i=a==null?void 0:a.body)===null||i===void 0?void 0:i.parentElement)===null||s===void 0?void 0:s.scrollTop)||((o=a==null?void 0:a.body)===null||o===void 0?void 0:o.scrollTop)||0}}function Xq(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Qq(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Jq(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function Si(e,t,n,r){if(!e)return!1;const i=Jq(e);if(!i)return!1;try{if(typeof t=="string"){if(i.classList.contains(t)||r&&i.closest("."+t)!==null)return!0}else if(xb(i,t,r))return!0}catch{}return!!(n&&(i.matches(n)||r&&i.closest(n)!==null))}function nye(e,t){return t.getId(e)!==-1}function JE(e,t){return t.getId(e)===xm}function Zq(e,t){if(cg(e))return!1;const n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?Zq(e.parentNode,t):!0:!0}function WT(e){return!!e.changedTouches}function rye(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function ez(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function tz(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function qT(e){return!!(e!=null&&e.shadowRoot)}class iye{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){var n;return(n=this.styleIDMap.get(t))!==null&&n!==void 0?n:-1}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function nz(e){var t,n;let r=null;return((n=(t=e.getRootNode)===null||t===void 0?void 0:t.call(e))===null||n===void 0?void 0:n.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(r=e.getRootNode().host),r}function sye(e){let t=e,n;for(;n=nz(t);)t=n;return t}function oye(e){const t=e.ownerDocument;if(!t)return!1;const n=sye(e);return t.contains(n)}function rz(e){const t=e.ownerDocument;return t?t.contains(e)||oye(e):!1}var Ht=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(Ht||{}),Mt=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(Mt||{}),Ui=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Ui||{}),ga=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(ga||{}),Zf=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(Zf||{});function jL(e){return"__ln"in e}class aye{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=(n==null?void 0:n.next)||null;return n}addNode(t){const n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&jL(t.previousSibling)){const r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&jL(t.nextSibling)&&t.nextSibling.__ln.previous){const r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){const n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const HL=(e,t)=>`${e}@${t}`;class lye{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],n=new Set,r=new aye,i=l=>{let u=l,c=xm;for(;c===xm;)u=u&&u.nextSibling,c=u&&this.mirror.getId(u);return c},s=l=>{if(!l.parentNode||!rz(l)||l.parentNode.tagName==="TEXTAREA")return;const u=cg(l.parentNode)?this.mirror.getId(nz(l)):this.mirror.getId(l.parentNode),c=i(l);if(u===-1||c===-1)return r.addNode(l);const d=Zd(l,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskTextClass:this.maskTextClass,maskTextSelector:this.maskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:f=>{ez(f,this.mirror)&&this.iframeManager.addIframe(f),tz(f,this.mirror)&&this.stylesheetManager.trackLinkElement(f),qT(l)&&this.shadowDomManager.addShadowRoot(l.shadowRoot,this.doc)},onIframeLoad:(f,p)=>{this.iframeManager.attachIframe(f,p),this.shadowDomManager.observeAttachShadow(f)},onStylesheetLoad:(f,p)=>{this.stylesheetManager.attachLinkElement(f,p)}});d&&(t.push({parentId:u,nextId:c,node:d}),n.add(d.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const l of this.movedSet)WL(this.removes,l,this.mirror)&&!this.movedSet.has(l.parentNode)||s(l);for(const l of this.addedSet)!qL(this.droppedSet,l)&&!WL(this.removes,l,this.mirror)||qL(this.movedSet,l)?s(l):this.droppedSet.add(l);let o=null;for(;r.length;){let l=null;if(o){const u=this.mirror.getId(o.value.parentNode),c=i(o.value);u!==-1&&c!==-1&&(l=o)}if(!l){let u=r.tail;for(;u;){const c=u;if(u=u.previous,c){const d=this.mirror.getId(c.value.parentNode);if(i(c.value)===-1)continue;if(d!==-1){l=c;break}else{const p=c.value;if(p.parentNode&&p.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const g=p.parentNode.host;if(this.mirror.getId(g)!==-1){l=c;break}}}}}}if(!l){for(;r.head;)r.removeNode(r.head.value);break}o=l.previous,r.removeNode(l.value),s(l.value)}const a={texts:this.texts.map(l=>{const u=l.node;return u.parentNode&&u.parentNode.tagName==="TEXTAREA"&&this.genTextAreaValueMutation(u.parentNode),{id:this.mirror.getId(u),value:l.value}}).filter(l=>!n.has(l.id)).filter(l=>this.mirror.has(l.id)),attributes:this.attributes.map(l=>{const{attributes:u}=l;if(typeof u.style=="string"){const c=JSON.stringify(l.styleDiff),d=JSON.stringify(l._unchangedStyles);c.length<u.style.length&&(c+d).split("var(").length===u.style.split("var(").length&&(u.style=l.styleDiff)}return{id:this.mirror.getId(l.node),attributes:u}}).filter(l=>!n.has(l.id)).filter(l=>this.mirror.has(l.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.genTextAreaValueMutation=t=>{let n=this.attributeMap.get(t);n||(n={node:t,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(n),this.attributeMap.set(t,n)),n.attributes.value=Array.from(t.childNodes,r=>r.textContent||"").join("")},this.processMutation=t=>{if(!JE(t.target,this.mirror))switch(t.type){case"characterData":{const n=t.target.textContent;!Si(t.target,this.blockClass,this.blockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:Gq(t.target,this.maskTextClass,this.maskTextSelector,!0)&&n?this.maskTextFn?this.maskTextFn(n,Jq(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{const n=t.target;let r=t.attributeName,i=t.target.getAttribute(r);if(r==="value"){const o=yO(n);i=vO({element:n,maskInputOptions:this.maskInputOptions,tagName:n.tagName,type:o,value:i,maskInputFn:this.maskInputFn})}if(Si(t.target,this.blockClass,this.blockSelector,!1)||i===t.oldValue)return;let s=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(i))if(!n.contentDocument)r="rr_src";else return;if(s||(s={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(s),this.attributeMap.set(t.target,s)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!Kq(n.tagName,r)&&(s.attributes[r]=zq(this.doc,Vc(n.tagName),Vc(r),i),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const o=this.unattachedDoc.createElement("span");t.oldValue&&o.setAttribute("style",t.oldValue);for(const a of Array.from(n.style)){const l=n.style.getPropertyValue(a),u=n.style.getPropertyPriority(a);l!==o.style.getPropertyValue(a)||u!==o.style.getPropertyPriority(a)?u===""?s.styleDiff[a]=l:s.styleDiff[a]=[l,u]:s._unchangedStyles[a]=[l,u]}for(const a of Array.from(o.style))n.style.getPropertyValue(a)===""&&(s.styleDiff[a]=!1)}break}case"childList":{if(Si(t.target,this.blockClass,this.blockSelector,!0))return;if(t.target.tagName==="TEXTAREA"){this.genTextAreaValueMutation(t.target);return}t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{const r=this.mirror.getId(n),i=cg(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);Si(t.target,this.blockClass,this.blockSelector,!1)||JE(n,this.mirror)||!nye(n,this.mirror)||(this.addedSet.has(n)?(zT(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||Zq(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[HL(r,i)]?zT(this.movedSet,n):this.removes.push({parentId:i,id:r,isShadow:cg(t.target)&&dg(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(JE(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[HL(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);Si(t,this.blockClass,this.blockSelector,!1)||(t.childNodes.forEach(r=>this.genAdds(r)),qT(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","maskTextClass","maskTextSelector","inlineStylesheet","maskInputOptions","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function zT(e,t){e.delete(t),t.childNodes.forEach(n=>zT(e,n))}function WL(e,t,n){return e.length===0?!1:iz(e,t,n)}function iz(e,t,n){const{parentNode:r}=t;if(!r)return!1;const i=n.getId(r);return e.some(s=>s.id===i)?!0:iz(e,r,n)}function qL(e,t){return e.size===0?!1:sz(e,t)}function sz(e,t){const{parentNode:n}=t;return n?e.has(n)?!0:sz(e,n):!1}let fg;function uye(e){fg=e}function cye(){fg=void 0}const Bt=e=>fg?(...n)=>{try{return e(...n)}catch(r){if(fg&&fg(r)===!0)return;throw r}}:e,dc=[];function Mv(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function oz(e,t){var n,r;const i=new lye;dc.push(i),i.init(e);let s=window.MutationObserver||window.__rrMutationObserver;const o=(r=(n=window==null?void 0:window.Zone)===null||n===void 0?void 0:n.__symbol__)===null||r===void 0?void 0:r.call(n,"MutationObserver");o&&window[o]&&(s=window[o]);const a=new s(Bt(i.processMutations.bind(i)));return a.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),a}function dye({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};const i=typeof t.mousemove=="number"?t.mousemove:50,s=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let o=[],a;const l=Em(Bt(d=>{const f=Date.now()-a;e(o.map(p=>(p.timeOffset-=f,p)),d),o=[],a=null}),s),u=Bt(Em(Bt(d=>{const f=Mv(d),{clientX:p,clientY:g}=WT(d)?d.changedTouches[0]:d;a||(a=Eb()),o.push({x:p,y:g,id:r.getId(f),timeOffset:Eb()-a}),l(typeof DragEvent<"u"&&d instanceof DragEvent?Mt.Drag:d instanceof MouseEvent?Mt.MouseMove:Mt.TouchMove)}),i,{trailing:!1})),c=[Ei("mousemove",u,n),Ei("touchmove",u,n),Ei("drag",u,n)];return Bt(()=>{c.forEach(d=>d())})}function fye({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,sampling:s}){if(s.mouseInteraction===!1)return()=>{};const o=s.mouseInteraction===!0||s.mouseInteraction===void 0?{}:s.mouseInteraction,a=[];let l=null;const u=c=>d=>{const f=Mv(d);if(Si(f,r,i,!0))return;let p=null,g=c;if("pointerType"in d){switch(d.pointerType){case"mouse":p=ga.Mouse;break;case"touch":p=ga.Touch;break;case"pen":p=ga.Pen;break}p===ga.Touch?Ui[c]===Ui.MouseDown?g="TouchStart":Ui[c]===Ui.MouseUp&&(g="TouchEnd"):ga.Pen}else WT(d)&&(p=ga.Touch);p!==null?(l=p,(g.startsWith("Touch")&&p===ga.Touch||g.startsWith("Mouse")&&p===ga.Mouse)&&(p=null)):Ui[c]===Ui.Click&&(p=l,l=null);const h=WT(d)?d.changedTouches[0]:d;if(!h)return;const m=n.getId(f),{clientX:v,clientY:y}=h;Bt(e)(Object.assign({type:Ui[g],id:m,x:v,y},p!==null&&{pointerType:p}))};return Object.keys(Ui).filter(c=>Number.isNaN(Number(c))&&!c.endsWith("_Departed")&&o[c]!==!1).forEach(c=>{let d=Vc(c);const f=u(c);if(window.PointerEvent)switch(Ui[c]){case Ui.MouseDown:case Ui.MouseUp:d=d.replace("mouse","pointer");break;case Ui.TouchStart:case Ui.TouchEnd:return}a.push(Ei(d,f,t))}),Bt(()=>{a.forEach(c=>c())})}function az({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,sampling:s}){const o=Bt(Em(Bt(a=>{const l=Mv(a);if(!l||Si(l,r,i,!0))return;const u=n.getId(l);if(l===t&&t.defaultView){const c=Yq(t.defaultView);e({id:u,x:c.left,y:c.top})}else e({id:u,x:l.scrollLeft,y:l.scrollTop})}),s.scroll||100));return Ei("scroll",o,t)}function pye({viewportResizeCb:e},{win:t}){let n=-1,r=-1;const i=Bt(Em(Bt(()=>{const s=Xq(),o=Qq();(n!==s||r!==o)&&(e({width:Number(o),height:Number(s)}),n=s,r=o)}),200));return Ei("resize",i,t)}const hye=["INPUT","TEXTAREA","SELECT"],zL=new WeakMap;function gye({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,ignoreClass:s,ignoreSelector:o,maskInputOptions:a,maskInputFn:l,sampling:u,userTriggeredOnInput:c}){function d(y){let _=Mv(y);const b=y.isTrusted,x=_&&_.tagName;if(_&&x==="OPTION"&&(_=_.parentElement),!_||!x||hye.indexOf(x)<0||Si(_,r,i,!0)||_.classList.contains(s)||o&&_.matches(o))return;let w=_.value,$=!1;const E=yO(_)||"";E==="radio"||E==="checkbox"?$=_.checked:(a[x.toLowerCase()]||a[E])&&(w=vO({element:_,maskInputOptions:a,tagName:x,type:E,value:w,maskInputFn:l})),f(_,c?{text:w,isChecked:$,userTriggered:b}:{text:w,isChecked:$});const S=_.name;E==="radio"&&S&&$&&t.querySelectorAll(`input[type="radio"][name="${S}"]`).forEach(T=>{if(T!==_){const P=T.value;f(T,c?{text:P,isChecked:!$,userTriggered:!1}:{text:P,isChecked:!$})}})}function f(y,_){const b=zL.get(y);if(!b||b.text!==_.text||b.isChecked!==_.isChecked){zL.set(y,_);const x=n.getId(y);Bt(e)(Object.assign(Object.assign({},_),{id:x}))}}const g=(u.input==="last"?["change"]:["input","change"]).map(y=>Ei(y,Bt(d),t)),h=t.defaultView;if(!h)return()=>{g.forEach(y=>y())};const m=h.Object.getOwnPropertyDescriptor(h.HTMLInputElement.prototype,"value"),v=[[h.HTMLInputElement.prototype,"value"],[h.HTMLInputElement.prototype,"checked"],[h.HTMLSelectElement.prototype,"value"],[h.HTMLTextAreaElement.prototype,"value"],[h.HTMLSelectElement.prototype,"selectedIndex"],[h.HTMLOptionElement.prototype,"selected"]];return m&&m.set&&g.push(...v.map(y=>z1(y[0],y[1],{set(){Bt(d)({target:this,isTrusted:!1})}},!1,h))),Bt(()=>{g.forEach(y=>y())})}function Sb(e){const t=[];function n(r,i){if(Vy("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||Vy("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||Vy("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||Vy("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const o=Array.from(r.parentRule.cssRules).indexOf(r);i.unshift(o)}else if(r.parentStyleSheet){const o=Array.from(r.parentStyleSheet.cssRules).indexOf(r);i.unshift(o)}return i}return n(e,t)}function Il(e,t,n){let r,i;return e?(e.ownerNode?r=t.getId(e.ownerNode):i=n.getId(e),{styleId:i,id:r}):{}}function mye({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const i=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(i,{apply:Bt((c,d,f)=>{const[p,g]=f,{id:h,styleId:m}=Il(d,t,n.styleMirror);return(h&&h!==-1||m&&m!==-1)&&e({id:h,styleId:m,adds:[{rule:p,index:g}]}),c.apply(d,f)})});const s=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(s,{apply:Bt((c,d,f)=>{const[p]=f,{id:g,styleId:h}=Il(d,t,n.styleMirror);return(g&&g!==-1||h&&h!==-1)&&e({id:g,styleId:h,removes:[{index:p}]}),c.apply(d,f)})});let o;r.CSSStyleSheet.prototype.replace&&(o=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(o,{apply:Bt((c,d,f)=>{const[p]=f,{id:g,styleId:h}=Il(d,t,n.styleMirror);return(g&&g!==-1||h&&h!==-1)&&e({id:g,styleId:h,replace:p}),c.apply(d,f)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:Bt((c,d,f)=>{const[p]=f,{id:g,styleId:h}=Il(d,t,n.styleMirror);return(g&&g!==-1||h&&h!==-1)&&e({id:g,styleId:h,replaceSync:p}),c.apply(d,f)})}));const l={};jy("CSSGroupingRule")?l.CSSGroupingRule=r.CSSGroupingRule:(jy("CSSMediaRule")&&(l.CSSMediaRule=r.CSSMediaRule),jy("CSSConditionRule")&&(l.CSSConditionRule=r.CSSConditionRule),jy("CSSSupportsRule")&&(l.CSSSupportsRule=r.CSSSupportsRule));const u={};return Object.entries(l).forEach(([c,d])=>{u[c]={insertRule:d.prototype.insertRule,deleteRule:d.prototype.deleteRule},d.prototype.insertRule=new Proxy(u[c].insertRule,{apply:Bt((f,p,g)=>{const[h,m]=g,{id:v,styleId:y}=Il(p.parentStyleSheet,t,n.styleMirror);return(v&&v!==-1||y&&y!==-1)&&e({id:v,styleId:y,adds:[{rule:h,index:[...Sb(p),m||0]}]}),f.apply(p,g)})}),d.prototype.deleteRule=new Proxy(u[c].deleteRule,{apply:Bt((f,p,g)=>{const[h]=g,{id:m,styleId:v}=Il(p.parentStyleSheet,t,n.styleMirror);return(m&&m!==-1||v&&v!==-1)&&e({id:m,styleId:v,removes:[{index:[...Sb(p),h]}]}),f.apply(p,g)})})}),Bt(()=>{r.CSSStyleSheet.prototype.insertRule=i,r.CSSStyleSheet.prototype.deleteRule=s,o&&(r.CSSStyleSheet.prototype.replace=o),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(l).forEach(([c,d])=>{d.prototype.insertRule=u[c].insertRule,d.prototype.deleteRule=u[c].deleteRule})})}function lz({mirror:e,stylesheetManager:t},n){var r,i,s;let o=null;n.nodeName==="#document"?o=e.getId(n):o=e.getId(n.host);const a=n.nodeName==="#document"?(r=n.defaultView)===null||r===void 0?void 0:r.Document:(s=(i=n.ownerDocument)===null||i===void 0?void 0:i.defaultView)===null||s===void 0?void 0:s.ShadowRoot,l=a!=null&&a.prototype?Object.getOwnPropertyDescriptor(a==null?void 0:a.prototype,"adoptedStyleSheets"):void 0;return o===null||o===-1||!a||!l?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:l.configurable,enumerable:l.enumerable,get(){var u;return(u=l.get)===null||u===void 0?void 0:u.call(this)},set(u){var c;const d=(c=l.set)===null||c===void 0?void 0:c.call(this,u);if(o!==null&&o!==-1)try{t.adoptStyleSheets(u,o)}catch{}return d}}),Bt(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:l.configurable,enumerable:l.enumerable,get:l.get,set:l.set})}))}function vye({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:i}){const s=i.CSSStyleDeclaration.prototype.setProperty;i.CSSStyleDeclaration.prototype.setProperty=new Proxy(s,{apply:Bt((a,l,u)=>{var c;const[d,f,p]=u;if(n.has(d))return s.apply(l,[d,f,p]);const{id:g,styleId:h}=Il((c=l.parentRule)===null||c===void 0?void 0:c.parentStyleSheet,t,r.styleMirror);return(g&&g!==-1||h&&h!==-1)&&e({id:g,styleId:h,set:{property:d,value:f,priority:p},index:Sb(l.parentRule)}),a.apply(l,u)})});const o=i.CSSStyleDeclaration.prototype.removeProperty;return i.CSSStyleDeclaration.prototype.removeProperty=new Proxy(o,{apply:Bt((a,l,u)=>{var c;const[d]=u;if(n.has(d))return o.apply(l,[d]);const{id:f,styleId:p}=Il((c=l.parentRule)===null||c===void 0?void 0:c.parentStyleSheet,t,r.styleMirror);return(f&&f!==-1||p&&p!==-1)&&e({id:f,styleId:p,remove:{property:d},index:Sb(l.parentRule)}),a.apply(l,u)})}),Bt(()=>{i.CSSStyleDeclaration.prototype.setProperty=s,i.CSSStyleDeclaration.prototype.removeProperty=o})}function yye({mediaInteractionCb:e,blockClass:t,blockSelector:n,mirror:r,sampling:i,doc:s}){const o=Bt(l=>Em(Bt(u=>{const c=Mv(u);if(!c||Si(c,t,n,!0))return;const{currentTime:d,volume:f,muted:p,playbackRate:g,loop:h}=c;e({type:l,id:r.getId(c),currentTime:d,volume:f,muted:p,playbackRate:g,loop:h})}),i.media||500)),a=[Ei("play",o(0),s),Ei("pause",o(1),s),Ei("seeked",o(2),s),Ei("volumechange",o(3),s),Ei("ratechange",o(4),s)];return Bt(()=>{a.forEach(l=>l())})}function _ye({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],i=new WeakMap,s=n.FontFace;n.FontFace=function(l,u,c){const d=new s(l,u,c);return i.set(d,{family:l,buffer:typeof u!="string",descriptors:c,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),d};const o=Mp(t.fonts,"add",function(a){return function(l){return setTimeout(Bt(()=>{const u=i.get(l);u&&(e(u),i.delete(l))}),0),a.apply(this,[l])}});return r.push(()=>{n.FontFace=s}),r.push(o),Bt(()=>{r.forEach(a=>a())})}function bye(e){const{doc:t,mirror:n,blockClass:r,blockSelector:i,selectionCb:s}=e;let o=!0;const a=Bt(()=>{const l=t.getSelection();if(!l||o&&(l!=null&&l.isCollapsed))return;o=l.isCollapsed||!1;const u=[],c=l.rangeCount||0;for(let d=0;d<c;d++){const f=l.getRangeAt(d),{startContainer:p,startOffset:g,endContainer:h,endOffset:m}=f;Si(p,r,i,!0)||Si(h,r,i,!0)||u.push({start:n.getId(p),startOffset:g,end:n.getId(h),endOffset:m})}s({ranges:u})});return a(),Ei("selectionchange",a)}function wye({doc:e,customElementCb:t}){const n=e.defaultView;return!n||!n.customElements?()=>{}:Mp(n.customElements,"define",function(i){return function(s,o,a){try{t({define:{name:s}})}catch{console.warn(`Custom element callback failed for ${s}`)}return i.apply(this,[s,o,a])}})}function xye(e,t){const{mutationCb:n,mousemoveCb:r,mouseInteractionCb:i,scrollCb:s,viewportResizeCb:o,inputCb:a,mediaInteractionCb:l,styleSheetRuleCb:u,styleDeclarationCb:c,canvasMutationCb:d,fontCb:f,selectionCb:p,customElementCb:g}=e;e.mutationCb=(...h)=>{t.mutation&&t.mutation(...h),n(...h)},e.mousemoveCb=(...h)=>{t.mousemove&&t.mousemove(...h),r(...h)},e.mouseInteractionCb=(...h)=>{t.mouseInteraction&&t.mouseInteraction(...h),i(...h)},e.scrollCb=(...h)=>{t.scroll&&t.scroll(...h),s(...h)},e.viewportResizeCb=(...h)=>{t.viewportResize&&t.viewportResize(...h),o(...h)},e.inputCb=(...h)=>{t.input&&t.input(...h),a(...h)},e.mediaInteractionCb=(...h)=>{t.mediaInteaction&&t.mediaInteaction(...h),l(...h)},e.styleSheetRuleCb=(...h)=>{t.styleSheetRule&&t.styleSheetRule(...h),u(...h)},e.styleDeclarationCb=(...h)=>{t.styleDeclaration&&t.styleDeclaration(...h),c(...h)},e.canvasMutationCb=(...h)=>{t.canvasMutation&&t.canvasMutation(...h),d(...h)},e.fontCb=(...h)=>{t.font&&t.font(...h),f(...h)},e.selectionCb=(...h)=>{t.selection&&t.selection(...h),p(...h)},e.customElementCb=(...h)=>{t.customElement&&t.customElement(...h),g(...h)}}function Eye(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};xye(e,t);let r;e.recordDOM&&(r=oz(e,e.doc));const i=dye(e),s=fye(e),o=az(e),a=pye(e,{win:n}),l=gye(e),u=yye(e);let c=()=>{},d=()=>{},f=()=>{},p=()=>{};e.recordDOM&&(c=mye(e,{win:n}),d=lz(e,e.doc),f=vye(e,{win:n}),e.collectFonts&&(p=_ye(e)));const g=bye(e),h=wye(e),m=[];for(const v of e.plugins)m.push(v.observer(v.callback,n,v.options));return Bt(()=>{dc.forEach(v=>v.reset()),r==null||r.disconnect(),i(),s(),o(),a(),l(),u(),c(),d(),f(),p(),g(),h(),m.forEach(v=>v())})}function Vy(e){return typeof window[e]<"u"}function jy(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class KL{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,i){const s=r||this.getIdToRemoteIdMap(t),o=i||this.getRemoteIdToIdMap(t);let a=s.get(n);return a||(a=this.generateIdFn(),s.set(n,a),o.set(a,n)),a}getIds(t,n){const r=this.getIdToRemoteIdMap(t),i=this.getRemoteIdToIdMap(t);return n.map(s=>this.getId(t,s,r,i))}getRemoteId(t,n,r){const i=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;const s=i.get(n);return s||-1}getRemoteIds(t,n){const r=this.getRemoteIdToIdMap(t);return n.map(i=>this.getRemoteId(t,i,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}}class Sye{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new KL(qq),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new KL(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){var r;this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),(r=this.loadListener)===null||r===void 0||r.call(this,t),t.contentDocument&&t.contentDocument.adoptedStyleSheets&&t.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(t.contentDocument.adoptedStyleSheets,this.mirror.getId(t.contentDocument))}handleMessage(t){const n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;const i=this.crossOriginIframeMap.get(t.source);if(!i)return;const s=this.transformCrossOriginEvent(i,n.data.event);s&&this.wrappedEmit(s,n.data.isCheckout)}transformCrossOriginEvent(t,n){var r;switch(n.type){case Ht.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);const i=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,i),this.patchRootIdOnNode(n.data.node,i),{timestamp:n.timestamp,type:Ht.IncrementalSnapshot,data:{source:Mt.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Ht.Meta:case Ht.Load:case Ht.DomContentLoaded:return!1;case Ht.Plugin:return n;case Ht.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case Ht.IncrementalSnapshot:switch(n.data.source){case Mt.Mutation:return n.data.adds.forEach(i=>{this.replaceIds(i,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(i.node,t);const s=this.crossOriginIframeRootIdMap.get(t);s&&this.patchRootIdOnNode(i.node,s)}),n.data.removes.forEach(i=>{this.replaceIds(i,t,["parentId","id"])}),n.data.attributes.forEach(i=>{this.replaceIds(i,t,["id"])}),n.data.texts.forEach(i=>{this.replaceIds(i,t,["id"])}),n;case Mt.Drag:case Mt.TouchMove:case Mt.MouseMove:return n.data.positions.forEach(i=>{this.replaceIds(i,t,["id"])}),n;case Mt.ViewportResize:return!1;case Mt.MediaInteraction:case Mt.MouseInteraction:case Mt.Scroll:case Mt.CanvasMutation:case Mt.Input:return this.replaceIds(n.data,t,["id"]),n;case Mt.StyleSheetRule:case Mt.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case Mt.Font:return n;case Mt.Selection:return n.data.ranges.forEach(i=>{this.replaceIds(i,t,["start","end"])}),n;case Mt.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),(r=n.data.styles)===null||r===void 0||r.forEach(i=>{this.replaceStyleIds(i,t,["styleId"])}),n}}return!1}replace(t,n,r,i){for(const s of i)!Array.isArray(n[s])&&typeof n[s]!="number"||(Array.isArray(n[s])?n[s]=t.getIds(r,n[s]):n[s]=t.getId(r,n[s]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==br.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}}class $ye{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!dg(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t);const r=oz(Object.assign(Object.assign({},this.bypassOptions),{doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(az(Object.assign(Object.assign({},this.bypassOptions),{scrollCb:this.scrollCb,doc:t,mirror:this.mirror}))),setTimeout(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(lz({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){!t.contentWindow||!t.contentDocument||this.patchAttachShadow(t.contentWindow.Element,t.contentDocument)}patchAttachShadow(t,n){const r=this;this.restoreHandlers.push(Mp(t.prototype,"attachShadow",function(i){return function(s){const o=i.call(this,s);return this.shadowRoot&&rz(this)&&r.addShadowRoot(this.shadowRoot,n),o}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Tye(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function kye(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})}var ef="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Iye=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Hy=0;Hy<ef.length;Hy++)Iye[ef.charCodeAt(Hy)]=Hy;var Cye=function(e){var t=new Uint8Array(e),n,r=t.length,i="";for(n=0;n<r;n+=3)i+=ef[t[n]>>2],i+=ef[(t[n]&3)<<4|t[n+1]>>4],i+=ef[(t[n+1]&15)<<2|t[n+2]>>6],i+=ef[t[n+2]&63];return r%3===2?i=i.substring(0,i.length-1)+"=":r%3===1&&(i=i.substring(0,i.length-2)+"=="),i};const GL=new Map;function Aye(e,t){let n=GL.get(e);return n||(n=new Map,GL.set(e,n)),n.has(t)||n.set(t,[]),n.get(t)}const uz=(e,t,n)=>{if(!e||!(dz(e,t)||typeof e=="object"))return;const r=e.constructor.name,i=Aye(n,r);let s=i.indexOf(e);return s===-1&&(s=i.length,i.push(e)),s};function W_(e,t,n){if(e instanceof Array)return e.map(r=>W_(r,t,n));if(e===null)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer){const r=e.constructor.name,i=Cye(e);return{rr_type:r,base64:i}}else{if(e instanceof DataView)return{rr_type:e.constructor.name,args:[W_(e.buffer,t,n),e.byteOffset,e.byteLength]};if(e instanceof HTMLImageElement){const r=e.constructor.name,{src:i}=e;return{rr_type:r,src:i}}else if(e instanceof HTMLCanvasElement){const r="HTMLImageElement",i=e.toDataURL();return{rr_type:r,src:i}}else{if(e instanceof ImageData)return{rr_type:e.constructor.name,args:[W_(e.data,t,n),e.width,e.height]};if(dz(e,t)||typeof e=="object"){const r=e.constructor.name,i=uz(e,t,n);return{rr_type:r,index:i}}}}return e}const cz=(e,t,n)=>e.map(r=>W_(r,t,n)),dz=(e,t)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(i=>typeof t[i]=="function").find(i=>e instanceof t[i]);function Oye(e,t,n,r){const i=[],s=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(const o of s)try{if(typeof t.CanvasRenderingContext2D.prototype[o]!="function")continue;const a=Mp(t.CanvasRenderingContext2D.prototype,o,function(l){return function(...u){return Si(this.canvas,n,r,!0)||setTimeout(()=>{const c=cz(u,t,this);e(this.canvas,{type:Zf["2D"],property:o,args:c})},0),l.apply(this,u)}});i.push(a)}catch{const l=z1(t.CanvasRenderingContext2D.prototype,o,{set(u){e(this.canvas,{type:Zf["2D"],property:o,args:[u],setter:!0})}});i.push(l)}return()=>{i.forEach(o=>o())}}function Rye(e){return e==="experimental-webgl"?"webgl":e}function YL(e,t,n,r){const i=[];try{const s=Mp(e.HTMLCanvasElement.prototype,"getContext",function(o){return function(a,...l){if(!Si(this,t,n,!0)){const u=Rye(a);if("__context"in this||(this.__context=u),r&&["webgl","webgl2"].includes(u))if(l[0]&&typeof l[0]=="object"){const c=l[0];c.preserveDrawingBuffer||(c.preserveDrawingBuffer=!0)}else l.splice(0,1,{preserveDrawingBuffer:!0})}return o.apply(this,[a,...l])}});i.push(s)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{i.forEach(s=>s())}}function XL(e,t,n,r,i,s,o){const a=[],l=Object.getOwnPropertyNames(e);for(const u of l)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(u))try{if(typeof e[u]!="function")continue;const c=Mp(e,u,function(d){return function(...f){const p=d.apply(this,f);if(uz(p,o,this),"tagName"in this.canvas&&!Si(this.canvas,r,i,!0)){const g=cz(f,o,this),h={type:t,property:u,args:g};n(this.canvas,h)}return p}});a.push(c)}catch{const d=z1(e,u,{set(f){n(this.canvas,{type:t,property:u,args:[f],setter:!0})}});a.push(d)}return a}function Pye(e,t,n,r,i){const s=[];return s.push(...XL(t.WebGLRenderingContext.prototype,Zf.WebGL,e,n,r,i,t)),typeof t.WebGL2RenderingContext<"u"&&s.push(...XL(t.WebGL2RenderingContext.prototype,Zf.WebGL2,e,n,r,i,t)),()=>{s.forEach(o=>o())}}function Mye(e,t){var n=t===void 0?null:t,r=e.toString(),i=r.split(`
`);i.pop(),i.shift();for(var s=i[0].search(/\S/),o=/(['"])__worker_loader_strict__(['"])/g,a=0,l=i.length;a<l;++a)i[a]=i[a].substring(s).replace(o,"$1use strict$2")+`
`;return n&&i.push("//# sourceMappingURL="+n+`
`),i}function Dye(e,t){var n=Mye(e,t),r=new Blob(n,{type:"application/javascript"});return URL.createObjectURL(r)}function Nye(e,t){var n;return function(i){return n=n||Dye(e,t),new Worker(n,i)}}var Lye=Nye(function(){(function(){"__worker_loader_strict__";/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function e(u,c,d,f){function p(g){return g instanceof d?g:new d(function(h){h(g)})}return new(d||(d=Promise))(function(g,h){function m(_){try{y(f.next(_))}catch(b){h(b)}}function v(_){try{y(f.throw(_))}catch(b){h(b)}}function y(_){_.done?g(_.value):p(_.value).then(m,v)}y((f=f.apply(u,c||[])).next())})}for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=typeof Uint8Array>"u"?[]:new Uint8Array(256),r=0;r<t.length;r++)n[t.charCodeAt(r)]=r;var i=function(u){var c=new Uint8Array(u),d,f=c.length,p="";for(d=0;d<f;d+=3)p+=t[c[d]>>2],p+=t[(c[d]&3)<<4|c[d+1]>>4],p+=t[(c[d+1]&15)<<2|c[d+2]>>6],p+=t[c[d+2]&63];return f%3===2?p=p.substring(0,p.length-1)+"=":f%3===1&&(p=p.substring(0,p.length-2)+"=="),p};const s=new Map,o=new Map;function a(u,c,d){return e(this,void 0,void 0,function*(){const f=`${u}-${c}`;if("OffscreenCanvas"in globalThis){if(o.has(f))return o.get(f);const p=new OffscreenCanvas(u,c);p.getContext("2d");const h=yield(yield p.convertToBlob(d)).arrayBuffer(),m=i(h);return o.set(f,m),m}else return""})}const l=self;l.onmessage=function(u){return e(this,void 0,void 0,function*(){if("OffscreenCanvas"in globalThis){const{id:c,bitmap:d,width:f,height:p,dataURLOptions:g}=u.data,h=a(f,p,g),m=new OffscreenCanvas(f,p);m.getContext("2d").drawImage(d,0,0),d.close();const y=yield m.convertToBlob(g),_=y.type,b=yield y.arrayBuffer(),x=i(b);if(!s.has(c)&&(yield h)===x)return s.set(c,x),l.postMessage({id:c});if(s.get(c)===x)return l.postMessage({id:c});l.postMessage({id:c,type:_,base64:x,width:f,height:p}),s.set(c,x)}else return l.postMessage({id:u.data.id})})}})()},null);class Fye{reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}constructor(t){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.frozen=!1,this.locked=!1,this.processMutation=(l,u)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(l)||this.pendingCanvasMutations.set(l,[]),this.pendingCanvasMutations.get(l).push(u)};const{sampling:n="all",win:r,blockClass:i,blockSelector:s,recordCanvas:o,dataURLOptions:a}=t;this.mutationCb=t.mutationCb,this.mirror=t.mirror,o&&n==="all"&&this.initCanvasMutationObserver(r,i,s),o&&typeof n=="number"&&this.initCanvasFPSObserver(n,r,i,s,{dataURLOptions:a})}initCanvasFPSObserver(t,n,r,i,s){const o=YL(n,r,i,!0),a=new Map,l=new Lye;l.onmessage=g=>{const{id:h}=g.data;if(a.set(h,!1),!("base64"in g.data))return;const{base64:m,type:v,width:y,height:_}=g.data;this.mutationCb({id:h,type:Zf["2D"],commands:[{property:"clearRect",args:[0,0,y,_]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:m}],type:v}]},0,0]}]})};const u=1e3/t;let c=0,d;const f=()=>{const g=[];return n.document.querySelectorAll("canvas").forEach(h=>{Si(h,r,i,!0)||g.push(h)}),g},p=g=>{if(c&&g-c<u){d=requestAnimationFrame(p);return}c=g,f().forEach(h=>kye(this,void 0,void 0,function*(){var m;const v=this.mirror.getId(h);if(a.get(v)||h.width===0||h.height===0)return;if(a.set(v,!0),["webgl","webgl2"].includes(h.__context)){const _=h.getContext(h.__context);((m=_==null?void 0:_.getContextAttributes())===null||m===void 0?void 0:m.preserveDrawingBuffer)===!1&&_.clear(_.COLOR_BUFFER_BIT)}const y=yield createImageBitmap(h);l.postMessage({id:v,bitmap:y,width:h.width,height:h.height,dataURLOptions:s.dataURLOptions},[y])})),d=requestAnimationFrame(p)};d=requestAnimationFrame(p),this.resetObservers=()=>{o(),cancelAnimationFrame(d)}}initCanvasMutationObserver(t,n,r){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();const i=YL(t,n,r,!1),s=Oye(this.processMutation.bind(this),t,n,r),o=Pye(this.processMutation.bind(this),t,n,r,this.mirror);this.resetObservers=()=>{i(),s(),o()}}startPendingCanvasMutationFlusher(){requestAnimationFrame(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){const t=n=>{this.rafStamps.latestId=n,requestAnimationFrame(t)};requestAnimationFrame(t)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((t,n)=>{const r=this.mirror.getId(n);this.flushPendingCanvasMutationFor(n,r)}),requestAnimationFrame(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(t,n){if(this.frozen||this.locked)return;const r=this.pendingCanvasMutations.get(t);if(!r||n===-1)return;const i=r.map(o=>Tye(o,["type"])),{type:s}=r[0];this.mutationCb({id:n,type:s,commands:i}),this.pendingCanvasMutations.delete(t)}}class Bye{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new iye,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;const r={id:n,styleIds:[]},i=[];for(const s of t){let o;this.styleMirror.has(s)?o=this.styleMirror.getId(s):(o=this.styleMirror.add(s),i.push({styleId:o,rules:Array.from(s.rules||CSSRule,(a,l)=>({rule:jq(a),index:l}))})),r.styleIds.push(o)}i.length>0&&(r.styles=i),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class Uye{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){requestAnimationFrame(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(t,n){const r=this.nodeMap.get(t);return r&&Array.from(r).some(i=>i!==n)}add(t,n){this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}function vr(e){return Object.assign(Object.assign({},e),{timestamp:Eb()})}let Jn,q_,ZE,$b=!1;const Ks=Pve();function Dv(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:i="rr-block",blockSelector:s=null,ignoreClass:o="rr-ignore",ignoreSelector:a=null,maskTextClass:l="rr-mask",maskTextSelector:u=null,inlineStylesheet:c=!0,maskAllInputs:d,maskInputOptions:f,slimDOMOptions:p,maskInputFn:g,maskTextFn:h,hooks:m,packFn:v,sampling:y={},dataURLOptions:_={},mousemoveWait:b,recordDOM:x=!0,recordCanvas:w=!1,recordCrossOriginIframes:$=!1,recordAfter:E=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:S=!1,collectFonts:T=!1,inlineImages:P=!1,plugins:C,keepIframeSrcFn:B=()=>!1,ignoreCSSAttributes:V=new Set([]),errorHandler:ce}=e;uye(ce);const X=$?window.parent===window:!0;let le=!1;if(!X)try{window.parent.document&&(le=!1)}catch{le=!0}if(X&&!t)throw new Error("emit function is required");b!==void 0&&y.mousemove===void 0&&(y.mousemove=b),Ks.reset();const me=d===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:f!==void 0?f:{password:!0},Ie=p===!0||p==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:p==="all",headMetaDescKeywords:p==="all"}:p||{};rye();let Tt,Re=0;const Xe=fe=>{for(const he of C||[])he.eventProcessor&&(fe=he.eventProcessor(fe));return v&&!le&&(fe=v(fe)),fe};Jn=(fe,he)=>{var O;if(!((O=dc[0])===null||O===void 0)&&O.isFrozen()&&fe.type!==Ht.FullSnapshot&&!(fe.type===Ht.IncrementalSnapshot&&fe.data.source===Mt.Mutation)&&dc.forEach(M=>M.unfreeze()),X)t==null||t(Xe(fe),he);else if(le){const M={type:"rrweb",event:Xe(fe),origin:window.location.origin,isCheckout:he};window.parent.postMessage(M,"*")}if(fe.type===Ht.FullSnapshot)Tt=fe,Re=0;else if(fe.type===Ht.IncrementalSnapshot){if(fe.data.source===Mt.Mutation&&fe.data.isAttachIframe)return;Re++;const M=r&&Re>=r,j=n&&fe.timestamp-Tt.timestamp>n;(M||j)&&q_(!0)}};const F=fe=>{Jn(vr({type:Ht.IncrementalSnapshot,data:Object.assign({source:Mt.Mutation},fe)}))},H=fe=>Jn(vr({type:Ht.IncrementalSnapshot,data:Object.assign({source:Mt.Scroll},fe)})),J=fe=>Jn(vr({type:Ht.IncrementalSnapshot,data:Object.assign({source:Mt.CanvasMutation},fe)})),Q=fe=>Jn(vr({type:Ht.IncrementalSnapshot,data:Object.assign({source:Mt.AdoptedStyleSheet},fe)})),L=new Bye({mutationCb:F,adoptedStyleSheetCb:Q}),W=new Sye({mirror:Ks,mutationCb:F,stylesheetManager:L,recordCrossOriginIframes:$,wrappedEmit:Jn});for(const fe of C||[])fe.getMirror&&fe.getMirror({nodeMirror:Ks,crossOriginIframeMirror:W.crossOriginIframeMirror,crossOriginIframeStyleMirror:W.crossOriginIframeStyleMirror});const q=new Uye;ZE=new Fye({recordCanvas:w,mutationCb:J,win:window,blockClass:i,blockSelector:s,mirror:Ks,sampling:y.canvas,dataURLOptions:_});const ue=new $ye({mutationCb:F,scrollCb:H,bypassOptions:{blockClass:i,blockSelector:s,maskTextClass:l,maskTextSelector:u,inlineStylesheet:c,maskInputOptions:me,dataURLOptions:_,maskTextFn:h,maskInputFn:g,recordCanvas:w,inlineImages:P,sampling:y,slimDOMOptions:Ie,iframeManager:W,stylesheetManager:L,canvasManager:ZE,keepIframeSrcFn:B,processedNodeManager:q},mirror:Ks});q_=(fe=!1)=>{if(!x)return;Jn(vr({type:Ht.Meta,data:{href:window.location.href,width:Qq(),height:Xq()}}),fe),L.reset(),ue.init(),dc.forEach(O=>O.lock());const he=tye(document,{mirror:Ks,blockClass:i,blockSelector:s,maskTextClass:l,maskTextSelector:u,inlineStylesheet:c,maskAllInputs:me,maskTextFn:h,slimDOM:Ie,dataURLOptions:_,recordCanvas:w,inlineImages:P,onSerialize:O=>{ez(O,Ks)&&W.addIframe(O),tz(O,Ks)&&L.trackLinkElement(O),qT(O)&&ue.addShadowRoot(O.shadowRoot,document)},onIframeLoad:(O,M)=>{W.attachIframe(O,M),ue.observeAttachShadow(O)},onStylesheetLoad:(O,M)=>{L.attachLinkElement(O,M)},keepIframeSrcFn:B});if(!he)return console.warn("Failed to snapshot the document");Jn(vr({type:Ht.FullSnapshot,data:{node:he,initialOffset:Yq(window)}}),fe),dc.forEach(O=>O.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&L.adoptStyleSheets(document.adoptedStyleSheets,Ks.getId(document))};try{const fe=[],he=M=>{var j;return Bt(Eye)({mutationCb:F,mousemoveCb:(Y,K)=>Jn(vr({type:Ht.IncrementalSnapshot,data:{source:K,positions:Y}})),mouseInteractionCb:Y=>Jn(vr({type:Ht.IncrementalSnapshot,data:Object.assign({source:Mt.MouseInteraction},Y)})),scrollCb:H,viewportResizeCb:Y=>Jn(vr({type:Ht.IncrementalSnapshot,data:Object.assign({source:Mt.ViewportResize},Y)})),inputCb:Y=>Jn(vr({type:Ht.IncrementalSnapshot,data:Object.assign({source:Mt.Input},Y)})),mediaInteractionCb:Y=>Jn(vr({type:Ht.IncrementalSnapshot,data:Object.assign({source:Mt.MediaInteraction},Y)})),styleSheetRuleCb:Y=>Jn(vr({type:Ht.IncrementalSnapshot,data:Object.assign({source:Mt.StyleSheetRule},Y)})),styleDeclarationCb:Y=>Jn(vr({type:Ht.IncrementalSnapshot,data:Object.assign({source:Mt.StyleDeclaration},Y)})),canvasMutationCb:J,fontCb:Y=>Jn(vr({type:Ht.IncrementalSnapshot,data:Object.assign({source:Mt.Font},Y)})),selectionCb:Y=>{Jn(vr({type:Ht.IncrementalSnapshot,data:Object.assign({source:Mt.Selection},Y)}))},customElementCb:Y=>{Jn(vr({type:Ht.IncrementalSnapshot,data:Object.assign({source:Mt.CustomElement},Y)}))},blockClass:i,ignoreClass:o,ignoreSelector:a,maskTextClass:l,maskTextSelector:u,maskInputOptions:me,inlineStylesheet:c,sampling:y,recordDOM:x,recordCanvas:w,inlineImages:P,userTriggeredOnInput:S,collectFonts:T,doc:M,maskInputFn:g,maskTextFn:h,keepIframeSrcFn:B,blockSelector:s,slimDOMOptions:Ie,dataURLOptions:_,mirror:Ks,iframeManager:W,stylesheetManager:L,shadowDomManager:ue,processedNodeManager:q,canvasManager:ZE,ignoreCSSAttributes:V,plugins:((j=C==null?void 0:C.filter(Y=>Y.observer))===null||j===void 0?void 0:j.map(Y=>({observer:Y.observer,options:Y.options,callback:K=>Jn(vr({type:Ht.Plugin,data:{plugin:Y.name,payload:K}}))})))||[]},m)};W.addLoadListener(M=>{try{fe.push(he(M.contentDocument))}catch(j){console.warn(j)}});const O=()=>{q_(),fe.push(he(document)),$b=!0};return document.readyState==="interactive"||document.readyState==="complete"?O():(fe.push(Ei("DOMContentLoaded",()=>{Jn(vr({type:Ht.DomContentLoaded,data:{}})),E==="DOMContentLoaded"&&O()})),fe.push(Ei("load",()=>{Jn(vr({type:Ht.Load,data:{}})),E==="load"&&O()},window))),()=>{fe.forEach(M=>M()),q.destroy(),$b=!1,cye()}}catch(fe){console.warn(fe)}}Dv.addCustomEvent=(e,t)=>{if(!$b)throw new Error("please add custom event after start recording");Jn(vr({type:Ht.Custom,data:{tag:e,payload:t}}))};Dv.freezePage=()=>{dc.forEach(e=>e.freeze())};Dv.takeFullSnapshot=e=>{if(!$b)throw new Error("please take full snapshot after start recording");q_(e)};Dv.mirror=Ks;var fz=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(fz||{}),To=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(To||{}),Aa={DEBUG:!1,LIB_VERSION:"2.55.1"},ft;if(typeof window>"u"){var QL={hostname:""};ft={navigator:{userAgent:"",onLine:!0},document:{location:QL,referrer:""},screen:{width:0,height:0},location:QL}}else ft=window;var pg=24*60*60*1e3,eS=8*1e3,K1=Array.prototype,Vye=Function.prototype,pz=Object.prototype,Ul=K1.slice,Nv=pz.toString,G1=pz.hasOwnProperty,mr=ft.console,Vl=ft.navigator,xn=ft.document,Wy=ft.opera,Tb=ft.screen,Ao=Vl.userAgent,tS=Vye.bind,JL=K1.forEach,ZL=K1.indexOf,e2=K1.map,jye=Array.isArray,KT={},I={trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},on={log:function(){if(Aa.DEBUG&&!I.isUndefined(mr)&&mr)try{mr.log.apply(mr,arguments)}catch{I.each(arguments,function(t){mr.log(t)})}},warn:function(){if(Aa.DEBUG&&!I.isUndefined(mr)&&mr){var e=["Mixpanel warning:"].concat(I.toArray(arguments));try{mr.warn.apply(mr,e)}catch{I.each(e,function(n){mr.warn(n)})}}},error:function(){if(Aa.DEBUG&&!I.isUndefined(mr)&&mr){var e=["Mixpanel error:"].concat(I.toArray(arguments));try{mr.error.apply(mr,e)}catch{I.each(e,function(n){mr.error(n)})}}},critical:function(){if(!I.isUndefined(mr)&&mr){var e=["Mixpanel error:"].concat(I.toArray(arguments));try{mr.error.apply(mr,e)}catch{I.each(e,function(n){mr.error(n)})}}}},nS=function(e,t){return function(){return arguments[0]="["+t+"] "+arguments[0],e.apply(on,arguments)}},Y1=function(e){return{log:nS(on.log,e),error:nS(on.error,e),critical:nS(on.critical,e)}};I.bind=function(e,t){var n,r;if(tS&&e.bind===tS)return tS.apply(e,Ul.call(arguments,1));if(!I.isFunction(e))throw new TypeError;return n=Ul.call(arguments,2),r=function(){if(!(this instanceof r))return e.apply(t,n.concat(Ul.call(arguments)));var i={};i.prototype=e.prototype;var s=new i;i.prototype=null;var o=e.apply(s,n.concat(Ul.call(arguments)));return Object(o)===o?o:s},r};I.each=function(e,t,n){if(e!=null){if(JL&&e.forEach===JL)e.forEach(t,n);else if(e.length===+e.length){for(var r=0,i=e.length;r<i;r++)if(r in e&&t.call(n,e[r],r,e)===KT)return}else for(var s in e)if(G1.call(e,s)&&t.call(n,e[s],s,e)===KT)return}};I.extend=function(e){return I.each(Ul.call(arguments,1),function(t){for(var n in t)t[n]!==void 0&&(e[n]=t[n])}),e};I.isArray=jye||function(e){return Nv.call(e)==="[object Array]"};I.isFunction=function(e){try{return/^\s*\bfunction\b/.test(e)}catch{return!1}};I.isArguments=function(e){return!!(e&&G1.call(e,"callee"))};I.toArray=function(e){return e?e.toArray?e.toArray():I.isArray(e)||I.isArguments(e)?Ul.call(e):I.values(e):[]};I.map=function(e,t,n){if(e2&&e.map===e2)return e.map(t,n);var r=[];return I.each(e,function(i){r.push(t.call(n,i))}),r};I.keys=function(e){var t=[];return e===null||I.each(e,function(n,r){t[t.length]=r}),t};I.values=function(e){var t=[];return e===null||I.each(e,function(n){t[t.length]=n}),t};I.include=function(e,t){var n=!1;return e===null?n:ZL&&e.indexOf===ZL?e.indexOf(t)!=-1:(I.each(e,function(r){if(n||(n=r===t))return KT}),n)};I.includes=function(e,t){return e.indexOf(t)!==-1};I.inherit=function(e,t){return e.prototype=new t,e.prototype.constructor=e,e.superclass=t.prototype,e};I.isObject=function(e){return e===Object(e)&&!I.isArray(e)};I.isEmptyObject=function(e){if(I.isObject(e)){for(var t in e)if(G1.call(e,t))return!1;return!0}return!1};I.isUndefined=function(e){return e===void 0};I.isString=function(e){return Nv.call(e)=="[object String]"};I.isDate=function(e){return Nv.call(e)=="[object Date]"};I.isNumber=function(e){return Nv.call(e)=="[object Number]"};I.isElement=function(e){return!!(e&&e.nodeType===1)};I.encodeDates=function(e){return I.each(e,function(t,n){I.isDate(t)?e[n]=I.formatDate(t):I.isObject(t)&&(e[n]=I.encodeDates(t))}),e};I.timestamp=function(){return Date.now=Date.now||function(){return+new Date},Date.now()};I.formatDate=function(e){function t(n){return n<10?"0"+n:n}return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())};I.strip_empty_properties=function(e){var t={};return I.each(e,function(n,r){I.isString(n)&&n.length>0&&(t[r]=n)}),t};I.truncate=function(e,t){var n;return typeof e=="string"?n=e.slice(0,t):I.isArray(e)?(n=[],I.each(e,function(r){n.push(I.truncate(r,t))})):I.isObject(e)?(n={},I.each(e,function(r,i){n[i]=I.truncate(r,t)})):n=e,n};I.JSONEncode=function(){return function(e){var t=e,n=function(i){var s=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return s.lastIndex=0,s.test(i)?'"'+i.replace(s,function(a){var l=o[a];return typeof l=="string"?l:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+i+'"'},r=function(i,s){var o="",a="    ",l=0,u="",c="",d=0,f=o,p=[],g=s[i];switch(g&&typeof g=="object"&&typeof g.toJSON=="function"&&(g=g.toJSON(i)),typeof g){case"string":return n(g);case"number":return isFinite(g)?String(g):"null";case"boolean":case"null":return String(g);case"object":if(!g)return"null";if(o+=a,p=[],Nv.apply(g)==="[object Array]"){for(d=g.length,l=0;l<d;l+=1)p[l]=r(l,g)||"null";return c=p.length===0?"[]":o?`[
`+o+p.join(`,
`+o)+`
`+f+"]":"["+p.join(",")+"]",o=f,c}for(u in g)G1.call(g,u)&&(c=r(u,g),c&&p.push(n(u)+(o?": ":":")+c));return c=p.length===0?"{}":o?"{"+p.join(",")+f+"}":"{"+p.join(",")+"}",o=f,c}};return r("",{"":t})}}();I.JSONDecode=function(){var e,t,n={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},r,i=function(p){var g=new SyntaxError(p);throw g.at=e,g.text=r,g},s=function(p){return p&&p!==t&&i("Expected '"+p+"' instead of '"+t+"'"),t=r.charAt(e),e+=1,t},o=function(){var p,g="";for(t==="-"&&(g="-",s("-"));t>="0"&&t<="9";)g+=t,s();if(t===".")for(g+=".";s()&&t>="0"&&t<="9";)g+=t;if(t==="e"||t==="E")for(g+=t,s(),(t==="-"||t==="+")&&(g+=t,s());t>="0"&&t<="9";)g+=t,s();if(p=+g,!isFinite(p))i("Bad number");else return p},a=function(){var p,g,h="",m;if(t==='"')for(;s();){if(t==='"')return s(),h;if(t==="\\")if(s(),t==="u"){for(m=0,g=0;g<4&&(p=parseInt(s(),16),!!isFinite(p));g+=1)m=m*16+p;h+=String.fromCharCode(m)}else if(typeof n[t]=="string")h+=n[t];else break;else h+=t}i("Bad string")},l=function(){for(;t&&t<=" ";)s()},u=function(){switch(t){case"t":return s("t"),s("r"),s("u"),s("e"),!0;case"f":return s("f"),s("a"),s("l"),s("s"),s("e"),!1;case"n":return s("n"),s("u"),s("l"),s("l"),null}i('Unexpected "'+t+'"')},c,d=function(){var p=[];if(t==="["){if(s("["),l(),t==="]")return s("]"),p;for(;t;){if(p.push(c()),l(),t==="]")return s("]"),p;s(","),l()}}i("Bad array")},f=function(){var p,g={};if(t==="{"){if(s("{"),l(),t==="}")return s("}"),g;for(;t;){if(p=a(),l(),s(":"),Object.hasOwnProperty.call(g,p)&&i('Duplicate key "'+p+'"'),g[p]=c(),l(),t==="}")return s("}"),g;s(","),l()}}i("Bad object")};return c=function(){switch(l(),t){case"{":return f();case"[":return d();case'"':return a();case"-":return o();default:return t>="0"&&t<="9"?o():u()}},function(p){var g;return r=p,e=0,t=" ",g=c(),l(),t&&i("Syntax error"),g}}();I.base64Encode=function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n,r,i,s,o,a,l,u,c=0,d=0,f="",p=[];if(!e)return e;e=I.utf8Encode(e);do n=e.charCodeAt(c++),r=e.charCodeAt(c++),i=e.charCodeAt(c++),u=n<<16|r<<8|i,s=u>>18&63,o=u>>12&63,a=u>>6&63,l=u&63,p[d++]=t.charAt(s)+t.charAt(o)+t.charAt(a)+t.charAt(l);while(c<e.length);switch(f=p.join(""),e.length%3){case 1:f=f.slice(0,-2)+"==";break;case 2:f=f.slice(0,-1)+"=";break}return f};I.utf8Encode=function(e){e=(e+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`);var t="",n,r,i=0,s;for(n=r=0,i=e.length,s=0;s<i;s++){var o=e.charCodeAt(s),a=null;o<128?r++:o>127&&o<2048?a=String.fromCharCode(o>>6|192,o&63|128):a=String.fromCharCode(o>>12|224,o>>6&63|128,o&63|128),a!==null&&(r>n&&(t+=e.substring(n,r)),t+=a,n=r=s+1)}return r>n&&(t+=e.substring(n,e.length)),t};I.UUID=function(){var e=function(){var r=1*new Date,i;if(ft.performance&&ft.performance.now)i=ft.performance.now();else for(i=0;r==1*new Date;)i++;return r.toString(16)+Math.floor(i).toString(16)},t=function(){return Math.random().toString(16).replace(".","")},n=function(){var r=Ao,i,s,o=[],a=0;function l(u,c){var d,f=0;for(d=0;d<c.length;d++)f|=o[d]<<d*8;return u^f}for(i=0;i<r.length;i++)s=r.charCodeAt(i),o.unshift(s&255),o.length>=4&&(a=l(a,o),o=[]);return o.length>0&&(a=l(a,o)),a.toString(16)};return function(){var r=(Tb.height*Tb.width).toString(16);return e()+"-"+t()+"-"+n()+"-"+r+"-"+e()}}();var t2=["ahrefsbot","ahrefssiteaudit","baiduspider","bingbot","bingpreview","chrome-lighthouse","facebookexternal","petalbot","pinterest","screaming frog","yahoo! slurp","yandexbot","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google"];I.isBlockedUA=function(e){var t;for(e=e.toLowerCase(),t=0;t<t2.length;t++)if(e.indexOf(t2[t])!==-1)return!0;return!1};I.HTTPBuildQuery=function(e,t){var n,r,i=[];return I.isUndefined(t)&&(t="&"),I.each(e,function(s,o){n=encodeURIComponent(s.toString()),r=encodeURIComponent(o),i[i.length]=r+"="+n}),i.join(t)};I.getQueryParam=function(e,t){t=t.replace(/[[]/g,"\\[").replace(/[\]]/g,"\\]");var n="[\\?&]"+t+"=([^&#]*)",r=new RegExp(n),i=r.exec(e);if(i===null||i&&typeof i[1]!="string"&&i[1].length)return"";var s=i[1];try{s=decodeURIComponent(s)}catch{on.error("Skipping decoding for malformed query param: "+s)}return s.replace(/\+/g," ")};I.cookie={get:function(e){for(var t=e+"=",n=xn.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];i.charAt(0)==" ";)i=i.substring(1,i.length);if(i.indexOf(t)===0)return decodeURIComponent(i.substring(t.length,i.length))}return null},parse:function(e){var t;try{t=I.JSONDecode(I.cookie.get(e))||{}}catch{}return t},set_seconds:function(e,t,n,r,i,s,o){var a="",l="",u="";if(o)a="; domain="+o;else if(r){var c=n2(xn.location.hostname);a=c?"; domain=."+c:""}if(n){var d=new Date;d.setTime(d.getTime()+n*1e3),l="; expires="+d.toGMTString()}s&&(i=!0,u="; SameSite=None"),i&&(u+="; secure"),xn.cookie=e+"="+encodeURIComponent(t)+l+"; path=/"+a+u},set:function(e,t,n,r,i,s,o){var a="",l="",u="";if(o)a="; domain="+o;else if(r){var c=n2(xn.location.hostname);a=c?"; domain=."+c:""}if(n){var d=new Date;d.setTime(d.getTime()+n*24*60*60*1e3),l="; expires="+d.toGMTString()}s&&(i=!0,u="; SameSite=None"),i&&(u+="; secure");var f=e+"="+encodeURIComponent(t)+l+"; path=/"+a+u;return xn.cookie=f,f},remove:function(e,t,n){I.cookie.set(e,"",-1,t,!1,!1,n)}};var rS=null,kb=function(e,t){if(rS!==null&&!t)return rS;var n=!0;try{e=e||window.localStorage;var r="__mplss_"+bO(8),i="xyz";e.setItem(r,i),e.getItem(r)!==i&&(n=!1),e.removeItem(r)}catch{n=!1}return rS=n,n};I.localStorage={is_supported:function(e){var t=kb(null,e);return t||on.error("localStorage unsupported; falling back to cookie store"),t},error:function(e){on.error("localStorage error: "+e)},get:function(e){try{return window.localStorage.getItem(e)}catch(t){I.localStorage.error(t)}return null},parse:function(e){try{return I.JSONDecode(I.localStorage.get(e))||{}}catch{}return null},set:function(e,t){try{window.localStorage.setItem(e,t)}catch(n){I.localStorage.error(n)}},remove:function(e){try{window.localStorage.removeItem(e)}catch(t){I.localStorage.error(t)}}};I.register_event=function(){var e=function(r,i,s,o,a){if(!r){on.error("No valid element provided to register_event");return}if(r.addEventListener&&!o)r.addEventListener(i,s,!!a);else{var l="on"+i,u=r[l];r[l]=t(r,s,u)}};function t(r,i,s){var o=function(a){if(a=a||n(window.event),!!a){var l=!0,u,c;return I.isFunction(s)&&(u=s(a)),c=i.call(r,a),(u===!1||c===!1)&&(l=!1),l}};return o}function n(r){return r&&(r.preventDefault=n.preventDefault,r.stopPropagation=n.stopPropagation),r}return n.preventDefault=function(){this.returnValue=!1},n.stopPropagation=function(){this.cancelBubble=!0},e}();var Hye=new RegExp('^(\\w*)\\[(\\w+)([=~\\|\\^\\$\\*]?)=?"?([^\\]"]*)"?\\]$');I.dom_query=function(){function e(i){return i.all?i.all:i.getElementsByTagName("*")}var t=/[\t\r\n]/g;function n(i,s){var o=" "+s+" ";return(" "+i.className+" ").replace(t," ").indexOf(o)>=0}function r(i){if(!xn.getElementsByTagName)return[];var s=i.split(" "),o,a,l,u,c,d,f,p,g,h,m=[xn];for(d=0;d<s.length;d++){if(o=s[d].replace(/^\s+/,"").replace(/\s+$/,""),o.indexOf("#")>-1){a=o.split("#"),l=a[0];var v=a[1],y=xn.getElementById(v);if(!y||l&&y.nodeName.toLowerCase()!=l)return[];m=[y];continue}if(o.indexOf(".")>-1){a=o.split("."),l=a[0];var _=a[1];for(l||(l="*"),u=[],c=0,f=0;f<m.length;f++)for(l=="*"?g=e(m[f]):g=m[f].getElementsByTagName(l),p=0;p<g.length;p++)u[c++]=g[p];for(m=[],h=0,f=0;f<u.length;f++)u[f].className&&I.isString(u[f].className)&&n(u[f],_)&&(m[h++]=u[f]);continue}var b=o.match(Hye);if(b){l=b[1];var x=b[2],w=b[3],$=b[4];for(l||(l="*"),u=[],c=0,f=0;f<m.length;f++)for(l=="*"?g=e(m[f]):g=m[f].getElementsByTagName(l),p=0;p<g.length;p++)u[c++]=g[p];m=[],h=0;var E;switch(w){case"=":E=function(S){return S.getAttribute(x)==$};break;case"~":E=function(S){return S.getAttribute(x).match(new RegExp("\\b"+$+"\\b"))};break;case"|":E=function(S){return S.getAttribute(x).match(new RegExp("^"+$+"-?"))};break;case"^":E=function(S){return S.getAttribute(x).indexOf($)===0};break;case"$":E=function(S){return S.getAttribute(x).lastIndexOf($)==S.getAttribute(x).length-$.length};break;case"*":E=function(S){return S.getAttribute(x).indexOf($)>-1};break;default:E=function(S){return S.getAttribute(x)}}for(m=[],h=0,f=0;f<u.length;f++)E(u[f])&&(m[h++]=u[f]);continue}for(l=o,u=[],c=0,f=0;f<m.length;f++)for(g=m[f].getElementsByTagName(l),p=0;p<g.length;p++)u[c++]=g[p];m=u}return m}return function(i){return I.isElement(i)?[i]:I.isObject(i)&&!I.isUndefined(i.length)?i:r.call(this,i)}}();var Wye=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","utm_id","utm_source_platform","utm_campaign_id","utm_creative_format","utm_marketing_tactic"],qye=["dclid","fbclid","gclid","ko_click_id","li_fat_id","msclkid","sccid","ttclid","twclid","wbraid"];I.info={campaignParams:function(e){var t="",n={};return I.each(Wye,function(r){t=I.getQueryParam(xn.URL,r),t.length?n[r]=t:e!==void 0&&(n[r]=e)}),n},clickParams:function(){var e="",t={};return I.each(qye,function(n){e=I.getQueryParam(xn.URL,n),e.length&&(t[n]=e)}),t},marketingParams:function(){return I.extend(I.info.campaignParams(),I.info.clickParams())},searchEngine:function(e){return e.search("https?://(.*)google.([^/?]*)")===0?"google":e.search("https?://(.*)bing.com")===0?"bing":e.search("https?://(.*)yahoo.com")===0?"yahoo":e.search("https?://(.*)duckduckgo.com")===0?"duckduckgo":null},searchInfo:function(e){var t=I.info.searchEngine(e),n=t!="yahoo"?"q":"p",r={};if(t!==null){r.$search_engine=t;var i=I.getQueryParam(e,n);i.length&&(r.mp_keyword=i)}return r},browser:function(e,t,n){return t=t||"",n||I.includes(e," OPR/")?I.includes(e,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":I.includes(e,"IEMobile")||I.includes(e,"WPDesktop")?"Internet Explorer Mobile":I.includes(e,"SamsungBrowser/")?"Samsung Internet":I.includes(e,"Edge")||I.includes(e,"Edg/")?"Microsoft Edge":I.includes(e,"FBIOS")?"Facebook Mobile":I.includes(e,"Chrome")?"Chrome":I.includes(e,"CriOS")?"Chrome iOS":I.includes(e,"UCWEB")||I.includes(e,"UCBrowser")?"UC Browser":I.includes(e,"FxiOS")?"Firefox iOS":I.includes(t,"Apple")?I.includes(e,"Mobile")?"Mobile Safari":"Safari":I.includes(e,"Android")?"Android Mobile":I.includes(e,"Konqueror")?"Konqueror":I.includes(e,"Firefox")?"Firefox":I.includes(e,"MSIE")||I.includes(e,"Trident/")?"Internet Explorer":I.includes(e,"Gecko")?"Mozilla":""},browserVersion:function(e,t,n){var r=I.info.browser(e,t,n),i={"Internet Explorer Mobile":/rv:(\d+(\.\d+)?)/,"Microsoft Edge":/Edge?\/(\d+(\.\d+)?)/,Chrome:/Chrome\/(\d+(\.\d+)?)/,"Chrome iOS":/CriOS\/(\d+(\.\d+)?)/,"UC Browser":/(UCBrowser|UCWEB)\/(\d+(\.\d+)?)/,Safari:/Version\/(\d+(\.\d+)?)/,"Mobile Safari":/Version\/(\d+(\.\d+)?)/,Opera:/(Opera|OPR)\/(\d+(\.\d+)?)/,Firefox:/Firefox\/(\d+(\.\d+)?)/,"Firefox iOS":/FxiOS\/(\d+(\.\d+)?)/,Konqueror:/Konqueror:(\d+(\.\d+)?)/,BlackBerry:/BlackBerry (\d+(\.\d+)?)/,"Android Mobile":/android\s(\d+(\.\d+)?)/,"Samsung Internet":/SamsungBrowser\/(\d+(\.\d+)?)/,"Internet Explorer":/(rv:|MSIE )(\d+(\.\d+)?)/,Mozilla:/rv:(\d+(\.\d+)?)/},s=i[r];if(s===void 0)return null;var o=e.match(s);return o?parseFloat(o[o.length-2]):null},os:function(){var e=Ao;return/Windows/i.test(e)?/Phone/.test(e)||/WPDesktop/.test(e)?"Windows Phone":"Windows":/(iPhone|iPad|iPod)/.test(e)?"iOS":/Android/.test(e)?"Android":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Mac/i.test(e)?"Mac OS X":/Linux/.test(e)?"Linux":/CrOS/.test(e)?"Chrome OS":""},device:function(e){return/Windows Phone/i.test(e)||/WPDesktop/.test(e)?"Windows Phone":/iPad/.test(e)?"iPad":/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Android/.test(e)?"Android":""},referringDomain:function(e){var t=e.split("/");return t.length>=3?t[2]:""},currentUrl:function(){return ft.location.href},properties:function(e){return typeof e!="object"&&(e={}),I.extend(I.strip_empty_properties({$os:I.info.os(),$browser:I.info.browser(Ao,Vl.vendor,Wy),$referrer:xn.referrer,$referring_domain:I.info.referringDomain(xn.referrer),$device:I.info.device(Ao)}),{$current_url:I.info.currentUrl(),$browser_version:I.info.browserVersion(Ao,Vl.vendor,Wy),$screen_height:Tb.height,$screen_width:Tb.width,mp_lib:"web",$lib_version:Aa.LIB_VERSION,$insert_id:bO(),time:I.timestamp()/1e3},I.strip_empty_properties(e))},people_properties:function(){return I.extend(I.strip_empty_properties({$os:I.info.os(),$browser:I.info.browser(Ao,Vl.vendor,Wy)}),{$browser_version:I.info.browserVersion(Ao,Vl.vendor,Wy)})},mpPageViewProperties:function(){return I.strip_empty_properties({current_page_title:xn.title,current_domain:ft.location.hostname,current_url_path:ft.location.pathname,current_url_protocol:ft.location.protocol,current_url_search:ft.location.search})}};var bO=function(e){var t=Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10);return e?t.substring(0,e):t},zye=/[a-z0-9][a-z0-9-]*\.[a-z]+$/i,Kye=/[a-z0-9][a-z0-9-]+\.[a-z.]{2,6}$/i,n2=function(e){var t=Kye,n=e.split("."),r=n[n.length-1];(r.length>4||r==="com"||r==="org")&&(t=zye);var i=e.match(t);return i?i[0]:""},Gye=function(){var e=ft.navigator.onLine;return I.isUndefined(e)||e},Ib=null,Cb=null;typeof JSON<"u"&&(Ib=JSON.stringify,Cb=JSON.parse);Ib=Ib||I.JSONEncode;Cb=Cb||I.JSONDecode;I.toArray=I.toArray;I.isObject=I.isObject;I.JSONEncode=I.JSONEncode;I.JSONDecode=I.JSONDecode;I.isBlockedUA=I.isBlockedUA;I.isEmptyObject=I.isEmptyObject;I.info=I.info;I.info.device=I.info.device;I.info.browser=I.info.browser;I.info.browserVersion=I.info.browserVersion;I.info.properties=I.info.properties;var Yye="__mp_opt_in_out_";function Xye(e,t){mz(!0,e,t)}function Qye(e,t){mz(!1,e,t)}function Jye(e,t){return gz(e,t)==="1"}function hz(e,t){if(e_e(t))return on.warn('This browser has "Do Not Track" enabled. This will prevent the Mixpanel SDK from sending any data. To ignore the "Do Not Track" browser setting, initialize the Mixpanel instance with the config "ignore_dnt: true"'),!0;var n=gz(e,t)==="0";return n&&on.warn("You are opted out of Mixpanel tracking. This will prevent the Mixpanel SDK from sending any data."),n}function Ou(e){return EO(e,function(t){return this.get_config(t)})}function Ru(e){return EO(e,function(t){return this._get_config(t)})}function Dp(e){return EO(e,function(t){return this._get_config(t)})}function Zye(e,t){t=t||{},wO(t).remove(xO(e,t),!!t.crossSubdomainCookie,t.cookieDomain)}function wO(e){return e=e||{},e.persistenceType==="localStorage"?I.localStorage:I.cookie}function xO(e,t){return t=t||{},(t.persistencePrefix||Yye)+e}function gz(e,t){return wO(t).get(xO(e,t))}function e_e(e){if(e&&e.ignoreDnt)return!1;var t=e&&e.window||ft,n=t.navigator||{},r=!1;return I.each([n.doNotTrack,n.msDoNotTrack,t.doNotTrack],function(i){I.includes([!0,1,"1","yes"],i)&&(r=!0)}),r}function mz(e,t,n){if(!I.isString(t)||!t.length){on.error("gdpr."+(e?"optIn":"optOut")+" called with an invalid token");return}n=n||{},wO(n).set(xO(t,n),e?1:0,I.isNumber(n.cookieExpiration)?n.cookieExpiration:null,!!n.crossSubdomainCookie,!!n.secureCookie,!!n.crossSiteCookie,n.cookieDomain),n.track&&e&&n.track(n.trackEventName||"$opt_in",n.trackProperties,{send_immediately:!0})}function EO(e,t){return function(){var n=!1;try{var r=t.call(this,"token"),i=t.call(this,"ignore_dnt"),s=t.call(this,"opt_out_tracking_persistence_type"),o=t.call(this,"opt_out_tracking_cookie_prefix"),a=t.call(this,"window");r&&(n=hz(r,{ignoreDnt:i,persistenceType:s,persistencePrefix:o,window:a}))}catch(u){on.error("Unexpected error when checking tracking opt-out status: "+u)}if(!n)return e.apply(this,arguments);var l=arguments[arguments.length-1];typeof l=="function"&&l(0)}}var t_e=Y1("lock"),vz=function(e,t){t=t||{},this.storageKey=e,this.storage=t.storage||window.localStorage,this.pollIntervalMS=t.pollIntervalMS||100,this.timeoutMS=t.timeoutMS||2e3};vz.prototype.withLock=function(e,t,n){!n&&typeof t!="function"&&(n=t,t=null);var r=n||new Date().getTime()+"|"+Math.random(),i=new Date().getTime(),s=this.storageKey,o=this.pollIntervalMS,a=this.timeoutMS,l=this.storage,u=s+":X",c=s+":Y",d=s+":Z",f=function(y){t&&t(y)},p=function(y){if(new Date().getTime()-i>a){t_e.error("Timeout waiting for mutex on "+s+"; clearing lock. ["+r+"]"),l.removeItem(d),l.removeItem(c),m();return}setTimeout(function(){try{y()}catch(_){f(_)}},o*(Math.random()+.1))},g=function(y,_){y()?_():p(function(){g(y,_)})},h=function(){var y=l.getItem(c);if(y&&y!==r)return!1;if(l.setItem(c,r),l.getItem(c)===r)return!0;if(!kb(l,!0))throw new Error("localStorage support dropped while acquiring lock");return!1},m=function(){l.setItem(u,r),g(h,function(){if(l.getItem(u)===r){v();return}p(function(){if(l.getItem(c)!==r){m();return}g(function(){return!l.getItem(d)},v)})})},v=function(){l.setItem(d,"1");try{e()}finally{l.removeItem(d),l.getItem(c)===r&&l.removeItem(c),l.getItem(u)===r&&l.removeItem(u)}};try{if(kb(l,!0))m();else throw new Error("localStorage support check failed")}catch(y){f(y)}};var r2=Y1("batch"),Pu=function(e,t){t=t||{},this.storageKey=e,this.storage=t.storage||window.localStorage,this.reportError=t.errorReporter||I.bind(r2.error,r2),this.lock=new vz(e,{storage:this.storage}),this.usePersistence=t.usePersistence,this.pid=t.pid||null,this.memQueue=[]};Pu.prototype.enqueue=function(e,t,n){var r={id:bO(),flushAfter:new Date().getTime()+t*2,payload:e};this.usePersistence?this.lock.withLock(I.bind(function(){var s;try{var o=this.readFromStorage();o.push(r),s=this.saveToStorage(o),s&&this.memQueue.push(r)}catch{this.reportError("Error enqueueing item",e),s=!1}n&&n(s)},this),I.bind(function(s){this.reportError("Error acquiring storage lock",s),n&&n(!1)},this),this.pid):(this.memQueue.push(r),n&&n(!0))};Pu.prototype.fillBatch=function(e){var t=this.memQueue.slice(0,e);if(this.usePersistence&&t.length<e){var n=this.readFromStorage();if(n.length){var r={};I.each(t,function(o){r[o.id]=!0});for(var i=0;i<n.length;i++){var s=n[i];if(new Date().getTime()>s.flushAfter&&!r[s.id]&&(s.orphaned=!0,t.push(s),t.length>=e))break}}}return t};var i2=function(e,t){var n=[];return I.each(e,function(r){r.id&&!t[r.id]&&n.push(r)}),n};Pu.prototype.removeItemsByID=function(e,t){var n={};if(I.each(e,function(i){n[i]=!0}),this.memQueue=i2(this.memQueue,n),!this.usePersistence)t&&t(!0);else{var r=I.bind(function(){var i;try{var s=this.readFromStorage();if(s=i2(s,n),i=this.saveToStorage(s),i){s=this.readFromStorage();for(var o=0;o<s.length;o++){var a=s[o];if(a.id&&n[a.id])return this.reportError("Item not removed from storage"),!1}}}catch{this.reportError("Error removing items",e),i=!1}return i},this);this.lock.withLock(function(){var s=r();t&&t(s)},I.bind(function(s){var o=!1;if(this.reportError("Error acquiring storage lock",s),!kb(this.storage,!0)&&(o=r(),!o))try{this.storage.removeItem(this.storageKey)}catch(a){this.reportError("Error clearing queue",a)}t&&t(o)},this),this.pid)}};var s2=function(e,t){var n=[];return I.each(e,function(r){var i=r.id;if(i in t){var s=t[i];s!==null&&(r.payload=s,n.push(r))}else n.push(r)}),n};Pu.prototype.updatePayloads=function(e,t){this.memQueue=s2(this.memQueue,e),this.usePersistence?this.lock.withLock(I.bind(function(){var r;try{var i=this.readFromStorage();i=s2(i,e),r=this.saveToStorage(i)}catch{this.reportError("Error updating items",e),r=!1}t&&t(r)},this),I.bind(function(r){this.reportError("Error acquiring storage lock",r),t&&t(!1)},this),this.pid):t&&t(!0)};Pu.prototype.readFromStorage=function(){var e;try{e=this.storage.getItem(this.storageKey),e&&(e=Cb(e),I.isArray(e)||(this.reportError("Invalid storage entry:",e),e=null))}catch(t){this.reportError("Error retrieving queue",t),e=null}return e||[]};Pu.prototype.saveToStorage=function(e){try{return this.storage.setItem(this.storageKey,Ib(e)),!0}catch(t){return this.reportError("Error saving queue",t),!1}};Pu.prototype.clear=function(){this.memQueue=[],this.usePersistence&&this.storage.removeItem(this.storageKey)};var n_e=10*60*1e3,hg=Y1("batch"),_o=function(e,t){this.errorReporter=t.errorReporter,this.queue=new Pu(e,{errorReporter:I.bind(this.reportError,this),storage:t.storage,usePersistence:t.usePersistence}),this.libConfig=t.libConfig,this.sendRequest=t.sendRequestFunc,this.beforeSendHook=t.beforeSendHook,this.stopAllBatching=t.stopAllBatchingFunc,this.batchSize=this.libConfig.batch_size,this.flushInterval=this.libConfig.batch_flush_interval_ms,this.stopped=!this.libConfig.batch_autostart,this.consecutiveRemovalFailures=0,this.itemIdsSentSuccessfully={},this.flushOnlyOnInterval=t.flushOnlyOnInterval||!1};_o.prototype.enqueue=function(e,t){this.queue.enqueue(e,this.flushInterval,t)};_o.prototype.start=function(){this.stopped=!1,this.consecutiveRemovalFailures=0,this.flush()};_o.prototype.stop=function(){this.stopped=!0,this.timeoutID&&(clearTimeout(this.timeoutID),this.timeoutID=null)};_o.prototype.clear=function(){this.queue.clear()};_o.prototype.resetBatchSize=function(){this.batchSize=this.libConfig.batch_size};_o.prototype.resetFlush=function(){this.scheduleFlush(this.libConfig.batch_flush_interval_ms)};_o.prototype.scheduleFlush=function(e){this.flushInterval=e,this.stopped||(this.timeoutID=setTimeout(I.bind(function(){this.stopped||this.flush()},this),this.flushInterval))};_o.prototype.flush=function(e){try{if(this.requestInProgress){hg.log("Flush: Request already in progress");return}e=e||{};var t=this.libConfig.batch_request_timeout_ms,n=new Date().getTime(),r=this.batchSize,i=this.queue.fillBatch(r),s=i.length===r,o=[],a={};if(I.each(i,function(c){var d=c.payload;if(this.beforeSendHook&&!c.orphaned&&(d=this.beforeSendHook(d)),d){d.event&&d.properties&&(d.properties=I.extend({},d.properties,{mp_sent_by_lib_version:Aa.LIB_VERSION}));var f=!0,p=c.id;p?(this.itemIdsSentSuccessfully[p]||0)>5&&(this.reportError("[dupe] item ID sent too many times, not sending",{item:c,batchSize:i.length,timesSent:this.itemIdsSentSuccessfully[p]}),f=!1):this.reportError("[dupe] found item with no ID",{item:c}),f&&o.push(d)}a[c.id]=d},this),o.length<1){this.resetFlush();return}this.requestInProgress=!0;var l=I.bind(function(c){this.requestInProgress=!1;try{var d=!1;if(e.unloading)this.queue.updatePayloads(a);else if(I.isObject(c)&&c.error==="timeout"&&new Date().getTime()-n>=t)this.reportError("Network timeout; retrying"),this.flush();else if(I.isObject(c)&&(c.httpStatusCode>=500||c.httpStatusCode===429||c.httpStatusCode<=0&&!Gye()||c.error==="timeout")){var f=this.flushInterval*2;c.retryAfter&&(f=parseInt(c.retryAfter,10)*1e3||f),f=Math.min(n_e,f),this.reportError("Error; retry in "+f+" ms"),this.scheduleFlush(f)}else if(I.isObject(c)&&c.httpStatusCode===413)if(i.length>1){var p=Math.max(1,Math.floor(r/2));this.batchSize=Math.min(this.batchSize,p,i.length-1),this.reportError("413 response; reducing batch size to "+this.batchSize),this.resetFlush()}else this.reportError("Single-event request too large; dropping",i),this.resetBatchSize(),d=!0;else d=!0;d&&(this.queue.removeItemsByID(I.map(i,function(g){return g.id}),I.bind(function(g){g?(this.consecutiveRemovalFailures=0,this.flushOnlyOnInterval&&!s?this.resetFlush():this.flush()):(this.reportError("Failed to remove items from queue"),++this.consecutiveRemovalFailures>5?(this.reportError("Too many queue failures; disabling batching system."),this.stopAllBatching()):this.resetFlush())},this)),I.each(i,I.bind(function(g){var h=g.id;h?(this.itemIdsSentSuccessfully[h]=this.itemIdsSentSuccessfully[h]||0,this.itemIdsSentSuccessfully[h]++,this.itemIdsSentSuccessfully[h]>5&&this.reportError("[dupe] item ID sent too many times",{item:g,batchSize:i.length,timesSent:this.itemIdsSentSuccessfully[h]})):this.reportError("[dupe] found item with no ID while removing",{item:g})},this)))}catch(g){this.reportError("Error handling API response",g),this.resetFlush()}},this),u={method:"POST",verbose:!0,ignore_json_errors:!0,timeout_ms:t};e.unloading&&(u.transport="sendBeacon"),hg.log("MIXPANEL REQUEST:",o),this.sendRequest(o,u,l)}catch(c){this.reportError("Error flushing request queue",c),this.resetFlush()}};_o.prototype.reportError=function(e,t){if(hg.error.apply(hg.error,arguments),this.errorReporter)try{t instanceof Error||(t=new Error(e)),this.errorReporter(e,t)}catch(n){hg.error(n)}};var fc=Y1("recorder"),o2=ft.CompressionStream,r_e={batch_size:1e3,batch_flush_interval_ms:10*1e3,batch_request_timeout_ms:90*1e3,batch_autostart:!0},i_e=new Set([To.MouseMove,To.MouseInteraction,To.Scroll,To.ViewportResize,To.Input,To.TouchMove,To.MediaInteraction,To.Drag,To.Selection]);function s_e(e){return e.type===fz.IncrementalSnapshot&&i_e.has(e.data.source)}var bo=function(e){this._mixpanel=e,this._stopRecording=null,this.recEvents=[],this.seqNo=0,this.replayId=null,this.replayStartTime=null,this.sendBatchId=null,this.idleTimeoutId=null,this.maxTimeoutId=null,this.recordMaxMs=pg,this.recordMinMs=0,this._initBatcher()};bo.prototype._initBatcher=function(){this.batcher=new _o("__mprec",{libConfig:r_e,sendRequestFunc:I.bind(this.flushEventsWithOptOut,this),errorReporter:I.bind(this.reportError,this),flushOnlyOnInterval:!0,usePersistence:!1})};bo.prototype.get_config=function(e){return this._mixpanel.get_config(e)};bo.prototype.startRecording=function(e){if(this._stopRecording!==null){fc.log("Recording already in progress, skipping startRecording.");return}this.recordMaxMs=this.get_config("record_max_ms"),this.recordMaxMs>pg&&(this.recordMaxMs=pg,fc.critical("record_max_ms cannot be greater than "+pg+"ms. Capping value.")),this.recordMinMs=this.get_config("record_min_ms"),this.recordMinMs>eS&&(this.recordMinMs=eS,fc.critical("record_min_ms cannot be greater than "+eS+"ms. Capping value.")),this.recEvents=[],this.seqNo=0,this.replayStartTime=new Date().getTime(),this.replayId=I.UUID(),e||this.recordMinMs>0?this.batcher.stop():this.batcher.start();var t=I.bind(function(){clearTimeout(this.idleTimeoutId),this.idleTimeoutId=setTimeout(I.bind(function(){fc.log("Idle timeout reached, restarting recording."),this.resetRecording()},this),this.get_config("record_idle_timeout_ms"))},this),n=this.get_config("record_block_selector");(n===""||n===null)&&(n=void 0),this._stopRecording=Dv({emit:I.bind(function(r){this.batcher.enqueue(r),s_e(r)&&(this.batcher.stopped&&new Date().getTime()-this.replayStartTime>=this.recordMinMs&&this.batcher.start(),t())},this),blockClass:this.get_config("record_block_class"),blockSelector:n,collectFonts:this.get_config("record_collect_fonts"),inlineImages:this.get_config("record_inline_images"),maskAllInputs:!0,maskTextClass:this.get_config("record_mask_text_class"),maskTextSelector:this.get_config("record_mask_text_selector")}),t(),this.maxTimeoutId=setTimeout(I.bind(this.resetRecording,this),this.recordMaxMs)};bo.prototype.resetRecording=function(){this.stopRecording(),this.startRecording(!0)};bo.prototype.stopRecording=function(){this._stopRecording!==null&&(this._stopRecording(),this._stopRecording=null),this.batcher.stopped?this.batcher.clear():(this.batcher.flush(),this.batcher.stop()),this.replayId=null,clearTimeout(this.idleTimeoutId),clearTimeout(this.maxTimeoutId)};bo.prototype.flushEventsWithOptOut=function(e,t,n){this._flushEvents(e,t,n,I.bind(this._onOptOut,this))};bo.prototype._onOptOut=function(e){e===0&&(this.recEvents=[],this.stopRecording())};bo.prototype._sendRequest=function(e,t,n,r){var i=I.bind(function(s,o){s.status===200&&this.replayId===e&&this.seqNo++,r({status:0,httpStatusCode:s.status,responseBody:o,retryAfter:s.headers.get("Retry-After")})},this);ft.fetch(this.get_config("api_host")+"/"+this.get_config("api_routes").record+"?"+new URLSearchParams(t),{method:"POST",headers:{Authorization:"Basic "+btoa(this.get_config("token")+":"),"Content-Type":"application/octet-stream"},body:n}).then(function(s){s.json().then(function(o){i(s,o)}).catch(function(o){r({error:o})})}).catch(function(s){r({error:s,httpStatusCode:0})})};bo.prototype._flushEvents=Ou(function(e,t,n){const r=e.length;if(r>0){var i=this.replayId,s=e[0].timestamp;(this.seqNo===0||!this.replayStartTime)&&(this.seqNo!==0&&this.reportError("Replay start time not set but seqNo is not 0. Using current batch start time as a fallback."),this.replayStartTime=s);var o=e[r-1].timestamp-this.replayStartTime,a={distinct_id:String(this._mixpanel.get_distinct_id()),seq:this.seqNo,batch_start_time:s/1e3,replay_id:i,replay_length_ms:o,replay_start_time:this.replayStartTime/1e3},l=I.JSONEncode(e),u=this._mixpanel.get_property("$device_id");u&&(a.$device_id=u);var c=this._mixpanel.get_property("$user_id");if(c&&(a.$user_id=c),o2){var d=new Blob([l],{type:"application/json"}).stream(),f=d.pipeThrough(new o2("gzip"));new Response(f).blob().then(I.bind(function(p){a.format="gzip",this._sendRequest(i,a,p,n)},this))}else a.format="body",this._sendRequest(i,a,l,n)}});bo.prototype.reportError=function(e,t){fc.error.apply(fc.error,arguments);try{!t&&!(e instanceof Error)&&(e=new Error(e)),this.get_config("error_reporter")(e,t)}catch(n){fc.error(n)}};ft.__mp_recorder=bo;var el=function(){};el.prototype.create_properties=function(){};el.prototype.event_handler=function(){};el.prototype.after_track_handler=function(){};el.prototype.init=function(e){return this.mp=e,this};el.prototype.track=function(e,t,n,r){var i=this,s=I.dom_query(e);if(s.length===0){on.error("The DOM query ("+e+") returned 0 elements");return}return I.each(s,function(o){I.register_event(o,this.override_event,function(a){var l={},u=i.create_properties(n,this),c=i.mp.get_config("track_links_timeout");i.event_handler(a,this,l),window.setTimeout(i.track_callback(r,u,l,!0),c),i.mp.track(t,u,i.track_callback(r,u,l))})},this),!0};el.prototype.track_callback=function(e,t,n,r){r=r||!1;var i=this;return function(){n.callback_fired||(n.callback_fired=!0,!(e&&e(r,t)===!1)&&i.after_track_handler(t,n,r))}};el.prototype.create_properties=function(e,t){var n;return typeof e=="function"?n=e(t):n=I.extend({},e),n};var ep=function(){this.override_event="click"};I.inherit(ep,el);ep.prototype.create_properties=function(e,t){var n=ep.superclass.create_properties.apply(this,arguments);return t.href&&(n.url=t.href),n};ep.prototype.event_handler=function(e,t,n){n.new_tab=e.which===2||e.metaKey||e.ctrlKey||t.target==="_blank",n.href=t.href,n.new_tab||e.preventDefault()};ep.prototype.after_track_handler=function(e,t){t.new_tab||setTimeout(function(){window.location=t.href},0)};var X1=function(){this.override_event="submit"};I.inherit(X1,el);X1.prototype.event_handler=function(e,t,n){n.element=t,e.preventDefault()};X1.prototype.after_track_handler=function(e,t){setTimeout(function(){t.element.submit()},0)};var gu="$set",tp="$set_once",Xs="$unset",jc="$add",Uo="$append",Hc="$union",Oa="$remove",o_e="$delete",yz={set_action:function(e,t){var n={},r={};return I.isObject(e)?I.each(e,function(i,s){this._is_reserved_property(s)||(r[s]=i)},this):r[e]=t,n[gu]=r,n},unset_action:function(e){var t={},n=[];return I.isArray(e)||(e=[e]),I.each(e,function(r){this._is_reserved_property(r)||n.push(r)},this),t[Xs]=n,t},set_once_action:function(e,t){var n={},r={};return I.isObject(e)?I.each(e,function(i,s){this._is_reserved_property(s)||(r[s]=i)},this):r[e]=t,n[tp]=r,n},union_action:function(e,t){var n={},r={};return I.isObject(e)?I.each(e,function(i,s){this._is_reserved_property(s)||(r[s]=I.isArray(i)?i:[i])},this):r[e]=I.isArray(t)?t:[t],n[Hc]=r,n},append_action:function(e,t){var n={},r={};return I.isObject(e)?I.each(e,function(i,s){this._is_reserved_property(s)||(r[s]=i)},this):r[e]=t,n[Uo]=r,n},remove_action:function(e,t){var n={},r={};return I.isObject(e)?I.each(e,function(i,s){this._is_reserved_property(s)||(r[s]=i)},this):r[e]=t,n[Oa]=r,n},delete_action:function(){var e={};return e[o_e]="",e}},qn=function(){};I.extend(qn.prototype,yz);qn.prototype._init=function(e,t,n){this._mixpanel=e,this._group_key=t,this._group_id=n};qn.prototype.set=Dp(function(e,t,n){var r=this.set_action(e,t);return I.isObject(e)&&(n=t),this._send_request(r,n)});qn.prototype.set_once=Dp(function(e,t,n){var r=this.set_once_action(e,t);return I.isObject(e)&&(n=t),this._send_request(r,n)});qn.prototype.unset=Dp(function(e,t){var n=this.unset_action(e);return this._send_request(n,t)});qn.prototype.union=Dp(function(e,t,n){I.isObject(e)&&(n=t);var r=this.union_action(e,t);return this._send_request(r,n)});qn.prototype.delete=Dp(function(e){var t=this.delete_action();return this._send_request(t,e)});qn.prototype.remove=Dp(function(e,t,n){var r=this.remove_action(e,t);return this._send_request(r,n)});qn.prototype._send_request=function(e,t){e.$group_key=this._group_key,e.$group_id=this._group_id,e.$token=this._get_config("token");var n=I.encodeDates(e);return this._mixpanel._track_or_batch({type:"groups",data:n,endpoint:this._get_config("api_host")+"/"+this._get_config("api_routes").groups,batcher:this._mixpanel.request_batchers.groups},t)};qn.prototype._is_reserved_property=function(e){return e==="$group_key"||e==="$group_id"};qn.prototype._get_config=function(e){return this._mixpanel.get_config(e)};qn.prototype.toString=function(){return this._mixpanel.toString()+".group."+this._group_key+"."+this._group_id};qn.prototype.remove=qn.prototype.remove;qn.prototype.set=qn.prototype.set;qn.prototype.set_once=qn.prototype.set_once;qn.prototype.union=qn.prototype.union;qn.prototype.unset=qn.prototype.unset;qn.prototype.toString=qn.prototype.toString;var pt=function(){};I.extend(pt.prototype,yz);pt.prototype._init=function(e){this._mixpanel=e};pt.prototype.set=Ru(function(e,t,n){var r=this.set_action(e,t);return I.isObject(e)&&(n=t),this._get_config("save_referrer")&&this._mixpanel.persistence.update_referrer_info(document.referrer),r[gu]=I.extend({},I.info.people_properties(),r[gu]),this._send_request(r,n)});pt.prototype.set_once=Ru(function(e,t,n){var r=this.set_once_action(e,t);return I.isObject(e)&&(n=t),this._send_request(r,n)});pt.prototype.unset=Ru(function(e,t){var n=this.unset_action(e);return this._send_request(n,t)});pt.prototype.increment=Ru(function(e,t,n){var r={},i={};return I.isObject(e)?(I.each(e,function(s,o){if(!this._is_reserved_property(o))if(isNaN(parseFloat(s))){on.error("Invalid increment value passed to mixpanel.people.increment - must be a number");return}else i[o]=s},this),n=t):(I.isUndefined(t)&&(t=1),i[e]=t),r[jc]=i,this._send_request(r,n)});pt.prototype.append=Ru(function(e,t,n){I.isObject(e)&&(n=t);var r=this.append_action(e,t);return this._send_request(r,n)});pt.prototype.remove=Ru(function(e,t,n){I.isObject(e)&&(n=t);var r=this.remove_action(e,t);return this._send_request(r,n)});pt.prototype.union=Ru(function(e,t,n){I.isObject(e)&&(n=t);var r=this.union_action(e,t);return this._send_request(r,n)});pt.prototype.track_charge=Ru(function(e,t,n){if(!I.isNumber(e)&&(e=parseFloat(e),isNaN(e))){on.error("Invalid value passed to mixpanel.people.track_charge - must be a number");return}return this.append("$transactions",I.extend({$amount:e},t),n)});pt.prototype.clear_charges=function(e){return this.set("$transactions",[],e)};pt.prototype.delete_user=function(){if(!this._identify_called()){on.error("mixpanel.people.delete_user() requires you to call identify() first");return}var e={$delete:this._mixpanel.get_distinct_id()};return this._send_request(e)};pt.prototype.toString=function(){return this._mixpanel.toString()+".people"};pt.prototype._send_request=function(e,t){e.$token=this._get_config("token"),e.$distinct_id=this._mixpanel.get_distinct_id();var n=this._mixpanel.get_property("$device_id"),r=this._mixpanel.get_property("$user_id"),i=this._mixpanel.get_property("$had_persisted_distinct_id");n&&(e.$device_id=n),r&&(e.$user_id=r),i&&(e.$had_persisted_distinct_id=i);var s=I.encodeDates(e);return this._identify_called()?this._mixpanel._track_or_batch({type:"people",data:s,endpoint:this._get_config("api_host")+"/"+this._get_config("api_routes").engage,batcher:this._mixpanel.request_batchers.people},t):(this._enqueue(e),I.isUndefined(t)||(this._get_config("verbose")?t({status:-1,error:null}):t(-1)),I.truncate(s,255))};pt.prototype._get_config=function(e){return this._mixpanel.get_config(e)};pt.prototype._identify_called=function(){return this._mixpanel._flags.identify_called===!0};pt.prototype._enqueue=function(e){gu in e?this._mixpanel.persistence._add_to_people_queue(gu,e):tp in e?this._mixpanel.persistence._add_to_people_queue(tp,e):Xs in e?this._mixpanel.persistence._add_to_people_queue(Xs,e):jc in e?this._mixpanel.persistence._add_to_people_queue(jc,e):Uo in e?this._mixpanel.persistence._add_to_people_queue(Uo,e):Oa in e?this._mixpanel.persistence._add_to_people_queue(Oa,e):Hc in e?this._mixpanel.persistence._add_to_people_queue(Hc,e):on.error("Invalid call to _enqueue():",e)};pt.prototype._flush_one_queue=function(e,t,n,r){var i=this,s=I.extend({},this._mixpanel.persistence.load_queue(e)),o=s;!I.isUndefined(s)&&I.isObject(s)&&!I.isEmptyObject(s)&&(i._mixpanel.persistence._pop_from_people_queue(e,s),i._mixpanel.persistence.save(),r&&(o=r(s)),t.call(i,o,function(a,l){a===0&&i._mixpanel.persistence._add_to_people_queue(e,s),I.isUndefined(n)||n(a,l)}))};pt.prototype._flush=function(e,t,n,r,i,s,o){var a=this;this._flush_one_queue(gu,this.set,e),this._flush_one_queue(tp,this.set_once,r),this._flush_one_queue(Xs,this.unset,s,function(m){return I.keys(m)}),this._flush_one_queue(jc,this.increment,t),this._flush_one_queue(Hc,this.union,i);var l=this._mixpanel.persistence.load_queue(Uo);if(!I.isUndefined(l)&&I.isArray(l)&&l.length)for(var u,c=function(m,v){m===0&&a._mixpanel.persistence._add_to_people_queue(Uo,u),I.isUndefined(n)||n(m,v)},d=l.length-1;d>=0;d--)l=this._mixpanel.persistence.load_queue(Uo),u=l.pop(),a._mixpanel.persistence.save(),I.isEmptyObject(u)||a.append(u,c);var f=this._mixpanel.persistence.load_queue(Oa);if(!I.isUndefined(f)&&I.isArray(f)&&f.length)for(var p,g=function(m,v){m===0&&a._mixpanel.persistence._add_to_people_queue(Oa,p),I.isUndefined(o)||o(m,v)},h=f.length-1;h>=0;h--)f=this._mixpanel.persistence.load_queue(Oa),p=f.pop(),a._mixpanel.persistence.save(),I.isEmptyObject(p)||a.remove(p,g)};pt.prototype._is_reserved_property=function(e){return e==="$distinct_id"||e==="$token"||e==="$device_id"||e==="$user_id"||e==="$had_persisted_distinct_id"};pt.prototype.set=pt.prototype.set;pt.prototype.set_once=pt.prototype.set_once;pt.prototype.unset=pt.prototype.unset;pt.prototype.increment=pt.prototype.increment;pt.prototype.append=pt.prototype.append;pt.prototype.remove=pt.prototype.remove;pt.prototype.union=pt.prototype.union;pt.prototype.track_charge=pt.prototype.track_charge;pt.prototype.clear_charges=pt.prototype.clear_charges;pt.prototype.delete_user=pt.prototype.delete_user;pt.prototype.toString=pt.prototype.toString;var SO="__mps",$O="__mpso",TO="__mpus",kO="__mpa",IO="__mpap",CO="__mpr",AO="__mpu",_z="$people_distinct_id",Ab="__alias",Sm="__timers",a_e=[SO,$O,TO,kO,IO,CO,AO,_z,Ab,Sm],$t=function(e){this.props={},this.campaign_params_saved=!1,e.persistence_name?this.name="mp_"+e.persistence_name:this.name="mp_"+e.token+"_mixpanel";var t=e.persistence;t!=="cookie"&&t!=="localStorage"&&(on.critical("Unknown persistence type "+t+"; falling back to cookie"),t=e.persistence="cookie"),t==="localStorage"&&I.localStorage.is_supported()?this.storage=I.localStorage:this.storage=I.cookie,this.load(),this.update_config(e),this.upgrade(),this.save()};$t.prototype.properties=function(){var e={};return this.load(),I.each(this.props,function(t,n){I.include(a_e,n)||(e[n]=t)}),e};$t.prototype.load=function(){if(!this.disabled){var e=this.storage.parse(this.name);e&&(this.props=I.extend({},e))}};$t.prototype.upgrade=function(){var e,t;this.storage===I.localStorage?(e=I.cookie.parse(this.name),I.cookie.remove(this.name),I.cookie.remove(this.name,!0),e&&this.register_once(e)):this.storage===I.cookie&&(t=I.localStorage.parse(this.name),I.localStorage.remove(this.name),t&&this.register_once(t))};$t.prototype.save=function(){this.disabled||this.storage.set(this.name,I.JSONEncode(this.props),this.expire_days,this.cross_subdomain,this.secure,this.cross_site,this.cookie_domain)};$t.prototype.load_prop=function(e){return this.load(),this.props[e]};$t.prototype.remove=function(){this.storage.remove(this.name,!1,this.cookie_domain),this.storage.remove(this.name,!0,this.cookie_domain)};$t.prototype.clear=function(){this.remove(),this.props={}};$t.prototype.register_once=function(e,t,n){return I.isObject(e)?(typeof t>"u"&&(t="None"),this.expire_days=typeof n>"u"?this.default_expiry:n,this.load(),I.each(e,function(r,i){(!this.props.hasOwnProperty(i)||this.props[i]===t)&&(this.props[i]=r)},this),this.save(),!0):!1};$t.prototype.register=function(e,t){return I.isObject(e)?(this.expire_days=typeof t>"u"?this.default_expiry:t,this.load(),I.extend(this.props,e),this.save(),!0):!1};$t.prototype.unregister=function(e){this.load(),e in this.props&&(delete this.props[e],this.save())};$t.prototype.update_search_keyword=function(e){this.register(I.info.searchInfo(e))};$t.prototype.update_referrer_info=function(e){this.register_once({$initial_referrer:e||"$direct",$initial_referring_domain:I.info.referringDomain(e)||"$direct"},"")};$t.prototype.get_referrer_info=function(){return I.strip_empty_properties({$initial_referrer:this.props.$initial_referrer,$initial_referring_domain:this.props.$initial_referring_domain})};$t.prototype.update_config=function(e){this.default_expiry=this.expire_days=e.cookie_expiration,this.set_disabled(e.disable_persistence),this.set_cookie_domain(e.cookie_domain),this.set_cross_site(e.cross_site_cookie),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie)};$t.prototype.set_disabled=function(e){this.disabled=e,this.disabled?this.remove():this.save()};$t.prototype.set_cookie_domain=function(e){e!==this.cookie_domain&&(this.remove(),this.cookie_domain=e,this.save())};$t.prototype.set_cross_site=function(e){e!==this.cross_site&&(this.cross_site=e,this.remove(),this.save())};$t.prototype.set_cross_subdomain=function(e){e!==this.cross_subdomain&&(this.cross_subdomain=e,this.remove(),this.save())};$t.prototype.get_cross_subdomain=function(){return this.cross_subdomain};$t.prototype.set_secure=function(e){e!==this.secure&&(this.secure=!!e,this.remove(),this.save())};$t.prototype._add_to_people_queue=function(e,t){var n=this._get_queue_key(e),r=t[e],i=this._get_or_create_queue(gu),s=this._get_or_create_queue(tp),o=this._get_or_create_queue(Xs),a=this._get_or_create_queue(jc),l=this._get_or_create_queue(Hc),u=this._get_or_create_queue(Oa,[]),c=this._get_or_create_queue(Uo,[]);n===SO?(I.extend(i,r),this._pop_from_people_queue(jc,r),this._pop_from_people_queue(Hc,r),this._pop_from_people_queue(Xs,r)):n===$O?(I.each(r,function(d,f){f in s||(s[f]=d)}),this._pop_from_people_queue(Xs,r)):n===TO?I.each(r,function(d){I.each([i,s,a,l],function(f){d in f&&delete f[d]}),I.each(c,function(f){d in f&&delete f[d]}),o[d]=!0}):n===kO?(I.each(r,function(d,f){f in i?i[f]+=d:(f in a||(a[f]=0),a[f]+=d)},this),this._pop_from_people_queue(Xs,r)):n===AO?(I.each(r,function(d,f){I.isArray(d)&&(f in l||(l[f]=[]),l[f]=l[f].concat(d))}),this._pop_from_people_queue(Xs,r)):n===CO?(u.push(r),this._pop_from_people_queue(Uo,r)):n===IO&&(c.push(r),this._pop_from_people_queue(Xs,r)),on.log("MIXPANEL PEOPLE REQUEST (QUEUED, PENDING IDENTIFY):"),on.log(t),this.save()};$t.prototype._pop_from_people_queue=function(e,t){var n=this.props[this._get_queue_key(e)];I.isUndefined(n)||I.each(t,function(r,i){e===Uo||e===Oa?I.each(n,function(s){s[i]===r&&delete s[i]}):delete n[i]},this)};$t.prototype.load_queue=function(e){return this.load_prop(this._get_queue_key(e))};$t.prototype._get_queue_key=function(e){if(e===gu)return SO;if(e===tp)return $O;if(e===Xs)return TO;if(e===jc)return kO;if(e===Uo)return IO;if(e===Oa)return CO;if(e===Hc)return AO;on.error("Invalid queue:",e)};$t.prototype._get_or_create_queue=function(e,t){var n=this._get_queue_key(e);return t=I.isUndefined(t)?{}:t,this.props[n]||(this.props[n]=t)};$t.prototype.set_event_timer=function(e,t){var n=this.load_prop(Sm)||{};n[e]=t,this.props[Sm]=n,this.save()};$t.prototype.remove_event_timer=function(e){var t=this.load_prop(Sm)||{},n=t[e];return I.isUndefined(n)||(delete this.props[Sm][e],this.save()),n};var OO,bz=function(e,t){throw new Error(e+" not available in this build.")},si,wz=0,l_e=1,u_e=function(e){return e},$m=function(){},Is="mixpanel",xz="base64",c_e="json",RO="$device:",Sf=ft.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,Ez=!Sf&&Ao.indexOf("MSIE")===-1&&Ao.indexOf("Mozilla")===-1,Ob=null;Vl.sendBeacon&&(Ob=function(){return Vl.sendBeacon.apply(Vl,arguments)});var Sz={track:"track/",engage:"engage/",groups:"groups/",record:"record/"},a2={api_host:"https://api-js.mixpanel.com",api_routes:Sz,api_method:"POST",api_transport:"XHR",api_payload_format:xz,app_host:"https://mixpanel.com",cdn:"https://cdn.mxpnl.com",cross_site_cookie:!1,cross_subdomain_cookie:!0,error_reporter:$m,persistence:"cookie",persistence_name:"",cookie_domain:"",cookie_name:"",loaded:$m,mp_loader:null,track_marketing:!0,track_pageview:!1,skip_first_touch_marketing:!1,store_google:!0,stop_utm_persistence:!1,save_referrer:!0,test:!1,verbose:!1,img:!1,debug:!1,track_links_timeout:300,cookie_expiration:365,upgrade:!1,disable_persistence:!1,disable_cookie:!1,secure_cookie:!1,ip:!0,opt_out_tracking_by_default:!1,opt_out_persistence_by_default:!1,opt_out_tracking_persistence_type:"localStorage",opt_out_tracking_cookie_prefix:null,property_blacklist:[],xhr_headers:{},ignore_dnt:!1,batch_requests:!0,batch_size:50,batch_flush_interval_ms:5e3,batch_request_timeout_ms:9e4,batch_autostart:!0,hooks:{},record_block_class:new RegExp("^(mp-block|fs-exclude|amp-block|rr-block|ph-no-capture)$"),record_block_selector:"img, video",record_collect_fonts:!1,record_idle_timeout_ms:30*60*1e3,record_inline_images:!1,record_mask_text_class:new RegExp("^(mp-mask|fs-mask|amp-mask|rr-mask|ph-mask)$"),record_mask_text_selector:"*",record_max_ms:pg,record_min_ms:0,record_sessions_percent:0,recorder_src:"https://cdn.mxpnl.com/libs/mixpanel-recorder.min.js"},$z=!1,ne=function(){},GT=function(e,t,n){var r,i=n===Is?si:si[n];if(i&&OO===wz)r=i;else{if(i&&!I.isArray(i)){on.error("You have already initialized "+n);return}r=new ne}if(r._cached_groups={},r._init(e,t,n),r.people=new pt,r.people._init(r),!r.get_config("skip_first_touch_marketing")){var s=I.info.campaignParams(null),o={},a=!1;I.each(s,function(l,u){o["initial_"+u]=l,l&&(a=!0)}),a&&r.people.set_once(o)}return Aa.DEBUG=Aa.DEBUG||r.get_config("debug"),!I.isUndefined(i)&&I.isArray(i)&&(r._execute_array.call(r.people,i.people),r._execute_array(i)),r};ne.prototype.init=function(e,t,n){if(I.isUndefined(n)){this.report_error("You must name your new library: init(token, config, name)");return}if(n===Is){this.report_error("You must initialize the main mixpanel object right after you include the Mixpanel js snippet");return}var r=GT(e,t,n);return si[n]=r,r._loaded(),r};ne.prototype._init=function(e,t,n){t=t||{},this.__loaded=!0,this.config={};var r={};if(!("api_payload_format"in t)){var i=t.api_host||a2.api_host;i.match(/\.mixpanel\.com/)&&(r.api_payload_format=c_e)}if(this.set_config(I.extend({},a2,r,t,{name:n,token:e,callback_fn:(n===Is?n:Is+"."+n)+"._jsc"})),this._jsc=$m,this.__dom_loaded_queue=[],this.__request_queue=[],this.__disabled_events=[],this._flags={disable_all_events:!1,identify_called:!1},this.request_batchers={},this._batch_requests=this.get_config("batch_requests"),this._batch_requests){if(!I.localStorage.is_supported(!0)||!Sf)this._batch_requests=!1,on.log("Turning off Mixpanel request-queueing; needs XHR and localStorage support"),I.each(this.get_batcher_configs(),function(l){on.log("Clearing batch queue "+l.queue_key),I.localStorage.remove(l.queue_key)});else if(this.init_batchers(),Ob&&ft.addEventListener){var s=I.bind(function(){this.request_batchers.events.stopped||this.request_batchers.events.flush({unloading:!0})},this);ft.addEventListener("pagehide",function(l){l.persisted&&s()}),ft.addEventListener("visibilitychange",function(){xn.visibilityState==="hidden"&&s()})}}this.persistence=this.cookie=new $t(this.config),this.unpersisted_superprops={},this._gdpr_init();var o=I.UUID();this.get_distinct_id()||this.register_once({distinct_id:RO+o,$device_id:o},"");var a=this.get_config("track_pageview");a&&this._init_url_change_tracking(a),this.get_config("record_sessions_percent")>0&&Math.random()*100<=this.get_config("record_sessions_percent")&&this.start_session_recording()};ne.prototype.start_session_recording=Ou(function(){if(!ft.MutationObserver){on.critical("Browser does not support MutationObserver; skipping session recording");return}var e=I.bind(function(){this._recorder=this._recorder||new ft.__mp_recorder(this),this._recorder.startRecording()},this);I.isUndefined(ft.__mp_recorder)?bz(this.get_config("recorder_src"),e):e()});ne.prototype.stop_session_recording=function(){this._recorder?this._recorder.stopRecording():on.critical("Session recorder module not loaded")};ne.prototype.get_session_recording_properties=function(){var e={};if(this._recorder){var t=this._recorder.replayId;t&&(e.$mp_replay_id=t)}return e};ne.prototype._loaded=function(){if(this.get_config("loaded")(this),this._set_default_superprops(),this.people.set_once(this.persistence.get_referrer_info()),this.get_config("store_google")&&this.get_config("stop_utm_persistence")){var e=I.info.campaignParams(null);I.each(e,(function(t,n){this.unregister(n)}).bind(this))}};ne.prototype._set_default_superprops=function(){this.persistence.update_search_keyword(xn.referrer),this.get_config("store_google")&&!this.get_config("stop_utm_persistence")&&this.register(I.info.campaignParams()),this.get_config("save_referrer")&&this.persistence.update_referrer_info(xn.referrer)};ne.prototype._dom_loaded=function(){I.each(this.__dom_loaded_queue,function(e){this._track_dom.apply(this,e)},this),this.has_opted_out_tracking()||I.each(this.__request_queue,function(e){this._send_request.apply(this,e)},this),delete this.__dom_loaded_queue,delete this.__request_queue};ne.prototype._track_dom=function(e,t){if(this.get_config("img"))return this.report_error("You can't use DOM tracking functions with img = true."),!1;if(!$z)return this.__dom_loaded_queue.push([e,t]),!1;var n=new e().init(this);return n.track.apply(n,t)};ne.prototype._init_url_change_tracking=function(e){var t="",n=this.track_pageview();if(n&&(t=I.info.currentUrl()),I.include(["full-url","url-with-path-and-query-string","url-with-path"],e)){ft.addEventListener("popstate",function(){ft.dispatchEvent(new Event("mp_locationchange"))}),ft.addEventListener("hashchange",function(){ft.dispatchEvent(new Event("mp_locationchange"))});var r=ft.history.pushState;typeof r=="function"&&(ft.history.pushState=function(s,o,a){r.call(ft.history,s,o,a),ft.dispatchEvent(new Event("mp_locationchange"))});var i=ft.history.replaceState;typeof i=="function"&&(ft.history.replaceState=function(s,o,a){i.call(ft.history,s,o,a),ft.dispatchEvent(new Event("mp_locationchange"))}),ft.addEventListener("mp_locationchange",(function(){var s=I.info.currentUrl(),o=!1;if(e==="full-url"?o=s!==t:e==="url-with-path-and-query-string"?o=s.split("#")[0]!==t.split("#")[0]:e==="url-with-path"&&(o=s.split("#")[0].split("?")[0]!==t.split("#")[0].split("?")[0]),o){var a=this.track_pageview();a&&(t=s)}}).bind(this))}};ne.prototype._prepare_callback=function(e,t){if(I.isUndefined(e))return null;if(Sf){var n=function(o){e(o,t)};return n}else{var r=this._jsc,i=""+Math.floor(Math.random()*1e8),s=this.get_config("callback_fn")+"["+i+"]";return r[i]=function(o){delete r[i],e(o,t)},s}};ne.prototype._send_request=function(e,t,n,r){var i=!0;if(Ez)return this.__request_queue.push(arguments),i;var s={method:this.get_config("api_method"),transport:this.get_config("api_transport"),verbose:this.get_config("verbose")},o=null;!r&&(I.isFunction(n)||typeof n=="string")&&(r=n,n=null),n=I.extend(s,n||{}),Sf||(n.method="GET");var a=n.method==="POST",l=Ob&&a&&n.transport.toLowerCase()==="sendbeacon",u=n.verbose;t.verbose&&(u=!0),this.get_config("test")&&(t.test=1),u&&(t.verbose=1),this.get_config("img")&&(t.img=1),Sf||(r?t.callback=r:(u||this.get_config("test"))&&(t.callback="(function(){})")),t.ip=this.get_config("ip")?1:0,t._=new Date().getTime().toString(),a&&(o="data="+encodeURIComponent(t.data),delete t.data),e+="?"+I.HTTPBuildQuery(t);var c=this;if("img"in t){var d=xn.createElement("img");d.src=e,xn.body.appendChild(d)}else if(l){try{i=Ob(e,o)}catch(v){c.report_error(v),i=!1}try{r&&r(i?1:0)}catch(v){c.report_error(v)}}else if(Sf)try{var f=new XMLHttpRequest;f.open(n.method,e,!0);var p=this.get_config("xhr_headers");if(a&&(p["Content-Type"]="application/x-www-form-urlencoded"),I.each(p,function(v,y){f.setRequestHeader(y,v)}),n.timeout_ms&&typeof f.timeout<"u"){f.timeout=n.timeout_ms;var g=new Date().getTime()}f.withCredentials=!0,f.onreadystatechange=function(){if(f.readyState===4)if(f.status===200){if(r)if(u){var v;try{v=I.JSONDecode(f.responseText)}catch(b){if(c.report_error(b),n.ignore_json_errors)v=f.responseText;else return}r(v)}else r(Number(f.responseText))}else{var y;if(f.timeout&&!f.status&&new Date().getTime()-g>=f.timeout?y="timeout":y="Bad HTTP status: "+f.status+" "+f.statusText,c.report_error(y),r)if(u){var _=f.responseHeaders||{};r({status:0,httpStatusCode:f.status,error:y,retryAfter:_["Retry-After"]})}else r(0)}},f.send(o)}catch(v){c.report_error(v),i=!1}else{var h=xn.createElement("script");h.type="text/javascript",h.async=!0,h.defer=!0,h.src=e;var m=xn.getElementsByTagName("script")[0];m.parentNode.insertBefore(h,m)}return i};ne.prototype._execute_array=function(e){var t,n=[],r=[],i=[];I.each(e,function(o){o&&(t=o[0],I.isArray(t)?i.push(o):typeof o=="function"?o.call(this):I.isArray(o)&&t==="alias"?n.push(o):I.isArray(o)&&t.indexOf("track")!==-1&&typeof this[t]=="function"?i.push(o):r.push(o))},this);var s=function(o,a){I.each(o,function(l){if(I.isArray(l[0])){var u=a;I.each(l,function(c){u=u[c[0]].apply(u,c.slice(1))})}else this[l[0]].apply(this,l.slice(1))},a)};s(n,this),s(r,this),s(i,this)};ne.prototype.are_batchers_initialized=function(){return!!this.request_batchers.events};ne.prototype.get_batcher_configs=function(){var e="__mpq_"+this.get_config("token"),t=this.get_config("api_routes");return this._batcher_configs=this._batcher_configs||{events:{type:"events",endpoint:"/"+t.track,queue_key:e+"_ev"},people:{type:"people",endpoint:"/"+t.engage,queue_key:e+"_pp"},groups:{type:"groups",endpoint:"/"+t.groups,queue_key:e+"_gr"}},this._batcher_configs};ne.prototype.init_batchers=function(){if(!this.are_batchers_initialized()){var e=I.bind(function(n){return new _o(n.queue_key,{libConfig:this.config,errorReporter:this.get_config("error_reporter"),sendRequestFunc:I.bind(function(r,i,s){this._send_request(this.get_config("api_host")+n.endpoint,this._encode_data_for_request(r),i,this._prepare_callback(s,r))},this),beforeSendHook:I.bind(function(r){return this._run_hook("before_send_"+n.type,r)},this),stopAllBatchingFunc:I.bind(this.stop_batch_senders,this),usePersistence:!0})},this),t=this.get_batcher_configs();this.request_batchers={events:e(t.events),people:e(t.people),groups:e(t.groups)}}this.get_config("batch_autostart")&&this.start_batch_senders()};ne.prototype.start_batch_senders=function(){this._batchers_were_started=!0,this.are_batchers_initialized()&&(this._batch_requests=!0,I.each(this.request_batchers,function(e){e.start()}))};ne.prototype.stop_batch_senders=function(){this._batch_requests=!1,I.each(this.request_batchers,function(e){e.stop(),e.clear()})};ne.prototype.push=function(e){this._execute_array([e])};ne.prototype.disable=function(e){typeof e>"u"?this._flags.disable_all_events=!0:this.__disabled_events=this.__disabled_events.concat(e)};ne.prototype._encode_data_for_request=function(e){var t=I.JSONEncode(e);return this.get_config("api_payload_format")===xz&&(t=I.base64Encode(t)),{data:t}};ne.prototype._track_or_batch=function(e,t){var n=I.truncate(e.data,255),r=e.endpoint,i=e.batcher,s=e.should_send_immediately,o=e.send_request_options||{};t=t||$m;var a=!0,l=I.bind(function(){return o.skip_hooks||(n=this._run_hook("before_send_"+e.type,n)),n?(on.log("MIXPANEL REQUEST:"),on.log(n),this._send_request(r,this._encode_data_for_request(n),o,this._prepare_callback(t,n))):null},this);return this._batch_requests&&!s?i.enqueue(n,function(u){u?t(1,n):l()}):a=l(),a&&n};ne.prototype.track=Ou(function(e,t,n,r){!r&&typeof n=="function"&&(r=n,n=null),n=n||{};var i=n.transport;i&&(n.transport=i);var s=n.send_immediately;if(typeof r!="function"&&(r=$m),I.isUndefined(e)){this.report_error("No event name provided to mixpanel.track");return}if(this._event_is_disabled(e)){r(0);return}t=I.extend({},t),t.token=this.get_config("token");var o=this.persistence.remove_event_timer(e);if(!I.isUndefined(o)){var a=new Date().getTime()-o;t.$duration=parseFloat((a/1e3).toFixed(3))}this._set_default_superprops();var l=this.get_config("track_marketing")?I.info.marketingParams():{};t=I.extend({},I.info.properties({mp_loader:this.get_config("mp_loader")}),l,this.persistence.properties(),this.unpersisted_superprops,this.get_session_recording_properties(),t);var u=this.get_config("property_blacklist");I.isArray(u)?I.each(u,function(f){delete t[f]}):this.report_error("Invalid value for property_blacklist config: "+u);var c={event:e,properties:t},d=this._track_or_batch({type:"events",data:c,endpoint:this.get_config("api_host")+"/"+this.get_config("api_routes").track,batcher:this.request_batchers.events,should_send_immediately:s,send_request_options:n},r);return d});ne.prototype.set_group=Ou(function(e,t,n){I.isArray(t)||(t=[t]);var r={};return r[e]=t,this.register(r),this.people.set(e,t,n)});ne.prototype.add_group=Ou(function(e,t,n){var r=this.get_property(e),i={};return r===void 0?(i[e]=[t],this.register(i)):r.indexOf(t)===-1&&(r.push(t),i[e]=r,this.register(i)),this.people.union(e,t,n)});ne.prototype.remove_group=Ou(function(e,t,n){var r=this.get_property(e);if(r!==void 0){var i=r.indexOf(t);i>-1&&(r.splice(i,1),this.register({group_key:r})),r.length===0&&this.unregister(e)}return this.people.remove(e,t,n)});ne.prototype.track_with_groups=Ou(function(e,t,n,r){var i=I.extend({},t||{});return I.each(n,function(s,o){s!=null&&(i[o]=s)}),this.track(e,i,r)});ne.prototype._create_map_key=function(e,t){return e+"_"+JSON.stringify(t)};ne.prototype._remove_group_from_cache=function(e,t){delete this._cached_groups[this._create_map_key(e,t)]};ne.prototype.get_group=function(e,t){var n=this._create_map_key(e,t),r=this._cached_groups[n];return(r===void 0||r._group_key!==e||r._group_id!==t)&&(r=new qn,r._init(this,e,t),this._cached_groups[n]=r),r};ne.prototype.track_pageview=Ou(function(e,t){typeof e!="object"&&(e={}),t=t||{};var n=t.event_name||"$mp_web_page_view",r=I.extend(I.info.mpPageViewProperties(),I.info.campaignParams(),I.info.clickParams()),i=I.extend({},r,e);return this.track(n,i)});ne.prototype.track_links=function(){return this._track_dom.call(this,ep,arguments)};ne.prototype.track_forms=function(){return this._track_dom.call(this,X1,arguments)};ne.prototype.time_event=function(e){if(I.isUndefined(e)){this.report_error("No event name provided to mixpanel.time_event");return}this._event_is_disabled(e)||this.persistence.set_event_timer(e,new Date().getTime())};var d_e={persistent:!0},PO=function(e){var t;return I.isObject(e)?t=e:I.isUndefined(e)?t={}:t={days:e},I.extend({},d_e,t)};ne.prototype.register=function(e,t){var n=PO(t);n.persistent?this.persistence.register(e,n.days):I.extend(this.unpersisted_superprops,e)};ne.prototype.register_once=function(e,t,n){var r=PO(n);r.persistent?this.persistence.register_once(e,t,r.days):(typeof t>"u"&&(t="None"),I.each(e,function(i,s){(!this.unpersisted_superprops.hasOwnProperty(s)||this.unpersisted_superprops[s]===t)&&(this.unpersisted_superprops[s]=i)},this))};ne.prototype.unregister=function(e,t){t=PO(t),t.persistent?this.persistence.unregister(e):delete this.unpersisted_superprops[e]};ne.prototype._register_single=function(e,t){var n={};n[e]=t,this.register(n)};ne.prototype.identify=function(e,t,n,r,i,s,o,a){var l=this.get_distinct_id();if(e&&l!==e){if(typeof e=="string"&&e.indexOf(RO)===0)return this.report_error("distinct_id cannot have $device: prefix"),-1;this.register({$user_id:e})}if(!this.get_property("$device_id")){var u=l;this.register_once({$had_persisted_distinct_id:!0,$device_id:u},"")}e!==l&&e!==this.get_property(Ab)&&(this.unregister(Ab),this.register({distinct_id:e})),this._flags.identify_called=!0,this.people._flush(t,n,r,i,s,o,a),e!==l&&this.track("$identify",{distinct_id:e,$anon_distinct_id:l},{skip_hooks:!0})};ne.prototype.reset=function(){this.persistence.clear(),this._flags.identify_called=!1;var e=I.UUID();this.register_once({distinct_id:RO+e,$device_id:e},"")};ne.prototype.get_distinct_id=function(){return this.get_property("distinct_id")};ne.prototype.alias=function(e,t){if(e===this.get_property(_z))return this.report_error("Attempting to create alias for existing People user - aborting."),-2;var n=this;return I.isUndefined(t)&&(t=this.get_distinct_id()),e!==t?(this._register_single(Ab,e),this.track("$create_alias",{alias:e,distinct_id:t},{skip_hooks:!0},function(){n.identify(e)})):(this.report_error("alias matches current distinct_id - skipping api call."),this.identify(e),-1)};ne.prototype.name_tag=function(e){this._register_single("mp_name_tag",e)};ne.prototype.set_config=function(e){if(I.isObject(e)){I.extend(this.config,e);var t=e.batch_size;t&&I.each(this.request_batchers,function(n){n.resetBatchSize()}),this.get_config("persistence_name")||(this.config.persistence_name=this.config.cookie_name),this.get_config("disable_persistence")||(this.config.disable_persistence=this.config.disable_cookie),this.persistence&&this.persistence.update_config(this.config),Aa.DEBUG=Aa.DEBUG||this.get_config("debug")}};ne.prototype.get_config=function(e){return this.config[e]};ne.prototype._run_hook=function(e){var t=(this.config.hooks[e]||u_e).apply(this,Ul.call(arguments,1));return typeof t>"u"&&(this.report_error(e+" hook did not return a value"),t=null),t};ne.prototype.get_property=function(e){return this.persistence.load_prop([e])};ne.prototype.toString=function(){var e=this.get_config("name");return e!==Is&&(e=Is+"."+e),e};ne.prototype._event_is_disabled=function(e){return I.isBlockedUA(Ao)||this._flags.disable_all_events||I.include(this.__disabled_events,e)};ne.prototype._gdpr_init=function(){var e=this.get_config("opt_out_tracking_persistence_type")==="localStorage";e&&I.localStorage.is_supported()&&(!this.has_opted_in_tracking()&&this.has_opted_in_tracking({persistence_type:"cookie"})&&this.opt_in_tracking({enable_persistence:!1}),!this.has_opted_out_tracking()&&this.has_opted_out_tracking({persistence_type:"cookie"})&&this.opt_out_tracking({clear_persistence:!1}),this.clear_opt_in_out_tracking({persistence_type:"cookie",enable_persistence:!1})),this.has_opted_out_tracking()?this._gdpr_update_persistence({clear_persistence:!0}):!this.has_opted_in_tracking()&&(this.get_config("opt_out_tracking_by_default")||I.cookie.get("mp_optout"))&&(I.cookie.remove("mp_optout"),this.opt_out_tracking({clear_persistence:this.get_config("opt_out_persistence_by_default")}))};ne.prototype._gdpr_update_persistence=function(e){var t;if(e&&e.clear_persistence)t=!0;else if(e&&e.enable_persistence)t=!1;else return;!this.get_config("disable_persistence")&&this.persistence.disabled!==t&&this.persistence.set_disabled(t),t?this.stop_batch_senders():this._batchers_were_started&&this.start_batch_senders()};ne.prototype._gdpr_call_func=function(e,t){return t=I.extend({track:I.bind(this.track,this),persistence_type:this.get_config("opt_out_tracking_persistence_type"),cookie_prefix:this.get_config("opt_out_tracking_cookie_prefix"),cookie_expiration:this.get_config("cookie_expiration"),cross_site_cookie:this.get_config("cross_site_cookie"),cross_subdomain_cookie:this.get_config("cross_subdomain_cookie"),cookie_domain:this.get_config("cookie_domain"),secure_cookie:this.get_config("secure_cookie"),ignore_dnt:this.get_config("ignore_dnt")},t),I.localStorage.is_supported()||(t.persistence_type="cookie"),e(this.get_config("token"),{track:t.track,trackEventName:t.track_event_name,trackProperties:t.track_properties,persistenceType:t.persistence_type,persistencePrefix:t.cookie_prefix,cookieDomain:t.cookie_domain,cookieExpiration:t.cookie_expiration,crossSiteCookie:t.cross_site_cookie,crossSubdomainCookie:t.cross_subdomain_cookie,secureCookie:t.secure_cookie,ignoreDnt:t.ignore_dnt})};ne.prototype.opt_in_tracking=function(e){e=I.extend({enable_persistence:!0},e),this._gdpr_call_func(Xye,e),this._gdpr_update_persistence(e)};ne.prototype.opt_out_tracking=function(e){e=I.extend({clear_persistence:!0,delete_user:!0},e),e.delete_user&&this.people&&this.people._identify_called()&&(this.people.delete_user(),this.people.clear_charges()),this._gdpr_call_func(Qye,e),this._gdpr_update_persistence(e)};ne.prototype.has_opted_in_tracking=function(e){return this._gdpr_call_func(Jye,e)};ne.prototype.has_opted_out_tracking=function(e){return this._gdpr_call_func(hz,e)};ne.prototype.clear_opt_in_out_tracking=function(e){e=I.extend({enable_persistence:!0},e),this._gdpr_call_func(Zye,e),this._gdpr_update_persistence(e)};ne.prototype.report_error=function(e,t){on.error.apply(on.error,arguments);try{!t&&!(e instanceof Error)&&(e=new Error(e)),this.get_config("error_reporter")(e,t)}catch(n){on.error(n)}};ne.prototype.init=ne.prototype.init;ne.prototype.reset=ne.prototype.reset;ne.prototype.disable=ne.prototype.disable;ne.prototype.time_event=ne.prototype.time_event;ne.prototype.track=ne.prototype.track;ne.prototype.track_links=ne.prototype.track_links;ne.prototype.track_forms=ne.prototype.track_forms;ne.prototype.track_pageview=ne.prototype.track_pageview;ne.prototype.register=ne.prototype.register;ne.prototype.register_once=ne.prototype.register_once;ne.prototype.unregister=ne.prototype.unregister;ne.prototype.identify=ne.prototype.identify;ne.prototype.alias=ne.prototype.alias;ne.prototype.name_tag=ne.prototype.name_tag;ne.prototype.set_config=ne.prototype.set_config;ne.prototype.get_config=ne.prototype.get_config;ne.prototype.get_property=ne.prototype.get_property;ne.prototype.get_distinct_id=ne.prototype.get_distinct_id;ne.prototype.toString=ne.prototype.toString;ne.prototype.opt_out_tracking=ne.prototype.opt_out_tracking;ne.prototype.opt_in_tracking=ne.prototype.opt_in_tracking;ne.prototype.has_opted_out_tracking=ne.prototype.has_opted_out_tracking;ne.prototype.has_opted_in_tracking=ne.prototype.has_opted_in_tracking;ne.prototype.clear_opt_in_out_tracking=ne.prototype.clear_opt_in_out_tracking;ne.prototype.get_group=ne.prototype.get_group;ne.prototype.set_group=ne.prototype.set_group;ne.prototype.add_group=ne.prototype.add_group;ne.prototype.remove_group=ne.prototype.remove_group;ne.prototype.track_with_groups=ne.prototype.track_with_groups;ne.prototype.start_batch_senders=ne.prototype.start_batch_senders;ne.prototype.stop_batch_senders=ne.prototype.stop_batch_senders;ne.prototype.start_session_recording=ne.prototype.start_session_recording;ne.prototype.stop_session_recording=ne.prototype.stop_session_recording;ne.prototype.get_session_recording_properties=ne.prototype.get_session_recording_properties;ne.prototype.DEFAULT_API_ROUTES=Sz;$t.prototype.properties=$t.prototype.properties;$t.prototype.update_search_keyword=$t.prototype.update_search_keyword;$t.prototype.update_referrer_info=$t.prototype.update_referrer_info;$t.prototype.get_cross_subdomain=$t.prototype.get_cross_subdomain;$t.prototype.clear=$t.prototype.clear;var tf={},f_e=function(){I.each(tf,function(e,t){t!==Is&&(si[t]=e)}),si._=I},p_e=function(){si.init=function(e,t,n){if(n)return si[n]||(si[n]=tf[n]=GT(e,t,n),si[n]._loaded()),si[n];var r=si;tf[Is]?r=tf[Is]:e&&(r=GT(e,t,Is),r._loaded(),tf[Is]=r),si=r,OO===l_e&&(ft[Is]=si),f_e()}},h_e=function(){function e(){e.done||(e.done=!0,$z=!0,Ez=!1,I.each(tf,function(r){r._dom_loaded()}))}function t(){try{xn.documentElement.doScroll("left")}catch{setTimeout(t,1);return}e()}if(xn.addEventListener)xn.readyState==="complete"?e():xn.addEventListener("DOMContentLoaded",e,!1);else if(xn.attachEvent){xn.attachEvent("onreadystatechange",e);var n=!1;try{n=ft.frameElement===null}catch{}xn.documentElement.doScroll&&n&&t()}I.register_event(ft,"load",e,!0)};function g_e(e){return bz=e,OO=wz,si=new ne,p_e(),si.init(),h_e(),si}function m_e(e,t){t()}var tu=g_e(m_e);const Tz=(e,t,n={})=>{},l2=(e,t,n)=>{tu.identify(e),t&&tu.people.set({$email:t}),n&&tu.people.set({$name:n}),e&&t&&Bn.identify(t,{id:e,displayName:n})},YT=(e,t={})=>{try{tu.track(e,t),Tz("Mixpanel Event Fired",e,t)}catch(n){console.error("Mixpanel Tracking Error",n)}},ZJe=(e={})=>{try{tu.people.set(e),Tz("Mixpanel People Properties Fired","Properties",e)}catch{}},eZe=(e={})=>{tu.register(e)},tZe=async(e,t)=>{const n={distinct_id:e,priceId:t};tu.track("purchase",n)},nZe=(e,t=["A","B"])=>{if(!e||t.length===0)return t[0]||"A";let n=0;for(const i of e)n=i.charCodeAt(0)+((n<<5)-n);const r=Math.abs(n)%t.length;return t[r]},v_e={apiKey:"AIzaSyAVslymxdABi7BdNzjT1quXFZduuyz6EhE",appId:"1:725498859830:web:6421f91ef9f6e95c056397",authDomain:"mixo-app.firebaseapp.com",databaseURL:"https://mixo-app-default-rtdb.firebaseio.com",messagingSenderId:"725498859830",projectId:"mixo-app",storageBucket:"mixo-app.appspot.com",measurementId:"G-JHGL8M7FHL"},u2=vse(),tl=u2.length?u2[0]:mj(v_e);let Tm;const y_e=()=>{try{if(window.location.pathname.replace(/\/$/,"")==="/sites/preview")return;Tm||(Tm=_ge(tl,{provider:new sO("6Lf0kGsoAAAAAIH-9bzbWxuDwy7LlN-MWerrq6oa"),isTokenAutoRefreshEnabled:!0}))}catch(e){console.log("initializeAppCheck error"),console.error(e)}},Zn=Eve(tl),__e=Ole(),MO=$fe(tl),kz=V9(tl,"us-west2"),Iz=V9(tl,"us-west2"),km=vhe(tl),b_e=({app:e})=>{e.provide("firebaseApp",tl),e.provide("firebaseAuth",Zn),typeof window<"u"&&y_e(),Zn.onAuthStateChanged(t=>{t?(l2(t==null?void 0:t.uid,t==null?void 0:t.email,t==null?void 0:t.displayName),Tve(t==null?void 0:t.uid),["adam@mixo.io","giles@fuzzylogic.ai","adam@fuzzylogic.ai","adam@mixvisor.com","giles@mixvisor.com","giles@mixo.io","arbolino@gmail.com","support@mixo.io"].includes(t==null?void 0:t.email)&&(window==null||window.localStorage.setItem(Zne,!0))):l2($ve())})},w_e=Object.freeze(Object.defineProperty({__proto__:null,analytics:km,get appCheckService(){return Tm},firebaseApp:tl,firebaseAuth:Zn,firestore:MO,functions:kz,functionsExtensions:Iz,install:b_e,rtdb:__e},Symbol.toStringTag,{value:"Module"}));var x_e=typeof window<"u",Cz=["__key","__init","__shim","__original","__index","__prevKey"];function Np(){return Math.random().toString(36).substring(2,15)}function E_e(e,t){const n=e instanceof Set?e:new Set(e);return t&&t.forEach(r=>n.add(r)),[...n]}function lt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function at(e,t,n=!0,r=["__key"]){if(e===t)return!0;if(typeof t=="object"&&typeof e=="object"){if(e instanceof Map||e instanceof Set)return!1;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(e instanceof RegExp&&t instanceof RegExp)return S_e(e,t);if(e===null||t===null||Object.keys(e).length!==Object.keys(t).length)return!1;for(const i of r)if((i in e||i in t)&&e[i]!==t[i])return!1;for(const i in e)if(!(i in t)||e[i]!==t[i]&&!n||n&&!at(e[i],t[i],n,r))return!1;return!0}return!1}function S_e(e,t){return e.source===t.source&&e.flags.split("").sort().join("")===t.flags.split("").sort().join("")}function Ds(e){const t=typeof e;if(t==="number")return!1;if(e===void 0)return!0;if(t==="string")return e==="";if(t==="object"){if(e===null)return!0;for(const n in e)return!1;return!(e instanceof RegExp||e instanceof Date)}return!1}function $_e(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function T_e(e){const t=`^${$_e(e)}$`,n={MM:"(0[1-9]|1[012])",M:"([1-9]|1[012])",DD:"([012][0-9]|3[01])",D:"([012]?[0-9]|3[01])",YYYY:"\\d{4}",YY:"\\d{2}"},r=Object.keys(n);return new RegExp(r.reduce((i,s)=>i.replace(s,n[s]),t))}function Wc(e){return Object.prototype.toString.call(e)==="[object Object]"}function gg(e){return Wc(e)||Array.isArray(e)}function np(e){if(Wc(e)===!1||e.__FKNode__||e.__POJO__===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(Wc(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)}var Ga=(e,t,n=!1,r=!1)=>{if(t===null)return null;const i={};if(typeof t=="string")return t;for(const s in e)if(lt(t,s)&&(t[s]!==void 0||!r)){if(n&&Array.isArray(e[s])&&Array.isArray(t[s])){i[s]=e[s].concat(t[s]);continue}if(t[s]===void 0)continue;np(e[s])&&np(t[s])?i[s]=Ga(e[s],t[s],n,r):i[s]=t[s]}else i[s]=e[s];for(const s in t)!lt(i,s)&&t[s]!==void 0&&(i[s]=t[s]);return i};function k_e(e){if(e[0]!=='"'&&e[0]!=="'"||e[0]!==e[e.length-1])return!1;const t=e[0];for(let n=1;n<e.length;n++)if(e[n]===t&&(n===1||e[n-1]!=="\\")&&n!==e.length-1)return!1;return!0}function I_e(e){if(!e.length)return"";let t="",n="";for(let r=0;r<e.length;r++){const i=e.charAt(r);(i!=="\\"||n==="\\")&&(t+=i),n=i}return t}function $d(...e){return e.reduce((t,n)=>{const{value:r,name:i,modelValue:s,config:o,plugins:a,...l}=n;return Object.assign(t,l)},{})}function C_e(e){const t=[];let n="",r=0,i="",s="";for(let o=0;o<e.length;o++){const a=e.charAt(o);a===i&&s!=="\\"?i="":(a==="'"||a==='"')&&!i&&s!=="\\"?i=a:a==="("&&!i?r++:a===")"&&!i&&r--,a===","&&!i&&r===0?(t.push(n),n=""):(a!==" "||i)&&(n+=a),s=a}return n&&t.push(n),t}function c2(e,t){const n={},r=t.filter(s=>s instanceof RegExp),i=new Set(t);for(const s in e)!i.has(s)&&!r.some(o=>o.test(s))&&(n[s]=e[s]);return n}function d2(e,t){const n={},r=t.filter(i=>i instanceof RegExp);return t.forEach(i=>{i instanceof RegExp||(n[i]=e[i])}),Object.keys(e).forEach(i=>{r.some(s=>s.test(i))&&(n[i]=e[i])}),n}function $f(e){return e.replace(/-([a-z0-9])/gi,(t,n)=>n.toUpperCase())}function Az(e){return e.replace(/([a-z0-9])([A-Z])/g,(t,n,r)=>n+"-"+r.toLowerCase()).replace(" ","-").toLowerCase()}function XT(e,t=Cz){if(e!==null&&typeof e=="object"){let n;if(Array.isArray(e)?n=[...e]:np(e)&&(n={...e}),n)return O_e(e,n,t),n}return e}function mu(e,t=Cz){if(e===null||e instanceof RegExp||e instanceof Date||e instanceof Map||e instanceof Set||typeof File=="function"&&e instanceof File)return e;let n;Array.isArray(e)?n=e.map(r=>typeof r=="object"?mu(r,t):r):n=Object.keys(e).reduce((r,i)=>(r[i]=typeof e[i]=="object"?mu(e[i],t):e[i],r),{});for(const r of t)r in e&&Object.defineProperty(n,r,{enumerable:!1,value:e[r]});return n}function Os(e){return typeof e=="object"?mu(e):e}function A_e(e,t){if(!e||typeof e!="object")return null;const n=t.split(".");let r=e;for(const i in n){const s=n[i];if(lt(r,s)&&(r=r[s]),+i===n.length-1)return r;if(!r||typeof r!="object")return null}return null}function Ue(e){return e!==void 0&&e!=="false"&&e!==!1?!0:void 0}function rp(e){return Object.isFrozen(e)?e:Object.defineProperty(e,"__init",{enumerable:!1,value:!0})}function DO(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]/g," ").trim().replace(/\s+/g,"-")}function O_e(e,t,n){for(const r of n)r in e&&Object.defineProperty(t,r,{enumerable:!1,value:e[r]});return t}function cr(e,t,n){if(!x_e)return;n||(n=document);const r=n.getElementById(e);if(r)return t(r);const i=new MutationObserver(()=>{const s=n==null?void 0:n.getElementById(e);s&&(i==null||i.disconnect(),t(s))});i.observe(n,{childList:!0,subtree:!0})}function R_e(e){let t=!1;return(...n)=>{if(!t)return t=!0,queueMicrotask(()=>t=!1),e(...n)}}function P_e(e){if(!(e==="false"||e===!1))return!0}function NO(){const e=[];let t=0;const n=i=>e.push(i),r=i=>{const s=e[t];return typeof s=="function"?s(i,o=>(t++,r(o))):(t=0,i)};return n.dispatch=r,n.unshift=i=>e.unshift(i),n.remove=i=>{const s=e.indexOf(i);s>-1&&e.splice(s,1)},n}function Oz(){const e=new Map,t=new Map;let n;const r=(i,s)=>{if(n){n.set(s.name,[i,s]);return}e.has(s.name)&&e.get(s.name).forEach(o=>{(s.origin===i||o.modifiers.includes("deep"))&&o.listener(s)}),s.bubble&&i.bubble(s)};return r.flush=()=>{e.clear(),t.clear(),n==null||n.clear()},r.on=(i,s,o="push")=>{const[a,...l]=i.split("."),u=s.receipt||Np(),c={modifiers:l,event:a,listener:s,receipt:u};return e.has(a)?e.get(a)[o](c):e.set(a,[c]),t.has(u)?t.get(u)[o](a):t.set(u,[a]),u},r.off=i=>{var s;t.has(i)&&((s=t.get(i))==null||s.forEach(o=>{const a=e.get(o);Array.isArray(a)&&e.set(o,a.filter(l=>l.receipt!==i))}),t.delete(i))},r.pause=i=>{n||(n=new Map),i&&i.walk(s=>s._e.pause())},r.play=i=>{if(!n)return;const s=n;n=void 0,s.forEach(([o,a])=>r(o,a)),i&&i.walk(o=>o._e.play())},r}function M_e(e,t,n,r,i=!0,s){return t._e(e,{payload:r,name:n,bubble:i,origin:e,meta:s}),e}function D_e(e,t,n){return Fv(e.parent)&&e.parent._e(e.parent,n),e}function N_e(e,t,n,r,i){return t._e.on(n,r,i)}function L_e(e,t,n){return t._e.off(n),e}var LO=NO();LO((e,t)=>(e.message||(e.message=`E${e.code}`),t(e)));var FO=NO();FO((e,t)=>{e.message||(e.message=`W${e.code}`);const n=t(e);return console&&typeof console.warn=="function"&&console.warn(n.message),n});function Mu(e,t={}){FO.dispatch({code:e,data:t})}function Qi(e,t={}){throw Error(LO.dispatch({code:e,data:t}).message)}function pr(e,t){const n={blocking:!1,key:Np(),meta:{},type:"state",visible:!0,...e};return t&&n.value&&n.meta.localize!==!1&&(n.value=t.t(n),n.meta.locale=t.config.locale),n}var f2={apply:H_e,set:B_e,remove:Rz,filter:V_e,reduce:j_e,release:z_e,touch:U_e};function F_e(e=!1){const t={};let n,r=e,i=[];const s=new Map;let o;const a=new Proxy(t,{get(...l){const[u,c]=l;return c==="buffer"?r:c==="_b"?i:c==="_m"?s:c==="_r"?o:lt(f2,c)?f2[c].bind(null,t,a,n):Reflect.get(...l)},set(l,u,c){return u==="_n"?(n=c,o==="__n"&&Pz(n,a),!0):u==="_b"?(i=c,!0):u==="buffer"?(r=c,!0):u==="_r"?(o=c,!0):(Qi(101,n),!1)}});return a}function B_e(e,t,n,r){if(t.buffer)return t._b.push([[r]]),t;if(e[r.key]!==r){if(typeof r.value=="string"&&r.meta.localize!==!1){const s=r.value;r.value=n.t(r),r.value!==s&&(r.meta.locale=n.props.locale)}const i=`message-${lt(e,r.key)?"updated":"added"}`;e[r.key]=Object.freeze(n.hook.message.dispatch(r)),n.emit(i,r)}return t}function U_e(e,t){for(const n in e){const r={...e[n]};t.set(r)}}function Rz(e,t,n,r){if(lt(e,r)){const i=e[r];delete e[r],n.emit("message-removed",i)}return t.buffer===!0&&(t._b=t._b.filter(i=>(i[0]=i[0].filter(s=>s.key!==r),i[1]||i[0].length))),t}function V_e(e,t,n,r,i){for(const s in e){const o=e[s];(!i||o.type===i)&&!r(o)&&Rz(e,t,n,s)}}function j_e(e,t,n,r,i){for(const s in e){const o=e[s];i=r(i,o)}return i}function H_e(e,t,n,r,i){if(Array.isArray(r)){if(t.buffer){t._b.push([r,i]);return}const s=new Set(r.map(o=>(t.set(o),o.key)));typeof i=="string"?t.filter(o=>o.type!==i||s.has(o.key)):typeof i=="function"&&t.filter(o=>!i(o)||s.has(o.key))}else for(const s in r){const o=n.at(s);o?o.store.apply(r[s],i):q_e(n,t,s,r[s],i)}}function W_e(e,...t){const n=`${e.name}-set`,r=i=>pr({key:DO(i),type:"error",value:i,meta:{source:n,autoClear:!0}});return t.filter(i=>!!i).map(i=>{if(typeof i=="string"&&(i=[i]),Array.isArray(i))return i.map(s=>r(s));{const s={};for(const o in i)Array.isArray(i[o])?s[o]=i[o].map(a=>r(a)):s[o]=[r(i[o])];return s}})}function q_e(e,t,n,r,i){var o;const s=t._m;s.has(n)||s.set(n,[]),t._r||(t._r=Pz(e,t)),(o=s.get(n))==null||o.push([r,i])}function Pz(e,t){return e.on("child.deep",({payload:n})=>{t._m.forEach((r,i)=>{e.at(i)===n&&(r.forEach(([s,o])=>{n.store.apply(s,o)}),t._m.delete(i))}),t._m.size===0&&t._r&&(e.off(t._r),t._r=void 0)})}function z_e(e,t){t.buffer=!1,t._b.forEach(([n,r])=>t.apply(n,r)),t._b=[]}function K_e(){const e={};let t;return{count:(...n)=>G_e(t,e,...n),init(n){t=n,n.on("message-added.deep",p2(e,1)),n.on("message-removed.deep",p2(e,-1))},merge:n=>h2(t,e,n),settled(n){return lt(e,n)?e[n].promise:Promise.resolve()},unmerge:n=>h2(t,e,n,!0),value(n){return lt(e,n)?e[n].count:0}}}function G_e(e,t,n,r,i=0){if(r=Y_e(r||n),!lt(t,n)){const s={condition:r,count:0,name:n,node:e,promise:Promise.resolve(),resolve:()=>{}};t[n]=s,i=e.store.reduce((o,a)=>o+s.condition(a)*1,i),e.each(o=>{o.ledger.count(s.name,s.condition),i+=o.ledger.value(s.name)})}return Mz(t[n],i).promise}function Y_e(e){return typeof e=="function"?e:t=>t.type===e}function Mz(e,t){const n=e.count,r=e.count+t;return e.count=r,n===0&&r!==0?(e.node.emit(`unsettled:${e.name}`,e.count,!1),e.promise=new Promise(i=>e.resolve=i)):n!==0&&r===0&&(e.node.emit(`settled:${e.name}`,e.count,!1),e.resolve()),e.node.emit(`count:${e.name}`,e.count,!1),e}function p2(e,t){return n=>{for(const r in e){const i=e[r];i.condition(n.payload)&&Mz(i,t)}}}function h2(e,t,n,r=!1){const i=e;for(const s in t){const o=t[s].condition;r||n.ledger.count(s,o);const a=n.ledger.value(s)*(r?-1:1);if(e){do e.ledger.count(s,o,a),e=e.parent;while(e);e=i}}}var BO=new Map,z_=new Map,UO=Oz();function X_e(e){e.props.id&&(BO.set(e.props.id,e),z_.set(e,e.props.id),UO(e,{payload:e,name:e.props.id,bubble:!1,origin:e}))}function Q_e(e){if(z_.has(e)){const t=z_.get(e);z_.delete(e),BO.delete(t),UO(e,{payload:null,name:t,bubble:!1,origin:e})}}function Lv(e){return BO.get(e)}function J_e(e,t){return UO.on(e,t)}function QT(e,t,n){let r=!0;return t in e.config._t?r=!1:e.emit(`config:${t}`,n,!1),t in e.props||(e.emit("prop",{prop:t,value:n}),e.emit(`prop:${t}`,n)),r}function Z_e(e={}){const t=new Set,n={...e,_add:i=>t.add(i),_rm:i=>t.delete(i)};return new Proxy(n,{set(i,s,o,a){return typeof s=="string"&&t.forEach(l=>QT(l,s,o)),Reflect.set(i,s,o,a)}})}function Dz(e,t){const n=(t||document).getElementById(e);if(n instanceof HTMLFormElement){const r=new Event("submit",{cancelable:!0,bubbles:!0});n.dispatchEvent(r);return}Mu(151,e)}function e0e(e){const t=n=>{for(const r in n.store){const i=n.store[r];i.type==="error"||i.type==="ui"&&r==="incomplete"?n.store.remove(r):i.type==="state"&&n.store.set({...i,value:!1})}};t(e),e.walk(t)}function Nz(e,t){const n=typeof e=="string"?Lv(e):e;if(n){const r=o=>Os(o.props.initial)||(o.type==="group"?{}:o.type==="list"?[]:void 0);n._e.pause(n);const i=Os(t);return t&&!Ds(t)&&(n.props.initial=gg(i)?rp(i):i,n.props._init=n.props.initial),n.input(r(n),!1),n.walk(o=>{o.type==="list"&&o.sync||o.input(r(o),!1)}),n.input(Ds(i)&&i?i:r(n),!1),n.type!=="input"&&t&&!Ds(t)&&gg(t)&&n.walk(o=>{o.props.initial=gg(o.value)?rp(o.value):o.value,o.props._init=o.props.initial}),n._e.play(n),e0e(n),n.emit("reset",n),n}Mu(152,e)}var t0e={delimiter:".",delay:0,locale:"en",rootClasses:e=>({[`formkit-${Az(e)}`]:!0})},Lz=Symbol("index"),JT=Symbol("removed"),ZT=Symbol("moved"),Fz=Symbol("inserted");function n0e(e){return e.type==="list"&&Array.isArray(e._value)}function Fv(e){return e&&typeof e=="object"&&e.__FKNode__===!0}var K_=(e,t,n)=>{Qi(102,[e,n])},r0e={_c:jt(S0e,K_,!1),add:jt(m0e),addProps:jt(g0e),address:jt(T0e,K_,!1),at:jt(k0e),bubble:jt(D_e),clearErrors:jt(N0e),calm:jt(f0e),config:jt(!1),define:jt(h0e),disturb:jt(d0e),destroy:jt(p0e),extend:jt(F0e),hydrate:jt(u0e),index:jt(E0e,x0e,!1),input:jt(Vz),each:jt(_0e),emit:jt(M_e),find:jt(C0e),on:jt(N_e),off:jt(L_e),parent:jt(!1,v0e),plugins:jt(!1),remove:jt(y0e),root:jt(O0e,K_,!1),reset:jt(M0e),resetConfig:jt(w0e),setErrors:jt(D0e),submit:jt(P0e),t:jt(R0e),use:jt(VO),name:jt($0e,!1,!1),walk:jt(b0e)};function i0e(){return new Map(Object.entries(r0e))}function jt(e,t,n=!0){return{get:e?(r,i)=>n?(...s)=>e(r,i,...s):e(r,i):!1,set:t!==void 0?t:K_.bind(null)}}function s0e(){const e=new Map;return new Proxy(e,{get(t,n){return e.has(n)||e.set(n,NO()),e.get(n)}})}var Bz=0,o0e=0;function a0e(e){var t,n;return((t=e.parent)==null?void 0:t.type)==="list"?Lz:e.name||`${((n=e.props)==null?void 0:n.type)||"input"}_${++Bz}`}function Uz(e){return e.type==="group"?rp(e.value&&typeof e.value=="object"&&!Array.isArray(e.value)?e.value:{}):e.type==="list"?rp(Array.isArray(e.value)?e.value:[]):e.value}function Vz(e,t,n,r=!0){return t._value=l0e(e,e.hook.input.dispatch(n)),e.emit("input",t._value),e.isCreated&&e.type==="input"&&at(t._value,t.value)&&!e.props.mergeStrategy?(e.emit("commitRaw",t.value),t.settled):(t.isSettled&&e.disturb(),r?(t._tmo&&clearTimeout(t._tmo),t._tmo=setTimeout(Rb,e.props.delay,e,t)):Rb(e,t),t.settled)}function l0e(e,t){switch(e.type){case"input":break;case"group":(!t||typeof t!="object")&&Qi(107,[e,t]);break;case"list":Array.isArray(t)||Qi(108,[e,t]);break}return t}function Rb(e,t,n=!0,r=!0){t._value=t.value=e.hook.commit.dispatch(t._value),e.type!=="input"&&r&&e.hydrate(),e.emit("commitRaw",t.value),e.emit("commit",t.value),n&&e.calm()}function jz(e,{name:t,value:n,from:r}){if(!Object.isFrozen(e._value)){if(n0e(e)){const i=n===JT?[]:n===ZT&&typeof r=="number"?e._value.splice(r,1):[n];e._value.splice(t,n===ZT||r===Fz?0:1,...i);return}n!==JT?e._value[t]=n:delete e._value[t]}}function u0e(e,t){const n=t._value;return e.type==="list"&&e.sync&&c0e(e,t),t.children.forEach(r=>{if(typeof n=="object")if(r.name in n){const i=r.type!=="input"||n[r.name]&&typeof n[r.name]=="object"?rp(n[r.name]):n[r.name];if(!r.isSettled||(!gg(i)||r.props.mergeStrategy)&&at(i,r._value))return;r.input(i,!1)}else(e.type!=="list"||typeof r.name=="number")&&jz(t,{name:r.name,value:r.value}),n.__init||(r.type==="group"?r.input({},!1):r.type==="list"?r.input([],!1):r.input(void 0,!1))}),e}function c0e(e,t){const n=e._value;if(!Array.isArray(n))return;const r=[],i=new Set(t.children),s=new Map;n.forEach((a,l)=>{if(t.children[l]&&t.children[l]._value===a)r.push(t.children[l]),i.delete(t.children[l]);else{r.push(null);const u=s.get(a)||[];u.push(l),s.set(a,u)}}),i.size&&s.size&&i.forEach(a=>{if(s.has(a._value)){const l=s.get(a._value),u=l.shift();r[u]=a,i.delete(a),l.length||s.delete(a._value)}});const o=[];for(s.forEach(a=>{o.push(...a)});i.size&&o.length;){const a=i.values().next().value,l=o.shift();if(l===void 0)break;r[l]=a,i.delete(a)}o.forEach((a,l)=>{r[a]=j0e({value:l})}),i.size&&i.forEach(a=>{if(!("__FKP"in a)){const l=a._c.parent;if(!l||jO(l))return;l.ledger.unmerge(a),a._c.parent=null,a.destroy()}}),t.children=r}function d0e(e,t){var n;return t._d<=0&&(t.isSettled=!1,e.emit("settled",!1,!1),t.settled=new Promise(r=>{t._resolve=r}),e.parent&&((n=e.parent)==null||n.disturb())),t._d++,e}function f0e(e,t,n){var r;if(n!==void 0&&e.type!=="input"){jz(t,n);const i=!!(e.config.mergeStrategy&&e.config.mergeStrategy[n.name]);return Rb(e,t,!0,i)}t._d>0&&t._d--,t._d===0&&(t.isSettled=!0,e.emit("settled",!0,!1),e.parent&&((r=e.parent)==null||r.calm({name:e.name,value:t.value})),t._resolve&&t._resolve(t.value))}function p0e(e,t){e.emit("destroying",e),e.store.filter(()=>!1),e.parent&&e.parent.remove(e),Q_e(e),e.emit("destroyed",e),t._e.flush(),t._value=t.value=void 0;for(const n in t.context)delete t.context[n];t.plugins.clear(),t.context=null}function h0e(e,t,n){t.type=n.type;const r=mu(n);e.props.__propDefs=Hz(e.props.__propDefs??[],(r==null?void 0:r.props)||[]),r.props=e.props.__propDefs,t.props.definition=r,t.value=t._value=Uz({type:e.type,value:t.value}),n.forceTypeProp&&(e.props.type&&(e.props.originalType=e.props.type),t.props.type=n.forceTypeProp),n.family&&(t.props.family=n.family),n.features&&n.features.forEach(i=>i(e)),n.props&&e.addProps(n.props),e.emit("defined",n)}function g0e(e,t,n){const r=Array.isArray(n)?n:Object.keys(n),i=Array.isArray(n)?{}:r.reduce((o,a)=>("default"in n[a]&&(o[a]=n[a].default),o),{});if(e.props.attrs){const o={...e.props.attrs};e.props._emit=!1;for(const l in o){const u=$f(l);r.includes(u)&&(e.props[u]=o[l],delete o[l])}Array.isArray(n)||r.forEach(l=>{"default"in n[l]&&e.props[l]===void 0&&(e.props[l]=i[l])});const a=Os(t._value);e.props.initial=e.type!=="input"?rp(a):a,e.props._emit=!0,e.props.attrs=o}const s=Hz(e.props.__propDefs??[],n);return e.props.definition&&(e.props.definition.props=s),e.props.__propDefs=s,e.emit("added-props",n),e}function ek(e){return Array.isArray(e)?e.reduce((t,n)=>(t[n]={},t),{}):e}function Hz(e,t){return Array.isArray(e)&&Array.isArray(t)?e.concat(t):Ga(ek(e),ek(t))}function m0e(e,t,n,r){if(e.type==="input"&&Qi(100,e),n.parent&&n.parent!==e&&n.parent.remove(n),!t.children.includes(n)){if(r!==void 0&&e.type==="list"){const i=t.children[r];i&&"__FKP"in i?(n._c.uid=i.uid,t.children.splice(r,1,n)):t.children.splice(r,0,n),Array.isArray(e.value)&&e.value.length<t.children.length&&e.disturb().calm({name:r,value:n.value,from:Fz})}else t.children.push(n);n.isSettled||e.disturb()}if(n.parent!==e){if(n.parent=e,n.parent!==e)return e.remove(n),n.parent.add(n),e}else n.use(e.plugins);return Rb(e,t,!1),e.ledger.merge(n),e.emit("child",n),e}function v0e(e,t,n,r){return Fv(r)?(e.parent&&e.parent!==r&&e.parent.remove(e),t.parent=r,e.resetConfig(),r.children.includes(e)?e.use(r.plugins):r.add(e),!0):r===null?(t.parent=null,!0):!1}function y0e(e,t,n){const r=t.children.indexOf(n);if(r!==-1){n.isSettled&&e.disturb(),t.children.splice(r,1);let i=Ue(n.props.preserve),s=n.parent;for(;i===void 0&&s;)i=Ue(s.props.preserve),s=s.parent;i?e.calm():e.calm({name:e.type==="list"?r:n.name,value:JT}),n.parent=null,n.config._rmn=n}return e.ledger.unmerge(n),e.emit("childRemoved",n),e}function _0e(e,t,n){t.children.forEach(r=>!("__FKP"in r)&&n(r))}function b0e(e,t,n,r=!1,i=!1){t.children.some(s=>{if("__FKP"in s)return!1;const o=n(s);return r&&o===!1?!0:i&&o===!1?!1:s.walk(n,r,i)})}function w0e(e,t){const n=e.parent||void 0;t.config=Wz(e.config._t,n),e.walk(r=>r.resetConfig())}function VO(e,t,n,r=!0,i=!0){return Array.isArray(n)||n instanceof Set?(n.forEach(s=>VO(e,t,s)),e):(t.plugins.has(n)||(i&&typeof n.library=="function"&&n.library(e),r&&n(e)!==!1&&(t.plugins.add(n),e.children.forEach(s=>s.use(n)))),e)}function x0e(e,t,n,r){if(Fv(e.parent)){const i=e.parent.children,s=r>=i.length?i.length-1:r<0?0:r,o=i.indexOf(e);return o===-1?!1:(i.splice(o,1),i.splice(s,0,e),e.parent.children=i,e.parent.type==="list"&&e.parent.disturb().calm({name:s,value:ZT,from:o}),!0)}return!1}function E0e(e){if(e.parent){const t=[...e.parent.children].indexOf(e);return t===-1?e.parent.children.length:t}return-1}function S0e(e,t){return t}function $0e(e,t){var n;return((n=e.parent)==null?void 0:n.type)==="list"?e.index:t.name!==Lz?t.name:e.index}function T0e(e,t){return t.parent?t.parent.address.concat([e.name]):[e.name]}function k0e(e,t,n){const r=typeof n=="string"?n.split(e.config.delimiter):n;if(!r.length)return;const i=r[0];let s=e.parent;for(s||(String(r[0])===String(e.name)&&r.shift(),s=e),i==="$parent"&&r.shift();s&&r.length;){const o=r.shift();switch(o){case"$root":s=e.root;break;case"$parent":s=s.parent;break;case"$self":s=e;break;default:s=s.children.find(a=>!("__FKP"in a)&&String(a.name)===String(o))||I0e(s,o)}}return s||void 0}function I0e(e,t){const n=String(t).match(/^(find)\((.*)\)$/);if(n){const[,r,i]=n,s=i.split(",").map(o=>o.trim());switch(r){case"find":return e.find(s[0],s[1]);default:return}}}function C0e(e,t,n,r){return A0e(e,n,r)}function A0e(e,t,n="name"){const r=typeof n=="string"?s=>s[n]==t:n,i=[e];for(;i.length;){const s=i.shift();if(!("__FKP"in s)){if(r(s,t))return s;i.push(...s.children)}}}function O0e(e){let t=e;for(;t.parent;)t=t.parent;return t}function Wz(e={},t){let n;return new Proxy(e,{get(...r){const i=r[1];if(i==="_t")return e;const s=Reflect.get(...r);if(s!==void 0)return s;if(t){const o=t.config[i];if(o!==void 0)return o}if(e.rootConfig&&typeof i=="string"){const o=e.rootConfig[i];if(o!==void 0)return o}return i==="delay"&&(n==null?void 0:n.type)==="input"?20:t0e[i]},set(...r){const i=r[1],s=r[2];if(i==="_n")return n=s,e.rootConfig&&e.rootConfig._add(n),!0;if(i==="_rmn")return e.rootConfig&&e.rootConfig._rm(n),n=void 0,!0;if(!at(e[i],s,!1)){const o=Reflect.set(...r);return n&&(n.emit(`config:${i}`,s,!1),QT(n,i,s),n.walk(a=>QT(a,i,s),!1,!0)),o}return!0}})}function R0e(e,t,n,r="ui"){const i=typeof n=="string"?{key:n,value:n,type:r}:n,s=e.hook.text.dispatch(i);return e.emit("text",s,!1),s.value}function P0e(e){const t=e.name;do{if(e.props.isForm===!0)break;e.parent||Qi(106,t),e=e.parent}while(e);e.props.id&&Dz(e.props.id,e.props.__root)}function M0e(e,t,n){return Nz(e,n)}function D0e(e,t,n,r){const i=`${e.name}-set`,s=e.hook.setErrors.dispatch({localErrors:n,childErrors:r});return W_e(e,s.localErrors,s.childErrors).forEach(o=>{e.store.apply(o,a=>a.meta.source===i)}),e}function N0e(e,t,n=!0,r){return e.store.filter(i=>!(r===void 0||i.meta.source===r),"error"),n&&(r=r||`${e.name}-set`,e.walk(i=>{i.store.filter(s=>!(s.type==="error"&&s.meta&&s.meta.source===r))})),e}function L0e(e){const t={initial:typeof e=="object"?Os(e):e};let n,r=!0,i={};return new Proxy(t,{get(...s){var c,d,f,p;const[o,a]=s;let l;lt(t,a)?(l=Reflect.get(...s),(c=i[a])!=null&&c.boolean&&(l=P_e(l))):n&&typeof a=="string"&&n.config[a]!==void 0?(l=n.config[a],a==="mergeStrategy"&&(n==null?void 0:n.type)==="input"&&Wc(l)&&n.name in l&&(l=l[n.name])):l=(d=i[a])==null?void 0:d.default;const u=(f=i[a])==null?void 0:f.getter;return(p=i[a])!=null&&p.boolean&&(l=!!l),u?u(l,n):l},set(s,o,a,l){var f;if(o==="_n")return n=a,!0;if(o==="_emit")return r=a,!0;let{prop:u,value:c}=n.hook.prop.dispatch({prop:o,value:a});const d=(f=i[u])==null?void 0:f.setter;if(c=d?d(c,n):c,!at(t[u],c,!1)||typeof c=="object"){const p=Reflect.set(s,u,c,l);return u==="__propDefs"&&(i=ek(c)),r&&(n.emit("prop",{prop:u,value:c}),typeof u=="string"&&n.emit(`prop:${u}`,c)),p}return!0}})}function F0e(e,t,n,r){return t.traps.set(n,r),e}function B0e(e,t){if(e.props.definition)return e.define(e.props.definition);for(const n of t){if(e.props.definition)return;typeof n.library=="function"&&n.library(e)}}function U0e(e){const t=Uz(e),n=Wz(e.config||{},e.parent);return{_d:0,_e:Oz(),uid:Symbol(),_resolve:!1,_tmo:!1,_value:t,children:E_e(e.children||[]),config:n,hook:s0e(),isCreated:!1,isSettled:!0,ledger:K_e(),name:a0e(e),parent:e.parent||null,plugins:new Set,props:L0e(t),settled:Promise.resolve(t),store:F_e(!0),sync:e.sync||!1,traps:i0e(),type:e.type||"input",value:t}}function V0e(e,t){var r,i;const n=(r=t.props)==null?void 0:r.id;if(n||(i=t.props)==null||delete i.id,e.ledger.init(e.store._n=e.props._n=e.config._n=e),e.props._emit=!1,Object.assign(e.props,n?{}:{id:`input_${o0e++}`},t.props??{}),e.props._emit=!0,B0e(e,new Set([...t.plugins||[],...e.parent?e.parent.plugins:[]])),t.plugins)for(const s of t.plugins)VO(e,e._c,s,!0,!1);return e.each(s=>e.add(s)),e.parent&&e.parent.add(e,t.index),e.type==="input"&&e.children.length&&Qi(100,e),Vz(e,e._c,e._value,!1),e.store.release(),n&&X_e(e),e.emit("created",e),e.isCreated=!0,e}function j0e(e){return{__FKP:!0,uid:Symbol(),name:(e==null?void 0:e.name)??`p_${Bz++}`,value:(e==null?void 0:e.value)??null,_value:(e==null?void 0:e.value)??null,type:(e==null?void 0:e.type)??"input",props:{},use:()=>{},input(t){return this._value=t,this.value=t,Promise.resolve()},isSettled:!0}}function jO(e){return"__FKP"in e}function H0e(e){const t=e||{},n=U0e(t),r=new Proxy(n,{get(...i){const[,s]=i;if(s==="__FKNode__")return!0;const o=n.traps.get(s);return o&&o.get?o.get(r,n):Reflect.get(...i)},set(...i){const[,s,o]=i,a=n.traps.get(s);return a&&a.set?a.set(r,n,s,o):Reflect.set(...i)}});return V0e(r,t)}function qc(e){return typeof e!="string"&&lt(e,"$el")}function ip(e){return typeof e!="string"&&lt(e,"$cmp")}function _a(e){return!e||typeof e=="string"?!1:lt(e,"if")&&lt(e,"then")}function W0e(e){return typeof e!="string"&&"$formkit"in e}function q0e(e){if(typeof e=="string")return{$el:"text",children:e};if(W0e(e)){const{$formkit:t,for:n,if:r,children:i,bind:s,...o}=e;return Object.assign({$cmp:"FormKit",props:{...o,type:t}},r?{if:r}:{},n?{for:n}:{},i?{children:i}:{},s?{bind:s}:{})}return e}function Gs(e){let t;const n=new Set,r=function(m,v){return typeof m=="function"?m(v):m},i=[{"&&":(h,m,v)=>r(h,v)&&r(m,v),"||":(h,m,v)=>r(h,v)||r(m,v)},{"===":(h,m,v)=>r(h,v)===r(m,v),"!==":(h,m,v)=>r(h,v)!==r(m,v),"==":(h,m,v)=>r(h,v)==r(m,v),"!=":(h,m,v)=>r(h,v)!=r(m,v),">=":(h,m,v)=>r(h,v)>=r(m,v),"<=":(h,m,v)=>r(h,v)<=r(m,v),">":(h,m,v)=>r(h,v)>r(m,v),"<":(h,m,v)=>r(h,v)<r(m,v)},{"+":(h,m,v)=>r(h,v)+r(m,v),"-":(h,m,v)=>r(h,v)-r(m,v)},{"*":(h,m,v)=>r(h,v)*r(m,v),"/":(h,m,v)=>r(h,v)/r(m,v),"%":(h,m,v)=>r(h,v)%r(m,v)}],s=i.reduce((h,m)=>h.concat(Object.keys(m)),[]),o=new Set(s.map(h=>h.charAt(0)));function a(h,m,v,y){const _=h.filter(b=>b.startsWith(m));return _.length?_.find(b=>y.length>=v+b.length&&y.substring(v,v+b.length)===b?b:!1):!1}function l(h,m,v=1){let y=v?m.substring(h+1).trim():m.substring(0,h).trim();if(!y.length)return-1;if(!v){const b=y.split("").reverse(),x=b.findIndex(w=>o.has(w));y=b.slice(x).join("")}const _=y[0];return i.findIndex(b=>{const x=Object.keys(b);return!!a(x,_,0,y)})}function u(h,m){let v="";const y=m.length;let _=0;for(let b=h;b<y;b++){const x=m.charAt(b);if(x==="(")_++;else if(x===")")_--;else if(_===0&&x===" ")continue;if(_===0&&a(s,x,b,m))return[v,b-1];v+=x}return[v,m.length-1]}function c(h,m=0){const v=i[m],y=h.length,_=Object.keys(v);let b=0,x=!1,w=null,$="",E=null,S,T="",P="",C="",B="",V=0;const ce=(X,le)=>{X?C+=le:$+=le};for(let X=0;X<y;X++)if(T=P,P=h.charAt(X),(P==="'"||P==='"')&&T!=="\\"&&(b===0&&!x||b&&!B)){b?B=P:x=P,ce(b,P);continue}else if(x&&(P!==x||T==="\\")||B&&(P!==B||T==="\\")){ce(b,P);continue}else if(x===P){x=!1,ce(b,P);continue}else if(B===P){B=!1,ce(b,P);continue}else{if(P===" ")continue;if(P==="(")b===0?V=X:C+=P,b++;else if(P===")")if(b--,b===0){const le=typeof $=="string"&&$.startsWith("$")?$:void 0,me=le&&h.charAt(X+1)===".";let Ie="";me&&([Ie,X]=u(X+2,h));const Tt=w?m:l(V,h,0),Re=l(X,h);Tt===-1&&Re===-1?($=d(C,-1,le,Ie),typeof $=="string"&&($=C)):w&&(Tt>=Re||Re===-1)&&m===Tt?(E=w.bind(null,d(C,-1,le,Ie)),w=null,$=""):Re>Tt&&m===Re?$=d(C,-1,le,Ie):$+=`(${C})${me?`.${Ie}`:""}`,C=""}else C+=P;else if(b===0&&(S=a(_,P,X,h))){X===0&&Qi(103,[S,h]),X+=S.length-1,X===h.length-1&&Qi(104,[S,h]),w?$&&(E=w.bind(null,d($,m)),w=v[S].bind(null,E),$=""):E?(w=v[S].bind(null,d(E,m)),E=null):(w=v[S].bind(null,d($,m)),$="");continue}else ce(b,P)}return $&&w&&(w=w.bind(null,d($,m))),w=!w&&E?E:w,!w&&$&&(w=(X,le)=>typeof X=="function"?X(le):X,w=w.bind(null,d($,m))),!w&&!$&&Qi(105,h),w}function d(h,m,v,y){if(v){const _=d(v,i.length);let b,x=y?Gs(`$${y}`):!1;if(typeof _=="function"){const w=C_e(String(h)).map($=>d($,-1));return $=>{const E=_($);return typeof E!="function"?(Mu(150,v),E):(b=E(...w.map(S=>typeof S=="function"?S($):S)),x&&(x=x.provide(S=>{const T=t(S);return S.reduce((C,B)=>{if(B===y||(y==null?void 0:y.startsWith(`${B}(`))){const ce=A_e(b,B);C[B]=()=>ce}else C[B]=T[B];return C},{})})),x?x():b)}}}else if(typeof h=="string"){if(h==="true")return!0;if(h==="false")return!1;if(h==="undefined")return;if(k_e(h))return I_e(h.substring(1,h.length-1));if(!isNaN(+h))return Number(h);if(m<i.length-1)return c(h,m+1);if(h.startsWith("$")){const _=h.substring(1);return n.add(_),function(x){return _ in x?x[_]():void 0}}return h}return h}const f=c(e.startsWith("$:")?e.substring(2):e),p=Array.from(n);function g(h){return t=h,Object.assign(f.bind(null,h(p)),{provide:g})}return Object.assign(f,{provide:g})}function G_(e,t,n){return n?typeof n=="string"?n.split(" ").reduce((i,s)=>Object.assign(i,{[s]:!0}),{}):typeof n=="function"?G_(e,t,n(t,e)):n:{}}function z0e(e,t,...n){const r=n.reduce((i,s)=>{if(!s)return iS(i);const{$reset:o,...a}=s;return iS(o?a:Object.assign(i,a))},{});return Object.keys(e.hook.classes.dispatch({property:t,classes:r}).classes).filter(i=>r[i]).join(" ")||null}function iS(e){const t="$remove:";let n=!1;const r=Object.keys(e).filter(i=>(e[i]&&i.startsWith(t)&&(n=!0),e[i]));return r.length>1&&n&&r.filter(s=>s.startsWith(t)).map(s=>{const o=s.substring(t.length);e[o]=!1,e[s]=!1}),e}function K0e(e,t,n){const r=Lv(e);r?r.setErrors(t,n):Mu(651,e)}function G0e(e,t=!0){const n=Lv(e);n?n.clearErrors(t):Mu(652,e)}var Pb="1.6.7",qz=new WeakSet;function Q1(e,t){const n=t||Object.assign(new Map,{active:!1}),r=new Map,i=function(c){var d;n.active&&(n.has(e)||n.set(e,new Set),(d=n.get(e))==null||d.add(c))},s=function(c){return new Proxy(c,{get(...d){return typeof d[1]=="string"&&i(`prop:${d[1]}`),Reflect.get(...d)}})},o=function(c){return new Proxy(c,{get(...d){return d[1]==="value"?f=>(i(`count:${f}`),c.value(f)):Reflect.get(...d)}})},a=function(c,d){return Fv(c)?Q1(c,n):(d==="value"&&i("commit"),d==="_value"&&i("input"),d==="props"?s(c):d==="ledger"?o(c):(d==="children"&&(i("child"),i("childRemoved")),c))},{proxy:l,revoke:u}=Proxy.revocable(e,{get(...c){switch(c[1]){case"_node":return e;case"deps":return n;case"watch":return(f,p,g)=>Gz(l,f,p,g);case"observe":return()=>{const f=new Map(n);return n.clear(),n.active=!0,f};case"stopObserve":return()=>{const f=new Map(n);return n.active=!1,f};case"receipts":return r;case"kill":return()=>{Kz(r),qz.add(c[2]),u()}}const d=Reflect.get(...c);return typeof d=="function"?(...f)=>{const p=d(...f);return a(p,c[1])}:a(d,c[1])}});return l}function zz(e,[t,n],r,i){t.forEach((s,o)=>{s.forEach(a=>{e.receipts.has(o)||e.receipts.set(o,{});const l=e.receipts.get(o)??{};l[a]=l[a]??[],l[a].push(o.on(a,r,i)),e.receipts.set(o,l)})}),n.forEach((s,o)=>{s.forEach(a=>{if(e.receipts.has(o)){const l=e.receipts.get(o);l&&lt(l,a)&&(l[a].map(o.off),delete l[a],e.receipts.set(o,l))}})})}function Kz(e){e.forEach((t,n)=>{for(const r in t)t[r].map(n.off)}),e.clear()}function Gz(e,t,n,r){const i=a=>{const l=e.stopObserve();zz(e,Yz(s,l),()=>Gz(e,t,n,r),r),n&&n(a)},s=new Map(e.deps);e.observe();const o=t(e);o instanceof Promise?o.then(a=>i(a)):i(o)}function Yz(e,t){const n=new Map,r=new Map;return t.forEach((i,s)=>{if(!e.has(s))n.set(s,i);else{const o=new Set,a=e.get(s);i.forEach(l=>!(a!=null&&a.has(l))&&o.add(l)),n.set(s,o)}}),e.forEach((i,s)=>{if(!t.has(s))r.set(s,i);else{const o=new Set,a=t.get(s);i.forEach(l=>!(a!=null&&a.has(l))&&o.add(l)),r.set(s,o)}}),[n,r]}function HO(e){return qz.has(e)}var Xz=function({value:t}){return["yes","on","1",1,!0,"true"].includes(t)};Xz.skipEmpty=!1;var Y0e=Xz,X0e=function({value:e},t=!1){const n=Date.parse(t||new Date),r=Date.parse(String(e));return isNaN(r)?!1:r>n},Q0e=X0e,J0e=function({value:e},t=!1){const n=Date.parse(t||new Date),r=Date.parse(String(e));return isNaN(r)?!1:r>n||r===n},Z0e=J0e,ebe=function(e,t){var i;if(!t)return!1;const n=Date.parse(String(e.value)),r=Date.parse(String((i=e.at(t))==null?void 0:i.value));return isNaN(r)?!0:isNaN(n)?!1:n>r},tbe=ebe,nbe=function({value:e},t="default"){const n={default:/^\p{L}+$/u,latin:/^[a-z]+$/i},r=lt(n,t)?t:"default";return n[r].test(String(e))},rbe=nbe,ibe=function({value:e},t="default"){const n={default:/^[\p{L} ]+$/u,latin:/^[a-z ]+$/i},r=lt(n,t)?t:"default";return n[r].test(String(e))},sbe=ibe,obe=function({value:e},t="default"){const n={default:/^[0-9\p{L}]+$/u,latin:/^[0-9a-z]+$/i},r=lt(n,t)?t:"default";return n[r].test(String(e))},abe=obe,lbe=function({value:e},t=!1){const n=Date.parse(t||new Date),r=Date.parse(String(e));return isNaN(r)?!1:r<n},ube=lbe,cbe=function(e,t){var i;if(!t)return!1;const n=Date.parse(String(e.value)),r=Date.parse(String((i=e.at(t))==null?void 0:i.value));return isNaN(r)?!0:isNaN(n)?!1:n<r},dbe=cbe,fbe=function({value:e},t=!1){const n=Date.parse(t||new Date),r=Date.parse(String(e));return isNaN(r)?!1:r<n||r===n},pbe=fbe,hbe=function({value:t},n,r){if(!isNaN(t)&&!isNaN(n)&&!isNaN(r)){const i=1*t;n=Number(n),r=Number(r);const[s,o]=n<=r?[n,r]:[r,n];return i>=1*s&&i<=1*o}return!1},gbe=hbe,g2=/(_confirm(?:ed)?)$/,mbe=function(t,n,r="loose"){var s;n||(n=g2.test(t.name)?t.name.replace(g2,""):`${t.name}_confirm`);const i=(s=t.at(n))==null?void 0:s.value;return r==="strict"?t.value===i:t.value==i},vbe=mbe,ybe=function({value:e},t="default"){const n={default:/\p{L}/u,latin:/[a-z]/i},r=lt(n,t)?t:"default";return n[r].test(String(e))},_be=ybe,bbe=function({value:e},t="default"){const n={default:/[\p{L} ]/u,latin:/[a-z ]/i},r=lt(n,t)?t:"default";return n[r].test(String(e))},wbe=bbe,xbe=function({value:e},t="default"){const n={default:/[0-9\p{L}]/u,latin:/[0-9a-z]/i},r=lt(n,t)?t:"default";return n[r].test(String(e))},Ebe=xbe,Sbe=function({value:e},t="default"){const n={default:/\p{Ll}/u,latin:/[a-z]/},r=lt(n,t)?t:"default";return n[r].test(String(e))},$be=Sbe,Tbe=function({value:t}){return/[0-9]/.test(String(t))},kbe=Tbe,Ibe=function({value:e}){return/[!-/:-@[-`{-~]/.test(String(e))},Cbe=Ibe,Abe=function({value:e},t="default"){const n={default:/\p{Lu}/u,latin:/[A-Z]/},r=lt(n,t)?t:"default";return n[r].test(String(e))},Obe=Abe,Rbe=function({value:t},n,r){n=n instanceof Date?n.getTime():Date.parse(n),r=r instanceof Date?r.getTime():Date.parse(r);const i=t instanceof Date?t.getTime():Date.parse(String(t));if(n&&!r)r=n,n=Date.now();else if(!n||!i)return!1;return i>=n&&i<=r},Pbe=Rbe,Mbe=function({value:t},n){return n&&typeof n=="string"?T_e(n).test(String(t)):!isNaN(Date.parse(String(t)))},Dbe=Mbe,Nbe=function({value:t}){return/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(String(t))},Lbe=Nbe,Fbe=function({value:t},...n){return typeof t=="string"&&n.length?n.some(r=>t.endsWith(r)):typeof t=="string"&&n.length===0},Bbe=Fbe,Ube=function({value:t},...n){return n.some(r=>typeof r=="object"?at(r,t):r==t)},Vbe=Ube,jbe=function({value:t},n=0,r=1/0){n=parseInt(n),r=isNaN(parseInt(r))?1/0:parseInt(r);const i=n<=r?n:r,s=r>=n?r:n;if(typeof t=="string"||Array.isArray(t))return t.length>=i&&t.length<=s;if(t&&typeof t=="object"){const o=Object.keys(t).length;return o>=i&&o<=s}return!1},Hbe=jbe,Wbe=function({value:e},t="default"){const n={default:/^\p{Ll}+$/u,allow_non_alpha:/^[0-9\p{Ll}!-/:-@[-`{-~]+$/u,allow_numeric:/^[0-9\p{Ll}]+$/u,allow_numeric_dashes:/^[0-9\p{Ll}-]+$/u,latin:/^[a-z]+$/},r=lt(n,t)?t:"default";return n[r].test(String(e))},qbe=Wbe,zbe=function({value:t},...n){return n.some(r=>(typeof r=="string"&&r.substr(0,1)==="/"&&r.substr(-1)==="/"&&(r=new RegExp(r.substr(1,r.length-2))),r instanceof RegExp?r.test(String(t)):r===t))},Kbe=zbe,Gbe=function({value:t},n=10){return Array.isArray(t)?t.length<=n:Number(t)<=Number(n)},Ybe=Gbe,Xbe=function({value:t},n=1){return Array.isArray(t)?t.length>=n:Number(t)>=Number(n)},Qbe=Xbe,Jbe=function({value:t},...n){return!n.some(r=>typeof r=="object"?at(r,t):r===t)},Zbe=Jbe,ewe=function({value:t}){return!isNaN(t)},twe=ewe,Qz=function(e,...t){return Ds(e.value)?t.map(r=>{var i;return(i=e.at(r))==null?void 0:i.value}).some(r=>!Ds(r)):!0};Qz.skipEmpty=!1;var nwe=Qz,Jz=function({value:t},n="default"){return n==="trim"&&typeof t=="string"?!Ds(t.trim()):!Ds(t)};Jz.skipEmpty=!1;var rwe=Jz,iwe=function({value:t},...n){return typeof t=="string"&&n.length?n.some(r=>t.startsWith(r)):typeof t=="string"&&n.length===0},swe=iwe,owe=function({value:e}){return/^[!-/:-@[-`{-~]+$/.test(String(e))},awe=owe,lwe=function({value:e},t="default"){const n={default:/^\p{Lu}+$/u,latin:/^[A-Z]+$/},r=lt(n,t)?t:"default";return n[r].test(String(e))},uwe=lwe,cwe=function({value:t},...n){try{const r=n.length?n:["http:","https:"],i=new URL(String(t));return r.includes(i.protocol)}catch{return!1}},dwe=cwe;const fwe=Object.freeze(Object.defineProperty({__proto__:null,accepted:Y0e,alpha:rbe,alpha_spaces:sbe,alphanumeric:abe,between:gbe,confirm:vbe,contains_alpha:_be,contains_alpha_spaces:wbe,contains_alphanumeric:Ebe,contains_lowercase:$be,contains_numeric:kbe,contains_symbol:Cbe,contains_uppercase:Obe,date_after:Q0e,date_after_node:tbe,date_after_or_equal:Z0e,date_before:ube,date_before_node:dbe,date_before_or_equal:pbe,date_between:Pbe,date_format:Dbe,email:Lbe,ends_with:Bbe,is:Vbe,length:Hbe,lowercase:qbe,matches:Kbe,max:Ybe,min:Qbe,not:Zbe,number:twe,require_one:nwe,required:rwe,starts_with:swe,symbol:awe,uppercase:uwe,url:dwe},Symbol.toStringTag,{value:"Module"}));var tk=pr({type:"state",blocking:!0,visible:!1,value:!0,key:"validating"});function pwe(e={}){return function(n){let r=Os(n.props.validationRules||{}),i={...e,...r};const s={input:Np(),rerun:null,isPassing:!0};let o=Os(n.props.validation);n.on("prop:validation",({payload:l})=>a(l,r)),n.on("prop:validationRules",({payload:l})=>a(o,l));function a(l,u){var c;at(Object.keys(r||{}),Object.keys(u||{}))&&at(o,l)||(r=Os(u),o=Os(l),i={...e,...r},(c=n.props.parsedRules)==null||c.forEach(d=>{Zz(d),Kz(d.observer.receipts),d.observer.kill()}),n.store.filter(()=>!1,"validation"),n.props.parsedRules=v2(l,i,n),s.isPassing=!0,nk(n,n.props.parsedRules,s))}n.props.parsedRules=v2(o,i,n),nk(n,n.props.parsedRules,s)}}function nk(e,t,n){HO(e)||(n.input=Np(),e.store.set(pr({key:"failing",value:!n.isPassing,visible:!1})),n.isPassing=!0,e.store.filter(r=>!r.meta.removeImmediately,"validation"),t.forEach(r=>r.debounce&&clearTimeout(r.timer)),t.length&&(e.store.set(tk),rk(0,t,n,!1,()=>{e.store.remove(tk.key),e.store.set(pr({key:"failing",value:!n.isPassing,visible:!1}))})))}function rk(e,t,n,r,i){const s=t[e];if(!s)return i();const o=s.observer;if(HO(o))return;const a=n.input;s.state=null;function l(u,c){if(n.input!==a)return;n.isPassing=n.isPassing&&!!c,s.queued=!1;const d=o.stopObserve(),f=Yz(s.deps,d);if(zz(o,f,function(){try{o.store.set(tk)}catch{}s.queued=!0,n.rerun&&clearTimeout(n.rerun),n.rerun=setTimeout(nk,0,o,t,n)},"unshift"),s.deps=d,s.state=c,c===!1?gwe(s,r||u):Zz(s),t.length>e+1){const p=t[e+1];(c||p.force||!p.skipEmpty)&&p.state===null&&(p.queued=!0),rk(e+1,t,n,r||u,i)}else i()}(!Ds(o.value)||!s.skipEmpty)&&(n.isPassing||s.force)?s.queued?hwe(s,o,u=>{u instanceof Promise?u.then(c=>l(!0,c)):l(!1,u)}):rk(e+1,t,n,r,i):Ds(o.value)&&s.skipEmpty&&n.isPassing?(o.observe(),o.value,l(!1,n.isPassing)):l(!1,null)}function hwe(e,t,n){e.debounce?e.timer=setTimeout(()=>{t.observe(),n(e.rule(t,...e.args))},e.debounce):(t.observe(),n(e.rule(t,...e.args)))}function Zz(e){const t=`rule_${e.name}`;e.messageObserver&&(e.messageObserver=e.messageObserver.kill()),lt(e.observer.store,t)&&e.observer.store.remove(t)}function gwe(e,t){const n=e.observer;HO(n)||(e.messageObserver||(e.messageObserver=Q1(n._node)),e.messageObserver.watch(r=>vwe(r,e),r=>{const i=mwe(n,e,r),s=pr({blocking:e.blocking,key:`rule_${e.name}`,meta:{messageKey:e.name,removeImmediately:t,localize:!i,i18nArgs:r},type:"validation",value:i||"This field is not valid."});n.store.set(s)}))}function mwe(e,t,n){const r=e.props.validationMessages&&lt(e.props.validationMessages,t.name)?e.props.validationMessages[t.name]:void 0;return typeof r=="function"?r(...n):r}function vwe(e,t){return[{node:e,name:e8(e),args:t.args}]}function e8(e){return typeof e.props.validationLabel=="function"?e.props.validationLabel(e):e.props.validationLabel||e.props.label||e.props.name||String(e.name)}var t8="(?:[\\*+?()0-9]+)",n8="[a-zA-Z][a-zA-Z0-9_]+",ywe=new RegExp(`^(${t8}?${n8})(?:\\:(.*)+)?$`,"i"),_we=new RegExp(`^(${t8})(${n8})$`,"i"),bwe=/([\*+?]+)?(\(\d+\))([\*+?]+)?/,m2=/\(\d+\)/,wwe={blocking:!0,debounce:0,force:!1,skipEmpty:!0,name:""};function v2(e,t,n){return e?(typeof e=="string"?xwe(e):mu(e)).reduce((i,s)=>{let o=s.shift();const a={};if(typeof o=="string"){const[l,u]=Swe(o);lt(t,l)&&(o=t[l],Object.assign(a,u))}return typeof o=="function"&&i.push({observer:Q1(n),rule:o,args:s,timer:0,state:null,queued:!0,deps:new Map,...wwe,...$we(a,o)}),i},[]):[]}function xwe(e){return e.split("|").reduce((t,n)=>{const r=Ewe(n);return r&&t.push(r),t},[])}function Ewe(e){const t=e.trim();if(t){const n=t.match(ywe);if(n&&typeof n[1]=="string"){const r=n[1].trim(),i=n[2]&&typeof n[2]=="string"?n[2].split(",").map(s=>s.trim()):[];return[r,...i]}}return!1}function Swe(e){const t=e.match(_we);if(!t)return[e,{name:e}];const n={"*":{force:!0},"+":{skipEmpty:!1},"?":{blocking:!1}},[,r,i]=t,s=m2.test(r)?r.match(bwe)||[]:[,r];return[i,[s[1],s[2],s[3]].reduce((o,a)=>(a&&(m2.test(a)?o.debounce=parseInt(a.substr(1,a.length-1)):a.split("").forEach(l=>lt(n,l)&&Object.assign(o,n[l]))),o),{name:i})]}function $we(e,t){return e.name||(e.name=t.ruleName||t.name),["skipEmpty","force","debounce","blocking"].reduce((n,r)=>(lt(t,r)&&!lt(n,r)&&Object.assign(n,{[r]:t[r]}),n),e)}function Pt(e){return e[0].toUpperCase()+e.substr(1)}function y2(e,t="or"){return e.reduce((n,r,i)=>(n+=r,i<=e.length-2&&e.length>2&&(n+=", "),i===e.length-2&&(n+=`${e.length===2?" ":""}${t} `),n),"")}function qy(e){const t=typeof e=="string"?new Date(Date.parse(e)):e;return t instanceof Date?new Intl.DateTimeFormat(void 0,{dateStyle:"medium",timeZone:"UTC"}).format(t):"(unknown)"}function Twe(e,t){return Number(e)>=Number(t)?[t,e]:[e,t]}var kwe={add:"Add",remove:"Remove",removeAll:"Remove all",incomplete:"Sorry, not all fields are filled out correctly.",submit:"Submit",noFiles:"No file chosen",moveUp:"Move up",moveDown:"Move down",isLoading:"Loading...",loadMore:"Load more",next:"Next",prev:"Previous",addAllValues:"Add all values",addSelectedValues:"Add selected values",removeAllValues:"Remove all values",removeSelectedValues:"Remove selected values",chooseDate:"Choose date",changeDate:"Change date",summaryHeader:"There were errors in your form.",close:"Close",open:"Open"},Iwe={accepted({name:e}){return`Please accept the ${e}.`},date_after({name:e,args:t}){return Array.isArray(t)&&t.length?`${Pt(e)} must be after ${qy(t[0])}.`:`${Pt(e)} must be in the future.`},alpha({name:e}){return`${Pt(e)} can only contain alphabetical characters.`},alphanumeric({name:e}){return`${Pt(e)} can only contain letters and numbers.`},alpha_spaces({name:e}){return`${Pt(e)} can only contain letters and spaces.`},contains_alpha({name:e}){return`${Pt(e)} must contain alphabetical characters.`},contains_alphanumeric({name:e}){return`${Pt(e)} must contain letters or numbers.`},contains_alpha_spaces({name:e}){return`${Pt(e)} must contain letters or spaces.`},contains_symbol({name:e}){return`${Pt(e)} must contain a symbol.`},contains_uppercase({name:e}){return`${Pt(e)} must contain an uppercase letter.`},contains_lowercase({name:e}){return`${Pt(e)} must contain a lowercase letter.`},contains_numeric({name:e}){return`${Pt(e)} must contain numbers.`},symbol({name:e}){return`${Pt(e)} must be a symbol.`},uppercase({name:e}){return`${Pt(e)} can only contain uppercase letters.`},lowercase({name:e,args:t}){let n="";return Array.isArray(t)&&t.length&&(t[0]==="allow_non_alpha"&&(n=", numbers and symbols"),t[0]==="allow_numeric"&&(n=" and numbers"),t[0]==="allow_numeric_dashes"&&(n=", numbers and dashes")),`${Pt(e)} can only contain lowercase letters${n}.`},date_before({name:e,args:t}){return Array.isArray(t)&&t.length?`${Pt(e)} must be before ${qy(t[0])}.`:`${Pt(e)} must be in the past.`},between({name:e,args:t}){if(isNaN(t[0])||isNaN(t[1]))return"This field was configured incorrectly and can’t be submitted.";const[n,r]=Twe(t[0],t[1]);return`${Pt(e)} must be between ${n} and ${r}.`},confirm({name:e}){return`${Pt(e)} does not match.`},date_format({name:e,args:t}){return Array.isArray(t)&&t.length?`${Pt(e)} is not a valid date, please use the format ${t[0]}`:"This field was configured incorrectly and can’t be submitted"},date_between({name:e,args:t}){return`${Pt(e)} must be between ${qy(t[0])} and ${qy(t[1])}`},email:"Please enter a valid email address.",ends_with({name:e,args:t}){return`${Pt(e)} doesn’t end with ${y2(t)}.`},is({name:e}){return`${Pt(e)} is not an allowed value.`},length({name:e,args:[t=0,n=1/0]}){const r=Number(t)<=Number(n)?t:n,i=Number(n)>=Number(t)?n:t;return r==1&&i===1/0?`${Pt(e)} must be at least one character.`:r==0&&i?`${Pt(e)} must be less than or equal to ${i} characters.`:r===i?`${Pt(e)} should be ${i} characters long.`:r&&i===1/0?`${Pt(e)} must be greater than or equal to ${r} characters.`:`${Pt(e)} must be between ${r} and ${i} characters.`},matches({name:e}){return`${Pt(e)} is not an allowed value.`},max({name:e,node:{value:t},args:n}){return Array.isArray(t)?`Cannot have more than ${n[0]} ${e}.`:`${Pt(e)} must be no more than ${n[0]}.`},mime({name:e,args:t}){return t[0]?`${Pt(e)} must be of the type: ${t[0]}`:"No file formats allowed."},min({name:e,node:{value:t},args:n}){return Array.isArray(t)?`Cannot have fewer than ${n[0]} ${e}.`:`${Pt(e)} must be at least ${n[0]}.`},not({name:e,node:{value:t}}){return`“${t}” is not an allowed ${e}.`},number({name:e}){return`${Pt(e)} must be a number.`},require_one:({name:e,node:t,args:n})=>{const r=n.map(i=>{const s=t.at(i);return s?e8(s):!1}).filter(i=>!!i);return r.unshift(e),`${r.join(" or ")} is required.`},required({name:e}){return`${Pt(e)} is required.`},starts_with({name:e,args:t}){return`${Pt(e)} doesn’t start with ${y2(t)}.`},url(){return"Please enter a valid URL."},invalidDate:"The selected date is invalid."},Cwe={ui:kwe,validation:Iwe},_2=new Set;function Awe(e){return function(n){_2.add(n),n.on("destroying",()=>_2.delete(n));let r=b2(n.config.locale,e),i=r?e[r]:{};n.on("prop:locale",({payload:s})=>{r=b2(s,e),i=r?e[r]:{},n.store.touch()}),n.on("prop:label",()=>n.store.touch()),n.on("prop:validationLabel",()=>n.store.touch()),n.hook.text((s,o)=>{var l,u;const a=((l=s.meta)==null?void 0:l.messageKey)||s.key;if(lt(i,s.type)&&lt(i[s.type],a)){const c=i[s.type][a];typeof c=="function"?s.value=Array.isArray((u=s.meta)==null?void 0:u.i18nArgs)?c(...s.meta.i18nArgs):c(s):s.value=c}return o(s)})}}function b2(e,t){if(lt(t,e))return e;const[n]=e.split("-");if(lt(t,n))return n;for(const r in t)return r;return!1}function Owe(...e){const t=e.reduce((r,i)=>Ga(r,i),{}),n=()=>{};return n.library=function(r){const i=$f(r.props.type);lt(t,i)&&r.define(t[i])},n}var Rwe=["classes","config","delay","errors","id","index","inputErrors","library","modelValue","onUpdate:modelValue","name","number","parent","plugins","sectionsSchema","type","validation","validationLabel","validationMessages","validationRules","onInput","onInputRaw","onUpdate:modelValue","onNode","onSubmit","onSubmitInvalid","onSubmitRaw"];function J1(e){return e&&typeof e=="object"&&"group"in e&&Array.isArray(e.options)}function Mb(e,t={count:1}){return Array.isArray(e)?e.map(n=>{if(typeof n=="string"||typeof n=="number")return{label:String(n),value:String(n)};if(typeof n=="object"){if("group"in n)return n.options=Mb(n.options||[],t),n;"value"in n&&typeof n.value!="string"&&Object.assign(n,{value:`__mask_${t.count++}`,__original:n.value})}return n}):Object.keys(e).map(n=>({label:e[n],value:n}))}function zc(e,t,n=!1){if(Array.isArray(e)){for(const r of e)if(!(typeof r!="object"&&r)){if(J1(r)){const i=zc(r.options,t,!0);if(i!==void 0)return i}else if(t==r.value)return"__original"in r?r.__original:r.value}}return n?void 0:t}function sp(e,t){return e===null&&t===void 0||e===void 0&&t===null?!1:e==t?!0:np(e)&&np(t)?at(e,t):!1}function nl(e){e.hook.prop((t,n)=>{var r;return t.prop==="options"&&(typeof t.value=="function"?(e.props.optionsLoader=t.value,t.value=[]):((r=e.props)._normalizeCounter??(r._normalizeCounter={count:1}),t.value=Mb(t.value,e.props._normalizeCounter))),n(t)})}function We(e,t,n=!1){return(...r)=>{const i=s=>{const o=!t||typeof t=="string"?{$el:t}:t();return(qc(o)||ip(o))&&(o.meta?o.meta.section=e:o.meta={section:e},r.length&&!o.children&&(o.children=[...r.map(a=>typeof a=="function"?a(s):a)]),qc(o)&&(o.attrs={class:`$classes.${e}`,...o.attrs||{}})),{if:`$slots.${e}`,then:`$slots.${e}`,else:e in s?pc(o,s[e]):o}};return i._s=e,n?Pwe(i):i}}function Pwe(e){return t=>[e(t)]}function Im(e){return!!(e&&typeof e=="object"&&("$el"in e||"$cmp"in e||"$formkit"in e))}function pc(e,t={}){return typeof e=="string"?Im(t)||typeof t=="string"?t:e:Array.isArray(e)?Im(t)?t:e:Ga(e,t)}var Mwe=We("actions",()=>({$el:"div",if:"$actions"})),Db=We("input",()=>({$el:"input",bind:"$attrs",attrs:{type:"$type",name:"$node.props.altName || $node.name",disabled:"$option.attrs.disabled || $disabled",onInput:"$handlers.toggleChecked",checked:"$fns.eq($_value, $onValue)",onBlur:"$handlers.blur",value:"$: true",id:"$id","aria-describedby":{if:"$options.length",then:{if:"$option.help",then:'$: "help-" + $option.attrs.id',else:void 0},else:{if:"$help",then:'$: "help-" + $id',else:void 0}}}})),r8=We("optionHelp",()=>({$el:"div",if:"$option.help",attrs:{id:'$: "help-" + $option.attrs.id'}})),Nb=We("inner","span"),Lb=We("label","span"),i8=We("option",()=>({$el:"li",for:["option","$options"],attrs:{"data-disabled":"$option.attrs.disabled || $disabled || undefined"}})),s8=We("options","ul"),Fb=We("wrapper",()=>({$el:"label",attrs:{"data-disabled":{if:"$options.length",then:void 0,else:"$disabled || undefined"},"data-checked":{if:"$options == undefined",then:"$fns.eq($_value, $onValue) || undefined",else:"$fns.isChecked($option.value) || undefined"}}})),Dwe=We("input",()=>({$el:"button",bind:"$attrs",attrs:{type:"$type",disabled:"$disabled",name:"$node.name",id:"$id"}})),Nwe=We("default",null),Bb=We("decorator",()=>({$el:"span",attrs:{"aria-hidden":"true"}})),o8=We("fieldset",()=>({$el:"fieldset",attrs:{id:"$id","aria-describedby":{if:"$help",then:'$: "help-" + $id',else:void 0}}})),Lwe=We("input",()=>({$el:"input",bind:"$attrs",attrs:{type:"file",disabled:"$disabled",name:"$node.name",onChange:"$handlers.files",onBlur:"$handlers.blur",id:"$id","aria-describedby":"$describedBy","aria-required":"$state.required || undefined"}})),Fwe=We("fileItem",()=>({$el:"li",for:["file","$value"]})),Bwe=We("fileList",()=>({$el:"ul",if:"$value.length",attrs:{"data-has-multiple":"$_hasMultipleFiles"}})),Uwe=We("fileName",()=>({$el:"span",attrs:{class:"$classes.fileName"}})),w2=We("fileRemove",()=>({$el:"button",attrs:{type:"button",onClick:"$handlers.resetFiles"}})),Vwe=We("form",()=>({$el:"form",bind:"$attrs",meta:{autoAnimate:!0},attrs:{id:"$id",name:"$node.name",onSubmit:"$handlers.submit","data-loading":"$state.loading || undefined"}})),WO=We("wrapper",null,!0),Ko=We("help",()=>({$el:"div",if:"$help",attrs:{id:'$: "help-" + $id'}})),ur=(e,t)=>We(`${e}Icon`,()=>{const n=`_raw${e.charAt(0).toUpperCase()}${e.slice(1)}Icon`;return{if:`$${e}Icon && $${n}`,$el:`${t||"span"}`,attrs:{class:`$classes.${e}Icon + " " + $classes.icon`,innerHTML:`$${n}`,onClick:`$handlers.iconClick(${e})`,role:`$fns.iconRole(${e})`,tabindex:`$fns.iconRole(${e}) === "button" && "0" || undefined`,for:{if:`${t==="label"}`,then:"$id"}}}})(),Bv=We("inner","div"),Uv=We("label",()=>({$el:"label",if:"$label",attrs:{for:"$id"}})),a8=We("legend",()=>({$el:"legend",if:"$label"})),rl=We("message",()=>({$el:"li",for:["message","$messages"],attrs:{key:"$message.key",id:"$id + '-' + $message.key","data-message-type":"$message.type"}})),il=We("messages",()=>({$el:"ul",if:"$defaultMessagePlacement && $fns.length($messages)"})),jwe=We("noFiles",()=>({$el:"span",if:"$value == null || $value.length == 0"})),Hwe=We("optGroup",()=>({$el:"optgroup",bind:"$option.attrs",attrs:{label:"$option.group"}})),x2=We("option",()=>({$el:"option",bind:"$option.attrs",attrs:{class:"$classes.option",value:"$option.value",selected:"$fns.isSelected($option)"}})),E2=We("options",()=>({$el:null,if:"$options.length",for:["option","$option.options || $options"]})),Du=We("outer",()=>({$el:"div",meta:{autoAnimate:!0},attrs:{key:"$id","data-family":"$family || undefined","data-type":"$type","data-multiple":'$attrs.multiple || ($type != "select" && $options != undefined) || undefined',"data-has-multiple":"$_hasMultipleFiles","data-disabled":'$: ($disabled !== "false" && $disabled) || undefined',"data-empty":"$state.empty || undefined","data-complete":"$state.complete || undefined","data-invalid":"$state.invalid || undefined","data-errors":"$state.errors || undefined","data-submitted":"$state.submitted || undefined","data-prefix-icon":"$_rawPrefixIcon !== undefined || undefined","data-suffix-icon":"$_rawSuffixIcon !== undefined || undefined","data-prefix-icon-click":"$onPrefixIconClick !== undefined || undefined","data-suffix-icon-click":"$onSuffixIconClick !== undefined || undefined"}})),Go=We("prefix",null),Wwe=We("input",()=>({$el:"select",bind:"$attrs",attrs:{id:"$id","data-placeholder":"$fns.showPlaceholder($_value, $placeholder)",disabled:"$disabled",class:"$classes.input",name:"$node.name",onChange:"$handlers.onChange",onInput:"$handlers.selectInput",onBlur:"$handlers.blur","aria-describedby":"$describedBy","aria-required":"$state.required || undefined"}})),qwe=We("submit",()=>({$cmp:"FormKit",bind:"$submitAttrs",props:{type:"submit",label:"$submitLabel"}})),Yo=We("suffix",null),l8=We("input",()=>({$el:"input",bind:"$attrs",attrs:{type:"$type",disabled:"$disabled",name:"$node.name",onInput:"$handlers.DOMInput",onBlur:"$handlers.blur",value:"$_value",id:"$id","aria-describedby":"$describedBy","aria-required":"$state.required || undefined"}})),zwe=We("input",()=>({$el:"textarea",bind:"$attrs",attrs:{disabled:"$disabled",name:"$node.name",onInput:"$handlers.DOMInput",onBlur:"$handlers.blur",value:"$_value",id:"$id","aria-describedby":"$describedBy","aria-required":"$state.required || undefined"},children:"$initialValue"})),Lp=We("wrapper","div"),Kwe=0;function u8(e){(e.type==="group"||e.type==="list")&&e.plugins.add(Gwe)}function Gwe(e){e.props.type==="radio"&&(e.addProps(["altName"]),e.props.altName=`${e.name}_${Kwe++}`)}function c8(e){return function(t,n){return t.prop==="options"&&Array.isArray(t.value)&&(t.value=t.value.map(r=>{var i;return(i=r.attrs)!=null&&i.id?r:Ga(r,{attrs:{id:`${e.props.id}-option-${DO(String(r.value))}`}})}),e.props.type==="checkbox"&&!Array.isArray(e.value)&&(e.isCreated?e.input([],!1):e.on("created",()=>{Array.isArray(e.value)||e.input([],!1)}))),n(t)}}function Ywe(e,t){const n=t.target;if(n instanceof HTMLInputElement){const r=Array.isArray(e.props.options)?zc(e.props.options,n.value):n.value;Array.isArray(e.props.options)&&e.props.options.length?Array.isArray(e._value)?e._value.some(i=>sp(r,i))?e.input(e._value.filter(i=>!sp(r,i))):e.input([...e._value,r]):e.input([r]):n.checked?e.input(e.props.onValue):e.input(e.props.offValue)}}function Xwe(e,t){var n,r;return(n=e.context)==null||n.value,(r=e.context)==null||r._value,Array.isArray(e._value)?e._value.some(i=>sp(zc(e.props.options,t),i)):!1}function Qwe(e){e.on("created",()=>{var t,n;(t=e.context)!=null&&t.handlers&&(e.context.handlers.toggleChecked=Ywe.bind(null,e)),(n=e.context)!=null&&n.fns&&(e.context.fns.isChecked=Xwe.bind(null,e)),lt(e.props,"onValue")||(e.props.onValue=!0),lt(e.props,"offValue")||(e.props.offValue=!1)}),e.hook.prop(c8(e))}function Et(e,t){return n=>{n.props[`${e}Icon`]===void 0&&(n.props[`${e}Icon`]=t.startsWith("<svg")?t:`default:${t}`)}}function Fp(e){e.on("created",()=>{"disabled"in e.props&&(e.props.disabled=Ue(e.props.disabled),e.config.disabled=Ue(e.props.disabled))}),e.hook.prop(({prop:t,value:n},r)=>(n=t==="disabled"?Ue(n):n,r({prop:t,value:n}))),e.on("prop:disabled",({payload:t})=>{e.config.disabled=Ue(t)})}function vn(e,t){return n=>{n.store.set(pr({key:e,type:"ui",value:t||e,meta:{localize:!0,i18nArgs:[n]}}))}}var sS=typeof window<"u";function d8(e){e.target instanceof HTMLElement&&e.target.hasAttribute("data-file-hover")&&e.target.removeAttribute("data-file-hover")}function S2(e,t){t.target instanceof HTMLInputElement?e==="dragover"&&t.target.setAttribute("data-file-hover","true"):t.preventDefault(),e==="drop"&&d8(t)}function Jwe(e){vn("noFiles","Select file")(e),vn("removeAll","Remove all")(e),vn("remove")(e),e.addProps(["_hasMultipleFiles"]),sS&&(window._FormKit_File_Drop||(window.addEventListener("dragover",S2.bind(null,"dragover")),window.addEventListener("drop",S2.bind(null,"drop")),window.addEventListener("dragleave",d8),window._FormKit_File_Drop=!0)),e.hook.input((t,n)=>n(Array.isArray(t)?t:[])),e.on("input",({payload:t})=>{e.props._hasMultipleFiles=Array.isArray(t)&&t.length>1?!0:void 0}),e.on("reset",()=>{if(e.props.id&&sS){const t=document.getElementById(e.props.id);t&&(t.value="")}}),e.on("created",()=>{Array.isArray(e.value)||e.input([],!1),e.context&&(e.context.handlers.resetFiles=t=>{if(t.preventDefault(),e.input([]),e.props.id&&sS){const n=document.getElementById(e.props.id);n&&(n.value=""),n==null||n.focus()}},e.context.handlers.files=t=>{var r,i;const n=[];if(t.target instanceof HTMLInputElement&&t.target.files){for(let s=0;s<t.target.files.length;s++){let o;(o=t.target.files.item(s))&&n.push({name:o.name,file:o})}e.input(n)}e.context&&(e.context.files=n),typeof((r=e.props.attrs)==null?void 0:r.onChange)=="function"&&((i=e.props.attrs)==null||i.onChange(t))})})}var $2=pr({key:"loading",value:!0,visible:!1});async function Zwe(e,t){const n=Math.random();if(e.props._submitNonce=n,t.preventDefault(),await e.settled,e.ledger.value("validating")&&(e.store.set($2),await e.ledger.settled("validating"),e.store.remove("loading"),e.props._submitNonce!==n))return;const r=i=>i.store.set(pr({key:"submitted",value:!0,visible:!1}));if(e.walk(r),r(e),e.emit("submit-raw"),typeof e.props.onSubmitRaw=="function"&&e.props.onSubmitRaw(t,e),e.ledger.value("blocking"))typeof e.props.onSubmitInvalid=="function"&&e.props.onSubmitInvalid(e),e.props.incompleteMessage!==!1&&f8(e);else if(typeof e.props.onSubmit=="function"){const i=e.props.onSubmit(e.hook.submit.dispatch(mu(e.value)),e);if(i instanceof Promise){const s=e.props.disabled===void 0&&e.props.submitBehavior!=="live";s&&(e.props.disabled=!0),e.store.set($2),await i,s&&(e.props.disabled=!1),e.store.remove("loading")}}else t.target instanceof HTMLFormElement&&t.target.submit()}function f8(e){e.store.set(pr({blocking:!1,key:"incomplete",meta:{localize:e.props.incompleteMessage===void 0,i18nArgs:[{node:e}],showAsMessage:!0},type:"ui",value:e.props.incompleteMessage||"Form incomplete."}))}function e1e(e){var t;e.props.isForm=!0,e.ledger.count("validating",n=>n.key==="validating"),(t=e.props).submitAttrs??(t.submitAttrs={disabled:e.props.disabled}),e.on("prop:disabled",({payload:n})=>{e.props.submitAttrs={...e.props.submitAttrs,disabled:n}}),e.on("created",()=>{var n;(n=e.context)!=null&&n.handlers&&(e.context.handlers.submit=Zwe.bind(null,e)),lt(e.props,"actions")||(e.props.actions=!0)}),e.on("prop:incompleteMessage",()=>{e.store.incomplete&&f8(e)}),e.on("settled:blocking",()=>e.store.remove("incomplete"))}function t1e(e){e.props.ignore===void 0&&(e.props.ignore=!0,e.parent=null)}function n1e(e){e.on("created",()=>{e.context&&(e.context.initialValue=e.value||"")})}function p8(e){if(typeof e.props.number>"u")return;const t=["number","range","hidden"].includes(e.props.type);e.hook.input((n,r)=>{if(n==="")return r(void 0);const i=e.props.number==="integer"?parseInt(n):parseFloat(n);return Number.isFinite(i)?r(i):r(t?void 0:n)})}function r1e(e,t){t.target instanceof HTMLInputElement&&e.input(zc(e.props.options,t.target.value))}function i1e(e,t){var n,r;return(n=e.context)==null||n.value,(r=e.context)==null||r._value,sp(zc(e.props.options,t),e._value)}function s1e(e){e.on("created",()=>{var t,n;Array.isArray(e.props.options)||Mu(350,{node:e,inputType:"radio"}),(t=e.context)!=null&&t.handlers&&(e.context.handlers.toggleChecked=r1e.bind(null,e)),(n=e.context)!=null&&n.fns&&(e.context.fns.isChecked=i1e.bind(null,e))}),e.hook.prop(c8(e))}function o1e(e,t){if(J1(t))return!1;e.context&&e.context.value;const n="__original"in t?t.__original:t.value;return Array.isArray(e._value)?e._value.some(r=>sp(r,n)):(e._value===void 0||e._value===null&&!h8(e.props.options,null))&&t.attrs&&t.attrs["data-is-placeholder"]?!0:sp(n,e._value)}function h8(e,t){return e.some(n=>J1(n)?h8(n.options,t):("__original"in n?n.__original:n.value)===t)}async function a1e(e,t){var n;typeof((n=e.props.attrs)==null?void 0:n.onChange)=="function"&&(await new Promise(r=>setTimeout(r,0)),await e.settled,e.props.attrs.onChange(t))}function l1e(e,t){const n=t.target,r=n.hasAttribute("multiple")?Array.from(n.selectedOptions).map(i=>zc(e.props.options,i.value)):zc(e.props.options,n.value);e.input(r)}function T2(e,t){return e.some(n=>n.attrs&&n.attrs["data-is-placeholder"])?e:[{label:t,value:"",attrs:{hidden:!0,disabled:!0,"data-is-placeholder":"true"}},...e]}function g8(e){const t=e.length>0?e[0]:void 0;if(t)return J1(t)?g8(t.options):"__original"in t?t.__original:t.value}function u1e(e){e.on("created",()=>{var n,r,i;const t=Ue((n=e.props.attrs)==null?void 0:n.multiple);!t&&e.props.placeholder&&Array.isArray(e.props.options)&&(e.hook.prop(({prop:s,value:o},a)=>(s==="options"&&(o=T2(o,e.props.placeholder)),a({prop:s,value:o}))),e.props.options=T2(e.props.options,e.props.placeholder)),t?e.value===void 0&&e.input([],!1):e.context&&!e.context.options&&(e.props.attrs=Object.assign({},e.props.attrs,{value:e._value}),e.on("input",({payload:s})=>{e.props.attrs=Object.assign({},e.props.attrs,{value:s})})),(r=e.context)!=null&&r.handlers&&(e.context.handlers.selectInput=l1e.bind(null,e),e.context.handlers.onChange=a1e.bind(null,e)),(i=e.context)!=null&&i.fns&&(e.context.fns.isSelected=o1e.bind(null,e),e.context.fns.showPlaceholder=(s,o)=>{if(!Array.isArray(e.props.options))return!1;const a=e.props.options.some(l=>{if(l.attrs&&"data-is-placeholder"in l.attrs)return!1;const u="__original"in l?l.__original:l.value;return at(s,u)});return o&&!a?!0:void 0})}),e.hook.input((t,n)=>{var r,i,s;return!e.props.placeholder&&t===void 0&&Array.isArray((r=e.props)==null?void 0:r.options)&&e.props.options.length&&!Ue((s=(i=e.props)==null?void 0:i.attrs)==null?void 0:s.multiple)&&(t=g8(e.props.options)),n(t)})}function Ub(e){return!!(_a(e)&&e.if&&e.if.startsWith("$slots.")&&typeof e.then=="string"&&e.then.startsWith("$slots.")&&"else"in e)}function Ud(e,t,n=!1,r){if(Array.isArray(e)){for(const i of e){const s=Ud(i,t,n,e);if(s&&n)return s}return}if(c1e(e)){const i=t(e.else,e,r);return i&&n?i:Ud(e.else,t,n,e)}else{if((ip(e)||qc(e))&&e.children)return Ud(e.children,t,n);if(_a(e)){let i;if(e.then&&typeof e.then!="string"&&(i=Ud(e.then,t,n,e)),!i&&e.else&&typeof e.else!="string"&&(i=Ud(e.else,t,n,e)),i&&n)return i}}}function c1e(e){var t;return!!(_a(e)&&typeof e.then=="string"&&e.else&&typeof e.else!="string"&&!Array.isArray(e.else)&&!_a(e.else)&&((t=e.else.meta)!=null&&t.section))}function d1e(e,t={}){const n=Du(Lp(Uv("$label"),Bv(ur("prefix"),Go(),e(),Yo(),ur("suffix"))),Ko("$help"),il(rl("$message.value")));return(r={})=>n(Ga(t,r))}function Ns(e,t,n){const r=i=>{const s=t(i);if(n||Im(s)&&"if"in s||Ub(s)){const o={if:e,then:s};return n&&(o.else=n(i)),o}else Ub(s)?Object.assign(s.else,{if:e}):Im(s)&&Object.assign(s,{if:e});return s};return r._s=Np(),r}function Tf(e,t){const n=r=>{const i=e({});return Ub(i)?(Array.isArray(i.else)||(i.else=pc(pc(i.else,t),e._s?r[e._s]:{})),i):pc(pc(i,t),e._s?r[e._s]:{})};return n._s=e._s,n}var k2={schema:Du(il(rl("$message.value")),Lp(Dwe(ur("prefix"),Go(),Nwe("$label || $ui.submit.value"),Yo(),ur("suffix"))),Ko("$help")),type:"input",family:"button",props:[],features:[vn("submit"),t1e],schemaMemoKey:"h6st4epl3j8"},f1e={schema:Du(Ns("$options == undefined",Fb(Nb(Go(),Db(),Bb(ur("decorator")),Yo()),Tf(Lb("$label"),{if:"$label"})),o8(a8("$label"),Ko("$help"),s8(i8(Fb(Nb(Go(),Tf(Db(),{bind:"$option.attrs",attrs:{id:"$option.attrs.id",value:"$option.value",checked:"$fns.isChecked($option.value)"}}),Bb(ur("decorator")),Yo()),Tf(Lb("$option.label"),{if:"$option.label"})),r8("$option.help"))))),Ns("$options == undefined && $help",Ko("$help")),il(rl("$message.value"))),type:"input",family:"box",props:["options","onValue","offValue","optionsLoader"],features:[nl,Qwe,Et("decorator","checkboxDecorator")],schemaMemoKey:"qje02tb3gu8"},p1e={schema:Du(Lp(Uv("$label"),Bv(ur("prefix","label"),Go(),Lwe(),Bwe(Fwe(ur("fileItem"),Uwe("$file.name"),Ns("$value.length === 1",w2(ur("fileRemove"),'$ui.remove.value + " " + $file.name')))),Ns("$value.length > 1",w2("$ui.removeAll.value")),jwe(ur("noFiles"),"$ui.noFiles.value"),Yo(),ur("suffix"))),Ko("$help"),il(rl("$message.value"))),type:"input",family:"text",props:[],features:[Jwe,Et("fileItem","fileItem"),Et("fileRemove","fileRemove"),Et("noFiles","noFiles")],schemaMemoKey:"9kqc4852fv8"},h1e={schema:Vwe("$slots.default",il(rl("$message.value")),Mwe(qwe())),type:"group",props:["actions","submit","submitLabel","submitAttrs","submitBehavior","incompleteMessage"],features:[e1e,Fp],schemaMemoKey:"5bg016redjo"},g1e={schema:WO("$slots.default"),type:"group",props:[],features:[Fp,u8]},m1e={schema:l8(),type:"input",props:[],features:[p8]},v1e={schema:WO("$slots.default"),type:"list",props:["sync","dynamic"],features:[Fp,u8]},y1e={schema:WO(),type:"input",props:[],features:[]},_1e={schema:Du(Ns("$options == undefined",Fb(Nb(Go(),Db(),Bb(ur("decorator")),Yo()),Tf(Lb("$label"),{if:"$label"})),o8(a8("$label"),Ko("$help"),s8(i8(Fb(Nb(Go(),Tf(Db(),{bind:"$option.attrs",attrs:{id:"$option.attrs.id",value:"$option.value",checked:"$fns.isChecked($option.value)"}}),Bb(ur("decorator")),Yo()),Tf(Lb("$option.label"),{if:"$option.label"})),r8("$option.help"))))),Ns("$options == undefined && $help",Ko("$help")),il(rl("$message.value"))),type:"input",family:"box",props:["options","onValue","offValue","optionsLoader"],features:[nl,s1e,Et("decorator","radioDecorator")],schemaMemoKey:"qje02tb3gu8"},b1e={schema:Du(Lp(Uv("$label"),Bv(ur("prefix"),Go(),Wwe(Ns("$slots.default",()=>"$slots.default",E2(Ns("$option.group",Hwe(E2(x2("$option.label"))),x2("$option.label"))))),Ns("$attrs.multiple !== undefined",()=>"",ur("select")),Yo(),ur("suffix"))),Ko("$help"),il(rl("$message.value"))),type:"input",props:["options","placeholder","optionsLoader"],features:[nl,u1e,Et("select","select")],schemaMemoKey:"cb119h43krg"},w1e={schema:Du(Lp(Uv("$label"),Bv(ur("prefix","label"),Go(),zwe(),Yo(),ur("suffix"))),Ko("$help"),il(rl("$message.value"))),type:"input",props:[],features:[n1e],schemaMemoKey:"b1n0td79m9g"},Fi={schema:Du(Lp(Uv("$label"),Bv(ur("prefix","label"),Go(),l8(),Yo(),ur("suffix"))),Ko("$help"),il(rl("$message.value"))),type:"input",family:"text",props:[],features:[p8],schemaMemoKey:"c3cc4kflsg"},x1e={button:k2,submit:k2,checkbox:f1e,file:p1e,form:h1e,group:g1e,hidden:m1e,list:v1e,meta:y1e,radio:_1e,select:b1e,textarea:w1e,text:Fi,color:Fi,date:Fi,datetimeLocal:Fi,email:Fi,month:Fi,number:Fi,password:Fi,search:Fi,tel:Fi,time:Fi,url:Fi,week:Fi,range:Fi},to=void 0,So=null,Vb,m8=!1,Vh=!1,E1e=new Promise(e=>{Vb=()=>{m8=!0,e()}}),Ra=typeof window<"u"&&typeof fetch<"u";to=Ra?getComputedStyle(document.documentElement):void 0;var nf={},oS={};function S1e(e,t,n,r){t&&Object.assign(nf,t),Ra&&!Vh&&(to!=null&&to.getPropertyValue("--formkit-theme"))?(Vb(),Vh=!0):e&&!Vh&&Ra?$1e(e):!Vh&&Ra&&Vb();const i=function(o){var a,l;o.addProps(["iconLoader","iconLoaderUrl"]),o.props.iconHandler=I2((a=o.props)!=null&&a.iconLoader?o.props.iconLoader:r,(l=o.props)!=null&&l.iconLoaderUrl?o.props.iconLoaderUrl:n),I1e(o,o.props.iconHandler),o.on("created",()=>{var u,c;(u=o==null?void 0:o.context)!=null&&u.handlers&&(o.context.handlers.iconClick=d=>{const f=`on${d.charAt(0).toUpperCase()}${d.slice(1)}IconClick`,p=o.props[f];if(p&&typeof p=="function")return g=>p(o,g)}),(c=o==null?void 0:o.context)!=null&&c.fns&&(o.context.fns.iconRole=d=>{const f=`on${d.charAt(0).toUpperCase()}${d.slice(1)}IconClick`;return typeof o.props[f]=="function"?"button":null})})};return i.iconHandler=I2(r,n),i}function $1e(e){if(!(!e||!Ra||typeof getComputedStyle!="function")&&(Vh=!0,So=document.getElementById("formkit-theme"),e&&Ra&&(!(to!=null&&to.getPropertyValue("--formkit-theme"))&&!So||So!=null&&So.getAttribute("data-theme")&&(So==null?void 0:So.getAttribute("data-theme"))!==e))){const n=`https://cdn.jsdelivr.net/npm/@formkit/themes@${Pb.startsWith("__")?"latest":Pb}/dist/${e}/theme.css`,r=document.createElement("link");r.type="text/css",r.rel="stylesheet",r.id="formkit-theme",r.setAttribute("data-theme",e),r.onload=()=>{to=getComputedStyle(document.documentElement),Vb()},document.head.appendChild(r),r.href=n,So&&So.remove()}}function I2(e,t){return n=>{if(typeof n!="string")return;if(n.startsWith("<svg"))return n;const r=n.startsWith("default:");n=r?n.split(":")[1]:n;const i=n in nf;let s;if(i)return nf[n];if(!oS[n]){if(s=T1e(n),s=Ra&&typeof s>"u"?Promise.resolve(s):s,s instanceof Promise)oS[n]=s.then(o=>!o&&typeof n=="string"&&!r?s=typeof e=="function"?e(n):k1e(n,t):o).then(o=>(typeof n=="string"&&(nf[r?`default:${n}`:n]=o),o));else if(typeof s=="string")return nf[r?`default:${n}`:n]=s,s}return oS[n]}}function T1e(e){if(Ra)return m8?C2(e):E1e.then(()=>C2(e))}function C2(e){const t=to==null?void 0:to.getPropertyValue(`--fk-icon-${e}`);if(t){const n=atob(t);if(n.startsWith("<svg"))return nf[e]=n,n}}function k1e(e,t){const n=Pb.startsWith("__")?"latest":Pb,r=typeof t=="function"?t(e):`https://cdn.jsdelivr.net/npm/@formkit/icons@${n}/dist/icons/${e}.svg`;if(Ra)return fetch(`${r}`).then(async i=>{const s=await i.text();if(s.startsWith("<svg"))return s}).catch(i=>{console.error(i)})}function I1e(e,t){const n=/^[a-zA-Z-]+(?:-icon|Icon)$/;Object.keys(e.props).filter(i=>n.test(i)).forEach(i=>C1e(e,t,i))}function C1e(e,t,n){const r=e.props[n],i=t(r),s=`_raw${n.charAt(0).toUpperCase()}${n.slice(1)}`,o=`on${n.charAt(0).toUpperCase()}${n.slice(1)}Click`;if(e.addProps([s,o]),e.on(`prop:${n}`,A1e),i instanceof Promise)return i.then(a=>{e.props[s]=a});e.props[s]=i}function A1e(e){var o;const t=e.origin,n=e.payload,r=(o=t==null?void 0:t.props)==null?void 0:o.iconHandler,i=e.name.split(":")[1],s=`_raw${i.charAt(0).toUpperCase()}${i.slice(1)}`;if(r&&typeof r=="function"){const a=r(n);if(a instanceof Promise)return a.then(l=>{t.props[s]=l});t.props[s]=a}}var A2={100:({data:e})=>`Only groups, lists, and forms can have children (${e.name}).`,101:({data:e})=>`You cannot directly modify the store (${e.name}). See: https://formkit.com/advanced/core#message-store`,102:({data:[e,t]})=>`You cannot directly assign node.${t} (${e.name})`,103:({data:[e]})=>`Schema expressions cannot start with an operator (${e})`,104:({data:[e,t]})=>`Schema expressions cannot end with an operator (${e} in "${t}")`,105:({data:e})=>`Invalid schema expression: ${e}`,106:({data:e})=>`Cannot submit because (${e}) is not in a form.`,107:({data:[e,t]})=>`Cannot set ${e.name} to non object value: ${t}`,108:({data:[e,t]})=>`Cannot set ${e.name} to non array value: ${t}`,300:({data:[e]})=>`Cannot set behavior prop to overscroll (on ${e.name} input) when options prop is a function.`,600:({data:e})=>`Unknown input type${typeof e.props.type=="string"?' "'+e.props.type+'"':""} ("${e.name}")`,601:({data:e})=>`Input definition${typeof e.props.type=="string"?' "'+e.props.type+'"':""} is missing a schema or component property (${e.name}).`},O2={150:({data:e})=>`Schema function "${e}()" is not a valid function.`,151:({data:e})=>`No form element with id: ${e}`,152:({data:e})=>`No input element with id: ${e}`,350:({data:{node:e,inputType:t}})=>`Invalid options prop for ${e.name} input (${t}). See https://formkit.com/inputs/${t}`,650:'Schema "$get()" must use the id of an input to access.',651:({data:e})=>`Cannot setErrors() on "${e}" because no such id exists.`,652:({data:e})=>`Cannot clearErrors() on "${e}" because no such id exists.`,800:({data:e})=>`${e} is deprecated.`},O1e=(e,t)=>{if(e.code in A2){const n=A2[e.code];e.message=typeof n=="function"?n(e):n}return t(e)},R2=!1;function R1e(){R2||(LO(O1e),FO(P1e),R2=!0)}var P1e=(e,t)=>{if(e.code in O2){const n=O2[e.code];e.message=typeof n=="function"?n(e):n}return t(e)},M1e=Object.defineProperty,D1e=Object.getOwnPropertyNames,v8=(e,t)=>function(){return e&&(t=(0,e[D1e(e)[0]])(e=0)),t},N1e=(e,t)=>{for(var n in t)M1e(e,n,{get:t[n],enumerable:!0})},P2,y8,_8=v8({"packages/vue/src/bindings.ts"(){P2=function(t){t.ledger.count("blocking",C=>C.blocking);const n=re(!t.ledger.value("blocking"));t.ledger.count("errors",C=>C.type==="error");const r=re(!!t.ledger.value("errors"));let i=!1;Qn(()=>{i=!0});const s=Cs(t.store.reduce((C,B)=>(B.visible&&(C[B.key]=B),C),{})),o=re(t.props.validationVisibility||(t.props.type==="checkbox"?"dirty":"blur"));t.on("prop:validationVisibility",({payload:C})=>{o.value=C});const a=re(o.value==="live"),l=re(!1),u=C=>{l.value=(C??[]).some(B=>B.name==="required")};u(t.props.parsedRules),t.on("prop:parsedRules",({payload:C})=>u(C));const c=re(t.children.map(C=>C.uid)),d=Ce(()=>{if(!$.state)return!1;if($.state.submitted)return!0;if(!a.value&&!$.state.settled)return!1;switch(o.value){case"live":return!0;case"blur":return $.state.blurred;case"dirty":return $.state.dirty;default:return!1}}),f=Ce(()=>$.state.failing&&d.value),p=Ce(()=>$&&g.value?n.value&&!r.value:$.state.dirty&&!Ds($.value)),g=re(Array.isArray(t.props.parsedRules)&&t.props.parsedRules.length>0);t.on("prop:parsedRules",({payload:C})=>{g.value=Array.isArray(C)&&C.length>0});const h=Ce(()=>{const C={};for(const B in s){const V=s[B];(V.type!=="validation"||d.value)&&(C[B]=V)}return C}),m=Cs(t.store.reduce((C,B)=>(B.type==="ui"&&B.visible&&(C[B.key]=B),C),{})),v=Ce(()=>!$.state.failing),y=Cs({}),_=new Proxy(y,{get(...C){if(!t)return"";const[B,V]=C;let ce=Reflect.get(...C);return!ce&&typeof V=="string"&&!lt(B,V)&&!V.startsWith("__v")&&Q1(t).watch(le=>{const me=typeof le.config.rootClasses=="function"?le.config.rootClasses(V,le):{},Ie=le.config.classes?G_(V,le,le.config.classes[V]):{},Tt=G_(V,le,le.props[`_${V}Class`]),Re=G_(V,le,le.props[`${V}Class`]);ce=z0e(le,V,me,Ie,Tt,Re),B[V]=ce??""}),ce}});t.on("prop:rootClasses",()=>{const C=Object.keys(y);for(const B of C)delete y[B]});const b=Ce(()=>{if(!t)return;const C=[];$.help&&C.push(`help-${t.props.id}`);for(const B in h.value)C.push(`${t.props.id}-${B}`);return C.length?C.join(" "):void 0}),x=re(t.value),w=re(t.value),$=Cs({_value:w,attrs:t.props.attrs,disabled:t.props.disabled,describedBy:b,fns:{length:C=>Object.keys(C).length,number:C=>Number(C),string:C=>String(C),json:C=>JSON.stringify(C),eq:at},handlers:{blur:C=>{t&&(t.store.set(pr({key:"blurred",visible:!1,value:!0})),typeof t.props.attrs.onBlur=="function"&&t.props.attrs.onBlur(C))},touch:()=>{var V;const C=$.dirtyBehavior==="compare";if((V=t.store.dirty)!=null&&V.value&&!C)return;const B=!at(t.props._init,t._value);!B&&!C||t.store.set(pr({key:"dirty",visible:!1,value:B}))},DOMInput:C=>{t.input(C.target.value),t.emit("dom-input-event",C)}},help:t.props.help,id:t.props.id,items:c,label:t.props.label,messages:h,didMount:!1,node:bp(t),options:t.props.options,defaultMessagePlacement:!0,slots:t.props.__slots,state:{blurred:!1,complete:p,dirty:!1,empty:Ds(x),submitted:!1,settled:t.isSettled,valid:n,invalid:f,errors:r,rules:g,validationVisible:d,required:l,failing:!1,passing:v},type:t.props.type,family:t.props.family,ui:m,value:x,classes:_});t.on("created",()=>{at($.value,t.value)||(w.value=t.value,x.value=t.value,Ch(x),Ch(w)),(async()=>(await t.settled,t&&(t.props._init=Os(t.value))))()}),t.on("mounted",()=>{$.didMount=!0}),t.on("settled",({payload:C})=>{$.state.settled=C});function E(C){(Array.isArray(C)?C:Object.keys(C)).forEach(V=>{V=$f(V),lt($,V)||($[V]=t.props[V]),t.on(`prop:${V}`,({payload:ce})=>{$[V]=ce})})}E((()=>{const C=["__root","help","label","disabled","options","type","attrs","preserve","preserveErrors","id","dirtyBehavior"],B=/^[a-zA-Z-]+(?:-icon|Icon)$/,V=Object.keys(t.props).filter(ce=>B.test(ce));return C.concat(V)})());function T(C){C.props&&E(C.props)}t.props.definition&&T(t.props.definition),t.on("added-props",({payload:C})=>E(C)),t.on("input",({payload:C})=>{t.type!=="input"&&!Sn(C)&&!No(C)?w.value=XT(C):(w.value=C,Ch(w))}),t.on("commitRaw",({payload:C})=>{t.type!=="input"&&!Sn(C)&&!No(C)?x.value=w.value=XT(C):(x.value=w.value=C,Ch(x)),t.emit("modelUpdated")}),t.on("commit",({payload:C})=>{var B;if((!$.state.dirty||$.dirtyBehavior==="compare")&&t.isCreated&&i)if(!((B=t.store.validating)!=null&&B.value))$.handlers.touch();else{const V=t.on("message-removed",({payload:ce})=>{ce.key==="validating"&&($.handlers.touch(),t.off(V))})}p&&t.type==="input"&&r.value&&!Ue(t.props.preserveErrors)&&t.store.filter(V=>{var ce;return!(V.type==="error"&&((ce=V.meta)==null?void 0:ce.autoClear)===!0)}),t.type==="list"&&t.sync&&(c.value=t.children.map(V=>V.uid)),$.state.empty=Ds(C)});const P=async C=>{C.type==="ui"&&C.visible&&!C.meta.showAsMessage?m[C.key]=C:C.visible?s[C.key]=C:C.type==="state"&&($.state[C.key]=!!C.value)};t.on("message-added",C=>P(C.payload)),t.on("message-updated",C=>P(C.payload)),t.on("message-removed",({payload:C})=>{delete m[C.key],delete s[C.key],delete $.state[C.key]}),t.on("settled:blocking",()=>{n.value=!0}),t.on("unsettled:blocking",()=>{n.value=!1}),t.on("settled:errors",()=>{r.value=!1}),t.on("unsettled:errors",()=>{r.value=!0}),bt(d,C=>{C&&(a.value=!0)}),t.context=$,t.emit("context",t,!1),t.on("destroyed",()=>{t.context=void 0,t=null})},y8=P2}}),L1e={};N1e(L1e,{defaultConfig:()=>qO});var qO,F1e=v8({"packages/vue/src/defaultConfig.ts"(){_8(),qO=(e={})=>{R1e();const{rules:t={},locales:n={},inputs:r={},messages:i={},locale:s=void 0,theme:o=void 0,iconLoaderUrl:a=void 0,iconLoader:l=void 0,icons:u={},...c}=e,d=pwe({...fwe,...t||{}}),f=Awe(Ga({en:Cwe,...n||{}},i)),p=Owe(x1e,r),g=S1e(o,u,a,l);return Ga({plugins:[p,g,y8,f,d],...s?{config:{locale:s}}:{}},c||{},!0)}}}),B1e=typeof window>"u",aS=new Map;function U1e(e,t){var n;!B1e||!e||(aS.has(e)||aS.set(e,new Set),(n=aS.get(e))==null||n.add(t))}var b8=typeof window>"u",mg={},kf={},yi,ba=new WeakMap,V1e="__raw__",j1e=/[a-zA-Z0-9\-][cC]lass$/;function H1e(e,t){const n=re(null);if(e==="get"){const i={};return n.value=W1e.bind(null,i),n}const r=e.split(".");return sn(()=>{n.value=zO(Sn(t)?t.value:t,r)}),n}function zO(e,t){if(Array.isArray(e)){for(const i of e){const s=i!==!1&&zO(i,t);if(s!==void 0)return s}return}let n,r=e;for(const i in t){const s=t[i];if(typeof r!="object"||r===null){n=void 0;break}const o=r[s];if(Number(i)===t.length-1&&o!==void 0){n=typeof o=="function"?o.bind(r):o;break}r=o}return n}function W1e(e,t){if(typeof t!="string")return Mu(650);if(t in e||(e[t]=re(void 0)),e[t].value===void 0){e[t].value=null;const n=Lv(t);n&&(e[t].value=n.context),J_e(t,({payload:r})=>{e[t].value=Fv(r)?r.context:r})}return e[t].value}function M2(e,t,n){function r(p,g){const h=d(Gs(g.if),{if:!0}),m=u(p,g.then),v=g.else?u(p,g.else):null;return[h,m,v]}function i(p,g){var y,_;const h=d(Gs(p.if));let m=()=>g,v=()=>g;return typeof p.then=="object"?v=s(p.then,void 0):typeof p.then=="string"&&((y=p.then)!=null&&y.startsWith("$"))?v=d(Gs(p.then)):v=()=>p.then,lt(p,"else")&&(typeof p.else=="object"?m=s(p.else):typeof p.else=="string"&&((_=p.else)!=null&&_.startsWith("$"))?m=d(Gs(p.else)):m=()=>p.else),()=>h()?v():m()}function s(p,g,h={}){const m=new Set(Object.keys(p||{})),v=g?d(Gs(g)):()=>({}),y=[_=>{const b=v();for(const x in b)m.has(x)||(_[x]=b[x])}];if(p){if(_a(p))return i(p,h);for(let _ in p){const b=p[_];let x;const w=typeof b=="string";_.startsWith(V1e)?(_=_.substring(7),x=()=>b):w&&b.startsWith("$")&&b.length>1&&!(b.startsWith("$reset")&&j1e.test(_))?x=d(Gs(b)):typeof b=="object"&&_a(b)?x=i(b,void 0):typeof b=="object"&&np(b)?x=s(b):x=()=>b,y.push($=>{$[_]=x()})}}return()=>{const _=Array.isArray(p)?[]:{};return y.forEach(b=>b(_)),_}}function o(p,g){let h=null,m=()=>null,v=!1,y=null,_=null,b=null,x=!1;const w=q0e(g);if(qc(w)?(h=w.$el,m=w.$el!=="text"?s(w.attrs,w.bind):()=>null):ip(w)?(typeof w.$cmp=="string"?lt(p,w.$cmp)?h=p[w.$cmp]:(h=w.$cmp,x=!0):h=w.$cmp,m=s(w.props,w.bind)):_a(w)&&([v,y,_]=r(p,w)),!_a(w)&&"if"in w?v=d(Gs(w.if)):!_a(w)&&h===null&&(v=()=>!0),"children"in w&&w.children)if(typeof w.children=="string")if(w.children.startsWith("$slots."))h=h==="text"?"slot":h,y=d(Gs(w.children));else if(w.children.startsWith("$")&&w.children.length>1){const $=d(Gs(w.children));y=()=>String($())}else y=()=>String(w.children);else if(Array.isArray(w.children))y=u(p,w.children);else{const[$,E,S]=r(p,w.children);y=T=>$&&$()?E&&E(T):S&&S(T)}if(ip(w))if(y){const $=y;y=E=>({default(S,T){var B,V,ce,X;const P=yi;T&&(yi=T),S&&((B=ba.get(yi))==null||B.unshift(S)),E&&((V=ba.get(yi))==null||V.unshift(E));const C=$(E);return S&&((ce=ba.get(yi))==null||ce.shift()),E&&((X=ba.get(yi))==null||X.shift()),yi=P,C}}),y.slot=!0}else y=()=>({});if("for"in w&&w.for){const $=w.for.length===3?w.for[2]:w.for[1];b=[typeof $=="string"&&$.startsWith("$")?d(Gs($)):()=>$,w.for[0],w.for.length===3?String(w.for[1]):null]}return[v,h,m,y,_,b,x]}function a(p,g){const h=p(g),m=yi;return Object.keys(h).reduce((v,y)=>{const _=h&&h[y];return v[y]=b=>_&&_(b,m)||null,v},{})}function l(p,g){const[h,m,v,y,_,b,x]=o(p,g);let w=$=>{if(h&&m===null&&y)return h()?y($):_&&_($);if(m&&(!h||h())){if(m==="text"&&y)return En(String(y()));if(m==="slot"&&y)return y($);const E=x?$c(m):m,S=y!=null&&y.slot?a(y,$):null;return Yt(E,v(),S||(y?y($):[]))}return typeof _=="function"?_($):_};if(b){const $=w,[E,S,T]=b;w=()=>{const P=E(),C=Number.isFinite(P)?Array(Number(P)).fill(0).map((X,le)=>le):P,B=[];if(typeof C!="object")return null;const V=ba.get(yi)||[],ce=Array.isArray(C);for(const X in C){if(ce&&X in Array.prototype)continue;const le=Object.defineProperty({...V.reduce((me,Ie)=>me.__idata?{...me,...Ie}:Ie,{}),[S]:C[X],...T!==null?{[T]:ce?Number(X):X}:{}},"__idata",{enumerable:!1,value:!0});V.unshift(le),B.push($.bind(null,le)()),V.shift()}return B}}return w}function u(p,g){if(Array.isArray(g)){const m=g.map(l.bind(null,p));return v=>m.map(y=>y(v))}const h=l(p,g);return m=>h(m)}const c=[];function d(p,g={}){const h=new WeakMap;return c.push((m,v)=>{h.set(v,p.provide(y=>m(y,g)))}),()=>h.get(yi)()}function f(p,g){n??(n=x8(t));const[h,m]=lt(mg,n)?mg[n]:[u(e,t),c];return b8||(kf[n]??(kf[n]=0),kf[n]++,mg[n]=[h,m]),m.forEach(v=>{v(p,g)}),()=>(yi=g,h())}return f}function w8(e,t){const n=ba.get(yi)||[];let r;return n.length&&(r=zO(n,e.split("."))),r===void 0?t:r}function q1e(e,t){return new Proxy(e,{get(...n){let r;const i=n[1];if(typeof i=="string"){const s=yi;yi=t,r=w8(i,void 0),yi=s}return r!==void 0?r:Reflect.get(...n)}})}function D2(e,t,n){return e((r,i={})=>r.reduce((s,o)=>{if(o.startsWith("slots.")){const a=o.substring(6),l=()=>t.slots&&lt(t.slots,a)&&typeof t.slots[a]=="function";if(i.if)s[o]=l;else if(t.slots){const u=q1e(t,n);s[o]=()=>l()?t.slots[a](u):null}}else{const a=H1e(o,t);s[o]=()=>w8(o,a.value)}return s},{}),n)}function N2(e,t,n){if(t??(t=x8(e)),kf[t]--,kf[t]===0){delete kf[t];const[,r]=mg[t];delete mg[t],r.length=0}ba.delete(n)}function x8(e){return JSON.stringify(e,(t,n)=>typeof n=="function"?n.toString():n)}var E8=Tn({name:"FormKitSchema",props:{schema:{type:[Array,Object],required:!0},data:{type:Object,default:()=>({})},library:{type:Object,default:()=>({})},memoKey:{type:String,required:!1}},emits:["mounted"],setup(e,t){var u;const n=fr();let r={};ba.set(r,[]);const i={FormKit:bp($8),...e.library};let s=M2(i,e.schema,e.memoKey),o,a;b8||bt(()=>e.schema,(c,d)=>{var p;const f=r;r={},ba.set(r,[]),s=M2(i,e.schema,e.memoKey),o=D2(s,a,r),c===d&&((p=n==null?void 0:n.proxy)==null?void 0:p.$forceUpdate).call(p),N2(e.schema,e.memoKey,f)},{deep:!0}),sn(()=>{a=Object.assign(Cs(e.data??{}),{slots:t.slots}),t.slots,o=D2(s,a,r)});function l(){N2(e.schema,e.memoKey,r),a&&(a.node&&a.node.destroy(),a.slots=null,a=null),o=null}return Jt(()=>t.emit("mounted")),Mr(l),U1e((u=fr())==null?void 0:u.appContext.app,l),()=>o?o():null}}),z1e=E8,K1e=typeof window>"u",L2=Symbol("FormKitParent"),G1e=Symbol("FormKitComponentCallback");function Y1e(e,t){const n=rxe(e,t);if(n.props.definition||Qi(600,n),n.props.definition.component)return()=>{var u;return Yt((u=n.props.definition)==null?void 0:u.component,{context:n.context},{...t.slots})};const r=re([]);let i=n.props.definition.schemaMemoKey;const s=()=>{var c,d;const u=(d=(c=n.props)==null?void 0:c.definition)==null?void 0:d.schema;u||Qi(601,n),typeof u=="function"?(r.value=u({...e.sectionsSchema||{}}),(i&&e.sectionsSchema||"memoKey"in u&&typeof u.memoKey=="string")&&(i=(i??(u==null?void 0:u.memoKey))+JSON.stringify(e.sectionsSchema))):r.value=u};s(),K1e||n.on("schema",()=>{i+="♻️",s()}),t.emit("node",n);const o=n.props.definition.library,a={FormKit:bp(S8),...o,...e.library??{}};function l(){n.emit("mounted")}return t.expose({node:n}),()=>Yt(E8,{schema:r.value,data:n.context,onMounted:l,library:a,memoKey:i},{...t.slots})}var S8=Tn(Y1e,{props:Rwe,inheritAttrs:!1}),$8=S8,X1e=Symbol();function Q1e(e,t){return e.component(t.alias||"FormKit",$8).component(t.schemaAlias||"FormKitSchema",z1e),{get:Lv,setLocale:n=>{var r;(r=t.config)!=null&&r.rootConfig&&(t.config.rootConfig.locale=n)},clearErrors:G0e,setErrors:K0e,submit:Dz,reset:Nz}}var T8=Symbol.for("FormKitOptions"),J1e=Symbol.for("FormKitConfig"),Z1e={install(e,t){const n=Object.assign({alias:"FormKit",schemaAlias:"FormKitSchema"},typeof t=="function"?t():t),r=Z_e(n.config||{});n.config={rootConfig:r},e.config.globalProperties.$formkit=Q1e(e,n),e.provide(T8,n),e.provide(J1e,r),typeof window<"u"&&(globalThis.__FORMKIT_CONFIGS__=(globalThis.__FORMKIT_CONFIGS__||[]).concat([r]))}},exe=typeof window<"u",lS=["ignore","disabled","preserve","help","label",/^preserve(-e|E)rrors/,/^[a-z]+(?:-visibility|Visibility|-behavior|Behavior)$/,/^[a-zA-Z-]+(?:-class|Class)$/,"prefixIcon","suffixIcon",/^[a-zA-Z-]+(?:-icon|Icon)$/],txe=["disabled","ignore","preserve"];function F2(e,t){t.classes&&Object.keys(t.classes).forEach(n=>{typeof n=="string"&&(e.props[`_${n}Class`]=t.classes[n],gg(t.classes[n])&&n==="inner"&&Object.values(t.classes[n]))})}function nxe(e){return e?["Submit","SubmitRaw","SubmitInvalid"].reduce((n,r)=>{const i=`on${r}`;return i in e&&typeof e[i]=="function"&&(n[i]=e[i]),n},{}):{}}function rxe(e,t,n={}){const r=Object.assign({},ct(T8)||{},n),i=ct(X1e,re(exe?document:void 0)),s=ct(G1e,()=>{}),o=fr(),a=nxe(o==null?void 0:o.vnode.props),l=["modelValue","model-value"].some(w=>w in((o==null?void 0:o.vnode.props)??{}));let u=!1;Jt(()=>{u=!0});const c=e.modelValue!==void 0?e.modelValue:Os(t.attrs.value);function d(){const w={...$d(e),...a,type:e.type??"text",__root:i.value,__slots:t.slots},$=c2($d(t.attrs),lS);$.key||($.key=Np()),w.attrs=$;const E=d2($d(t.attrs),lS);for(const T in E)txe.includes(T)&&E[T]===""&&(E[T]=!0),w[$f(T)]=E[T];const S={props:{}};return F2(S,e),Object.assign(w,S.props),typeof w.type!="string"&&(w.definition=w.type,delete w.type),w}const f=d(),p=f.ignore?null:e.parent||ct(L2,null),g=H0e(Ga(r||{},{name:e.name||void 0,value:c,parent:p,plugins:(r.plugins||[]).concat(e.plugins??[]),config:e.config||{},props:f,index:e.index,sync:!!Ue(t.attrs.sync||t.attrs.dynamic)},!1,!0));s(g),g.props.definition||Qi(600,g);const h=re(new Set(Array.isArray(g.props.__propDefs)?g.props.__propDefs:Object.keys(g.props.__propDefs??{})));g.on("added-props",({payload:w})=>{(Array.isArray(w)?w:Object.keys(w??{})).forEach(E=>h.value.add(E))});const m=Ce(()=>lS.concat([...h.value]).reduce((w,$)=>(typeof $=="string"?(w.push($f($)),w.push(Az($))):w.push($),w),[]));sn(()=>F2(g,e));const v=$d(e);for(const w in v)bt(()=>e[w],()=>{e[w]!==void 0&&(g.props[w]=e[w])});sn(()=>{g.props.__root=i.value});const y=new Set,_=$d(t.attrs);sn(()=>{b(d2(_,m.value))});function b(w){y.forEach($=>{$(),y.delete($)});for(const $ in w){const E=$f($);y.add(bt(()=>t.attrs[$],()=>{g.props[E]=t.attrs[$]}))}}if(sn(()=>{const w=c2($d(t.attrs),m.value);"multiple"in w&&(w.multiple=Ue(w.multiple)),typeof w.onBlur=="function"&&(w.onBlur=R_e(w.onBlur)),g.props.attrs=Object.assign({},g.props.attrs||{},w)}),sn(()=>{const w=(e.errors??[]).map($=>pr({key:DO($),type:"error",value:$,meta:{source:"prop"}}));g.store.apply(w,$=>$.type==="error"&&$.meta.source==="prop")}),g.type!=="input"){const w=`${g.name}-prop`;sn(()=>{const $=e.inputErrors??{},E=Object.keys($);E.length||g.clearErrors(!0,w);const S=E.reduce((T,P)=>{let C=$[P];return typeof C=="string"&&(C=[C]),Array.isArray(C)&&(T[P]=C.map(B=>pr({key:B,type:"error",value:B,meta:{source:w}}))),T},{});g.store.apply(S,T=>T.type==="error"&&T.meta.source===w)})}sn(()=>Object.assign(g.config,e.config)),g.type!=="input"&&tr(L2,g);let x;return g.on("modelUpdated",()=>{var w,$;t.emit("inputRaw",(w=g.context)==null?void 0:w.value,g),u&&t.emit("input",($=g.context)==null?void 0:$.value,g),l&&g.context&&(x=Os(g.value),t.emit("update:modelValue",XT(g.value)))}),l&&(bt(Vw(e,"modelValue"),w=>{at(x,w)||g.input(w,!1)},{deep:!0}),g.value!==c&&g.emit("modelUpdated")),Ja(()=>g.destroy()),g}var ixe=1;function sxe(e){return typeof e=="function"&&e.length===2||typeof e=="object"&&!Array.isArray(e)&&!("$el"in e)&&!("$cmp"in e)&&!("if"in e)}function uS(e,t={},n={}){const r={type:"input",...t};let i;if(sxe(e)){const s=`SchemaComponent${ixe++}`;i=We("input",()=>({$cmp:s,props:{context:"$node.context"}})),r.library={[s]:bp(e)}}else typeof e=="function"?i=e:i=We("input",()=>Os(e));return r.schema=d1e(i||"Schema undefined",n),r.schemaMemoKey||(r.schemaMemoKey=`${Math.random()}`),r}var oxe=We("messages",()=>({$el:"ul",if:"$fns.length($messages)"})),axe=We("message",()=>({$el:"li",for:["message","$messages"],attrs:{key:"$message.key",id:"$id + '-' + $message.key","data-message-type":"$message.type"}}));oxe(axe("$message.value"));var lxe=We("summary",()=>({$el:"div",attrs:{"aria-live":"polite"}})),uxe=We("summaryInner",()=>({$el:"div",if:"$summaries.length && $showSummaries"})),cxe=We("messages",()=>({$el:"ul",if:"$summaries.length && $showSummaries"})),dxe=We("message",()=>({$el:"li",for:["summary","$summaries"],attrs:{key:"$summary.key","data-message-type":"$summary.type"}})),fxe=We("summaryHeader",()=>({$el:"h2",attrs:{id:"$id"}})),pxe=We("messageLink",()=>({$el:"a",attrs:{id:"$summary.key",href:'$: "#" + $summary.id',onClick:"$jumpLink"}}));lxe(uxe(fxe("$summaryHeader"),cxe(dxe(pxe("$summary.message")))));F1e();_8();var hxe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 27"><polygon fill="currentColor" points="26.99 0 10.13 17.17 4.69 11.63 0 16.41 10.4 27 15.05 22.27 15.09 22.31 32 5.1 26.99 0"/></svg>',gxe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><circle fill="currentColor" cx="16" cy="16" r="16"/></svg>',B2='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 16"><path d="M10,12.5c-.13,0-.26-.05-.35-.15L1.65,4.35c-.2-.2-.2-.51,0-.71,.2-.2,.51-.2,.71,0L10.35,11.65c.2,.2,.2,.51,0,.71-.1,.1-.23,.15-.35,.15Z" fill="currentColor"/><path d="M2,12.5c-.13,0-.26-.05-.35-.15-.2-.2-.2-.51,0-.71L9.65,3.65c.2-.2,.51-.2,.71,0,.2,.2,.2,.51,0,.71L2.35,12.35c-.1,.1-.23,.15-.35,.15Z" fill="currentColor"/></svg>',mxe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 15"><path fill="currentColor" d="M7.56,13.88c-.28,0-.5-.22-.5-.5s.22-.5,.5-.5c2.96,0,5.38-2.41,5.38-5.38S10.53,2.12,7.56,2.12c-.28,0-.5-.22-.5-.5s.22-.5,.5-.5c3.52,0,6.38,2.86,6.38,6.38s-2.86,6.38-6.38,6.38Z"/></svg>',vxe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 15"><path fill="currentColor" d="M11.41,8.41h0l1.14-.93,1.14-.93c.48-.39,.37-.74-.25-.77l-1.58-.09-2.5-.14-.41-1.05s0,0,0,0l-.53-1.38-.53-1.38c-.22-.58-.59-.58-.81,0l-1.07,2.75s0,0,0,0l-.41,1.05-2.5,.14-1.58,.09c-.62,.03-.73,.38-.25,.77l1.14,.93,1.14,.93h0l.87,.71-.57,2.15-.47,1.79c-.16,.6,.14,.81,.66,.48l2.48-1.6h0s.94-.61,.94-.61l.94,.61h0s1.24,.8,1.24,.8l1.24,.8c.52,.33,.82,.12,.66-.48l-.47-1.79-.57-2.15,.87-.71Z"/></svg>',yxe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M14.5,4H1.5c-.28,0-.5-.22-.5-.5s.22-.5,.5-.5H14.5c.28,0,.5,.22,.5,.5s-.22,.5-.5,.5Z" fill="currentColor"/><path d="M11.02,3.81l-.44-1.46c-.06-.21-.26-.36-.48-.36H5.9c-.22,0-.41,.14-.48,.36l-.44,1.46-.96-.29,.44-1.46c.19-.64,.77-1.07,1.44-1.07h4.2c.67,0,1.24,.43,1.44,1.07l.44,1.46-.96,.29Z" fill="currentColor"/><path d="M11.53,15H4.47c-.81,0-1.47-.64-1.5-1.45l-.34-9.87,1-.03,.34,9.87c0,.27,.23,.48,.5,.48h7.07c.27,0,.49-.21,.5-.48l.34-9.87,1,.03-.34,9.87c-.03,.81-.69,1.45-1.5,1.45Z" fill="currentColor"/><path d="M6.5,11.62c-.28,0-.5-.22-.5-.5V7.12c0-.28,.22-.5,.5-.5s.5,.22,.5,.5v4c0,.28-.22,.5-.5,.5Z" fill="currentColor"/><path d="M9.5,11.62c-.28,0-.5-.22-.5-.5V7.12c0-.28,.22-.5,.5-.5s.5,.22,.5,.5v4c0,.28-.22,.5-.5,.5Z" fill="currentColor"/></svg>',_xe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 9 16"><path d="M4.5,13c-.28,0-.5-.22-.5-.5V3.5c0-.28,.22-.5,.5-.5s.5,.22,.5,.5V12.5c0,.28-.22,.5-.5,.5Z" fill="currentColor"/><path d="M4.5,14c-.13,0-.26-.05-.35-.15L.65,10.35c-.2-.2-.2-.51,0-.71,.2-.2,.51-.2,.71,0l3.15,3.15,3.15-3.15c.2-.2,.51-.2,.71,0,.2,.2,.2,.51,0,.71l-3.5,3.5c-.1,.1-.23,.15-.35,.15Z" fill="currentColor"/></svg>',bxe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 9 16"><path d="M4.5,14c-.28,0-.5-.22-.5-.5V4.5c0-.28,.22-.5,.5-.5s.5,.22,.5,.5V13.5c0,.28-.22,.5-.5,.5Z" fill="currentColor"/><path d="M8,7.5c-.13,0-.26-.05-.35-.15l-3.15-3.15L1.35,7.35c-.2,.2-.51,.2-.71,0-.2-.2-.2-.51,0-.71l3.5-3.5c.2-.2,.51-.2,.71,0l3.5,3.5c.2,.2,.2,.51,0,.71-.1,.1-.23,.15-.35,.15Z" fill="currentColor"/></svg>',wxe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 7"><path d="M8,6.5c-.13,0-.26-.05-.35-.15L3.15,1.85c-.2-.2-.2-.51,0-.71,.2-.2,.51-.2,.71,0l4.15,4.15L12.15,1.15c.2-.2,.51-.2,.71,0,.2,.2,.2,.51,0,.71l-4.5,4.5c-.1,.1-.23,.15-.35,.15Z" fill="currentColor"/></svg>',U2='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 16"><path d="M12.5,16H2.5c-.83,0-1.5-.67-1.5-1.5V1.5c0-.83,.67-1.5,1.5-1.5h7.09c.4,0,.78,.16,1.06,.44l2.91,2.91c.28,.28,.44,.66,.44,1.06V14.5c0,.83-.67,1.5-1.5,1.5ZM2.5,1c-.28,0-.5,.22-.5,.5V14.5c0,.28,.22,.5,.5,.5H12.5c.28,0,.5-.22,.5-.5V4.41c0-.13-.05-.26-.15-.35l-2.91-2.91c-.09-.09-.22-.15-.35-.15H2.5Z" fill="currentColor"/><path d="M13.38,5h-2.91c-.81,0-1.47-.66-1.47-1.47V.62c0-.28,.22-.5,.5-.5s.5,.22,.5,.5V3.53c0,.26,.21,.47,.47,.47h2.91c.28,0,.5,.22,.5,.5s-.22,.5-.5,.5Z" fill="currentColor"/><path d="M10,13H5c-.28,0-.5-.22-.5-.5s.22-.5,.5-.5h5c.28,0,.5,.22,.5,.5s-.22,.5-.5,.5Z" fill="currentColor"/><path d="M10,10H5c-.28,0-.5-.22-.5-.5s.22-.5,.5-.5h5c.28,0,.5,.22,.5,.5s-.22,.5-.5,.5Z" fill="currentColor"/><path d="M7,7h-2c-.28,0-.5-.22-.5-.5s.22-.5,.5-.5h2c.28,0,.5,.22,.5,.5s-.22,.5-.5,.5Z" fill="currentColor"/></svg>';function Nu(e,t){return e instanceof HTMLElement&&e.parentNode instanceof HTMLElement||t.lastParent instanceof HTMLElement}var G={activeNode:void 0,enterCount:0,clonedDraggedNodes:Array(),direction:void 0,draggedNode:void 0,draggedNodes:Array(),dropZones:new WeakMap,dropped:!1,hiddenNodes:new WeakMap,initialParent:void 0,initialParentValues:[],lastCoordinates:{x:0,y:0},lastParent:void 0,lastValue:void 0,leftParent:!1,longTouch:!1,longTouchTimeout:void 0,nodeData:new WeakMap,parentData:new WeakMap,parentObservers:new WeakMap,parents:new WeakSet,preventEnter:!1,removeDraggable:void 0,scrollParent:void 0,scrollParentOverflow:void 0,touchMoving:!1,selectedNodes:Array(),selectedValues:Array(),touchEnded:!1,touchedNode:void 0,touchStartLeft:void 0,touchStartTop:void 0},xxe=typeof window<"u";function k8(e){var r,i,s,o;if(!G.draggedNode||!G.initialParent||!G.lastParent)return;const t=(r=G.parentData.get(G.initialParent))==null?void 0:r.config,n=(t==null?void 0:t.root)||document;if(t){const a=G.selectedValues.length>0,l=!(e.event instanceof DragEvent);let u;if(l?u=a?t.touchSelectionDropZoneClass:t.touchDropZoneClass:u=a?t.selectionDropZoneClass:t.dropZoneClass,Ki(G.draggedNodes,u,G,!0),u){const c=n.querySelectorAll(`.${M8(u)}`);Ki(Array.from(c),u,G,!0)}}Ki(G.draggedNodes,(s=(i=G.parentData.get(G.initialParent))==null?void 0:i.config)==null?void 0:s.longTouchClass,G,!0),(o=G.touchedNode)==null||o.remove(),G.touchedNode=void 0,G.lastParent=void 0,G.draggedNode=void 0,G.draggedNodes=[],G.selectedNodes=[],G.selectedValues=[],G.touchStartTop=G.touchedNode=void 0,G.touchStartLeft=0,G.lastValue=void 0,G.touchMoving=!1,G.lastCoordinates={x:0,y:0},G.direction=void 0,G.scrollParent&&(G.scrollParent.style.overflow=G.scrollParentOverflow||"",G.scrollParent=void 0,G.scrollParentOverflow=void 0)}function Vv(){if(!G.draggedNode||!G.lastParent||!G.initialParent)return;const e=G.nodeData.get(G.draggedNode),t=G.parentData.get(G.initialParent),n=G.parentData.get(G.lastParent);if(!(!e||!t||!n))return{draggedNode:G.draggedNode,draggedNodeData:e,draggedParent:G.initialParent,draggedParentData:t,lastParent:G.lastParent,lastParentData:n}}function I8(){if(!G.touchedNode)return;const e=Vv();return e===void 0?void 0:{...e,touchedNode:G.touchedNode}}function C8(e){if(!Nu(e.currentTarget,G))return;const t=G.nodeData.get(e.currentTarget),n=G.parentData.get(e.currentTarget.parentNode||G.lastParent);return!t||!n?void 0:{targetNode:e.currentTarget,targetNodeData:t,targetParent:e.currentTarget.parentNode||G.lastParent,targetParentData:n}}function A8(e){if(!Nu(e.currentTarget,G))return;const t=G.parentData.get(e.currentTarget);return t?{targetParent:e.currentTarget,targetParentData:t}:void 0}function O8(e){const t=e.touches[0].clientX,n=e.touches[0].clientY,r=document.elementsFromPoint(t,n);if(r){for(const i of r)if(Nu(i,G)&&G.nodeData.has(i)){const s=i,o=G.nodeData.get(s),a=G.parentData.get(s.parentNode);return!o||!a?void 0:{targetNode:s,targetNodeData:o,targetParent:s.parentNode,targetParentData:a}}else if(i instanceof HTMLElement&&G.dropZones.has(i)){if(!G.parentData.has(i))return;const s=G.parentData.get(i);return s?{targetParent:i,targetParentData:s}:void 0}}}function R8(e,t,n,r,i){var a;n.selectedValues=t;for(const l of e.draggedParentData.enabledNodes){if(l===e.draggedNode){n.selectedNodes.push(l);continue}const u=(a=n.nodeData.get(l))==null?void 0:a.value;u&&t!=null&&t.includes(u)&&n.draggedNodes.push(l)}const s=e.draggedParentData.config,o=n.draggedNodes.map(l=>{const u=l.cloneNode(!0);return KO(l,u,!0),e.event instanceof DragEvent&&Ki([u],s==null?void 0:s.selectionDraggingClass,n),u});return setTimeout(()=>{if(e.event instanceof DragEvent&&(s!=null&&s.selectionDropZoneClass))for(const l of n.draggedNodes)l.classList.add(s==null?void 0:s.selectionDropZoneClass)}),n.clonedDraggedNodes=o,{e,clonedEls:o,x:r,y:i}}function P8({e,clonedEls:t,x:n,y:r}){var o;const i=document.createElement("div");if(!(i instanceof HTMLElement))return;for(const a of t)i.append(a);const s=e.draggedNode.getBoundingClientRect();i.style.cssText=`
        display: flex;
        flex-direction: column;
        width: ${s.width}px;
        position: absolute;
        left: -9999px
      `,document.body.append(i),e.event instanceof DragEvent?((o=e.event.dataTransfer)==null||o.setDragImage(i,n,r),setTimeout(()=>{i.remove()})):G.touchedNode=i}function KO(e,t,n=!1){const r=window.getComputedStyle(e),i=["position","top","left","x","y","transform-origin","filter","-webkit-text-fill-color"];for(const s of Array.from(r))n===!1&&s&&i.includes(s)||t.style.setProperty(s,r.getPropertyValue(s),r.getPropertyPriority(s));for(const s of Array.from(e.children)){if(!Nu(s,G))continue;const o=t.children[Array.from(e.children).indexOf(s)];KO(s,o,n)}}function Ki(e,t,n,r=!1,i=!1){if(!t)return;const s=M8(t);s.length&&(r?Sxe(e,s,n):Exe(e,s,n,i))}function Exe(e,t,n,r=!1){if(!t.includes("longTouch"))for(const i of e){if(!Nu(i,n)||!n.nodeData.has(i)){i.classList.add(...t);continue}const s=[],o=n.nodeData.get(i);if(o){for(const a of t)i.classList.contains(a)?i.classList.contains(a)&&r===!1&&s.push(a):i.classList.add(a);o.privateClasses=s,n.nodeData.set(i,o)}}}function Sxe(e,t,n){for(const r of e){if(!Nu(r,n)){r.classList.remove(...t);continue}const i=n.nodeData.get(r);if(i)for(const s of t)i.privateClasses.includes(s)||r.classList.remove(s)}}function M8(e){return e.split(" ").filter(t=>t)}function D8(e){if(e!=null){if(e.scrollHeight>e.clientHeight)return e;if(e.parentNode instanceof HTMLElement)return D8(e.parentNode)}}function $xe(e){var n;const t=e.targetParentData.dzConfig;return t&&t.nodeDropZone===!1?!1:((n=e.targetParentData.config)==null?void 0:n.sortable)!==!1}function Txe(e){var a,l,u,c,d;const t=G.draggedNodes.map(f=>{var p;return(p=G.nodeData.get(f))==null?void 0:p.value}),n=e.targetParentData.getValues(e.targetParent),r=e.draggedParentData.getValues(e.draggedParent),i={name:(a=e.targetParentData.config)==null?void 0:a.name,group:(l=e.targetParentData.dzConfig)==null?void 0:l.group,values:n},s={name:(u=e.draggedParentData.config)==null?void 0:u.name,group:(c=e.draggedParentData.dzConfig)==null?void 0:c.group,values:r},o=(d=e.targetParentData.dzConfig)==null?void 0:d.accepts;return o?o(i,s,t):i.group?i.group===s.group:!0}function V2(e,t){e.event.dataTransfer&&(e.event.dataTransfer.dropEffect="move",e.event.dataTransfer.effectAllowed="move");const n=e.targetParentData.config,r=(n==null?void 0:n.setSelections)&&(n==null?void 0:n.setSelections(e.draggedNode.parentNode));if(Array.isArray(r)&&r.length){const i=e.targetNode.getBoundingClientRect(),s=e.event.clientX-i.left,o=e.event.clientY-i.top;P8(R8(e,r,t,s,o))}else n&&(Ki(t.draggedNodes,n.draggingClass,t),setTimeout(()=>{Ki(t.draggedNodes,n.draggingClass,t,!0),Ki(t.draggedNodes,n.dropZoneClass,t)}))}function j2(e,t){e.event.stopPropagation();const n=e.draggedNode.getBoundingClientRect();t.touchStartLeft=e.event.touches[0].clientX-n.left,t.touchStartTop=e.event.touches[0].clientY-n.top;const r=e.draggedParentData.config,i=(r==null?void 0:r.setSelections)&&(r==null?void 0:r.setSelections(e.draggedNode.parentNode));Array.isArray(i)&&i.length?P8(R8(e,i,t,t.touchStartLeft,t.touchStartTop)):(t.touchedNode=e.touchedNode,e.touchedNode.style.cssText=`
            width: ${n.width}px;
            position: absolute;
            pointer-events: none;
            top: -9999px;
            z-index: 999999;
            display: none;
          `,document.body.append(e.touchedNode),KO(e.draggedNode,e.touchedNode),e.touchedNode.style.display="none"),r!=null&&r.longTouch&&(t.longTouchTimeout=setTimeout(()=>{t.longTouch=!0;const s=D8(e.draggedNode);s&&(t.scrollParent=s,t.scrollParentOverflow=s.style.overflow,s.style.overflow="hidden"),r.longTouchClass&&Ki(t.draggedNodes,r.longTouchClass,t),e.event.cancelable&&e.event.preventDefault(),document.addEventListener("contextmenu",function(o){o.preventDefault()})},200))}function H2(e,t){if(!t.touchedNode)return;const n=e.draggedParentData.config;if(n!=null&&n.longTouch&&!t.longTouch){clearTimeout(t.longTouchTimeout);return}t.touchMoving!==!0&&(t.touchMoving=!0,Ki(t.draggedNodes,n==null?void 0:n.longTouchClass,t,!0),Array.isArray(t.selectedValues)&&t.selectedValues.length?(Ki(t.clonedDraggedNodes,n==null?void 0:n.touchSelectionDraggingClass,t),Ki(t.draggedNodes,n==null?void 0:n.touchSelectionDropZoneClass,t)):(Ki([t.touchedNode],n==null?void 0:n.touchDraggingClass,t),Ki(t.draggedNodes,n==null?void 0:n.touchDropZoneClass,t))),e.touchedNode.style.display="block";const r=e.event.touches[0].clientX+window.scrollX,i=e.event.touches[0].clientY+window.scrollY,s=window.innerHeight+window.scrollY;i>s-50?window.scrollBy(0,10):i<window.scrollY+50&&window.scrollBy(0,-10);const o=t.touchStartLeft??0,a=t.touchStartTop??0;e.touchedNode.style.left=`${r-o}px`,e.touchedNode.style.top=`${i-a}px`,e.event.cancelable&&e.event.preventDefault()}function W2(e,t){const n=e.targetParentData.getValues(e.targetParent),r=t.draggedNodes.map(s=>{var o;return(o=t.nodeData.get(s))==null?void 0:o.value}),i=[...n.filter(s=>!r.includes(s))];i.splice(e.targetNodeData.index,0,...r),e.targetParentData.setValues(e.targetParent,i)}function op(e,t){if(e.draggedParent===e.lastParent)return;const n=[...e.lastParentData.getValues(e.lastParent)],r=t.draggedNodes.map(s=>{var o;return(o=t.nodeData.get(s))==null?void 0:o.value}),i=[...n.filter(s=>!r.includes(s))];e.lastParentData.setValues(e.lastParent,i),t.lastParent=e.draggedParent,e.draggedParentData.setValues(e.draggedParent,t.initialParentValues)}function kxe(e,t){}function jb(e,t){if(!(e.event instanceof DragEvent&&t.longTouch)){if(e.event instanceof DragEvent||(t.longTouch=!1,clearTimeout(t.longTouchTimeout)),t.draggedNode&&t.draggedNode.parentNode&&t.draggedNode.parentNode!==t.lastParent&&t.initialParent){const n=t.nodeData.get(t.draggedNode);if(n){const r=t.parentData.get(t.draggedNode.parentNode),i=[...(r==null?void 0:r.getValues(t.draggedNode.parentNode))||[]],s=n.index;i.splice(s,t.draggedNodes.length),r==null||r.setValues(t.initialParent,i)}}k8(e)}}function q2(e,t){k8(e)}function z2(e={},t,n){const r=G.parentData.get(t);if(!r)return;n.disabled?Ixe(t):K2(t,e,t);for(const o of e.validDropZones||[])K2(o,e,t);const i=r.config;if(!i||!i.setDraggable)return;const s=i.setDraggable;i.setDraggable=o=>(s(o),Cxe(o),o)}function K2(e,t,n){e.addEventListener("dragover",Hb),e.addEventListener("drop",Hb);const r=G.parentData.get(e);r&&(n?(r.dzConfig=t,G.dropZones.set(e,n),G.parentData.set(e,r)):(r.dzConfig=t,G.parentData.set(e,r)))}function Ixe(e){e.removeEventListener("dragover",Hb),e.removeEventListener("drop",Hb),G.parentData.get(e)}function Cxe(e){e.addEventListener("dragover",Axe),e.addEventListener("touchmove",Oxe)}function Hb(e){e.stopPropagation(),e.preventDefault();const t=A8(e);if(t===void 0)return;const n=Vv();if(n===void 0)return;const r={event:e,...t,...n},i=r.targetParentData.dzConfig;switch(r.event.type){case"dragover":G.lastParent!==r.targetParent&&r.draggedParent!==r.targetParent&&(Wb(r,G),G.enterCount++,G.leftParent=!0);break;case"drop":r.targetParent!==r.draggedParent&&(i&&i.drop?i.drop(r,G,Y2):Y2(r,G))}}function Axe(e){var i;e.stopPropagation(),e.preventDefault();const t=C8(e);if(!t)return;const n=Vv();if(n===void 0)return;const r={event:e,...t,...n};if(r&&e.type==="dragover"&&G.lastParent!==r.targetParent&&r.targetParent!==r.draggedParent){const s=(i=r.targetParentData)==null?void 0:i.dzConfig;if(s&&s.nodeDropZone===!1)return;r.targetParent!==r.draggedParent&&(Wb(r,G),G.leftParent=!0)}}function Oxe(e){if(e.type!=="touchmove")return;const t=O8(e);if(t===void 0)return;const n=I8();if(n!==void 0)if("targetNode"in t){const r={event:e,...t,...n};if(r.targetParent===r.draggedParent){op(r,G);return}if(r.lastParent==r.targetParent)return;Wb(r,G),G.leftParent=!0}else{const r={event:e,...t,...n};r.lastParent!==r.draggedParent&&r.draggedParent===r.targetParent?(op(r,G),G.leftParent=!1):r.targetParent!==r.draggedParent&&r.lastParent!==r.targetParent&&(Wb(r,G),G.leftParent=!0)}}function Wb(e,t){if(!Txe(e))return;const n=e.targetParentData.dzConfig;n!=null&&n.transfer?n.transfer(e,t,G2):G2(e,t),t.lastParent=e.targetParent}function G2(e,t){let n=[...e.lastParentData.getValues(e.lastParent)];const r=t.draggedNodes.map(s=>{var o;return(o=t.nodeData.get(s))==null?void 0:o.value});n=[...n.filter(s=>!r.includes(s))];const i=[...e.targetParentData.getValues(e.targetParent)];"targetNodeData"in e?i.splice(e.targetNodeData.index,0,...t.draggedNodes.map(s=>{var o;return(o=t.nodeData.get(s))==null?void 0:o.value})):i.push(...r),e.lastParentData.setValues(e.lastParent,n),e.targetParentData.setValues(e.targetParent,i)}function Y2(e,t){t.draggedNode}function Rxe(e){e.preventDefault()}function xi(e,t,n,r){var s,o,a;if(!xxe)return;if(document.addEventListener("dragover",Rxe),!G.parents.has(e)&&(G.parents.add(e),new MutationObserver(Mxe).observe(e,{childList:!0}),e.parentNode)){e.addEventListener("dragenter",zy),e.addEventListener("dragover",zy),e.addEventListener("dragleave",zy),e.addEventListener("drop",zy);const u=new MutationObserver(Pxe);if(u.observe(e.parentNode,{childList:!0}),!(e.parentNode instanceof HTMLElement))return;G.parentObservers.set(e.parentNode,u)}r.setDraggable||(r.setDraggable=Dxe),r.removeDraggable||(r.removeDraggable=ik);const i=(o=(s=G.parentData.get(e))==null?void 0:s.config)==null?void 0:o.plugins;i==null||i.forEach(l=>{l.tearDown&&l.tearDown(e,r)}),G.parentData.set(e,{getValues:t,setValues:n,config:r,enabledNodes:[]}),(a=r.plugins)==null||a.forEach(l=>{l.setUp(e,r)}),N8(e)}function Pxe(e){for(const t of e)for(const n of Array.from(t.removedNodes)){if(!(n instanceof HTMLElement)||!G.parentData.has(n))continue;G.parentData.delete(n);let i=!1;for(const s of Array.from(t.target.childNodes))if(G.parents.has(s)){G.parents.delete(n),i=!0;break}if(!i){const s=G.parentObservers.get(t.target);s&&(s.disconnect(),G.parentObservers.delete(t.target))}}}function Mxe(e){const t=e[0].target;t instanceof HTMLElement&&N8(t)}function N8(e){var o,a;const t=G.parentData.get(e);if(!t)return;const n=[],r=t.config;let i=!1;for(let l=0;l<e.children.length;l++){const u=e.children[l];Nu(u,G)&&(r&&r.draggable&&!r.draggable(u)?ik(u):r!=null&&r.disabled?(i=!0,ik(u)):(o=t.config)!=null&&o.setDraggable&&(t.config.setDraggable(u),n.push(u)))}if(n.length!==t.getValues(e).length&&!i){console.warn("The number of enabled nodes does not match the number of values.");return}const s=t.getValues(e);for(let l=0;l<n.length;l++){const u=n[l];if(G.nodeData.set(u,{value:s[l],index:l,privateClasses:[]}),!G.draggedNode||!r)continue;let c;const d=G.selectedValues.includes(s[l]);if(!d&&((a=G.nodeData.get(G.draggedNode))==null?void 0:a.value)!==s[l])continue;!!G.touchedNode?c=d?r==null?void 0:r.touchSelectionDropZoneClass:r==null?void 0:r.touchDropZoneClass:c=d?r==null?void 0:r.selectionDropZoneClass:r==null?void 0:r.dropZoneClass,Ki([u],c,G,!1,!0)}G.parentData.set(e,{...t,enabledNodes:n})}function ik(e){e.getAttribute("draggable")==="true"&&e.removeAttribute("draggable"),e.removeEventListener("dragstart",jl),e.removeEventListener("dragenter",jl),e.removeEventListener("dragend",jl),e.removeEventListener("dragover",jl),e.removeEventListener("touchstart",If),e.removeEventListener("touchmove",If),e.removeEventListener("touchend",If)}function Dxe(e){e.setAttribute("draggable","true"),e.addEventListener("dragstart",jl),e.addEventListener("dragenter",jl),e.addEventListener("dragend",jl),e.addEventListener("dragover",jl),e.addEventListener("touchstart",If,{passive:!1}),e.addEventListener("touchmove",If,{passive:!1}),e.addEventListener("touchend",If)}function jl(e){e.stopPropagation();const t=C8(e);if(!t)return;if(e.type==="dragstart"){if(G.lastParent=t.targetParent,G.draggedNode=t.targetNode,G.initialParent=t.targetParent,!G.draggedNode)return;G.draggedNodes=[G.draggedNode],G.initialParentValues=t.targetParentData.getValues(t.targetParent)}const n=Vv();if(n===void 0)return;const r={event:e,...t,...n},i=r.draggedParentData.config;switch(r.event.type){case"dragstart":i!=null&&i.dragstart?i.dragstart(r,G,V2):V2(r,G);break;case"dragover":if(r.event.preventDefault(),r.targetNode===r.draggedNode){G.lastValue=r.targetNodeData.value;return}if(r.targetParent===r.lastParent)L8(r,G);else{const s=r.targetParentData.config;s!=null&&s.transferReturn?s.transferReturn(r,G,op):op(r,G)}break;case"dragend":i!=null&&i.end?i.end(r,G,jb):jb(r,G);break}}function If(e){if(e.stopPropagation(),G.touchMoving&&e.type==="touchstart"||!Nu(e.currentTarget,G))return;if(e.type==="touchstart"){G.draggedNode=e.currentTarget;const o=e.currentTarget.cloneNode(!0);if(!(o instanceof HTMLElement))return;const a=G.parentData.get(e.currentTarget.parentNode);if(!a)return;const l=a.getValues(e.currentTarget.parentNode);if(!l)return;G.touchedNode=o,G.draggedNodes=[G.draggedNode],G.lastParent=e.currentTarget.parentNode,G.initialParent=e.currentTarget.parentNode,G.initialParentValues=l}if(!G.touchedNode)return;const t=I8();if(t===void 0)return;const n=t.draggedParentData.config,r={event:e,...t},i=r.draggedParentData.config;let s;switch(e.type){case"touchstart":n!=null&&n.touchstart?n.touchstart(r,G,j2):j2(r,G);break;case"touchmove":if(n!=null&&n.touchmove?n.touchmove(r,G,H2):H2(r,G),n!=null&&n.longTouch&&!G.longTouch||(s=O8(e),!s))return;if("targetNode"in s){const o={event:e,...s,...t};if(o.targetNode===o.draggedNode){G.lastValue=o.targetNodeData.value;return}o.targetParent===o.lastParent&&L8(o,G)}break;case"touchend":G.touchMoving=!1,i!=null&&i.end?i.end(r,G,jb):jb(r,G);break}}function zy(e){var s,o;e.stopPropagation(),e.preventDefault();const t=A8(e);if(!t)return;const n=Vv();if(n===void 0)return;const r={event:e,...t,...n},i=r.targetParentData.dzConfig;switch(r.event.type){case"dragover":r.targetParent===r.draggedParent&&G.leftParent&&((s=r.targetParentData.config)!=null&&s.transferReturn?r.targetParentData.config.transferReturn(r,G,op):op(r,G),G.leftParent=!1);break;case"dragleave":r.event.preventDefault(),r.targetParent.contains(document.elementFromPoint(r.event.clientX,r.event.clientY))?G.lastParent!==r.targetParent&&(G.lastParent,r.draggedParent):((o=r.targetParentData.config)!=null&&o.dragleave?r.targetParentData.config.dragleave(r,G,kxe):void 0,G.leftParent=!0);break;case"drop":r.targetParent==r.draggedParent&&(i&&i.drop?i.drop(r,G,q2):q2(r))}}function L8(e,t){var i;const n="touchedNode"in e?e.event.touches[0].clientX:e.event.clientX,r="touchedNode"in e?e.event.touches[0].clientY:e.event.clientY;t.lastValue===e.targetNodeData.value&&(t.direction!==1||r>=t.lastCoordinates.y-20&&n>=t.lastCoordinates.x-e.targetNode.getBoundingClientRect().width/20)||$xe(e)&&(t.lastValue=e.targetNodeData.value,t.lastCoordinates={x:n,y:r},t.direction=e.targetNodeData.index>e.draggedNodeData.index?1:-1,(i=e.targetParentData.config)!=null&&i.sort?e.targetParentData.config.sort(e,t,W2):W2(e,t))}function Nxe(e,t){e in Qy||(Qy[e]={timer:0,inputs:new Set});const n=Qy[e];clearTimeout(n.timer),n.inputs.add(t),n.timer=vS(()=>{fk[e]||(fk[e]=vS(()=>tx.add(e),2e3)),function(r){if(Zi){window.addEventListener(YEe(),u=>{const c=new URL(u.blockedURI).hostname;dk.some((d,f)=>TF(f)===c)&&(X2(r),console.warn("[FormKit]: Enterprise license required for restrictive CSP."))});let i=0;const s=Na(zEe),o="://",a=new Date().getDate(),l=async()=>{const u=Array.from(Qy[r].inputs),c=u.filter(d=>!(vh[r]&&vh[r].has(d))).join("");if(QEe(r),c){i++;try{const d=await window[Na(GEe)](`${s}${o}${TF((a+i)%dk.length)}/${function(p){const g=Math.round(9*Math.random());let h="";for(let m=0;m<p.length;m++){let v=p.charCodeAt(m);v>=48&&v<=57?v=48+(v+g)%58%48:v>=97&&v<=122&&(v=97+(v+g)%123%97),h+=String.fromCharCode(v)}return`${g}${h}`}(`${r.substring(3)}x${c}`)}`),f=await d.json();if(f[Na(KEe)])return X2(r,f.schema);if(d.ok)return vh[r]||(vh[r]=new Set),void u.forEach(p=>vh[r].add(p))}catch{}i<2&&vS(l,1e4*Math.random())}};l()}}(e)},500)}function X2(e,t){tx.add(e),function(n,r){_g[n]&&_g[n].forEach(i=>i(r))}(e,t)}function cS(e,t,n){if(Nxe(t,n),!t)throw new Error("FormKitNoKey");return tx.has(t)?null:e}function nu(e,t){return new Array(e).fill("").map((n,r)=>t(r))}function Lxe(e,t,n,r){return(...i)=>s=>o=>{const a=function(l,u,c,d,f,p){const g=p[c],h=typeof d=="function"?d():{$el:d},m=f.map(y=>typeof y=="string"?y:y(u)(p));let v=m.length&&h?pc(h,{children:m}):h;if(v=pc(v,g),typeof v=="object"){let y=v;if(!qc(v)&&!ip(v)||v.meta||(v.meta={section:c,node:d}),qc(v)){const{$el:_,...b}=v;b.attrs?"class"in b.attrs||"if"in b.attrs||(b.attrs={class:`$classes.${c}`,...b.attrs}):b.attrs={class:`$classes.${c}`},y=Ky(u,c,Object.defineProperty(b,"$el",{enumerable:!1,get:cS.bind(null,_,u,l)}))}else if(ip(v)){const{$cmp:_,...b}=v;y=Ky(u,c,Object.defineProperty(b,"$cmp",{enumerable:!1,get:cS.bind(null,_,u,l)}))}else if("$formkit"in v){v.outerClass=`$classes.${c}`;const{$formkit:_,...b}=v;y=Ky(u,c,Object.defineProperty(b,"$formkit",{enumerable:!1,get:cS.bind(null,_,u,l)}))}return y}return Ky(u,c,v)}(e,s,t,n,i,o);return r&&Wc(a)&&(a.memo=e+JSON.stringify(o)),r?[a]:a}}function Ky(e,t,n){const r=i=>e?i||`$slots.${t}`:null;return Object.defineProperties({},{if:{enumerable:!1,get:r},then:{enumerable:!1,get:r},else:{enumerable:!1,get:r.bind(null,n)}})}function Ws(e){return(t,n,r=!1)=>Lxe(e,t,n,r)}function qs(e){return{outer:e("outer",JEe,!0),wrapper:e("wrapper","div",!1),inner:e("inner",ZEe,!1),icon:pk,label:e("label",eSe,!1),prefix:e("prefix",kF,!1),suffix:e("suffix",kF,!1),help:e("help",rSe,!1),messages:e("messages",tSe,!1),message:e("message",nSe,!1)}}function F8(e){return{overlayPlaceholder:e("overlayPlaceholder",iSe),overlayLiteral:e("overlayLiteral",sSe),overlayChar:e("overlayChar",oSe),overlayEnum:e("overlayEnum",aSe),overlay:e("overlay",lSe),overlayParts:e("overlayParts",cSe),overlayInner:e("overlayInner",uSe)}}function Fe(e,t,n){return r=>i=>{const s=typeof t=="string"?t:t(r)(i);return n?{if:e,then:s,else:typeof n=="string"?n:n(r)(i)}:(Ub(s)?Object.assign(s.else,{if:e}):Im(s)&&Object.assign(s,{if:e}),s)}}function GO(e){const t=e("dropdownWrapper",()=>({$el:"div",attrs:{id:'$id + "_popover"',popover:{if:"$usePopover",then:"$popover",else:void 0},"data-is-wrapper":!0,style:"$dropdownWrapperStyles",onScroll:"$handlers.scroll"}})),n=e("listbox",()=>({$el:"ul",if:"$expanded || $setForceExpanded",attrs:{style:"$listboxStyles",id:'$id + "_listbox"',role:"listbox","aria-activedescendant":"$activeDescendant","aria-labelledby":'$id + "_label"'}})),r=e("listitem",()=>({$el:"li",for:["option","index","$options"],bind:"$option.attrs",attrs:{id:'$id + "_listitem_" + $index',"data-disabled":"$option.attrs.disabled","data-value":"$option.value",key:"$option.value",onClick:"$handlers.selectOption($option)",onBlur:"$handlers.blurListitem",role:"option","aria-selected":"$hidingValue === true && false || $fns.isSelected($option)","data-is-active":"$fns.isActive($option)",tabindex:"-1"}})),i=e("loadMore",()=>({$el:"li",if:"$state.loading || $state.hasNextPage",attrs:{id:'$id + "_load_more"',key:"loadMore",role:"option",onClick:"$handlers.selectOption($loadMoreOption)","aria-selected":"false","data-is-active":"$fns.isActive($loadMoreOption)",tabindex:"-1"}})),s=e("loadMoreInner","span"),o=e("emptyMessage",()=>({$el:"li",if:"$showEmptyMessage && $state.loading !== true",attrs:{id:'$id + "_empty_message"',key:"$emptyMessage",role:"presentation"}})),a=e("emptyMessageInner","span"),l=e("option",()=>({$el:"div",attrs:{"data-checked":"$fns.isSelected($option)"}}));return()=>t(n(o(a("$emptyMessage")),r(Fe("$fns.isSelected($option)",pk("selected")),l("$option.label")),i(Fe("$state.loading && $optionLoadingCounter === 0 || $state.hasNextPage",s(Fe("$state.loading",pk("loader")),"$state.loading && $ui.isLoading.value || $ui.loadMore.value")))))}function Q2(e){return Wc(e)&&"value"in e&&"label"in e}function YO(e){return e?e.reduce((t,n)=>{var r;return((r=t.at(-1))===null||r===void 0?void 0:r.type)===n.type?t.at(-1).value+=n.value:t.push({type:n.type,value:n.value}),t},[]):[]}function Kc(){var e,t,n;const r=((e=document.activeElement)===null||e===void 0?void 0:e.tagName.toLowerCase())||"";if(customElements.get(r)){const i=(n=(t=document.activeElement)===null||t===void 0?void 0:t.shadowRoot)===null||n===void 0?void 0:n.activeElement;if(i)return i}return document.activeElement}function Me(e){return"__original"in e?e.__original:e.value}async function fo(e,t,n=!1,r=!1){if(typeof e.props.optionsLoader=="function"){e.props.search=t,clearTimeout(CF.get(e));const i=t?e.props.debounce:0;i===0?(n&&(e.props.options=[]),qb(e,r)):CF.set(e,setTimeout(()=>{e.props.page=1,n&&(e.props.options=[]),qb(e,r)},i))}else Array.isArray(e.props.options)&&(e.props.options=[...e.props.initialOptions.filter(i=>e.props.filter(i,t??"",e))])}function qb(e,t){e.props.allowAppendOptions=t,jv(e)}function Fxe(e,t){if(e.props.allowAppendOptions)return e.props.allowAppendOptions=!1,function(r,i){const s=Mb(i);r.props.ignoreScroll=!0,r.props.options=r.props.options.concat(s)}(e,t);const n=Mb(t);e.props.options=n,e.props.options.length||(e.store.set(Am),e.store.set(pr({key:"hasNextPage",type:"state",value:!1,visible:!1}))),$7.set(e,e.props.searchValue)}function B8(e,t,n){if(e.store.set(T7),e.props.optionLoadingCounter++,e.props.multiple&&e.props.selectionAppearance!=="truncate"){const o=n||{label:String(t),value:t};e.props.optionLoaderValues.includes(o.value)||e.props.optionLoaderValues.push(o.value),e.props.type==="transferlist"||e.props.selections.includes(o)||(e.props.selections=[...e.props.selections,o])}const r=e.props.optionLoader(t,n),i=o=>typeof o=="string"?{label:o,value:t}:Q2(o)?o:Wc(o)?Object.assign({label:String(t),value:t},o):{label:String(t),value:t},s=o=>{const a=e.props.memoOptions.findIndex(l=>Me(l)===Me(o));return a===-1?e.props.memoOptions=[...e.props.memoOptions,o]:e.props.memoOptions[a]=o,o};return r instanceof Promise?r.then(o=>{if(typeof o=="string"||Q2(o))return s(i(o))}).finally(()=>{e.props.optionLoaderValues=e.props.optionLoaderValues.filter(o=>o!==t),e.props.optionLoadingCounter--}):(e.props.optionLoaderValues=e.props.optionLoaderValues.filter(o=>o!==t),e.props.optionLoadingCounter--,s(i(r)))}function jv(e){e.store.set(T7),e.props.optionsLoadingCounter++,e.store.set(pr({key:"hasNextPage",type:"state",value:!1,visible:!1}));const t=e.props.nonceKey&&e.props[e.props.nonceKey],n=e.props.optionsLoader(e.context,k7.get(e)),r=Fxe.bind(null,e),i=n instanceof Promise?n.then((...s)=>{e.props.nonceKey!==void 0&&t!==e.props[e.props.nonceKey]||r(...s)}):(r(n),e.props.optionsLoadingCounter--);if(i instanceof Promise)return i.finally(()=>{e.props.optionsLoadingCounter--})}function U8(e,t){e.props.page++,k7.set(e,t),e.store.set(pr({key:"hasNextPage",type:"state",value:!0,visible:!1}))}function Z1(e,t){if(e.props.optionRemoved=!0,t){const n=(e.props.inputStd||[]).filter(r=>!at(Me(t),r));e.input(n)}else e.input(void 0);e.props.openOnRemove&&!e.props.expanded&&e.isCreated&&(e.props.expanded=!0),setTimeout(()=>{var n;return e.emit("selectRange",[(n=e.props.highlightedRange)===null||n===void 0?void 0:n.option])},20)}async function Gy(e){const t=oR(e);e.props.resetSearchOnCommit&&e.props.optionsLoader==="function"&&(e.props.searchValue=""),e.props.selections=[...t];const n=[...t,...e.props.memoOptions];e.props.memoOptions=[...new Set(n)],function(r){var i,s;r.props.firstCommit?r.props.firstCommit=!1:Zi&&r.isCreated&&(r.props.optionRemoved?r.props.optionRemoved=!1:(r.props.expanded&&r.props.closeOnSelect&&(r.props.expanded=!1),r.props.userAction&&(r.props.openOnFocus&&(r.props.skipOpen=!0),r.props.userAction.type!=="tagDelete"&&((s=(i=r.props.__root)===null||i===void 0?void 0:i.getElementById(`${r.props.id}`))===null||s===void 0||s.focus()),r.props.userAction=void 0)))}(e)}function XO(e){var t,n;if(e.props.options&&e.props.options.length)if(!((t=e.props.highlightedRange)===null||t===void 0)&&t.option.value)e.props.activeValue=Me(e.props.highlightedRange.option);else{if(e.props.activeSelectionValue){const r=e.props.options.find(i=>at(Me(i),e.props.activeSelectionValue));if(r)return void(e.props.activeValue=r.value)}e.props.reloadOnCommit||e.props.searchValue?e.props.activeValue=Me(e.props.options[0]):(e.props.inputStd.length>0&&!e.props.multiple||e.props.multiple&&(!((n=e.context)===null||n===void 0)&&n.state.dirty))&&e.props.selections[e.props.selections.length-1]?e.props.activeValue=Me(e.props.selections[e.props.selections.length-1]):e.props.activeValue=Me(e.props.options[0])}}function QO(e,t){var n,r;!((n=t.attrs)===null||n===void 0)&&n.disabled||(Me(t)!==Bp?(e.props.option=t,e.props.maxReached&&!j8(e,t)||e.input(V8(e,Me(t)))):(r=e.context)===null||r===void 0||r.handlers.loadMore(!0))}function V8(e,t){if(e.props.multiple){const n=Array.isArray(e.value)?e.value:[];return n.includes(t)?(e.props.optionRemoved=!0,n.filter(r=>r!==t)):[...n,t]}return t===e.value&&e.props.deselect?void(e.props.optionRemoved=!0):t}function Bxe(e,t){return at(e.props.activeValue,Me(t))||void 0}function j8(e,t){return e.props.multiple?!!Array.isArray(e.value)&&e.value.includes(Me(t)):at(e.value,Me(t))}function zb(e){var t,n;if(!e.props.usePopover||e.props.behavior==="overscroll")return;const r=e.props.invertPopover?e.props.popoverCoordinates.y-e.props.popoverCoordinates.height-e.props.popoverOffset-e.props.popoverAncestorCoordinates.height:e.props.popoverCoordinates.y+e.props.popoverOffset;e.props.dropdownWrapperStyles={...e.props.dropdownWrapperStyles,minWidth:0,width:"100%",maxWidth:((n=(t=e.props)===null||t===void 0?void 0:t.popoverAncestorCoordinates)===null||n===void 0?void 0:n.width)+"px",top:r+"px",bottom:"unset",left:e.props.popoverCoordinates.x+"px",margin:0,padding:0,opacity:0},e.props.popoverCoordinates.height&&setTimeout(()=>{e.props.dropdownWrapperStyles={...e.props.dropdownWrapperStyles,opacity:1}},0)}function Uxe(e){e.props.firstCommit=!0;let t=null;e.on("commit",()=>{if(e.props.inputStd.length===0&&e.isCreated)return function(n){var r,i;n.props.selections=[],n.props.userAction&&(n.props.userAction=void 0,n.props.openOnFocus&&(n.props.skipOpen=!0),(i=(r=n.props.__root)===null||r===void 0?void 0:r.getElementById(`${n.props.id}`))===null||i===void 0||i.focus()),n.props.optionRemoved=!1}(e),void(t=e.props.inputStd);if(e.props.inputStd.length&&typeof e.props.optionsLoader=="function"&&e.props.options.length===0&&typeof e.props.optionLoader!="function"&&e.props.optionsLoadingCounter===0){e.props.optionsLoaded=!0;const n=jv(e);n instanceof Promise&&n.then(()=>{Gy(e)})}typeof e.props.optionLoader!="function"||e.props.optionRemoved||function(n,r){if(n===r)return!0;if(n==null||r==null||n.length!==r.length)return!1;for(var i=0;i<n.length;++i)if(n[i]!==r[i])return!1;return!0}(t,e.props.inputStd)?e.props.optionsLoadingCounter===0&&Gy(e):(t=e.props.inputStd,async function(n){const r=oR(n);if((n.props.inputStd.length>1?n.props.inputStd.filter(s=>!n.props.memoOptions.find(o=>at(Me(o),s))):n.props.inputStd).forEach(s=>{B8(n,s,Array.isArray(r)&&r.find(o=>at(Me(o),s)&&!o.noOptionFound))}),n.props.optionLoadingCounter){const s=n.on("prop:optionLoadingCounter",()=>{Gy(n),n.props.optionLoadingCounter||n.off(s)})}else Gy(n)}(e))})}function Vxe(e){function t(o,a){o.props.behavior!=="overscroll"&&getComputedStyle(a).maxHeight==="none"&&(o.props.dropdownWrapperStyles={...o.props.dropdownWrapperStyles,maxHeight:"400px"}),new MutationObserver(()=>{const l=o.props.positionListBox(a);yh.delete(o),n(o,l);let u,c=null;const d=new ResizeObserver(()=>{clearTimeout(u),u=setTimeout(()=>{o.props.styleWrapper(),o.props.positionListBox(a),c||(c=o.on("prop:expanded",()=>{d.disconnect(),o.off(c)}))},100)});d.observe(a)}).observe(a,{childList:!0,subtree:!0})}function n(o,a){var l;if(!o.props.expanded||!o.props.options||!o.props.options.length||yh.has(o))return;const u=o.props.options.reduce((d,f,p)=>{var g,h;if(!((g=f.attrs)===null||g===void 0)&&g.disabled)return d;const m=(h=o.props.__root)===null||h===void 0?void 0:h.getElementById(`${o.props.id}_listitem_${p}`);return m&&d.push([m,f]),d},[]),c=(l=o.props.__root)===null||l===void 0?void 0:l.getElementById(`${o.props.id}_load_more`);c&&u.push([c,o.props.loadMoreOption]),yh.add(o),u.length&&r(o,u,a)}function r(o,a,l){var u,c,d,f;const p=(u=o.props.__root)===null||u===void 0?void 0:u.getElementById(`${o.props.id}_popover`);if(o.props.trackHover){const g=p?p.getBoundingClientRect():{top:0,bottom:0};if(l=null,o.props.mouseY>g.top&&o.props.mouseY<g.bottom){let h=l||0,m=l;const v=(y,_)=>{var b;const x=_[0],{y:w,height:$,x:E,width:S}=x.getBoundingClientRect();if(o.props.mouseX>E&&o.props.mouseX<E+S&&o.props.mouseY>w&&o.props.mouseY<w+$){l=y;const T=_[1];return o.props.activeValue=T&&!(!((b=T.attrs)===null||b===void 0)&&b.disabled)?Me(T):void 0,!0}return!1};do{if(h!==null&&v(h,a[h])||m!==null&&v(m,a[m]))break;h!==null&&(h++,h>a.length-1&&(h=null)),m!==null&&(m--,m<0&&(m=null))}while(h!==null||m!==null)}l===null&&(o.props.activeValue=void 0)}o.props.trackHover||J2(o),o.props.expanded?(p&&o.props.loadOnScroll&&!(!((c=o.store.loading)===null||c===void 0)&&c.value)&&(!((d=o.store.hasNextPage)===null||d===void 0)&&d.value)&&p.scrollTop+p.offsetHeight>p.scrollHeight-200&&((f=o.context)===null||f===void 0||f.handlers.loadMore(!0)),yh.has(o)?requestAnimationFrame(r.bind(null,o,a,l)):n(o,l)):yh.delete(o)}if(!Zi)return;e.props.positionListBox=(function(o,a){var l,u;let c=null;if(o.props.activeDescendant&&(c=o.props.options.filter(p=>{var g;return!(!((g=p.attrs)===null||g===void 0)&&g.disabled)}).findIndex(p=>at(o.value,Me(p))),c===-1&&(c=null),!((l=o.props.__root)===null||l===void 0)&&l.getElementById(o.props.activeDescendant)&&J2(o)),typeof window>"u")return c;const d=a.getBoundingClientRect(),f=(u=o.props.__root)===null||u===void 0?void 0:u.getElementById(`${o.props.id}`);if(f){const p=f.getBoundingClientRect();p.top+p.height+d.height>window.innerHeight&&p.top+p.height>d.height?(o.props.invertPopover=!0,o.props.usePopover?zb(o):o.props.dropdownWrapperStyles={...o.props.dropdownWrapperStyles,top:"auto",bottom:"100%"}):(o.props.invertPopover=!1,o.props.usePopover?zb(o):o.props.dropdownWrapperStyles={...o.props.dropdownWrapperStyles,bottom:"auto",top:"100%"})}return c}).bind(null,e),e.props.styleWrapper=jxe.bind(null),e.on("mounted",()=>{cr(`${e.props.id}_popover`,t.bind(null,e),e.props.__root)});const i=o=>{var a;e.props.mouseX=o.clientX,e.props.mouseY=o.clientY;const l=(a=e.props.__root)===null||a===void 0?void 0:a.getElementById(`${e.props.id}_popover`);if(l){const u=l.getBoundingClientRect();o.clientX>u.x&&o.clientX<u.x+u.width&&o.clientY>u.y&&o.clientY<u.y+u.height&&(e.props.trackHover=!0)}},s=()=>{e.props.ignoreScroll?e.props.ignoreScroll=!1:e.props.trackHover=!0};e.on("prop:trackHover",({payload:o})=>{var a,l,u;Zi&&(o?(u=(l=e.props.__root)===null||l===void 0?void 0:l.getElementById(`${e.props.id}_popover`))===null||u===void 0||u.removeEventListener("scroll",s):(a=e.props.__root)===null||a===void 0||a.getElementById(`${e.props.id}_popover`))}),e.on("prop:expanded",({payload:o})=>{e.props.dropdownWrapperStyles={...e.props.dropdownWrapperStyles,zIndex:o||e.props.forceExpanded?"999":"-1",pointerEvents:o?"auto":"none"},o?(document.addEventListener("mousemove",i),e.props.styleWrapper(),XO(e)):document.removeEventListener("mousemove",i)}),e.on("prop:trackHover",({payload:o})=>{var a,l;Zi&&(o?(l=document.getElementById(`${e.props.id}_popover`))===null||l===void 0||l.removeEventListener("scroll",s):(a=document.getElementById(`${e.props.id}_popover`))===null||a===void 0||a.addEventListener("scroll",s))}),e.on("prop:activeValue",({payload:o})=>{if(o===Bp)return void(e.props.activeDescendant=`${e.props.id}_load_more`);const a=e.props.options.findIndex(l=>at(Me(l),o));e.props.activeDescendant=a>=0?`${e.props.id}_listitem_${a}`:void 0})}function J2(e){var t,n;if(!Zi||e.props.ignoreScroll)return;const r=(t=e.props.__root)===null||t===void 0?void 0:t.getElementById(`${e.props.id}_popover`),i=(n=e.props.__root)===null||n===void 0?void 0:n.getElementById(e.props.activeDescendant);if(!r||!i)return;const{y:s,height:o}=i.getBoundingClientRect(),{y:a,height:l}=r.getBoundingClientRect();s<a?(e.props.ignoreScroll=!0,r.scrollTop=i.offsetTop):s+o>a+l&&(e.props.ignoreScroll=!0,r.scrollTop=i.offsetTop+o-l)}function jxe(){}function Hxe(e){e.on("created",()=>{if(!e.context||!Zi)return;e.context.fns.isActive=Bxe.bind(null,e),e.context.fns.isSelected=n=>j8(e,n),e.context.handlers.selectOption=n=>r=>Jxe.call(null,e,n,r),e.context.handlers.loadMore=qb.bind(null,e),e.context.handlers.removeSelection=n=>r=>Z2(e,n,r),e.context.handlers.tagTouchstart=n=>r=>Z2(e,n,r),e.context.handlers.selectionClick=n=>e.props.multiple?Kxe.bind(null,e,n):zxe.bind(null,e),e.context.handlers.selectionBlur=()=>Gxe.bind(null,e),e.context.handlers.tagClick=n=>Yxe.bind(null,e,n),e.context.handlers.tagFocus=n=>Xxe.bind(null,e,n),e.context.handlers.tagBlur=()=>Qxe.bind(null,e);const t=e.context.handlers.blur;e.context.handlers.blur=(function(n,r){t(),r&&function(i,s){var o;if(!i.props.disabled){if(s.relatedTarget instanceof HTMLElement){const a=(o=i.props.__root)===null||o===void 0?void 0:o.getElementById(i.props.id+"_inner");if(a instanceof HTMLElement&&a.contains(s.relatedTarget))return}i.props.expanded=!1,i.props.activeSelectionValue=void 0,i.emit("blur")}}(n,r)}).bind(null,e),e.context.handlers.touchmove=Wxe.bind(null,e),e.context.handlers.touchend=qxe.bind(null,e)})}function Wxe(e,t){var n;const r=(n=e.props.__root)===null||n===void 0?void 0:n.getElementById(`${e.props.id}`);if(r instanceof HTMLInputElement){const i=hk.get(e);if(i){const[s,o]=i,a=t.touches[0].clientX-o;r.scrollLeft=s-a}else hk.set(e,[r.scrollLeft,t.changedTouches[0].clientX])}}function qxe(e){hk.delete(e)}function zxe(e,t){e.props.disabled||((!e.props.expanded&&e.props.openOnClick||e.props.openOnFocus)&&(e.props.expanded=!0),t.currentTarget instanceof HTMLElement&&t.currentTarget.focus())}function Kxe(e,t,n){n.currentTarget instanceof HTMLElement&&(e.props.activeSelectionValue!==Me(t)?(e.props.activeSelectionValue=Me(t),n.currentTarget.focus()):e.props.activeSelectionValue=void 0)}function Gxe(e,t){var n;if(t.relatedTarget instanceof HTMLElement){const r=(n=e.props.__root)===null||n===void 0?void 0:n.getElementById(e.props.id+"_inner");if(r instanceof HTMLElement&&r.contains(t.relatedTarget))return}e.props.activeSelectionValue=void 0}function Yxe(e,t,n){n.stopPropagation(),e.props.disabled||(e.props.justFocused?e.props.justFocused=!1:n.currentTarget instanceof HTMLElement&&(e.props.activeSelectionValue!==Me(t)?(e.props.activeSelectionValue=Me(t),n.currentTarget.focus()):e.props.activeSelectionValue=void 0))}function Xxe(e,t,n){n.stopPropagation(),e.props.disabled||n.currentTarget instanceof HTMLElement&&(e.props.activeSelectionValue=Me(t),e.props.justFocused=!0)}function Qxe(e,t){var n;if(t.relatedTarget instanceof HTMLElement){const r=(n=e.props.__root)===null||n===void 0?void 0:n.getElementById(e.props.id+"_inner");if(r instanceof HTMLElement&&r.contains(t.relatedTarget))return}e.props.activeSelectionValue=void 0}function Z2(e,t,n){n&&n.stopPropagation(),e.props.disabled||(e.props.userAction={type:"handleRemoveSelection"},Z1(e,t))}function Jxe(e,t,n){n.stopPropagation(),e.props.disabled||(e.props.userAction={type:"handleListitemClick"},QO(e,t))}function JO(e,t,n,r){(function(i){i.addProps(["options","expanded","placeholder","multiple","selections","activeValue","activeDescendant","forceExpanded","optionLoader","showEmptyMessage","emptyMessage","option","listboxStyles","invertPopover","dropdownWrapperStyles","optionsLoader","loadMoreOption","hasNextPage","page","behavior","selectionRemovable","openOnRemove","clearOnClick","openOnClick","hideOnOpen","closeOnSelect","openOnFocus","selectionAppearance","optionsAppearance","filter","inputText","formattedSelections","lastVisibleIndex","optionLoaderValues","disabledInternally","isLoadingOption","isLoadingOptions","thereIsAnOptionSelected","formattedSelections","activeSelections","allowNewValues","inputStd","isSingleOption","max","disableDragAndDrop","clearSearchOnOpen","firstSelectionLabel","memoOptions","loadOnCreated","alwaysLoadOnOpen","showFormattedSelections","truncationCount","reloadOnCommit","activeSelectionValue","setForceExpanded","option","loadOnScroll","optionsLoadingCounter","optionLoadingCounter","draggable","deselect"]),i.props.deselect===void 0?i.props.deselect=!0:i.props.deselect=Ue(i.props.deselect),i.props.option={},i.props.expanded=!1,i.props.inputStd=[],i.props.draggable===void 0?i.props.draggable=!0:i.props.draggable==="false"&&(i.props.draggable=!1),i.props.options||(Mu(350,{node:i,inputType:i.props.type}),i.props.options=[]),"disabled"in i.props&&(i.props.disabled=Ue(i.props.disabled)),i.props.selections=[],i.props.memoOptions=[],i.props.invertPopover=!1,i.props.dropdownWrapperStyles={position:"absolute",top:"100%",overflow:"auto",minWidth:"100%"},i.props.decrementCount=0,i.props.page=1,i.props.loadMoreOption={label:"Load more",value:Bp},i.props.listboxStyles={},i.props.optionsLoadingCounter=0,i.props.optionLoadingCounter=0,i.props.searchable=Ue(i.props.searchable),i.props.loadOnScroll=Ue(i.props.loadOnScroll),i.props.multiple=Ue(i.props.multiple)||!1,i.props.type==="taglist"&&(i.props.multiple=!0),i.props.openOnFocus=Ue(i.props.openOnFocus),i.props.openOnRemove=i.props.openOnRemove!==void 0&&Ue(i.props.openOnRemove),i.props.hasNextPage=U8.bind(null,i),i.props.initialOptions=[...i.props.options],i.props.optionLoaderValues=[],i.props.loadOnCreated=Ue(i.props.loadOnCreated),i.props.max&&typeof i.props.max!="number"?i.props.max=parseInt(i.props.max):i.props.max&&!i.props.multiple&&(i.props.max=void 0),i.on("mounted",()=>zb(i)),i.on("prop:popoverCoordinates",()=>zb(i))})(r),r.props.multiple?function(i){i.hook.input((s,o)=>(i.props.highlightedRange&&!i.props.optionRemoved&&(s.splice(i.props.highlightedRange.index,1,Me(i.props.option)),s=s.filter(a=>a!==void 0)),i.props.inputStd=s&&Array.isArray(s)?[...new Set(s)]:[],o(s===void 0?void 0:[...i.props.inputStd])))}(r):function(i){i.hook.input((s,o)=>(i.props.inputStd=s===void 0||s===""||s===null?[]:[s],o(s)))}(r),e(r),Uxe(r),function(i){i.on("created",()=>{i.context&&(i.props.trackHover=!0,i.props.disabled!==void 0||i.props.optionsLoader||!i.props.options||i.props.options.length||i.props.emptyMessage!==void 0||i.props.allowNewValues||i.props.inputStd.length!==0||(i.props.disabledInternally=!0),Vxe(i),i.props.loadOnCreated&&!i.props.optionsLoaded?jv(i):i.props.optionsLoaded&&(i.props.optionsLoaded=!1),i.props.forceExpanded=Ue(i.props.forceExpanded),i.props.forceExpanded&&(i.props.dropdownWrapperStyles={...i.props.dropdownWrapperStyles,zIndex:"999",pointerEvents:"auto"},setTimeout(()=>{i.props.setForceExpanded=!0},100)))})}(r),Hxe(r),t(r),function(i){i.on("prop:selections",({payload:o})=>{i.props.max&&(i.props.maxReached=o.length>=i.props.max)}),i.on("prop:maxReached",({payload:o})=>{o?(i.props.expanded=!1,i.props.disabledInternally=!0):i.props.disabledInternally=!1}),i.on("prop:optionsLoadingCounter",({payload:o})=>{o===0&&(i.props.emptyMessage&&(i.props.showEmptyMessage=!i.props.options.length),i.props.optionLoadingCounter===0&&i.store.set(Am))}),i.on("prop:optionLoadingCounter",({payload:o})=>{o===0&&i.props.optionsLoadingCounter===0&&i.store.set(Am)}),i.on("prop:disabled",({payload:o})=>{o&&(i.props.expanded=!1)}),i.on("prop:options",({payload:o})=>{i.props.emptyMessage&&typeof i.props.optionsLoader!="function"&&(i.props.showEmptyMessage=!o.length),o.length?i.props.disabledInternally=!1:o.length||i.props.optionsLoader||i.props.emptyMessage!==void 0||i.props.allowNewValues||i.props.inputStd.length!==0||i.props.searchValue||(i.props.disabledInternally=!0),XO(i)}),i.on("prop:expanded",({payload:o})=>{var a;if(Zi)if(o){if(i.props.trackHover=!1,i.props.options&&!i.props.options.length&&typeof i.props.optionsLoader!="function"&&i.props.emptyMessage&&(i.props.showEmptyMessage=!0),setTimeout(()=>document.addEventListener("click",s),10),i.props.selectionAppearance==="text-input"&&i.props.multiple)return;const l=(a=i.props.__root)===null||a===void 0?void 0:a.getElementById(`${i.props.id}`);l instanceof HTMLInputElement&&(l.focus(),l.value="",l.value=i.props.inputText)}else document.removeEventListener("click",s),i.props.trackHover=!1,i.props.showEmptyMessage=!1});const s=()=>{i.props.activeSelectionValue=void 0,i.props.expanded=!1}}(r),n(r)}function H8(e){var t,n;e.props.searchValue||(n=(t=e.props.__root)===null||t===void 0?void 0:t.getElementById(`${e.props.id}_tag-wrapper_${e.props.selections.length-1}`))===null||n===void 0||n.focus()}function W8(e,t,n){var r,i,s;if(n.preventDefault(),e.props.trackHover=!1,e.props.expanded){const o=e.props.options.reduce((l,u)=>{var c;return!((c=u==null?void 0:u.attrs)===null||c===void 0)&&c.disabled||l.push(Me(u)),l},[]);!((r=e.store.hasNextPage)===null||r===void 0)&&r.value&&o.push(Bp);const a=o.indexOf(e.props.activeValue);a===-1&&o.length?e.props.activeValue=o[0]:t==="ArrowDown"&&o.length>a+1?e.props.activeValue=o[a+1]:t==="ArrowUp"&&a>0?e.props.activeValue=o[a-1]:t==="ArrowUp"&&a===0&&((s=(i=e.props.__root)===null||i===void 0?void 0:i.getElementById(`${e.props.id}_tag-wrapper_${e.props.selections.length-1}`))===null||s===void 0||s.focus(),e.props.expanded=!1)}else e.props.expanded||t!=="ArrowDown"||(e.props.expanded=!0)}function q8(e,t){var n,r,i,s,o;if((e.props.type==="taglist"||e.props.selectionAppearance==="tags")&&e.props.inputStd.length){if(t==="ArrowLeft")return e.props.selections.length&&((r=(n=e.props.__root)===null||n===void 0?void 0:n.getElementById(`${e.props.id}_tag-wrapper_${e.props.selections.length-1}`))===null||r===void 0||r.focus(),e.props.activeSelectionValue=((i=e.props.selections[e.props.selections.length-1])===null||i===void 0?void 0:i.value)||void 0),void(e.props.expanded=!1);t==="ArrowRight"&&((s=document.getElementById(`${e.props.id}_tag-wrapper_0`))===null||s===void 0||s.focus(),e.props.activeSelectionValue=((o=e.props.selections[0])===null||o===void 0?void 0:o.value)||void 0),e.props.expanded=!1}}function z8(e){var t,n;e.props.expanded=!0,(n=(t=e.props.__root)===null||t===void 0?void 0:t.getElementById(`${e.props.id}`))===null||n===void 0||n.focus()}function K8(e,t,n,r=!0){var i,s,o,a,l,u;const c=n.key;if(n.altKey){const d=Kc(),f=e.props.selections.findIndex(g=>g.value===t.value),p=[...e.props.selections];n.key==="ArrowRight"?f<e.props.selections.length-1&&(p.splice(f,1),p.splice(f+1,0,t)):n.key==="ArrowLeft"&&f>0&&(p.splice(f,1),p.splice(f-1,0,t)),e.props.activeSelectionValue=t.value,e.input([...p.map(Me)]),setTimeout(()=>{d instanceof HTMLElement&&d.focus()},100)}else{const d=e.props.selections.map(Me).indexOf(Me(t));if(d===-1)return;const f=c==="ArrowRight"?d+1:d-1;if(f>=e.props.selections.length){if(!r)return e.props.expanded=!0,e.props.activeSelectionValue=void 0,void((s=(i=e.props.__root)===null||i===void 0?void 0:i.getElementById(`${e.props.id}`))===null||s===void 0||s.focus());(a=(o=e.props.__root)===null||o===void 0?void 0:o.getElementById(`${e.props.id}`))===null||a===void 0||a.focus()}else if(f<0)return;const p=(l=e.props.__root)===null||l===void 0?void 0:l.getElementById(`${e.props.id}_tag-wrapper_${f}`);p&&p.focus(),e.props.activeSelectionValue=((u=e.props.selections[f])===null||u===void 0?void 0:u.value)||void 0}}function G8(e,t,n){var r;if(!(n.currentTarget instanceof HTMLElement)||e.props.searchValue)return;const i=e.props.selections.map(Me).indexOf(Me(t));if(i===-1)return;const s=e.props.selections[i+1]?i+1:i-1,o=(r=e.props.__root)===null||r===void 0?void 0:r.getElementById(`${e.props.id}_tag-wrapper_${s}`);o&&o.focus(),e.props.userAction={type:"tagDelete"},Z1(e,t)}function Y8(e,t){var n;if(t.preventDefault(),e.props.allowNewValues&&e.props.searchValue&&e.input(V8(e,e.props.searchValue)),e.props.expanded){if(e.props.activeValue===Bp)return void((n=e.context)===null||n===void 0||n.handlers.loadMore());const r=e.props.options.find(i=>at(Me(i),e.props.activeValue));if(!r)return;QO(e,r)}else e.props.expanded=!0}function X8(e){e.props.expanded&&(e.props.expanded=!1)}function Zxe(e,t,n){if(n.stopPropagation(),!e.props.disabled)switch(n.key){case"ArrowDown":z8(e);break;case"ArrowRight":case"ArrowLeft":K8(e,t,n,!1);break;case"Delete":case"Backspace":G8(e,t,n);break;case"Tab":(function(r,i,s,o=!1){var a,l;s.preventDefault();const u=r.props.selections.map(Me).indexOf(Me(i));if(u===-1)return;const c=s.shiftKey?u-1:u+1;if(c>=r.props.selections.length)return o?(r.props.expanded=!0,void(r.props.activeSelectionValue=void 0)):void 0;if(c<0)return;const d=(a=r.props.__root)===null||a===void 0?void 0:a.getElementById(`${r.props.id}_tag-wrapper_${c}`);d&&d.focus(),r.props.activeSelectionValue=((l=r.props.selections[c])===null||l===void 0?void 0:l.value)||void 0})(e,t,n)}}function eEe(e,t,n){if(!e.props.disabled)switch(n.key){case"ArrowUp":case"ArrowDown":(function(r,i,s){var o,a,l,u;s.preventDefault();const c=s.key,d=r.props.selections.map(Me).indexOf(Me(i));if(d===-1)return;const f=c==="ArrowDown"?d+1:d-1;if(f<0&&((a=(o=r.props.__root)===null||o===void 0?void 0:o.getElementById(`${r.props.id}`))===null||a===void 0||a.focus()),f<0||f>=r.props.selections.length)return;const p=(l=r.props.__root)===null||l===void 0?void 0:l.getElementById(`${r.props.id}_selection_wrapper_${f}`);p&&p.focus(),r.props.activeSelectionValue=((u=r.props.selections[f])===null||u===void 0?void 0:u.value)||void 0})(e,t,n);break;case"Enter":break;case"Tab":(function(r,i,s){var o,a,l,u;if(i){const c=r.props.selections.map(Me).indexOf(Me(i));if(c===-1)return;const d=s.shiftKey?c-1:c+1;if(d>=r.props.selections.length)return;if(d<0)return void((a=(o=r.props.__root)===null||o===void 0?void 0:o.getElementById(`${r.props.id}`))===null||a===void 0||a.focus());const f=(l=r.props.__root)===null||l===void 0?void 0:l.getElementById(`${r.props.id}_selection_wrapper_${d}`);f&&f.focus(),r.props.activeSelectionValue=((u=r.props.selections[d])===null||u===void 0?void 0:u.value)||void 0}})(e,t,n);break;case"Delete":case"Backspace":(function(r,i){var s,o;if(i){const a=r.props.selections.map(Me).indexOf(Me(i));if(a===-1)return;const l=r.props.selections[a+1]?a+1:a-1,u=(s=r.props.__root)===null||s===void 0?void 0:s.getElementById(`${r.props.id}_selection_wrapper_${l}`);u&&u.focus(),r.props.activeSelectionValue=((o=r.props.selections[l])===null||o===void 0?void 0:o.value)||void 0}i&&r.props.selections.length!==1||(r.props.userAction={type:"selectionDelete"}),Z1(r,i)})(e,t)}}function tEe(e,t){if(e.props.disabled||!(t.currentTarget instanceof HTMLElement)||e.props.id!==t.currentTarget.id)return;const n=t.key;switch(n){case"Tab":(function(r){r.props.expanded&&(r.props.expanded=!1)})(e);break;case"ArrowUp":case"ArrowDown":W8(e,n,t);break;case"ArrowLeft":case"ArrowRight":q8(e,n);break;case"Enter":Y8(e,t);break;case"Escape":X8(e);break;case"Delete":case"Backspace":H8(e);break;default:e.emit("unusedKeydown",t)}}function nEe(e,t){if(e.props.disabled||!(t.currentTarget instanceof HTMLElement)||e.props.id!==t.currentTarget.id)return;const n=t.key;switch(n){case"Tab":(function(r,i){var s,o,a;r.props.expanded=!1,r.props.multiple&&r.props.selections.length&&(i.preventDefault(),(o=(s=r.props.__root)===null||s===void 0?void 0:s.getElementById(`${r.props.id}_selection_wrapper_0`))===null||o===void 0||o.focus(),r.props.activeSelectionValue=((a=r.props.selections[0])===null||a===void 0?void 0:a.value)||void 0)})(e,t);break;case"ArrowUp":case"ArrowDown":W8(e,n,t);break;case"ArrowRight":case"ArrowLeft":q8(e,n);break;case"Enter":Y8(e,t);break;case"Escape":X8(e);break;case"Delete":case"Backspace":H8(e)}}function rEe(e,t){var n;if(t.stopPropagation(),t.detail===0||e.props.disabled)return;e.props.attrs.onClick&&e.props.attrs.onClick(t);const r=(n=e.props.__root)===null||n===void 0?void 0:n.getElementById(`${e.props.id}`);e.props.justOpened?e.props.justOpened=!1:e.props.expanded?e.props.expanded=!1:(r&&t.pointerType!=="mouse"?(e.props.mouseX=-1,e.props.mouseY=-1):(e.props.mouseX=t.clientX,e.props.mouseY=t.clientY),e.props.expanded=!0,r==null||r.focus())}function iEe(e){e.props.disabled||(e.props.attrs.onFocus&&e.props.attrs.onFocus(),e.props.skipOpen?e.props.skipOpen=!1:e.props.openOnFocus&&(e.props.justOpened=!0,e.props.expanded=!0))}function sEe(e){let t,n="";e.on("unusedKeydown",({payload:r})=>{if(!r.isComposing&&[...r.key].length===1){if(!n&&r.key===" ")return void function(s,o){var a;if(o.preventDefault(),s.props.expanded){if(s.props.activeValue===Bp)return void((a=s.context)===null||a===void 0||a.handlers.loadMore());const l=s.props.options.find(u=>at(Me(u),s.props.activeValue));if(!l)return;QO(s,l)}else s.props.expanded=!0}(e,r);e.props.expanded=!0,clearTimeout(t),n+=r.key;const i=e.props.options.find(s=>s.label.toLowerCase().startsWith(n.toLowerCase()));i&&(e.props.activeValue=Me(i)),t=setTimeout(()=>{n=""},400)}})}function eF(e){Kb(e),e.on("prop:selections",()=>{e.props.skipFormatSelections=!1,Kb(e)}),Zi&&cr(`${e.props.id}_selections`,oEe.bind(null,e),e.props.__root)}function Kb(e){e.isCreated&&(e.props.selections.length&&e.props.lastVisibleIndex&&e.props.selections.length-e.props.lastVisibleIndex>1?e.props.truncationCount="+ "+(e.props.selections.length-e.props.lastVisibleIndex-1).toString():e.props.truncationCount=void 0,e.props.formattedSelections=e.props.selections.map((t,n)=>e.props.lastVisibleIndex&&n===e.props.lastVisibleIndex&&n!==0?e.props.lastTruncatedElText&&n===e.props.selections.length-1?e.props.lastTruncatedElText:n===e.props.selections.length-1?t.label:t.label+"...":n===e.props.selections.length-1?t.label:t.label+", "))}function tF(e){var t,n;if(!Zi||!e.context)return;const r=(t=e.props.__root)===null||t===void 0?void 0:t.getElementById(`${e.props.id}_selections`);if(!(r instanceof HTMLElement))return;const i=r.parentNode;if(!(i instanceof HTMLElement))return;let s=r.getBoundingClientRect().width;const o=.98*i.getBoundingClientRect().width,a=Array.prototype.slice.call(r.children),l=[...e.props.selections];if(s>o){const u=[];let c=0;for(let d=0;d<l.length;d++)u.push([l[d],a[d]]);for(let d=u.length-1;d>=0;d--){const f=u[d];if(!(f[1]instanceof HTMLElement))return;c+=f[1].getBoundingClientRect().width+parseFloat(window.getComputedStyle(f[1]).marginRight)+parseFloat(window.getComputedStyle(f[1]).marginLeft);const p=s-c;if(o>p){const g=f[0].label;e.props.skipFormatSelections=!0,f[1].textContent=g;let h=!1;for(let m=g.length;m>=0;m--){if(e.props.skipFormatSelections=!0,f[1].textContent=g.slice(0,m).trim()+"...",p+f[1].getBoundingClientRect().width<o){if(m<4){e.props.lastVisibleIndex=d-1,e.props.lastTruncatedElText=null;break}if(e.props.lastVisibleIndex=d,e.props.lastTruncatedElText&&f[1].textContent.slice(0,4)===e.props.lastTruncatedElText.slice(0,4))break;e.props.lastTruncatedElText=(n=f[1])===null||n===void 0?void 0:n.textContent;break}m===0&&(h=!0)}f[1].textContent=e.props.lastTruncatedElText&&!h&&d!==0?e.props.lastTruncatedElText:g,e.props.lastVisibleIndex===null&&(e.props.lastVisibleIndex=d===0?0:d-1,e.props.lastTruncatedElText=null),setTimeout(()=>{Kb(e)});break}}}else e.props.lastTruncatedElText=null,e.props.lastVisibleIndex=null,Kb(e)}function oEe(e,t){const n=new ResizeObserver(()=>{e.props.selections&&e.props.selections.length!==0&&(e.props.skipFormatSelections?e.props.skipFormatSelections=!1:tF(e))}),r=new ResizeObserver(()=>{tF(e)});n.observe(t),t.parentNode instanceof Element&&r.observe(t.parentNode)}function aEe(e){var t,n;if(typeof window>"u")return;const r=(t=e.props.__root)===null||t===void 0?void 0:t.getElementById(`${e.props.id}_popover`),i=(n=e.props.__root)===null||n===void 0?void 0:n.getElementById(`${e.props.id}`);if(!i||!r)return;const s=r.style.paddingTop,o=r.style.paddingBottom,a=r.style.paddingLeft;r.style.paddingTop="0",r.style.paddingBottom="0",r.style.paddingLeft="0";const l=i.getBoundingClientRect(),u=r.getBoundingClientRect(),c=Math.round(l.top-u.top)+"px",d=Math.round(l.left-u.left-5)+"px",f=Math.max(Math.round(Math.min(u.height-u.top,window.innerHeight)-(l.top+l.height)),0)+"px";r.style.paddingTop=s,r.style.paddingBottom=o,r.style.paddingLeft=a,e.props.dropdownWrapperStyles={...e.props.dropdownWrapperStyles,paddingTop:c,paddingLeft:d,paddingBottom:f},e.props.listboxStyles={...e.props.listboxStyles,minWidth:e.props.behavior==="overscroll"?`min(${l.width+"px"}, calc(100vw - 4em))`:l.width+"px",maxWidth:"calc(100vw - 4em)"}}function lEe(e,t){var n,r;let i=null;if(e.props.activeDescendant){const s=(n=e.props.__root)===null||n===void 0?void 0:n.getElementById(e.props.activeDescendant);if(!s)return i;e.props.ignoreScroll=!0;const o=(r=e.props.__root)===null||r===void 0?void 0:r.getElementById(`${e.props.id}_listbox`);if(!o)return i;const a=t.getBoundingClientRect(),l=o.getBoundingClientRect(),u=parseInt(getComputedStyle(t).paddingTop),c=parseInt(getComputedStyle(t).paddingBottom),d=s.offsetTop-u,f=Math.max(d-u,0),p=Math.max(t.scrollHeight-c-d-a.height,0),g=l.height-f-p;t.scrollTop=d;const h=()=>{t.scrollTop=p>0?p<u?t.scrollHeight:u:f<c?0:d-c},m=Math.min(150,l.height);f>0&&p>0||f===0&&p===0||g>m?t.scrollTop=d:h(),t.clientHeight/2<t.scrollTop&&(i=e.props.options.filter(v=>{var y;return!(!((y=v.attrs)===null||y===void 0)&&y.disabled)}).findIndex(v=>at(e.value,Me(v)))),i===-1&&(i=null)}return i}function uEe(e){e.addProps(["behavior"]),e.on("created",()=>{e.props.behavior==="overscroll"&&(typeof e.props.optionsLoader=="function"&&Qi(300,[e]),e.props.dropdownWrapperStyles=mu(NSe),e.props.listboxStyles={display:"inline-block"},e.props.styleWrapper=aEe.bind(null,e),e.props.positionListBox=lEe.bind(null,e))}),e.on("prop:expanded",({payload:t})=>{e.props.behavior==="overscroll"&&(t?function(){wS=document.documentElement.scrollTop;for(const n in _S)OF[n]=document.documentElement.style[n],document.documentElement.style[n]=_S[n];for(const n in bS)AF[n]=document.body.style[n],document.body.style[n]=bS[n];document.body.scrollTop=wS}():function(){for(const n in _S)document.documentElement.style[n]=OF[n];for(const n in bS)document.body.style[n]=AF[n];document.body.scrollTop=0,document.documentElement.scrollTop=wS}())})}function Q8(e){e.addProps(["multiLine"]),e.on("created",()=>{Zi&&(e.props.multiLineHeight=void 0,cr(`${e.props.id}_selections`,cEe.bind(null,e),e.props.__root))})}function cEe(e){var t;const n=new ResizeObserver(i=>{for(const s of i){const{height:o}=s.contentRect;e.props.selectionsHeight!==o&&(e.props.selectionsHeight=o),dEe(e,s.target)}}),r=(t=e.props.__root)===null||t===void 0?void 0:t.getElementById(`${e.props.id}_selections`);r&&n.observe(r)}function dEe(e,t){var n;const r=t.querySelectorAll(`[id^="${e.props.id}_tag-wrapper"`);let i,s=[];if(e.props.type==="taglist"){const a=(n=e.props.__root)===null||n===void 0?void 0:n.getElementById(`${e.props.id}`);if(!a)return;s=[a,...Array.from(r)]}else s=Array.from(r);if(!r)return;let o=!1;for(const a of s)if(i===void 0)i=a.getBoundingClientRect();else{const l=a.getBoundingClientRect();if(i.top>=l.top+l.height/5||i.top<=l.top-l.height/5){o=!0,e.props.multiLine=!0;break}}o||(e.props.multiLine=!1)}function Hv(e){async function t(){const{x:i,y:s,width:o,height:a}=function(l,u){if(!l||!u)return{x:0,y:0};const{x:c,y:d,width:f,height:p}=u.getBoundingClientRect();return{x:c+(window.pageXOffset||document.documentElement.scrollLeft),y:d+p+(window.pageYOffset||document.documentElement.scrollTop),width:f,height:p}}(n,r);e.props.popoverAncestorCoordinates={x:i,y:s,width:o,height:a},e.props.popoverCoordinates={x:i,y:s,width:e.props.popoverAncestorCoordinates.width,height:0}}if(e.addProps(["popover","popoverOffset","usePopover","popoverCoordinates","popoverAncestorCoordinates"]),e.props.popover=Ue(e.props.popover)?"manual":void 0,e.type!=="input"||e.props.behavior==="overscroll")return;let n=null,r=null;e.props.popoverOffset=Ue(e.props.popoverOffset)?parseInt(e.props.popoverOffset):0,e.props.popover&&(typeof document<"u"&&"popover"in HTMLElement.prototype?(e.on("mounted",()=>{let i=null;if(!e.context)return;e.props.usePopover=!0,e.props.popoverCoordinates={x:0,y:0,width:0,height:0},e.props.popoverAncestorCoordinates={x:0,y:0,width:0,height:0};const s=(o=()=>{e.context&&t()},a=25,function(...l){const u=this;i||(o.apply(u,l),i=window.setTimeout(()=>{i=null},a))});var o,a;window.addEventListener("resize",s)}),e.on("destroyed",()=>{document.removeEventListener("resize",null)}),e.on("prop:expanded",({payload:i})=>{var s;e.context&&cr(`${(s=e.context)===null||s===void 0?void 0:s.id}_popover`,()=>{e.context&&(n=document.querySelector(`#${e.context.id}_popover[popover]`)||document.querySelector(`#${e.context.id}_popover [popover]`),r||(r=function(o){if(!o)return null;let a=o.parentElement;for(;a&&window.getComputedStyle(a).position==="static";)a=a.parentElement;return a}(n)),t(),function(o){o?n&&(n!=null&&n.matches(":popover-open"))||(n==null||n.showPopover(),setTimeout(()=>{e.props.popoverCoordinates.height=(n==null?void 0:n.offsetHeight)||0},0)):n!=null&&n.matches(":popover-open")&&(n==null||n.hidePopover(),e.props.popoverCoordinates.height=0)}(i))})})):console.warn('FormKit: Popover API is not supported in this browser — input panels will be rendered with fallback CSS positioning. This could result in inaccessible inputs due to parent containers using "overflow: hidden" or z-index conflicts.'))}function fEe(e){var t,n,r,i,s,o,a,l,u,c,d,f,p,g;if((t=(l=e.props).removeControl)!==null&&t!==void 0||(l.removeControl=!0),(n=(u=e.props).upControl)!==null&&n!==void 0||(u.upControl=!0),(r=(c=e.props).downControl)!==null&&r!==void 0||(c.downControl=!0),(i=(d=e.props).insertControl)!==null&&i!==void 0||(d.insertControl=!1),(s=(f=e.props).addButton)!==null&&s!==void 0||(f.addButton=!0),(o=(p=e.props).addLabel)!==null&&o!==void 0||(p.addLabel=!1),(a=(g=e.props).addAttrs)!==null&&a!==void 0||(g.addAttrs={}),e.props.min=e.props.min!==void 0?Number(e.props.min):1,e.props.max=e.props.max!==void 0?Number(e.props.max):1/0,e.props.min>e.props.max)throw Error("Repeater: min must be less than max");if(Array.isArray(e.value))if(e.value.length<e.props.min){const h=nu(e.props.min-e.value.length,()=>({}));e.input(e.value.concat(h),!1)}else e.value.length>e.props.max&&e.input(e.value.slice(0,e.props.max),!1);else e.input(nu(e.props.min,()=>({})),!1);e.context&&function(h,m){m.createShift=(v,y)=>()=>{const _=h._value;_.splice(v+y,0,_.splice(v,1)[0]),h.input(_,!1)},m.createInsert=v=>()=>{const y=h._value;y.splice(v+1,0,{}),h.input(y,!1)},m.createAppend=()=>()=>{const v=h._value;v.push({}),h.input(v,!1)},m.createRemover=v=>()=>{const y=h._value;y.splice(v,1),h.input(y,!1)}}(e,e.context.fns)}function pEe(e,t){var n,r;if(!e.props.disabled&&t.currentTarget instanceof HTMLElement){let i;t instanceof MouseEvent?i=t.clientX:(i=t.changedTouches[0].clientX,document.documentElement.style.overflow=e.props.initialBodyOverflow);let s=J8(e,i,t.currentTarget)||0;s=s>e.props.min?s:e.props.min,s=s<e.props.max?s:e.props.max,e.input(s),(r=(n=e.props.__root)===null||n===void 0?void 0:n.getElementById(`${e.props.id}`))===null||r===void 0||r.focus()}}function hEe(e,t){!e.props.disabled&&t.currentTarget instanceof HTMLElement&&ZO(e,J8(e,window.TouchEvent&&t instanceof TouchEvent&&t instanceof TouchEvent?t.touches[0].clientX:t instanceof MouseEvent?t.clientX:0,t.currentTarget)||0)}function gEe(e){ZO(e)}function J8(e,t,n){const r=n.getBoundingClientRect();return function(i,s){const o=1/(s||1);return Math.ceil(i*o)/o}((t-r.x)/r.width*e.props.max,e.props.step)}function dS(e){setTimeout(()=>{var t;const n=(t=e.props.__root)===null||t===void 0?void 0:t.getElementById(`${e.props.id}`);n&&(e.props.wrapperWidth=`0 0 ${n.offsetWidth/e.props.max}px`)})}function ZO(e,t){let n=0;n=t?Math.round(t/e.props.max*100):typeof e._value=="number"?Math.round(e._value/e.props.max*100):0;const r=100-n;e.props.onWidth=n,e.props.offWidth=r}function Z8(e){e.addProps(["inputText","selectionAppearance","searchValue","openOnClick","filteredOptions","search","debounce","showInput","visibilityStyles","selectionStyles","multiple","filter","hasHighlightedRange","clearOnClick","debounce"]),e.props.debounce===void 0?e.props.debounce=200:e.props.debounce=parseInt(e.props.debounce),e.props.nonceKey="searchValue",e.props.searchValue="",e.props.inputText="",e.props.filterOptions=fo.bind(null,e),e.props.reloadOnCommit=Ue(e.props.reloadOnCommit),e.props.alwaysLoadOnOpen===void 0?e.props.alwaysLoadOnOpen=!0:e.props.alwaysLoadOnOpen=Ue(e.props.alwaysLoadOnOpen),typeof e.props.filter!="function"&&(e.props.filter=(t,n)=>t.label.toLowerCase().includes(n.toLowerCase())),e.on("created",()=>{e.context&&Zi&&(e.context.handlers.focus=nF.bind(null,e),e.context.handlers.input=mEe.bind(null,e),e.context.handlers.focus=nF.bind(null,e),e.context.handlers.click=vEe.bind(null,e),e.context.handlers.toggleListbox=yEe.bind(null,e),e.context.handlers.keydown=nEe.bind(null,e),e.context.handlers.selectionKeydown=t=>n=>eEe(e,t,n),e.context.handlers.searchInputTagKeydown=t=>n=>function(r,i,s){if(s.stopPropagation(),!r.props.disabled)switch(s.key){case"ArrowDown":z8(r);break;case"ArrowRight":case"ArrowLeft":K8(r,i,s);break;case"Delete":case"Backspace":G8(r,i,s)}}(e,t,n),e.on("prop:options",({payload:t})=>{if((e.props.initialOptions.length===0&&typeof e.props.optionsLoader!="function"||!e.props.searchValue&&t.length)&&(e.props.initialOptions=[...t]),e.props.selections&&e.props.selections.length&&t.length)for(let n=0;n<e.props.selections.length;n++){const r=e.props.selections[n],i=t.find(s=>Me(s)===r.value);i&&(e.props.selections[n]=i)}}))}),e.on("prop:expanded",({payload:t})=>{t||$7.delete(e)})}function mEe(e,t){if(e.props.disabled)return;const n=t.target;e.props.inputText=n.value,e.emit("handleSearchInput",n.value),e.props.searchValue&&fo(e,e.props.searchValue,!0)}function vEe(e,t){t.stopPropagation(),e.props.disabled||e.props.disabledInternally||(e.props.attrs.onClick&&e.props.attrs.onClick(t),(!e.props.expanded&&e.props.openOnClick||e.props.openOnFocus)&&(e.props.expanded=!0))}function nF(e){e.props.disabled||e.props.disabledInternally||(e.props.attrs.onFocus&&e.props.attrs.onFocus(),e.props.activeSelectionValue=void 0,e.props.skipOpen?e.props.skipOpen=!1:e.props.openOnFocus&&(e.props.expanded=!0))}function yEe(e){var t,n,r;e.props.disabled||e.props.disabledInternally||!((t=e.context)===null||t===void 0)&&t.state.loading||(e.props.expanded=!e.props.expanded,e.props.openOnFocus||(r=(n=e.props.__root)===null||n===void 0?void 0:n.getElementById(`${e.props.id}`))===null||r===void 0||r.focus())}function _Ee(e){e.props.searchValue=null,e.on("commit",()=>{e.props.searchValue=null,e.props.highlightedRange||rF(e)}),e.on("created",()=>{if(!e.context||!X_)return;e.on("handleSearchInput",({payload:s})=>{s===""?(e.props.searchValue=null,e.input([])):s&&e.props.inputStd.length===0?e.props.searchValue=s:s&&e.props.inputStd.length>0&&(e.props.searchValue=function(o){var a;const l=Yy(o);if(o.props.highlightedRange){const[u,c]=iF(o,l);return o.props.inputText.slice(u,c)}return o.props.inputText.slice(((a=l[l.length-1])===null||a===void 0?void 0:a.end)+2)}(e)),!e.props.expanded&&s?e.props.expanded=!0:!s&&e.props.expanded&&(e.props.expanded=!1)}),function(s){cr(`${s.props.id}`,o=>{o instanceof HTMLInputElement&&ES.set(o,s)},s.props.__root),X_&&!UF&&(UF=!0,document.addEventListener("selectionchange",()=>{const o=Kc();if(o instanceof HTMLInputElement&&ES.has(o)){const a=ES.get(o);a&&function(l){clearTimeout(BF.get(l)),BF.set(l,setTimeout(()=>{var u,c,d,f;const p=(u=l.props.__root)===null||u===void 0?void 0:u.getElementById(`${l.props.id}`);if(p instanceof HTMLInputElement){const g=Yy(l),h=g.findIndex(v=>p.selectionStart!==null?p.selectionStart>=v.start&&p.selectionStart<=v.end:p.selectionEnd!==null&&p.selectionEnd>=v.start&&p.selectionEnd<=v.end),m=(c=g[g.length-1])===null||c===void 0?void 0:c.end;if(p.selectionStart===0&&p.selectionEnd===((d=l.props.inputText)===null||d===void 0?void 0:d.length))return;if(typeof l.props.searchValue=="string"&&l.props.highlightedRange){if(g.length){const v=l.props.highlightedRange,[y,_]=iF(l,g);if(p.selectionEnd!==null&&(p.selectionEnd<y||p.selectionEnd>_)){const b=v.end-v.start-(_-y),x=p.selectionEnd;l.props.inputText=l.props.option.label,l.props.highlightedRange=void 0,l.props.searchValue=null,p.value=l.props.inputText,p.selectionStart=p.selectionEnd=x+(x>y?b:0)}}}else if(h>=0&&p.selectionStart!==null&&(m!==((f=l.props.inputText)===null||f===void 0?void 0:f.length)||p.selectionStart<m)){const v=g[h],y=l.props.inputText.substr(0,m),_=v.start+(v.index>0?1:0),b=v.end+(g.length-1>v.index?-1:0);y!==l.props.inputText&&(l.props.inputText=y,p.value=y),l.props.highlightedRange=v,p.selectionStart=_,p.selectionEnd=b}else l.props.highlightedRange=void 0,rF(l);if(p.selectionStart!==null&&p.selectionStart>=m&&l.props.inputText.substring(m,m+2)!==", "){let v=l.props.inputText.substring(0,m);v=l.props.multiple&&l.props.max&&Array.isArray(l.props.inputStd)&&l.props.inputStd.length>=l.props.max?v:`${v},`,l.props.inputText=`${v} ${l.props.inputText.substring(m).replace(/^[,\s]{1,2}/,"")}`}}},5))}(a)}}))}(e);const r=e.context.handlers.keydown;e.context.handlers.keydown=s=>{r(s),function(o,a){var l,u,c,d;if(["ArrowRight","ArrowLeft"].includes(a.key)&&a.target instanceof HTMLInputElement&&a.target.selectionEnd!==null&&a.target.selectionStart!==null){if(a.target.selectionStart===0&&a.target.selectionEnd===((l=o.props.inputText)===null||l===void 0?void 0:l.length))a.key==="ArrowLeft"?t(0):t(-1);else if(!o.props.searchValue){o.props.searchValue=null;const f=Yy(o),p=(u=f[f.length-1])===null||u===void 0?void 0:u.end;a.target.selectionStart<p&&(a.target.selectionStart=Math.max(0,a.key==="ArrowLeft"?a.target.selectionStart-2:a.target.selectionEnd+2))}}else if(["Delete","Backspace"].includes(a.key))o.props.highlightedRange&&!o.props.searchValue?(Z1(o,o.props.highlightedRange.option),o.props.inputStd.length===0&&(o.props.highlightedRange=void 0)):a.target instanceof HTMLInputElement&&(o.props.searchValue=null,t(-1,!0)&&a.preventDefault());else if(a.target instanceof HTMLInputElement&&a.target.selectionStart===0&&a.target.selectionEnd===((c=o.props.inputText)===null||c===void 0?void 0:c.length)&&(!((d=o.props.inputText)===null||d===void 0)&&d.length)&&o.props.selections.length===0)a.preventDefault();else if(a.key==="Tab")return;a.key==="ArrowLeft"&&t(-1,!0)&&a.preventDefault()}(e,s)};const i=e.context.handlers.focus;e.context.handlers.focus=s=>{i(e,s);const o=new Event("selectionchange");document.dispatchEvent(o)},e.on("blur",()=>{e.props.selections.length?(e.props.inputText=e.props.selections.map(s=>s.label).join(", "),e.props.searchValue=null):e.props.selections.length||(e.props.inputText="",e.props.searchValue="")})}),e.on("prop:expanded",({payload:r})=>{r||e.props.inputStd.length?r&&(e.props.options.length&&!e.props.alwaysLoadOnOpen||(e.props.options=[],fo(e,e.props.searchValue))):(e.props.searchValue="",e.props.inputText="")}),e.on("prop:selections",()=>{var r;const i=[...e.props.selections].map(o=>o.label).join(", ");let s="";if(X_&&e.isCreated){const o=(r=e.props.__root)===null||r===void 0?void 0:r.getElementById(`${e.props.id}`);if(o==null||o.focus(),Kc()===o&&Array.isArray(e._value)&&e._value.length){if(e.props.max&&e._value.length>=Number(e.props.max))return;s=", "}}e.props.inputText=`${i}${s}`,e.props.reloadOnCommit&&(e.props.searchValue="",fo(e,e.props.searchValue))});const t=(r,i=!1)=>{var s,o;const a=(s=e.props.__root)===null||s===void 0?void 0:s.getElementById(`${e.props.id}`);if(!(a instanceof HTMLInputElement))return!1;const l=Yy(e),u=r>=0?r:l.length-1;if(l[u]===void 0)return!1;const c=(o=l[u])===null||o===void 0?void 0:o.end;return a.selectionStart!==null&&(!i||a.selectionStart>=c&&a.selectionStart<=c+2)&&(a.selectionStart=l[u].start+(u>0?1:0),a.selectionEnd=l[u].end+(u<l.length-1?-1:0),!0)};let n;e.on("selectRange",({payload:r})=>t(...r)),e.on("prop:highlightedRange",({payload:r})=>{e.props.hasHighlightedRange=!!r,r&&e.props.expanded&&n!==r.option&&(n=r.option,XO(e))})}function rF(e){var t;if(!X_)return;const n=(t=e.props.__root)===null||t===void 0?void 0:t.getElementById(`${e.props.id}`);n&&n.scrollTo({left:n.scrollWidth,behavior:"smooth"})}function iF(e,t){var n;const r=e.props.highlightedRange,i=r.index,s=r.start+(i?1:0),o=t.length-1>i?t[t.length-1].end-t[i+1].start:0;return[s,((n=e.props.inputText)===null||n===void 0?void 0:n.length)-o+(t.length-1>r.index?-1:0)]}function Yy(e){const t=oR(e);return Array.isArray(t)&&t.length?t.reduce((n,r,i)=>{var s;const o=((s=n[i-1])===null||s===void 0?void 0:s.end)||0;let a=0;return t.length-1!==i&&a++,i!==0&&a++,n.push({option:r,index:i,start:o,end:o+r.label.length+a}),n},[]):[]}function e7(e){(function(t){t.on("prop:expanded",({payload:n})=>{n?(t.props.searchValue="",t.props.options.length&&!t.props.alwaysLoadOnOpen||(t.props.options=[],fo(t,t.props.searchValue,!0))):(t.props.searchValue="",t.props.inputText="")})})(e),function(t){t.on("handleSearchInput",({payload:n})=>{n&&!t.props.expanded?(t.props.searchExpand=!0,t.props.expanded=!0):!n&&t.props.expanded&&(t.props.expanded=!1),t.props.searchValue=t.props.inputText})}(e),function(t){t.on("prop:selections",()=>{t.isCreated&&(t.props.inputText="",t.props.searchValue="",t.props.optionRemoved||t.props.reloadOnCommit&&fo(t,t.props.searchValue,!0))})}(e)}function bEe(e){(function(t){function n(i){i.props.inputStd.length===0?(i.props.inputText="",i.props.searchValue=""):(i.props.inputText=i.props.selections[0].label,i.props.searchValue=i.props.selections[0].label)}function r(i){i.props.clearSearchOnOpen&&!i.props.searchExpand&&(i.props.inputText="",i.props.searchValue=""),i.props.searchValue=i.props.inputText,i.props.options.length&&!i.props.alwaysLoadOnOpen||i.props.searchExpand||(i.props.options=[],fo(i,i.props.searchValue,!0)),i.props.searchExpand&&(i.props.searchExpand=!1)}t.on("prop:expanded",({payload:i})=>{i?r(t):n(t)})})(e),function(t){t.on("handleSearchInput",({payload:n})=>{n===""?(t.props.inputStd.length===0&&(t.props.expanded=!1),t.input(void 0)):n&&!t.props.expanded&&(t.props.searchExpand=!0,t.props.expanded=!0),t.props.searchValue=t.props.inputText})}(e),function(t){t.on("prop:selections",({payload:n})=>{t.props.inputText=n.length?n[0].label:"",t.props.searchValue=n.length?n[0].label:"",t.isCreated&&t.props.expanded&&n.length===0&&fo(t,t.props.searchValue,!0)})}(e)}function eR(e,t){var n;if(La.has(e))return;La.set(e,[]),t.reverse&&Af.add(e),t.prefix&&Up.set(e,t.prefix),t.suffix&&rx.set(e,t.suffix),n7(e,t.pattern,t.partOverrides,t.explicitParts);const r=nx.get(e),i=r==null?void 0:r.some(a=>Ya(a)),s=r==null?void 0:r.some(a=>function(l){return!!l&&l.type==="group"&&Array.isArray(l.parts)}(a));if(i&&s)throw new Error("Cannot use enums and groups in the same mask.");const o=i?"select":(n=t.mode)!==null&&n!==void 0?n:"shift";if(s&&o==="select")throw new Error("Cannot use groups in select mode.");(t.placeholder||o==="select")&&gk.add(e),Hl.set(e,o),t.onChange&&bg.set(e,t.onChange),e.addEventListener("beforeinput",a=>{if(J_)return;if(a.inputType.startsWith("history"))return function(f,p){f.addEventListener("input",g=>{var h;g.preventDefault(),g.stopImmediatePropagation();const m=La.get(f);if(m!=null&&m.length){const v=((h=up.get(f))!==null&&h!==void 0?h:m.length-1)+(p.endsWith("Undo")?-1:1),y=m[v];if(!y)return;i7(f,y),f.setSelectionRange(...y.selectionAfter),up.set(f,v),bg.has(f)&&bg.get(f)(y,f)}},{once:!0})}(e,a.inputType);a.preventDefault();const l=(u=a.inputType).startsWith("insert")?"insert":!!u.startsWith("delete")&&(u==="deleteContentForward"?"deleteContentForward":"deleteContentBackward");var u;const c=Vo(e),d=e.value;l&&Cm(e,{type:l,selectionBefore:c,data:a.data,valueBefore:d,suffix:t.suffix,prefix:t.prefix})}),o==="select"&&e.addEventListener("keydown",a=>{switch(a.key){case"ArrowRight":return a.preventDefault(),fS(e);case"ArrowLeft":return a.preventDefault(),fS(e,-1);case"ArrowUp":return void(pF(e,1)&&a.preventDefault());case"ArrowDown":return void(pF(e,-1)&&a.preventDefault());case"Tab":return mk?void a.preventDefault():void(fS(e,a.shiftKey?-1:1)&&a.preventDefault())}}),e.addEventListener("focus",()=>function(a){var l;const u=gk.has(a),c=Hl.get(a);if(u){let d=null,f=null,p=!1;const g=c==="shift"?0:1,h=a.value;ok(a,{type:"insert",data:h,selectionBefore:[0,0,"none"],valueBefore:h},c==="shift"?"":h,(v,y)=>(d===null&&y.type==="char"&&(d=v.pos-g),(Pa(y)||Ya(y))&&v.value.endsWith(y.placeholder)?(f=v.pos-g,!1):(y.type==="char"&&(p=!0),!0)));const m=(l=f??(p?h.length:d))!==null&&l!==void 0?l:null;if(m!==null){let v=[m,m,"none"];if(Hl.get(a)==="select"){const[y]=Ji(a),_=Ma(a,v);_!==void 0&&_ in y&&(v=y[_])}return function(y,_,b=50){nc.set(y,vg(y,_));const x=async()=>{if(!Om||Kc()!==y)return;Hl.get(y)==="select"&&(await new Promise($=>setTimeout($,10)),function($){let E=Vo($);if(E[0]===E[1]&&E[0]===0||$.value.length===E[1]&&E[0]===0)return;E=sk($,E);const[S]=Ji($),T=Ma($,E),P=E[0];T!==void 0&&S.some(C=>P>=C[0]&&P<C[1])&&nc.set($,vg($,S[T]))}(y));const w=nc.get(y);w&&y.setSelectionRange(...w)};x(),document.addEventListener("selectionchange",x),setTimeout(()=>{document.removeEventListener("selectionchange",x),nc.delete(y)},b)}(a,v)}}}(e)),e.addEventListener("selection",a=>function(l,u){if(nc.get(l))return;p7(l),u=sk(l,u);const[c]=Ji(l),d=Ma(l,u),f=d!==void 0&&vg(l,c[d]);f&&!Gc(u,f)&&Gb(l,f,!0)}(e,a.detail)),Cm(e,{type:"insert",selectionBefore:[0,0,"forward"],data:e.value,valueBefore:"",suffix:t.suffix,prefix:t.prefix})}function sF(e){var t,n;if(wc.has(e))return;const r=(t=La.get(e))!==null&&t!==void 0?t:[],i=r[(n=up.get(e))!==null&&n!==void 0?n:r.length-1];if(i){const s=i.selectionAfter,[o,a]=Ji(e,i.valueAfter),l=Ma(e,s,[o,a]);if(l!==void 0&&l in o){const u=a[l],c=o[l],d=[s[0]-c[0],s[1]-c[0],"none"];wc.set(e,[u,d])}}}function oF(e){wc.delete(e)}function aF(e,t){const n=typeof e=="string"||!La.has(e),r=typeof e=="string"?t7(e):e;if(n)t.prefix&&Up.set(r,t.prefix),t.suffix&&rx.set(r,t.suffix),r.value=tR(r,r.value),eR(r,t);else{const i=nR(r),s=r.value;r.value="",Cm(r,{type:"insert",selectionBefore:[0,i?i.valueAfter.length:0,"none"],valueBefore:i?i.valueAfter:"",data:s,suffix:t.suffix,prefix:t.prefix})}return r.value}function t7(e){return{value:e,selectionStart:0,selectionEnd:0,scrollWidth:0,clientWidth:0,addEventListener:()=>{},dispatchEvent:()=>{},setSelectionRange:()=>{}}}function n7(e,t,n,r,i){i=e&&Af.has(e)||i;const s=(r??function(f){const p=Object.values(KTe);if(!f)return p;const g={...f},h=[];for(const v of p)if(!ap(v))if("token"in v&&v.token in f){const y={...v,...f[v.token]};lF(y)&&h.push(y),delete g[v.token]}else h.push(v);const m=Object.values(g);for(const v of m)lF(v)?h.push(v):console.warn(`Invalid ${v.type} token`,v);return h}(n)).sort((f,p)=>{const g="token"in f?f.token.length:-1,h="token"in p?p.token.length:-1;return g===h?0:g>h?-1:1});let o=[];[t,o]=function(f,p,g,h){let m,v=0,y="",_="",b="";const x=[];for(;y=Ri(f);)y===p&&m!==h?(v++,v>1&&(b+=y)):y===g&&v&&m!==h?(v--,v===0?(_+=`{$${x.length}}`,x.push(b),b=""):b+=y):v?b+=y:m!==h||y!==p&&y!==g?_+=y:_=`${_.substring(0,_.length-1)}${y}`,m=y,f=f.substring(y.length);return[_,x]}(t,"{","}","\\");const a=o.length;t=s.reduce((f,p,g)=>"token"in p?f.replaceAll(`\\${p.token}`,"{“!”}").replaceAll(p.token,`{$${a+g}}`).replaceAll("{“!”}",p.token):f,t);const l=function(f,p,g){return f.reduce((h,m)=>{const[v,y]=function(x){const[w,...$]=x.split("|"),E=$.reduce((S,T)=>{const[P,C=!0]=T.split(":");return Object.assign(S,{[P]:C})},{});return[w,E]}(m);let _=n7(null,v,void 0,p,g);_=_.map(x=>{const w={...x};if(w.type==="char"&&y.placeholder)w.placeholder=y.placeholder;else if(w.type==="enum")throw new Error("Groups cannot contain enums.");return w});const b={type:"group",parts:_,...y};return h.push(b),h},[])}(o,s,i).concat(s),u=/\{\$\d+\}/g,c=t.match(u),d=t.split(u).reduce((f,p,g)=>{if(p&&(p=p.replaceAll("\\",""),f.push({type:"literal",value:i?[...p].reverse().join(""):p})),c&&c[g]){const h=c[g],m=Number(h.substring(2,h.length-1));!isNaN(m)&&l[m]&&f.push(l[m])}return f},[]);return i&&d.reverse(),e&&nx.set(e,d),d}function lF(e){return!!e&&(ap(e)||Pa(e)||Ya(e))}function Pa(e){return!!e&&e.type==="char"&&e.pattern instanceof RegExp&&r7(e)}function Ya(e){return!!e&&e.type==="enum"&&Array.isArray(e.values)&&r7(e)}function r7(e){return!!e&&"placeholder"in e&&"token"in e}function ap(e){return!!e&&e.type==="literal"&&typeof e.value=="string"}function Gc(e,t){return e===t||e!==void 0&&t!==void 0&&e[0]===t[0]&&e[1]===t[1]}function Vo(e){var t,n;return[(t=e.selectionStart)!==null&&t!==void 0?t:e.value.length,(n=e.selectionEnd)!==null&&n!==void 0?n:e.value.length,"none"]}function Cm(e,t){var n;Af.has(e)&&hF(t);let r=!1;switch(Q_.set(e,"playing"),t.type){case"insert":r=function(i,s){let o=uF(s);const a=s.selectionBefore,l=function(c,d){var f,p,g;if(Hl.get(c)==="select"){const[h,m]=Ji(c),v=h.findIndex(_=>Gc(_,d.selectionBefore)),y=(f=m[v])!==null&&f!==void 0?f:null;if(Pa(y)){const _=d.selectionBefore,b=_[1]-_[0],x=d.valueBefore.substring(_[0],_[1]),w=y.selectDirection==="left",$=o7(x,y),E=w?0:function(T,P,C){if(!T)return 0;let B="";for(;T.length;){const V=Ri(T);T=T.substring(V.length),P.pattern.test(V)&&(B+=V)}return Math.min(Math.max(B.length,1),C)}(d.data,y,b);if($.length>=b)return w||(d.insertPos=_[1]-E),((p=y.selectFill)!==null&&p!==void 0?p:y.placeholder).repeat(b);const S=((g=y.selectFill)!==null&&g!==void 0?g:y.placeholder).repeat(b-$.length-(w?0:E));return d.insertPos=w?_[0]+$.length:_[1]-E,y.selectDirection==="left"?`${$}${S}`:`${S}${$}${y.placeholder}`}if(Ya(y)){const _=d.selectionBefore;return d.valueBefore.substring(_[0],_[1])}}return""}(i,s);o=`${o.substring(0,a[0])}${l}${o.substring(a[1])}`;const u=ok(i,s,o);return zTe.set(i,u.endPos),{...s,valueAfter:u.value,selectionAfter:EEe(i,u),unmasked:u.unmasked,complete:u.complete,meta:u.meta}}(e,t);break;case"deleteContentBackward":case"deleteContentForward":r=function(i,s){const o=uF(s),a=s.selectionBefore,l=Af.has(i);let u=a[0],c=a[1];u===c&&(s.type!=="deleteContentBackward"||l?c+=Y_(o,u):u-=Y_(o,u,"backward"));const d=Hl.get(i);let f="";if(d==="select"){const[h,m]=Ji(i),v=Ma(i,[u,c,"none"]);if(v!==void 0){const y=m[v],_=h[v];Pa(y)?f=y.placeholder.repeat(c-u):Ya(y)&&([f,u]=Gc(_,Vo(i))?[y.placeholder,u]:function(b,x,w,$){const E=$.valueBefore,S=Y_(E,$.selectionBefore[0],"backward"),T=Math.max(w[0],$.selectionBefore[0]-S),P=E.substring(w[0],T),C=Wv(x.values,P);let B=C==null?void 0:C.substring(P.length);return C&&!B&&l7(x.values,C)&&(B=C),[B??x.placeholder,B?T:w[0]]}(0,y,_,s))}}const p=`${o.substring(0,u)}${f}${o.substring(c)}`,g=ok(i,s,p);return{...s,valueAfter:g.value,selectionAfter:kEe(i,g,s,u),unmasked:g.unmasked,complete:g.complete,meta:g.meta}}(e,t)}if(Af.has(e)&&r&&hF(r),r&&function(i,s){s.prefix&&(s.valueAfter=s.prefix+s.valueAfter,s.selectionAfter=vg(i,s.selectionAfter)),s.suffix&&(s.valueAfter+=s.suffix)}(e,r),r&&function(i){return i.valueBefore!==i.valueAfter||i.selectionBefore[0]!==i.selectionAfter[0]||i.selectionBefore[1]!==i.selectionAfter[1]}(r)){bg.has(e)&&kS.set(e,()=>{kS.delete(e),r&&bg.get(e)(r,e)}),Q_.set(e,"beforeCallback");let i=(n=La.get(e))!==null&&n!==void 0?n:[];const s=up.get(e);s&&(i=i.slice(0,s),up.delete(e)),i.push(r),La.set(e,i),Om&&Kc()===e&&typeof document.execCommand=="function"&&!J_?(Gb(e,[0,e.value.length,"forward"],!0),J_=!0,document.execCommand("insertText",void 0,r.valueAfter),J_=!1):i7(e,r),Om&&Kc()===e&&Gb(e,r.selectionAfter);const o=kS.get(e);o&&o(),p7(e)}Q_.set(e,"complete")}function tR(e,t){var n,r;const i=(n=Up.get(e))!==null&&n!==void 0?n:"",s=(r=rx.get(e))!==null&&r!==void 0?r:"";return i&&t.startsWith(i)&&(t=t.substring(i.length)),s&&t.endsWith(s)&&(t=t.substring(0,t.length-s.length)),t}function vg(e,t){const n=Up.get(e),r=[...t];return n&&(r[0]+=n.length,r[1]+=n.length),r}function sk(e,t){const n=Up.get(e),r=[...t];return n&&(r[0]-=n.length,r[1]-=n.length),r}function uF(e){let t=e.valueBefore;const n=e.selectionBefore;if(e.suffix&&t.endsWith(e.suffix)&&(t=t.substring(0,t.length-e.suffix.length),e.valueBefore=t,n[0]>=t.length&&(n[0]=t.length),n[1]>=t.length&&(n[1]=t.length)),e.prefix&&t.startsWith(e.prefix)){const r=e.prefix.length;t=t.substring(r),e.valueBefore=t,n[0]=Math.max(n[0]-r,0),n[1]=Math.max(n[1]-r,0)}return t}function Gb(e,t,n=!1){n&&(cp.add(e),setTimeout(()=>cp.delete(e),5)),nc.get(e)&&nc.set(e,t),e.setSelectionRange(...t)}function i7(e,t,n="After"){if(e.value=t[`value${n}`],Om){const r=new InputEvent("input",{inputType:t.type==="insert"?"insertText":t.type,data:t.data});e.dispatchEvent(r)}}function Ri(e){if(e==null)return"";const t=Jb.test(e.charAt(0))&&Jb.test(e.charAt(1))?2:1;return e.substring(0,t)}function Y_(e,t,n="forward"){if(n==="backward")return t===0?0:t===1?1:Jb.test(e.charAt(t))&&Jb.test(e.charAt(t-1))?2:1;const r=e.length-t;return r===0?0:r===1?1:Ri(e.substring(t)).length}function s7(e,t){const n=Ri(e.data),r=n.length;if(e.value+=n,e.pos+=r,typeof e.data=="string"&&(e.data=e.data.substring(r),e.data.length||(e.endPos=e.pos)),t)return t.substring(r)}function cF(e){const t=Ri(e.buffer),n=t.length;e.value+=t,e.pos+=n,e.buffer=e.buffer.substring(n)}function wEe(e,t){const n=Ri(t),r=n.length;return e.value+=n,e.pos+=r,t.substring(r)}function xEe(e,t){for(;t.buffer;){const n=Ri(t.buffer);if(e.pattern.test(n)||t.placeholder&&e.placeholder===n)return void(t.mode!=="replace"&&t.mode!=="select"||(t.buffer=t.buffer.substring(n.length)));t.buffer=t.buffer.substring(n.length)}}function dF(e,t){const n=e.values.concat([e.placeholder]).map(r=>r.toLowerCase()).sort((r,i)=>r.length>i.length?-1:1);for(;t.buffer;){const r=t.buffer.toLowerCase(),i=n.find(s=>r.startsWith(s));if(i){const s=t.buffer.substring(0,i.length);return t.buffer=t.buffer.substring(i.length),s}t.buffer=t.buffer.substring(Y_(t.buffer,0))}return null}function o7(e,t){let n=e.replaceAll(t.placeholder,"");const r=t.selectDirection==="left";if(t.selectFill){const s=new RegExp(`${r?"":"^"}${i=t.selectFill,i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}+${r?"$":""}`);n=n.replace(s,"")}var i;return n}function EEe(e,t){let n=[t.endPos,t.endPos,"forward"];if(t.mode!=="select")return n;const r=Vo(e);n=[r[0],t.endPos,"none"];const[i,s]=Ji(e,t.value),o=Ma(e,n,[i,s]);if(o===void 0||!(o in i)||!(o in s))return n;const a=i[o],l=s[o],u=t.value.slice(a[0],a[1]);if(Pa(l)&&o7(u,l).length===u.length&&o<i.length-1)return jF(),i[o+1];if(Ya(l)&&t.insertPos>=a[0]&&t.insertPos<=a[1]){if(t.cycle)return a;const c=function(f,p,g){if(f.originalData===null)return 0;const h=f.insertPos>=p?f.value.substring(p,f.insertPos):"",m=`${h}${f.originalData}`,v=Wv(g.values,m);return v?a7(m,v).length-h.length:0}(t,a[0],l);if(t.insertPos+c===a[1])return l7(l.values,u)?[a[1],a[1],"forward"]:(jF(),i[o+1]?i[o+1]:i[o]);const d=[t.insertPos+c,a[1],"none"];return Gc(d,r)||(cp.add(e),setTimeout(()=>cp.delete(e),5)),d}return a}function ok(e,t,n,r){var i,s;const o=(i=nx.get(e))!==null&&i!==void 0?i:[],a={pos:0,insertPos:(s=t.insertPos)!==null&&s!==void 0?s:t.selectionBefore[0],range:t.selectionBefore,chars:0,placeholder:gk.has(e),buffer:n,data:t.data,originalData:t.data,value:"",mode:Hl.get(e)||"replace",endPos:t.selectionBefore[0],rangeParts:Ji(e),unmasked:"",complete:!0,cycle:t.cycle,meta:[]};return ak(o,a,void 0,r),a}function ak(e,t,n,r){var i,s;const o={...t};n!=null&&n.placeholder&&(t.placeholder=!0);const a=n!=null&&n.repeat&&((i=n.nextPart)===null||i===void 0?void 0:i.type)==="literal"?n.nextPart.value:null;let l=0;const u=e.reduce((d,f)=>d+(f.type==="char"?1:0),0),c=t.chars;for(const d of e){const f=e[l+1];switch(d.type){case"literal":$Ee(d,t,e.at(-1)===d);break;case"char":TEe(d,t,a);break;case"enum":SEe(d,t);break;case"group":const g={repeat:(s=d.repeat)!==null&&s!==void 0&&s,nextPart:f,repeats:0,placeholder:!!d.placeholder};ak(d.parts,t,g,r)}if(r&&r(t,d)===!1)break;const p=ap(f)&&l+2===e.length&&c!==t.chars;if(!(t.buffer||t.data||t.placeholder||p))break;l++}if(t.chars<u&&(t.complete=!1),n){const d=t.chars-c,f=d===u,p=!(!t.data||a&&t.data.startsWith(a)&&t.insertPos<=t.pos),g=!(t.buffer&&a&&t.buffer.startsWith(a)&&t.insertPos>=t.pos+a.length)&&(t.buffer||p);if(n.repeat&&g&&f)return n.repeats++,ak(e,t,n,r);if(!f){t.complete=!1;const h=e.reverse().find(m=>m.type==="literal");e.reverse(),ap(h)&&t.value.endsWith(h.value)&&(t.value=t.value.substring(0,t.value.length-h.value.length),t.pos=t.value.length)}u>1&&d<u&&d!==0&&t.insertPos<=t.pos?t.data="":n.repeat&&!f&&n.repeats&&Object.assign(t,o)}t.placeholder=o.placeholder}function SEe(e,t){const[n,r]=t.rangeParts,i=n[r.indexOf(e)];if(i&&(t.insertPos<=t.pos||t.insertPos>=i[0]&&t.insertPos<=i[1])&&t.data){const s=t.buffer.substring(0,t.insertPos-t.pos),o=`${s}${t.data}`,a=Wv(e.values.concat([e.placeholder]),o);if(a){const l=a7(o,a);return t.data=t.data.substring(l.length),t.value+=a,a!==e.placeholder?t.unmasked+=a:t.complete=!1,t.meta.push({type:a!==e.placeholder?"enum":"placeholder",value:a}),s?t.buffer=t.buffer.substring(s.length):dF(e,t),t.endPos=t.pos+l.length,void(t.pos=t.value.length)}t.data=""}if(t.buffer){const s=dF(e,t);if(s)return t.value+=s,s!==e.placeholder?t.unmasked+=s:t.complete=!1,t.meta.push({type:s!==e.placeholder?"enum":"placeholder",value:s}),void(t.pos=t.value.length)}t.complete=!1,t.value+=e.placeholder,t.meta.push({type:"placeholder",value:e.placeholder}),t.pos=t.value.length}function $Ee(e,t,n){let r=e.value;if(t.data===""&&!t.buffer&&!t.placeholder&&!n)return;let i=!1;for(;r;){const s=t.insertPos<=t.pos?Ri(t.data):"",o=Ri(r);if(s===o)r=s7(t,r),t.meta.push({type:"literal",value:o}),i=!0;else if(!i||t.data||t.data===null||t.placeholder||n)r=wEe(t,r),t.meta.push({type:"literal",value:o});else if(i&&!t.data)break;t.buffer.startsWith(o)&&(t.buffer=t.buffer.substring(o.length))}t.data===null&&!t.buffer&&t.insertPos<=t.pos&&!t.placeholder&&(t.value=t.value.substring(0,t.value.length-e.value.length),t.pos=t.endPos=t.value.length)}function TEe(e,t,n){var r;let i=!0;if(t.insertPos<=t.pos)for(;!((r=t.data)===null||r===void 0)&&r.length;){const s=Ri(t.data);if(e.pattern.test(s))return s7(t),t.meta.push({type:"char",value:s}),t.chars++,t.unmasked+=s,void xEe(e,t);if(typeof t.data=="string"){if(n&&t.data.startsWith(n)){i=!1;break}t.data=t.data.substring(s.length)}}for(;i&&t.buffer;){const s=Ri(t.buffer);if(e.pattern.test(s))return t.chars++,t.unmasked+=s,cF(t),void t.meta.push({type:"char",value:s});if(t.placeholder&&s===e.placeholder)return cF(t),void t.meta.push({type:"placeholder",value:s});if(typeof t.buffer=="string"){if(n&&t.buffer.startsWith(n)){t.buffer=t.buffer.substring(n.length);break}t.buffer=t.buffer.substring(s.length)}}t.placeholder?(t.value+=e.placeholder,t.meta.push({type:"placeholder",value:e.placeholder})):t.endPos=t.pos}function kEe(e,t,n,r){const i=[r,r,"none"];if(t.mode==="select"){const s=Ji(e),o=Ma(e,i,s),[a,l]=Ji(e,t.value),u=o!==void 0&&fF(n.valueBefore,s[0][o],s[1][o]);if(o!==void 0&&o in a)return u?a.slice(o).every((d,f)=>fF(t.value,d,l[o+f]))&&a[o-1]?a[o-1]:a[o]:[r,a[o][1],"none"]}return i}function fF(e,t,n){if(ap(n))return!1;if(Pa(n)){let r=t[0];for(;r<t[1];){const i=Ri(e.substring(r));if(i!==n.placeholder)return!1;r+=i.length}}return!Ya(n)||e.substring(t[0],t[1])===n.placeholder}function a7(e,t){let n="";do{const r=Ri(e).toLowerCase(),i=Ri(t).toLowerCase();if(r!==i)break;n+=r,e=e.substring(r.length),t=t.substring(i.length)}while(e.length&&t.length);return n}function Ji(e,t){const n=nx.get(e);if(!n)return[[],[]];if($S.has(e))return $S.get(e);const r=t??tR(e,e.value),i=[],s=[];let o=null,a=null,l=0,u=!0;for(const d of n)if(ap(d))o=d,a!==null&&(i.push([a,l,"none"]),a=null),l+=d.value.length;else{if(Pa(o)&&Pa(d)&&d.token===o.token)l++;else if(Pa(d))a===null?(a=l,s.push(d)):(i.push([a,l,"none"]),a=l,s.push(d)),l++;else if(Ya(d)){a&&i.push([a,l,"none"]),u7(d)||(u=!1);const f=IEe(r,d,l);a=null,i.push([l,l+f,"none"]),s.push(d),l+=f}o=d}a!==null&&i.push([a,l,"none"]);const c=[[...i],[...s]];return u&&!t&&$S.set(e,c),c}function IEe(e,t,n){if(u7(t))return t.values[0].length;const r=e.slice(n),i=Wv(t.values.concat([t.placeholder]),r);return i?i.length:0}function Wv(e,t,n=null,r){var i;if(t.length===0)return n;if(!r){const u=e.find(c=>c.toLowerCase()===t.toLowerCase());if(u)return u}const s=Ri(t.toLowerCase()),o=`${r??""}${s}`,a=e.filter(u=>u.toLowerCase().startsWith(o)),l=a.find(u=>u.toLowerCase()===o);return l&&(n=l),a.length===0?n:a.length===1?a[0]:(a.length>1&&(n=a[0]),(i=Wv(a,t.substring(s.length),n,o))!==null&&i!==void 0?i:a[0])}function l7(e,t){return t=t.toLowerCase(),e.some(n=>(n=n.toLowerCase()).startsWith(t.toLocaleLowerCase())&&n!==t)}function u7(e){if(!TS.has(e)&&Array.isArray(e.values)&&e.values.length>0){const t=e.values[0].length;if(e.placeholder.length!==t)return!1;TS.set(e,e.values.every(n=>n.length===t))}return TS.get(e)}function fS(e,t=1){const[n]=Ji(e),r=Ma(e,sk(e,Vo(e)));return r!==void 0&&n[r+t]!==void 0&&(e.setSelectionRange(...vg(e,n[r+t])),!0)}function pF(e,t=1){const[n,r]=Ji(e),i=Ma(e,Vo(e));if(i!==void 0&&i in r){const s=r[i];if(Ya(s)){const o=n[i],a=e.value.slice(o[0],o[1]);let l=null,u=s.values.indexOf(a);const c=s.values.length-1;if(u!==-1){const d=u+t;u=d<0?c:d>c?0:d,l=s.values[u]}else a===s.placeholder&&(l=t>0?s.values[0]:s.values[c]);if(l!==null){const d={selectionBefore:o,insertPos:o[0],type:"insert",data:l,valueBefore:e.value,cycle:!0};return setTimeout(()=>Cm(e,d),0),!0}}}return!1}function c7(e,t){if(!e.length)return-1;if(e.length===1)return e[0];const n=e.length/2,r=Number.isInteger(n)?n:Math.floor(n),i=Math.abs(t-e[r-1])<Math.abs(t-e[r])?[0,r]:[r];return c7(e.slice(...i),t)}function Ma(e,t,n){const[r]=n??Ji(e),i=r.findIndex(l=>l[0]!==l[1]&&(!!Gc(l,t)||t[1]>l[0]&&t[1]<l[1]));if(i!==-1)return i;const[s,o]=r.reduce((l,u,c)=>(l[0].add(u[0]),l[0].add(u[1]),l[1][u[0]]=c,l[1][u[1]]=c,l),[new Set,{}]),a=c7([...s],t[1]);return a in o?o[a]:void 0}function nR(e){var t,n;const r=(t=La.get(e))!==null&&t!==void 0?t:[];return r[(n=up.get(e))!==null&&n!==void 0?n:r.length-1]}function d7(e,t=!1){const n=nR(e);return n&&(n.complete||t)?Af.has(e)?[...n.unmasked].reverse().join(""):n.unmasked:t?"":null}function f7(e){var t;const n=nR(e);return(t=n==null?void 0:n.meta)!==null&&t!==void 0?t:null}function hF(e){const t=r=>[...r].reverse().join(""),n=(r,i)=>[i-r[1],i-r[0],r[2]];e.data&&(e.data=t(e.data)),e.valueBefore=t(e.valueBefore),"valueAfter"in e&&(e.valueAfter=t(e.valueAfter)),"selectionAfter"in e&&(e.selectionAfter=n(e.selectionBefore,e.valueAfter.length)),e.selectionBefore=n(e.selectionBefore,e.valueBefore.length)}function p7(e){if(e.scrollWidth>e.clientWidth&&e.selectionStart!==null&&e.selectionEnd!==null){const t=e.selectionStart/e.value.length,n=e.selectionEnd/e.value.length;e.scrollLeft=n>.9?e.scrollWidth:t*e.scrollWidth-20,e.dispatchEvent(new CustomEvent("input-scroll",{bubbles:!1,detail:e.scrollLeft}))}}function nr(e){if(e||(e=new Date),e instanceof Date){const t=new Date(e);return t.setMilliseconds(0),t}if(function(t){const n=t.match(qF);if(n){const r=Number(n[2]);if(r<1||r>12)return!1;if(typeof n[3]!==void 0){const i=Number(n[3]);if(i<1||i>31)return!1}if(typeof n[4]!==void 0){const i=Number(n[4]);if(i<0||i>23)return!1}return!0}return!1}(e=e.trim()))return new Date(function(t){const n=t.match(qF);return n&&n[4]===void 0?t+"T00:00:00":t}(e));throw new Error(`Non ISO 8601 compliant date (${e}).`)}function gF(e){const t=nr(e);return t.setDate(1),t.setHours(0,0,0),t}function Yb(e){const t=nr(e);return t.setDate(1),t.setMonth(t.getMonth()+1),t.setDate(0),t}function qv(e){return Yb(e).getDate()}function mF(e,t=0){const n=nr(e);let r=t-n.getDay();return r>0&&(r-=7),n.setDate(n.getDate()+r),n.setHours(0,0,0),n}function Cf(e,t=1){const n=nr(e);return n.setDate(n.getDate()+t),n}function Cl(e,t=1,n=!1){const r=nr(e),i=r.getDate();if(n||r.setDate(1),r.setMonth(r.getMonth()+t),!n){const s=qv(r);r.setDate(s<i?s:i)}return r}function Vd(e,t=1,n=!1){const r=nr(e),i=r.getDate();if(n||r.setDate(1),r.setFullYear(r.getFullYear()+t),!n){const s=qv(r);r.setDate(s<i?s:i)}return r}function vF(e,t){const n=nr(e),r=nr(t);return n.getDate()===r.getDate()&&n.getMonth()===r.getMonth()&&n.getFullYear()===r.getFullYear()}function yF(e,t,n){if(!IS.has(e)){const i=new Date(aR),s=[3,8,9,7,6,4,3],o=["weekday","month","dayPeriod"],a=["long","short","narrow"],l={};for(let u=0;u<12;u++){i.setMonth(0+u),u in s&&i.setDate(s[u]),i.setUTCHours(8+u);for(const c of a){const d=new Intl.DateTimeFormat(e,o.reduce((f,p)=>Object.assign(f,{[p]:c}),{hour12:!0,timeZone:"UTC"})).formatToParts(i).map(Da);if(c==="long"||c==="short"){const f=new Intl.DateTimeFormat(e,{dateStyle:c==="short"?"medium":"long"}).formatToParts(i).map(Da).find(g=>g.type==="month"),p=d.findIndex(g=>g.type==="month");p>-1&&f&&(d[p]=f)}d.forEach(f=>{if(f.type==="literal")return;const p=f.type;l[p]=Object.assign(l[p]||{},{[f.value]:c})})}}IS.set(e,l)}const r=IS.get(e);return r?r[t][n]:void 0}function rf(e,t){const n=WF.get(t);if(n&&n[e])return n[e];const r=new Date(aR);r.setUTCHours(e==="am"?5:20);const i=new Intl.DateTimeFormat(t,{timeStyle:"full",timeZone:"UTC",hour12:!0}).formatToParts(r).map(Da).find(s=>s.type==="dayPeriod");if(i){const s=n||{};return WF.set(t,Object.assign(s,{[e]:i.value})),i.value}return e}function CEe(e,t){const n={timeZone:"UTC"};typeof e=="string"?n.dateStyle=e:("date"in e&&(n.dateStyle=e.date),"time"in e&&(n.timeStyle=e.time));const r=new Intl.DateTimeFormat(t,n),i=r.formatToParts(new Date(aR)).map(Da),s=r.formatToParts(new Date("1999-04-05T23:05:01.000Z")).map(Da).find(a=>a.type==="hour"),o=s&&s.value==="23"?24:12;return i.map(a=>{const l=a.type,u=function(d,f,p,g){const h=f.length,m=!isNaN(Number(f));let v;switch(d){case"year":return h===2?Yn.get("YY"):Yn.get("YYYY");case"month":return m?h===1?Yn.get("M"):Yn.get("MM"):(v=yF(p,d,f),v==="long"?Yn.get("MMMM"):Yn.get("MMM"));case"day":return h===1?Yn.get("D"):Yn.get("DD");case"weekday":switch(v=yF(p,d,f),v){case"narrow":return Yn.get("d");case"short":return Yn.get("ddd");default:return Yn.get("dddd")}case"hour":return g===12?h===1?Yn.get("h"):Yn.get("hh"):h===1?Yn.get("H"):Yn.get("HH");case"minute":return h===1?Yn.get("m"):Yn.get("mm");case"second":return h===1?Yn.get("s"):Yn.get("ss");case"dayPeriod":return/^[A-Z]+$/u.test(f)?Yn.get("A"):Yn.get("a");case"literal":return[f,{literal:f},new RegExp("")];case"timeZoneName":const y=f.split("-");return y.length===2&&y[1].length===4?Yn.get("ZZ"):Yn.get("Z");default:return}}(a.type,a.value,t,a.type==="hour"?o:void 0);if(u===void 0)return;const c=u[1][l];return c?(u[2]||(u[2]=new RegExp(`${u[0]}`,"g")),{option:{[l]:c},partName:l,partValue:c,token:u[0],pattern:u[2],hour12:o===12}):void 0}).filter(a=>!!a)}function lp(e,t){function n(l,[u,c,d]){const f=Object.keys(c)[0];return{option:c,partName:f,partValue:c[f],token:u,pattern:d,hour12:l}}if(I7.includes(e)||typeof e=="object")return CEe(e,t);let r=e,i=0;const s=l=>{if(l[2]||(l[2]=new RegExp(`(.)?(${l[0]})`,"g")),l[2].test(r)){let u=0;return r=r.replace(l[2],(c,d,f)=>d==="\\"?f:`${typeof d=="string"?d:""}{!${u++?i:i++}!}`),!!u}return!1},o=function(l){const u=l.map(d=>d.partName),c=new Set(u);if(u.length>c.size)throw new Error("Cannot reuse format tokens.");return l}(lR.filter(s).concat(uR.filter(s)).map(n.bind(null,!1)).concat(cR.filter(s).map(n.bind(null,!0)))),a=/^\{!(\d+)!\}$/;return r.split(/(\{!\d+!\})/).map(l=>{const u=l.match(a);return u?o[Number(u[1])]:{option:{literal:l},partName:"literal",partValue:l,token:l,pattern:new RegExp(""),hour12:!1}}).filter(l=>!(l.partName==="literal"&&l.partValue===""))}function rR(e,t="en",n=!1,r=()=>!0){return lp(e,t).filter(r).reduce((i,s)=>i+(n&&s.partName==="literal"?function(o){return lR.concat(uR).concat(cR).sort((a,l)=>a[0].length>l[0].length?1:-1).reduce((a,l)=>a.replace(l[0],(u,c,d)=>d[c-1]==="\\"?u:`\\${u}`),o)}(s.token):s.token),"").normalize("NFKC")}function AEe(e,t,n,r=!1){function i({partName:a,partValue:l,token:u}){if(a==="literal")return l;const c=s[a];if(a==="hour"&&u==="H")return c.replace(/^0/,"");if(!(a!=="minute"&&a!=="second"||u!=="mm"&&u!=="ss"||c.length!==1))return`0${c}`;if(a==="dayPeriod"){const d=rf(o.getHours()<12?"am":"pm",n);return u==="A"?d.toUpperCase():d.toLowerCase()}return a==="timeZoneName"?m7(-1*o.getTimezoneOffset()):c}const s=function(a,l,u,c=!1){function d(v,y=!1){const _=`${u}-u-hc-${y?"h12":"h23"}`;if(h.push(...new Intl.DateTimeFormat(_,v.reduce((b,x)=>x.partName==="literal"?b:(c&&GTe.includes(x.token)&&m.push(x),Object.assign(b,x.option)),{})).formatToParts(f).map(Da)),c&&m.length)for(const b of m){let x=[];switch(b.token){case"MMMM":x=new Intl.DateTimeFormat(_,{dateStyle:"long"}).formatToParts(f).map(Da);break;case"MMM":x=new Intl.DateTimeFormat(_,{dateStyle:"medium"}).formatToParts(f).map(Da)}const w=x.find(E=>E.type===b.partName),$=h.findIndex(E=>E.type===b.partName);w&&$>-1&&(h[$]=w)}}const f=nr(a),p=l.filter(v=>v.hour12),g=l.filter(v=>!v.hour12),h=[],m=[];return p.length&&d(p,!0),g.length&&d(g),h.reduce((v,y)=>(v[y.type]=y.value,v),{})}(e,t,n,r),o=nr(e);return t.map(a=>({...a,value:i(a)}))}function ls(e,t="long",n="en",r=!1,i=()=>!0){return t==="ISO8601"?nr(e).toISOString():AEe(e,lp(t,n).filter(i),n,r).map(s=>s.value).join("")}function OEe(e){return["numeric","2-digit"].includes(e.partValue)}function h7(e,t){let n=0;const r=a=>[a[n++],a[n]];let i=0;const s=[];let o;do{const[a,l]=r(t);o=l;let u=1;if(a.partName==="literal")u=a.partValue.length;else if(a.token in Zb)u=Zb[a.token];else if(l)if(l.partName==="literal"){if(u=e.indexOf(l.partValue,i)-i,u<0)throw new Error}else if(l.partName==="dayPeriod"){for(let c=1;c<=4;c++)if(isNaN(Number(e.charAt(i+c)))){u=c;break}}else{const c=e.substring(i).search(/\d/);c!==-1&&(u=i+c)}else u=e.length;s.push({...a,value:e.substring(i,i+u)}),i+=u}while(o);return s}function ex(e,t="en",n=!1){const r=(i,s)=>Array(i).fill("").map((o,a)=>`${s(a)}`);if(e==="M")return r(12,i=>i+1);if(e==="MM")return r(12,i=>{const s=i+1;return s<10?`0${s}`:s});if(e.startsWith("M"))return ex("MM").map(i=>ls(`2000-${i}-05`,e,t,n));if(e.startsWith("d"))return r(7,i=>`0${i+2}`).map(i=>ls(`2022-10-${i}`,e,t));if(e==="a")return[rf("am",t).toLowerCase(),rf("pm",t).toLowerCase()];if(e==="A")return[rf("am",t).toUpperCase(),rf("pm",t).toUpperCase()];if(e.startsWith("Y")){const i=new Date().getFullYear();return r(120,s=>s+1).reduce((s,o)=>(o!=="120"&&s.push(ls(`${i+Number(o)}-06-06`,e,t)),s.unshift(ls(i-Number(o)+"-06-06",e,t)),s),[ls(`${i}-06-06`,e,t)])}return e.startsWith("D")?r(31,i=>`${e==="DD"&&i<9?"0":""}${i+1}`):e.startsWith("H")?r(24,i=>`${e==="HH"&&i<10?"0":""}${i}`):e.startsWith("h")?r(12,i=>`${e==="hh"&&i<9?"0":""}${i+1}`):e.startsWith("m")||e.startsWith("s")?r(60,i=>`${e.length>1&&i<10?"0":""}${i}`):[]}function El(e,t="ISO8601",n="en"){let r,i=()=>!0,s="backward";if(typeof e=="object"?{date:r,format:t="ISO8601",locale:n="en",dateOverflow:s="backward",partFilter:i=()=>!0}=e:r=e,!r)throw new Error("parse() requires a date string.");const o=()=>{throw new Error(`Date (${r}) does not match format (${rR(t,n)})`)};if(t==="ISO8601")return nr(r);const a=I7.includes(t)||typeof t=="object",l=function(E){let S;for(const T of E){if(T.partName==="literal"&&!isNaN(parseFloat(T.partValue)))throw new Error(`Numbers in format (${T.partValue}).`);if(S&&S.partName!=="literal"&&T.partName!=="literal"&&!(S.token in Zb||T.token in Zb||OEe(S)&&T.token.toLowerCase()==="a"))throw new Error(`Illegal adjacent tokens (${S.token}, ${T.token})`);S=T}return E}(lp(t,n).filter(i));if(!l.length)throw new Error("parse() requires a pattern.");let u;try{u=h7(r,l)}catch{return o()}const c=new Date,d=new Map([["YYYY",c.getFullYear()],["MM",c.getMonth()+1],["DD",c.getDate()],["HH",0],["mm",0],["ss",0]]);let f=null,p="";u.forEach(E=>{if(E.partName==="literal")return;if(E.token===E.value)return o();const S=Number(E.value);if(d.has(E.token))d.set(E.token,S);else if(E.token==="YY")d.set("YYYY",function(T){const P=new Date().getFullYear(),C=P%100,B=Math.floor(P/100),V=Number(T);return 100*(B+(V>C+20?-1:0))+V}(E.value));else{const T=E.token;if(T.startsWith("d"))return;if(T==="D")d.set("DD",S);else if(T==="H"||T.startsWith("h"))d.set("HH",S);else if(T==="M")d.set("MM",S);else if(T==="a"||T==="A")f=E.value.toLowerCase()===rf("am",n).toLowerCase();else if(T==="Z")p=g7(E.value);else{const P=ex(T,n,a).indexOf(E.value);if(P!==-1)switch(T){case"MMM":case"MMMM":d.set("MM",P+1)}}}});let g=d.get("HH")||0;f===!1?(g+=g===12?0:12,d.set("HH",g===24?0:g)):f===!0&&g===12&&d.set("HH",0),d.set("MM",(d.get("MM")||1)-1);let[h,m,v,y,_,b]=Array.from(d.values());const x=qv(new Date(`${CS(h)}-${bl(m+1)}-10`));if(x<v&&s==="throw")throw new Error(`Invalid date ${CS(h)}-${bl(m+1)}-${bl(v)}`);v=s==="backward"?Math.min(v,x):v;const w=`${CS(h)}-${bl(m+1)}-${bl(v)}T${bl(y)}:${bl(_)}:${bl(b)}${p}`,$=new Date(w);return isFinite(+$)?$:o()}function g7(e){if(!/^([+-])[0-3][0-9][0-6][0-9]$/.test(e))throw new Error(`Invalid offset: ${e}`);return e}function lk(e,t="UTC",n="browser"){n=n==="browser"?Intl.DateTimeFormat().resolvedOptions().timeZone:n;const r=nr(e),i=o=>{const a=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZone:o,hourCycle:"h23"}).formatToParts(r).map(Da),l={};return a.forEach(u=>{l[u.type]=u.value}),new Date(`${l.year}-${l.month}-${l.day}T${l.hour}:${l.minute}:${l.second}Z`)},s=i(t);return m7((i(n).getTime()-s.getTime())/1e3/60)}function Da(e){return e.type==="literal"&&(e.value=e.value.normalize("NFKC")),e}function m7(e){return`${e<0?"-":"+"}${String(Math.floor(Math.abs(e/60))).padStart(2,"0")}${String(Math.abs(e%60)).padStart(2,"0")}`}function v7(e,t="+0000"){const n=nr(e),r=function(i){g7(i);const[s,o,a,l]=i.match(/([+-])([0-3][0-9])([0-6][0-9])/),u=60*Number(a)+Number(l);return o==="+"?u:-u}(t);return new Date(n.getTime()+1e3*r*60)}function Td(e,t="+0000"){const n=t.slice(0,1)==="+";return v7(e,t.replace(n?"+":"-",n?"-":"+"))}function hh(e,t,n=7){let r,i;const s=nr(e);switch(n){case"month":i=s.getDate(),r=qv(s)-s.getDate();break;case"week":i=s.getDay()+1,r=6-s.getDay();break;case"year":const o=function(l){const u=nr(l);return(new Date(u.getFullYear()+1,0,0).getTime()-new Date(u.getFullYear(),0,0).getTime())/864e5}(s),a=function(l){const u=nr(l);return Math.round((new Date(u.getFullYear(),u.getMonth(),u.getDate(),0,0).getTime()-new Date(u.getFullYear(),0,0).getTime())/864e5)}(s);i=a,r=o-a;break;default:r=i=n}for(let o=0;o<=r||o<i;o++){if(o<=r){const a=Cf(s,o);if(t(a))return a}if(o&&o<=i){const a=Cf(s,-o);if(t(a))return a}}return null}function yg(e){return e.partName!=="timeZoneName"}function REe(e,t){const n=[],r=nr(t);r.setDate(1);let i=mF(r,e.props.weekStart);i.setHours(r.getHours(),r.getMinutes(),r.getSeconds());const s=function(a,l=0){const u=mF(a,l);return u.setDate(u.getDate()+6),u.setHours(23,59,59),u}(Yb(t),e.props.weekStart);let o=[];do o.push(i),o.length===7&&(n.push(o),o=[]),i=Cf(i);while(i.getTime()<=s.getTime());return{monthDay:r,weeks:n}}function _F(e){e.props.calendar=nu(e.props.showMonths,t=>t).map(t=>REe(e,Cl(e.props.renderedDate,t))),e.props.years=function(t){const n=Number(ls(t.props.renderedDate,"YYYY")),r=n-n%10;return t.props.decade=`${r} - ${r+9}`,nu(10,i=>Vd(t.props.renderedDate,r+i-n))}(e),e.props.months=function(t){const n=nr(t.props.renderedDate);return n.setMonth(0),nu(12,r=>Cl(n,r))}(e)}function PEe(e,t){var n;t.target&&t.target instanceof Element&&(t.target.closest(`#${e.props.id}_popover`)||!(!((n=e.props.__root)===null||n===void 0)&&n.contains(t.target)))||(e.props.expanded=!1)}function Gu(e,t){if(!t)return e.props.inputText="",new Date;const n=t instanceof Date?t:El(t,e.props.valueFormat,e.props.valueLocale);return e.props.inputText=e.props.formatDate(n,e.props.format,e.props.locale,!1,yg),n}function bF(e){return Array.isArray(e.props.sequence)?mu(e.props.sequence):["day"]}function gh(e,t,n=!0){var r,i;if(e._value===t)return;if(t==null)return e.input(t,n);e.props.offset=e.props.timezone?lk(t,e.props.timezone):"+0000";const s=v7(t,(r=(i=e.props).offset)!==null&&r!==void 0?r:i.offset="+0000");e.input(ls(s,e.props.valueFormat,e.props.valueLocale,!1),n)}function pS(e,t){var n;const r=["prev_button","month_button","day_button","year_button","next_button"].find(s=>{var o;return(o=e.props.__root)===null||o===void 0?void 0:o.getElementById(`${e.props.id}_${s}`)}),i=(n=e.props.__root)===null||n===void 0?void 0:n.getElementById(`${e.props.id}_${r}`);i instanceof HTMLElement&&(t.preventDefault(),i.focus())}function MEe(e,t){var n;let r="";if(!(t instanceof HTMLInputElement)||e.props.pickerOnly)return;ew.set(e,t),(n=e.props.__root)===null||n===void 0||n.addEventListener("click",o=>{e.props.expanded&&o.target instanceof HTMLElement&&o.target.closest(`#${e.props.id}_popover`)?yk.add(e):yk.delete(e)}),e.on("prop:inputText",({payload:o})=>{o!==t.value&&(Q_.get(t)==="beforeCallback"&&(r=t.value),sF(t),t.selectionStart=0,t.selectionEnd=t.value.length,function(a,l){var u,c;if(!La.has(a))return;const d=(u=Up.get(a))!==null&&u!==void 0?u:"",f=(c=rx.get(a))!==null&&c!==void 0?c:"";Cm(a,{type:"insert",selectionBefore:Vo(a),data:l,valueBefore:a.value,suffix:f,prefix:d})}(t,o),t.value=o,setTimeout(()=>oF(t),10))});const[i,s]=DEe(e);eR(t,{pattern:i,explicitParts:s,onChange:({valueAfter:o})=>{if(y7(e),vk.has(e))return vk.delete(e);r&&r===o?r="":(sF(t),e.props.inputText=o,setTimeout(()=>oF(t),10))}})}function y7(e){var t,n;if(e.props.overlay){const r=ew.get(e);!r||!(!((t=e.props.attrs)===null||t===void 0)&&t.placeholder)||e._value||d7(r,!0)||e.props._isFocused||e.props.activeDate&&e.props.expanded?r&&(e.props._isPlaceholder=!1,e.props._overlayParts=YO(f7(r))):(e.props._isPlaceholder=!0,e.props._overlayParts=[{type:"placeholder",value:(n=e.props.attrs)===null||n===void 0?void 0:n.placeholder}])}}function DEe(e){const t=e.props.locale,n=["full","long","medium","short"].includes(e.props.format)||typeof e.props.format=="object",r=lp(e.props.format,t);return[rR(e.props.format,t,!0,yg),r.reduce((i,s)=>{if(s.partName==="literal")return i;let o=ex(s.token,t,n);if(s.token==="YYYY"&&e.props.minDate&&e.props.maxDate){const l=e.props.minDate.getFullYear();o=nu(e.props.maxDate.getFullYear()-l+1,u=>String(l+u))}const a={type:"enum",token:s.token,values:o,placeholder:s.token==="A"?"A/P":s.token,selectDirection:"left"};return i.push(a),s.token.startsWith("D")&&C7.set(e,o),i},[])]}function NEe(e,t){return!t||!!(e.props.minDate&&t<e.props.minDate)||!!(e.props.maxDate&&t>e.props.maxDate)||void 0}function LEe(e){return typeof e.props.validationLabel=="function"?e.props.validationLabel(e):e.props.validationLabel||e.props.label||e.props.name||String(e.name)}function FEe(e,t){var n,r;if(t instanceof HTMLInputElement&&!GF.get(e)&&YTe){const i=(n=e.props.__root)===null||n===void 0?void 0:n.getElementById(`${e.props.id}_overlay`),s=(r=e.props.__root)===null||r===void 0?void 0:r.getElementById(`${e.props.id}_overlay_inner`);if(i&&t&&s){GF.set(e,i);const o=getComputedStyle(t).color;t.style.color="transparent",t.style.caretColor=o;const a=new ResizeObserver(()=>{var u;const c=getComputedStyle(t),d=t.getBoundingClientRect(),f=(u=t.parentElement)===null||u===void 0?void 0:u.getBoundingClientRect();e.props._overlayStyles={...e.props._overlayStyles,width:c.width,height:c.height,boxSizing:c.boxSizing,padding:c.padding,margin:c.margin,fontSize:c.fontSize,lineHeight:c.lineHeight,top:d.top-((f==null?void 0:f.top)||d.top)+"px",left:d.left-((f==null?void 0:f.left)||d.left)+"px"}});a.observe(t);const l=u=>{s.scrollLeft=u.detail};t.addEventListener("input-scroll",l),e.on("destroyed",()=>{t.removeEventListener("input-scroll",l),a.disconnect()})}}}function _7(e){e.addProps(["_overlayStyles","_overlayParts","_overlayInnerStyles","_isPlaceholder"]),e.props._overlayStyles={position:"absolute",top:"0",left:"0",pointerEvents:e.props._isPlaceholder?"auto":"none"},e.props._overlayInnerStyles={overflow:"hidden",whiteSpace:"nowrap",paddingRight:"20px"},e.on("created",()=>{e.props.overlay=Ue(e.props.overlay),e.props.pickerOnly=Ue(e.props.pickerOnly),e.props.overlay=e.props.pickerOnly?void 0:e.props.overlay,e.props.overlay&&cr(`${e.props.id}`,FEe.bind(null,e),e.props.__root)}),e.on("prop:_isPlaceholder",()=>{e.props._overlayStyles={...e.props._overlayStyles,pointerEvents:e.props._isPlaceholder?"auto":"none"}})}function BEe(e,t){if(!(t instanceof HTMLInputElement))throw new Error(`Masks can only be applied to an HTMLInputElement (id: ${t.id}).`);bk.set(e,t),eR(t,{..._k.get(e),onChange:({valueAfter:n,meta:r})=>{e.props._maskValue=n,e.input({maskValue:n}),e.props._overlayParts=YO(r)}})}function iR(e,t,n,r){if(!(e.props.disabled||(e.props.isSourceOption=n,e.props.isSourceOption&&Array.isArray(e.value)&&e.value.length>=e.props.max)))if(n){if(e.props.selectedSourceItems.includes(t))return e.props.selectedSourceItems=e.props.selectedSourceItems.filter(i=>i!==t),e.props.activeValue=void 0,void(e.props.activeDescendant=void 0);e.props.selectedTargetItems=[],e.props.selectedSourceItems=[...e.props.selectedSourceItems,t]}else{if(e.props.selectedTargetItems.includes(t))return void(e.props.selectedTargetItems=e.props.selectedTargetItems.filter(i=>i!==t));e.props.selectedSourceItems=[],e.props.selectedTargetItems=[...e.props.selectedTargetItems,t]}}function Xb(e,t){if(e.props.sourceListOrigin=!0,t){const r=Array.isArray(e.value)?[...e.value,t]:[t];return void e.input(r)}const n=e.props.selectedSourceItems.map(r=>Me(r));Array.isArray(e.value)?e.input([...e.value,...n]):e.input(n),e.props.selectedSourceItems=[]}function Qb(e,t){if(e.props.sourceListOrigin=!1,t){const r=Array.isArray(e.value)?e.value.filter(i=>i!==t):[];return void e.input(r)}const n=e.props.selectedTargetItems.map(r=>Me(r));if(Array.isArray(e.value)){const r=e.value.filter(i=>!n.includes(i));e.input(r)}e.props.selectedTargetItems=[]}function b7(e){var t;const n=(t=e.props.__root)===null||t===void 0?void 0:t.getElementById(e.props.activeDescendant);n&&n.scrollIntoView({block:"nearest",inline:"start"})}function Xy(e){var t;if(Array.isArray(e.value)){const n=[];let r=[...e.props.options];e.value.forEach(i=>{const s=e.props.memoOptions.find(o=>at(Me(o),i));if(s)n.push(s),e.props.options.findIndex(a=>at(Me(a),i))!==-1&&(r=r.filter(a=>!at(Me(a),i)));else{const o=r.find(a=>at(Me(a),i));o?(n.push(o),r=r.filter(a=>!at(Me(a),i))):n.push({label:String(i),value:i,noOptionFound:!0})}}),e.props.targetOptions=n,e.props.sourceOptions=r}else e.props.sourceOptions=[...e.props.options],e.props.targetOptions=[];if(e.props.skipSetActiveValue)return void(e.props.skipSetActiveValue=!1);!((t=e.props.__root)===null||t===void 0)&&t.getElementById(e.props.id+"_source_list_items")&&function(n){var r,i,s,o,a,l,u;if(n.props.isDragging)return;if(n.props.sourceSearchActive){if(((i=(r=n.props.__root)===null||r===void 0?void 0:r.activeElement)===null||i===void 0?void 0:i.id)===`${n.props.id}_source_search_input`){const f=n.props.sourceOptions.find(p=>{var g;return!(!((g=p.attrs)===null||g===void 0)&&g.disabled)});return f?void(n.props.activeValue=Me(f)):void(n.props.activeValue=void 0)}n.props.sourceSearchActive=!1}if(n.props.transferOnSelect===!1)return void(n.props.activeValue=void 0);const c=n.props.sourceListOrigin?n.props.sourceOptions:n.props.targetOptions;let d=!1;for(let f=n.props.activeIndex;f<=c.length;f++)if(!(!((s=c.attrs)===null||s===void 0)&&s.disabled)&&c[f]){d=!0,n.props.activeValue=Me(c[f]);break}if(!d&&c.length){for(let f=n.props.activeIndex;f>=0;f--)if(!(!((o=c.attrs)===null||o===void 0)&&o.disabled)&&c[f])return d=!0,void(n.props.activeValue=Me(c[f]))}if(!d){let f;f=n.props.sourceListOrigin?(u=n.props.__root)===null||u===void 0?void 0:u.getElementById(`${n.props.id}`):n.props.searchable?(a=n.props.__root)===null||a===void 0?void 0:a.getElementById(`${n.props.id}_source_search_input`):(l=n.props.__root)===null||l===void 0?void 0:l.getElementById(`${n.props.id}_source_list_items`),f&&f.focus()}}(e)}function w7(e,t){return(t?e.props.sourceOptions:e.props.targetOptions).find(n=>{var r;return!(!((r=n.attrs)===null||r===void 0)&&r.disabled)})}function UEe(e){Array.isArray(e.value)&&e.value.forEach(async t=>{B8(e,t,function(n,r){return[...n.props.options,...n.props.memoOptions].find(s=>at(Me(s),r))}(e,t))})}function VEe(e){e.context&&(e.context.handlers.loadMore=qb.bind(null,e),e.context.fns.getSourceItemCount=t=>e.props.transferOnSelect===!1&&t.length?t.length+"/"+e.props.sourceOptions.length:e.props.sourceOptions.length,e.context.fns.getTargetItemCount=t=>e.props.transferOnSelect===!1&&t.length?t.length+"/"+e.props.targetOptions.length:e.props.targetOptions.length,e.context.fns.isActive=(t,n)=>{if(!e.props.isDragging&&!e.props.touchStarted)return at(n,Me(t))||void 0},e.context.fns.isSelected=(t,n)=>!!n&&!!Array.isArray(n)&&n.includes(t),e.context.fns.optionLoading=t=>e.props.optionLoaderValues.includes(Me(t)),e.context.handlers.clearSearch=()=>{(function(t){var n;t.props.sourceSearchActive=!1,t.props.inputText="",fo(t,"",!0);const r=(n=t.props.__root)===null||n===void 0?void 0:n.getElementById(`${t.props.id}_source_search_input`);r&&r.focus()})(e)},e.context.handlers.sourceSearchBlur=t=>{setTimeout(()=>{var n;if(t.relatedTarget&&t.relatedTarget instanceof HTMLElement&&(t.relatedTarget.id===`${e.props.id}_source_list_items`||t.relatedTarget.id===`${e.props.id}`)){const r=(n=e.props.__root)===null||n===void 0?void 0:n.getElementById(`${e.props.id}_source_search_input`);if(!r)return;r.focus()}else e.props.activeValue=void 0})},e.context.handlers.listitemClick=(t,n)=>r=>{wF(e,t,n)},e.context.handlers.transferForward=Xb.bind(null,e,void 0),e.context.handlers.transferForwardAll=()=>{let t;const n=e.props.sourceOptions.map(r=>Me(r));t=Array.isArray(e.value)?[...e.value,...n]:[...n],e.input(t),e.props.selectedSourceItems=[]},e.context.handlers.transferBackward=Qb.bind(null,e,void 0),e.context.handlers.transferBackwardAll=()=>{Array.isArray(e.value)&&(e.input([]),e.props.selectedTargetItems=[])},e.context.handlers.onSearch=t=>{(function(n,r){n.props.sourceSearchActive=!0;const i=r.target;n.props.inputText=i.value,fo(n,i.value,!0)})(e,t)},e.context.handlers.onMouseenter=t=>n=>{n.type!=="touchstart"&&(t?e.props.mouseOnSource=!0:e.props.mouseOnTarget=!0)},e.context.handlers.onMouseleave=t=>n=>{var r;if(n.type==="touchend")return;const i=(r=e.props.__root)===null||r===void 0?void 0:r.getElementById(t?`${e.props.id}_source_list_items`:`${e.props.id}`);i&&(i.contains(n.relatedTarget)||(e.props.trackHover=!1,e.props.activeValue=void 0,e.props.activeDescendant=void 0,e.props.activeIndex=void 0,t?e.props.mouseOnSource=!1:e.props.mouseOnTarget=!1))},e.context.handlers.listitemClick=(t,n)=>r=>{r instanceof MouseEvent&&e.props.touchStarted||wF(e,t,n)},e.context.handlers.listitemTouchstart=()=>()=>{(function(t){t.props.touchStarted=!0})(e)},e.context.handlers.listitemTouchend=(t,n)=>r=>{(function(i,s,o,a){if(i.props.touchMoved)return i.props.touchMoved=!1,void(i.props.touchStarted=!1);const l=Me(s);i.props.activeIndex=i.props.sourceOptions.findIndex(u=>Me(u)===l),i.props.transferOnSelect?o?Xb(i,l):Qb(i,l):iR(i,s,o)})(e,t,n)},e.context.handlers.listitemTouchmove=()=>t=>{(function(n){n.props.touchMoved=!0})(e)},e.context.handlers.sourceSearchFocus=t=>{hS(e,!0)},e.context.handlers.sourceListFocused=t=>{hS(e,!0)},e.context.handlers.targetListFocused=()=>{hS(e,!1)},e.context.handlers.sourceListBlurred=t=>{e.props.activeValue=void 0},e.context.handlers.targetListBlurred=t=>{e.props.activeValue=void 0},e.context.handlers.sourceListKeydown=t=>{gS(e,t,!0)},e.context.handlers.targetListKeydown=t=>{gS(e,t,!1)},e.context.handlers.sourceSearchKeydown=t=>{gS(e,t,!0)})}function wF(e,t,n,r){var i;if(Me(t)===wk)return void((i=e.context)===null||i===void 0||i.handlers.loadMore(!0));const s=Me(t);e.props.activeIndex=e.props.sourceOptions.findIndex(o=>Me(o)===s),e.props.transferOnSelect?n?Xb(e,s):Qb(e,s):iR(e,t,n)}function hS(e,t){const n=w7(e,t);n&&(e.props.sourceListOrigin=t,e.props.activeValue=Me(n))}function gS(e,t,n){if(t.key==="ArrowDown"||t.key==="ArrowUp")(function(r,i,s){var o,a,l,u;r.preventDefault();const c=s?i.props.sourceOptions:i.props.targetOptions,d=c.findIndex(f=>Me(f)===i.props.activeValue);if(r.key==="ArrowUp"&&d!==0){for(let f=d-1;f>=0;f--)if(!(!((a=(o=c[f])===null||o===void 0?void 0:o.attrs)===null||a===void 0)&&a.disabled)){i.props.sourceListOrigin=s,i.props.activeValue=Me(c[f]);break}}else if(r.key==="ArrowDown"&&d!==c.length-1){for(let f=d+1;f<c.length;f++)if(!(!((u=(l=c[f])===null||l===void 0?void 0:l.attrs)===null||u===void 0)&&u.disabled)){i.props.sourceListOrigin=s,i.props.activeValue=Me(c[f]);break}}b7(i)})(t,e,n);else if(t.key==="ArrowRight"||t.key==="ArrowLeft"){if(t.key==="ArrowLeft"&&n||t.key==="ArrowRight"&&!n)return;(function(r,i,s){i.props.searchable||(r.preventDefault(),function(o,a){var l,u,c;if(w7(o,!a))if(a){const d=(l=o.props.__root)===null||l===void 0?void 0:l.getElementById(`${o.props.id}`);d&&d.focus()}else if(o.props.searchable){const d=(u=o.props.__root)===null||u===void 0?void 0:u.getElementById(`${o.props.id}_source_search_input`);d&&d.focus()}else{const d=(c=o.props.__root)===null||c===void 0?void 0:c.getElementById(`${o.props.id}_source_list_items`);d&&d.focus()}}(i,s))})(t,e,n)}else t.key==="Enter"&&function(r,i,s){if(r.preventDefault(),!i.props.activeValue)return;const o=s?i.props.sourceOptions:i.props.targetOptions,a=o.findIndex(u=>Me(u)===i.props.activeValue);i.props.activeIndex=a;const l=o[a];l&&(i.props.transferOnSelect?s?Xb(i,Me(l)):Qb(i,Me(l)):iR(i,l,s))}(t,e,n)}function jEe(e){e.on("created",()=>{if(e.props.skipSetActiveValue=!0,typeof e.props.optionsLoader=="function"&&jv(e),VEe(e),e.props.disabled&&(e.props.draggable=!1),Zi){cr(e.props.id+"_source_list_items",n=>{n instanceof HTMLElement&&function(r,i){function s(){return r.props.sourceOptions.map(l=>Me(l))}function o(l,u){return[]}if(!r.context)return;const a={longTouch:!0,draggingClass:r.context.classes.dragging,dropZoneClass:r.context.classes.dropZone,root:r.props.__root,disabled:!r.props.draggable,touchDraggingClass:r.context.classes.touchDragging,touchDropZoneClass:r.context.classes.touchDropZone,selectionDraggingClass:r.context.classes.selectionDragging,selectionDropZoneClass:r.context.classes.selectionDropZone,touchSelectionDraggingClass:r.context.classes.touchSelectionDragging,touchSelectionDropZoneClass:r.context.classes.touchSelectionDropZone,longTouchClass:r.context.classes.longTouch,draggable:l=>l.getAttribute("role")==="option",plugins:[],dragstart(l,u,c){r.props.isDragging=!0,r.props.trackHover=!1,r.props.activeValue=void 0,c==null||c(l,u)},end(l,u,c){c==null||c(l,u),r.props.isDragging=!1,r.props.activeValue=void 0,r.props.activeDescendant=void 0,r.props.activeDescendant=void 0},drop(l,u,c){c==null||c(l,u),r.props.isDragging=!1,r.props.selectedTargetItems=[],r.props.selectedSourceItems=[],r.props.activeValue=void 0},touchstart(l,u,c){r.props.isDragging=!0,r.props.trackHover=!1,r.props.activeValue=void 0,r.props.activeDescendant=void 0,r.props.mouseOnSource=!1,r.props.mouseOnTarget=!1,c==null||c(l,u)},touchmove(l,u,c){r.props.selectedSourceItems=[],c==null||c(l,u)},setSelections:l=>r.props.selectedSourceItems.map(u=>Me(u))};a.plugins=[{setUp:z2.bind(null,{group:r.props.id,drop:(l,u,c)=>{c==null||c(l,u),r.props.isDragging=!1,r.props.trackHover=!1,r.props.selectedTargetItems=[]}},i,a)}],xi(i,s,o,a),r.on("prop:disabled",({payload:l})=>{a.disabled=l,xi(i,s,o,a)}),r.on("prop:draggable",({payload:l})=>{a.disabled=!l,xi(i,s,o,a)})}(e,n)},e.props.__root),cr(`${e.props.id}`,n=>{n instanceof HTMLElement&&function(r,i){function s(){return Array.isArray(r.value)?r.value:[]}function o(l,u){r.props.sourceListOrigin=!0,r.input(u)}if(!r.context)return;const a={longTouch:!0,root:r.props.__root,disabled:!r.props.draggable,draggingClass:r.context.classes.dragging,dropZoneClass:r.context.classes.dropZone,touchDraggingClass:r.context.classes.touchDragging,touchDropZoneClass:r.context.classes.touchDropZone,selectionDraggingClass:r.context.classes.selectionDragging,selectionDropZoneClass:r.context.classes.selectionDropZone,touchSelectionDraggingClass:r.context.classes.touchSelectionDragging,touchSelectionDropZoneClass:r.context.classes.touchSelectionDropZone,longTouchClass:r.context.classes.longTouch,draggable:l=>l.getAttribute("role")==="option",dragstart(l,u,c){r.props.isDragging=!0,r.props.trackHover=!1,r.props.activeValue=void 0,c==null||c(l,u)},end(l,u,c){c==null||c(l,u),r.props.isDragging=!1,r.props.selectedTargetItems=[],r.props.selectedSourceItems=[],r.props.activeValue=void 0},drop(l,u,c){c==null||c(l,u),r.props.trackHover=!0,r.props.isDragging=!1,r.props.selectedTargetItems=[],r.props.selectedSourceItems=[],r.props.activeValue=void 0},touchstart(l,u,c){r.props.trackHover=!1,r.props.activeValue=void 0,r.props.isDragging=!0,r.props.activeDescendant=void 0,c==null||c(l,u)},setSelections:l=>r.props.selectedTargetItems.map(u=>Me(u)),plugins:[]};a.plugins=[{setUp:z2.bind(null,{group:r.props.id,drop:(l,u,c)=>{c==null||c(l,u),r.props.isDragging=!1,r.props.selectedSourceItems=[]}},i,a)}],xi(i,s,o,a),r.on("prop:disabled",({payload:l})=>{a.disabled=l,xi(i,s,o,a)}),r.on("prop:draggable",({payload:l})=>{a.disabled=!l,xi(i,s,o,a)})}(e,n)},e.props.__root);const t=n=>{var r;if(e.props.isDragging)return;e.props.mouseX=n.clientX,e.props.mouseY=n.clientY;const i=e.props.mouseOnSource?`${e.props.id}_source_list_items`:`${e.props.id}`,s=(r=e.props.__root)===null||r===void 0?void 0:r.getElementById(i);if(s){const o=s.getBoundingClientRect();n.clientX>o.x&&n.clientX<o.x+o.width&&n.clientY>o.y&&n.clientY<o.y+o.height&&(e.props.trackHover=!0)}};document.addEventListener("mousemove",t)}})}function uk(e,t){var n;let r=null,i="",s=[];if(e.props.mouseOnSource){if(r=dp.has(e),i=`${e.props.id}_source_list_item`,s=[...e.props.sourceOptions],!s||!s.length||r)return s=[],i="",void(r=null)}else if(e.props.mouseOnTarget&&(r=Rm.has(e),i=`${e.props.id}_target_list_item`,s=[...e.props.targetOptions],!s||!s.length||r))return s=[],i="",void(r=null);const o=s.reduce((l,u,c)=>{var d,f;if(!((d=u.attrs)===null||d===void 0)&&d.disabled)return l;const p=(f=e.props.__root)===null||f===void 0?void 0:f.getElementById(i+`_${c}`);return p&&l.push([p,u]),l},[]),a=(n=e.props.__root)===null||n===void 0?void 0:n.getElementById(`${e.props.id}_load_more`);a&&o.push([a,e.props.loadMoreOption]),e.props.mouseOnSource&&dp.add(e),e.props.mouseOnTarget&&Rm.add(e),o.length&&x7(e,o,null,t)}function x7(e,t,n,r){const i=r?r.getBoundingClientRect():{top:0,bottom:0};if(n=null,e.props.trackHover){if(e.props.mouseY>i.top&&e.props.mouseY<i.bottom){let s=n||0,o=n;const a=(l,u)=>{var c;const d=u[0],{y:f,height:p,x:g,width:h}=d.getBoundingClientRect();if(e.props.mouseX>g&&e.props.mouseX<g+h&&e.props.mouseY>f&&e.props.mouseY<f+p){n=l;const m=u[1];return e.props.activeValue=m&&!(!((c=m.attrs)===null||c===void 0)&&c.disabled)?Me(m):void 0,!0}return!1};do{if(s!==null&&a(s,t[s])||o!==null&&a(o,t[o]))break;s!==null&&(s++,s>t.length-1&&(s=null)),o!==null&&(o--,o<0&&(o=null))}while(s!==null||o!==null)}}else b7(e);e.props.mouseOnSource||e.props.mouseOnTarget?e.props.mouseOnSource&&dp.has(e)||e.props.mouseOnTarget&&Rm.has(e)?requestAnimationFrame(x7.bind(null,e,t,n,r)):uk(e,r):(dp.delete(e),Rm.delete(e))}function At(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}function ck(e){const[t,n,r,i]=function(s){s=s.replace("#",""),s.length===3&&(s=s[0]+s[0]+s[1]+s[1]+s[2]+s[2]);const o=parseInt(s.slice(0,2),16),a=parseInt(s.slice(2,4),16),l=parseInt(s.slice(4,6),16),u=s.length>=8?parseInt(s.slice(6,8),16)/255:1;return function(c,d,f,p=1){const g=c/255,h=d/255,m=f/255,v=Math.max(g,h,m),y=Math.min(g,h,m);let _,b=0;const x=(v+y)/2;if(v===y)b=_=0;else{const w=v-y;switch(_=x>.5?w/(2-v-y):w/(v+y),v){case g:b=(h-m)/w+(h<m?6:0);break;case h:b=(m-g)/w+2;break;case m:b=(g-h)/w+4}b*=60}return[b,255*_,255*x,p]}(o,a,l,u)}(e);return[...sR(t,n,r,i)]}function xF(e,t,n,r=1){const i=t/100,s=n/100,o=(2-i)*s/2;return o!==0&&(o===1||(t=o<.5?i*s/(2*o):i*s/(2-2*o))),[e,At(255*t,2),At(255*o,2),r]}function sR(e,t,n,r=1){const i=At(t/255,4),s=At(n/255,4);if(s===1)return[e,0,100,r];const o=At(s+i*Math.min(s,1-s),4);let a=t/2.55;return o!==0&&(a=s!==1&&s!==0?2*(o-s)/o*100:t/2.55),[e,At(a,2),At(100*o,2),r]}function E7(e,t,n,r=1){const i=n/100,s=i*(t/100),o=s*(1-Math.abs(e/60%2-1)),a=i-s;let l=0,u=0,c=0;return[l,u,c]=e<60?[s,o,0]:e<120?[o,s,0]:e<180?[0,s,o]:e<240?[0,o,s]:e<300?[o,0,s]:[s,0,o],l=Math.round(255*(l+a)),u=Math.round(255*(u+a)),c=Math.round(255*(c+a)),[Math.min(Math.max(l,0),255),Math.min(Math.max(u,0),255),Math.min(Math.max(c,0),255),r]}function S7(e,t,n,r=1){const i=e/255,s=t/255,o=n/255,a=Math.max(i,s,o),l=Math.min(i,s,o);let u=0;const c=a,d=a-l,f=a===0?0:d/a;if(a!==l){switch(a){case i:u=(s-o)/d+(s<o?6:0);break;case s:u=(o-i)/d+2;break;case o:u=(i-s)/d+4}u/=6}return[360*u,100*f,100*c,r]}function HEe(e,t,n,r=1){const[i,s,o,a]=E7(e,t,n,r);return function(l,u,c,d=1){const f=g=>Math.round(g).toString(16).padStart(2,"0").toUpperCase(),p=function(g){return Math.round(255*g).toString(16).padStart(2,"0").toUpperCase()}(d);return"#"+f(l)+f(u)+f(c)+`${p==="FF"?"":p}`}(i,s,o,a)}function jd(e){return/^(#?)([A-Fa-f0-9]{3}|[A-Fa-f0-9]{6}|[A-Fa-f0-9]{8})$/.test(e)}function mS(e){if(e){if(jd(e))return ck(e);if(e.startsWith("rgb")){const t=e.match(A7);if(!t)return[0,0,0,1];const n=r=>r.endsWith("%")?Math.round(2.55*Number(r.slice(0,-1))):Number(r);return S7(n(t[1]),n(t[2]),n(t[3]),t[4]?t[4].endsWith("%")?Number(t[4].slice(0,-1))/100:Number(t[4]):1)}if(e.startsWith("hsl")){const t=e.match(O7);if(!t)return[0,0,0,1];const n=Number(t[1].replace("deg","").trim()),r=Number(t[2].slice(0,-1))/100,i=Number(t[3].slice(0,-1))/100,s=t[4]?t[4].endsWith("%")?Number(t[4].slice(0,-1))/100:Number(t[4]):1;return sR(n,At(255*r,2),At(255*i,2),s)}}}function EF(e){const[t,n,r,i]=e.split("-").map(s=>Number(s));return[t,n,r,i]}function kd(e,t=150,n=!0){let r=null,i=!0;return(...s)=>{const o=()=>{e(...s),r=null};n&&i&&(i=!1,o()),r||(r=setTimeout(o,t))}}function mh(e){return e!==!1&&e!=="false"}function WEe(e){return e.tabIndex>=0&&!e.disabled&&e.offsetParent!==null}function SF(e,t){return t=t!=null&&t.hasOwnProperty("__original")?t==null?void 0:t.__original:t==null?void 0:t.value,e.props.multiple?!!Array.isArray(e.value)&&e.value.filter(n=>at(n,t)).length>0:t!==void 0?at(e.value,t):(e.props._isChecked=at(e.value,e.props.onValue),e.props._isChecked)}function qEe(e,t={}){const n=e;try{let r=function(i){s5.has(i)&&function(o,a){_g[o]?_g[o].add(a):_g[o]=new Set([a])}(e,o=>{i.props.definition&&(i.props.definition.schema=o||[{$el:Na(13919),children:`${Na(451228594)}${Na(32863693)}`}]),i.emit("schema"),setTimeout(()=>i.destroy(),1e3)})};if(!n)throw new Error("FormKitNoKey");return function(i){const s=()=>{throw new Error(`InvalidFormKitKey ${i}`)};if(!/^fk-/i.test(i))return s();const o=i.substring(3);if(!XEe.test(o))return s();const a=parseInt(o,16).toString(),l=Number(a[0])<6?Number(a[0]):6,u=a.substring(l,l+(a.length-6)),c=a.substring(0,l)+a.substring(l+u.length),d=c.slice(0,2),f=`${c[c.length-1]}${c[0]}`;Number(u)!==Math.floor(Number(c)*Number(d)/Number(f))&&s()}(n),r.library=i=>{if(i.props.type in t){const{schema:s,...o}=t[i.props.type];s5.add(i),i.define({...o,schema:s(e)})}DCe(()=>tx.has(e)&&i.emit(952679114 .toString(32)),4e3)},r}catch(r){throw r instanceof Error&&function(i){if(i.message==="FormKitNoKey")throw new Error("A FormKit API key is required, please visit https://formkit.com/pro")}(r),r}}const $F=[988,24029,396,13078,980],zEe=18806588,KEe=502357,GEe=16217489;let Id=189024;const YEe=()=>[30548127325,27022924,34729821653783].map(Na).join("y"),XEe=/^[0-9a-f]+$/,Zi=typeof window<"u",dk=nu(32,e=>e).map(()=>{Id|=0,Id=Id+1831565813|0;let e=Id^Id>>>15|Id;return e=e+e^e>>>427|e^e,((e^e>>>14)>>>0)/4294967296}),vS=Zi?setTimeout:()=>0,QEe=e=>{clearTimeout(fk[e])},fk={},Na=e=>e.toString(32),TF=e=>`${Na(dk[e]).substring(2)}.${Na($F[e%($F.length-1)])}`,Qy={},vh={},tx=new Set(["",null,void 0]),_g={},JEe=()=>({$el:"div",attrs:{key:"$id","data-type":"$type","data-family":"$family","data-multiple":"$attrs.multiple || $multiple || undefined","data-disabled":"$disabled || $disabledInternally || undefined","data-empty":"$state.empty || undefined","data-complete":"$state.complete || undefined","data-invalid":"$state.valid === false && $state.validationVisible || undefined","data-errors":"$state.errors || undefined","data-submitted":"$state.submitted || undefined","data-loading":"$state.loading || undefined","data-overscroll":'$behavior === "overscroll" && true || undefined',"data-id":"$id","data-inline":"$inline || undefined","data-is-max":"$max && $value && $value.length >= $max || undefined","data-multi-select":"$transferOnSelect === false || undefined","data-has-overlay":"$overlay || undefined","data-expanded":"$expanded || undefined","data-focused":"$_isFocused || undefined","data-appearance":"$selectionAppearance || undefined","data-is-multiline":"$multiLine || undefined"}}),ZEe=()=>({$el:"div",attrs:{id:'$id + "_inner"'}}),eSe=()=>({if:"$label",$el:"label",attrs:{for:"$id",id:"$id + '_label'"}}),tSe=()=>({$el:"ul",if:"$fns.length($messages)"}),nSe=()=>({$el:"li",for:["message","$messages"],attrs:{key:"$message.key",id:"$id + '-' + $message.key","data-message-type":"$message.type"}}),rSe=()=>({$el:"div",if:"$help"}),kF=()=>({$el:null}),pk=(e,t)=>()=>ur(e,t),iSe=()=>({$el:"span",if:'$part.type === "placeholder" && $part.value'}),sSe=()=>({$el:"span",if:'$part.type === "literal" && $part.value'}),oSe=()=>({$el:"span",if:'$part.type === "char" && $part.value'}),aSe=()=>({$el:"span",if:'$part.type === "enum" && $part.value'}),lSe=()=>({$el:"div",if:"$overlay",attrs:{id:'$id + "_overlay"',class:"$classes.overlay",style:"$_overlayStyles",onClick:"$_isPlaceholder && $handlers.overlayClick"}}),uSe=()=>({$el:"div",attrs:{id:'$id + "_overlay_inner"',class:"$classes.overlayInner",style:"$_overlayInnerStyles"}}),cSe=()=>({$el:null,for:["part","$_overlayParts"]}),Dr=Ws("dd"),{outer:dSe,wrapper:fSe,inner:pSe,icon:Cd,label:hSe,prefix:gSe,suffix:mSe,help:vSe,messages:ySe,message:_Se}=qs(Dr),bSe=Dr("selector",()=>({$el:"button",bind:"$attrs",attrs:{id:"$id",type:"button",onClick:"$handlers.click",onBlur:"$handlers.blur",onFocus:"$handlers.focus",onKeydown:"$handlers.keydown",tabindex:"0",name:"$node.name",disabled:"$disabled || $disabledInternally || undefined","aria-haspopup":"listbox","aria-expanded":"$expanded","aria-controls":'$expanded && $id + "_listbox" || undefined',"aria-describedBy":"$describedBy"}})),wSe=Dr("selectionWrapper",()=>({if:"$option || $state.loading",$el:"div"})),xSe=Dr("selection",()=>({$el:"div"})),ESe=Dr("placeholder",()=>({$el:"div",attrs:{key:"placeholder","data-is-placeholder":"true","aria-hidden":'$placeholder === undefined && "true" || undefined',style:{opacity:'$placeholder === undefined && "0" || undefined',"pointer-events":'$placeholder === undefined && "none" || undefined'}}})),yS=Dr("optionLoading","span"),SSe=Dr("option",()=>({$el:"div"})),IF=Dr("removeSelection",()=>({$el:"div",attrs:{id:'$selectionAppearance === "tags" && $id + "_remove_selection_" + $index || $id + "_remove_selection"',tabindex:"-1",type:"button",key:"$value",onClick:'$handlers.removeSelection && $handlers.removeSelection($selectionAppearance === "tags" && $option || undefined)',onTouchstart:'$handlers.removeSelection && $handlers.removeSelection($selectionAppearance === "tags" && $option || undefined)',"aria-controls":"$id"}})),$Se=Dr("selectionsWrapper",()=>({$el:"div",attrs:{id:'$id + "_selections_wrapper"'}})),TSe=Dr("selections",()=>({$el:"div",attrs:{"aria-live":"polite","aria-hidden":'$lastVisibleIndex && "true" || undefined',"data-test":"$lastVisibleIndex",id:'$id + "_selections"'}})),kSe=Dr("truncationCount",()=>({$el:"div",attrs:{id:'$id + "_truncation_count"'}})),ISe=Dr("selectionsItem",()=>({$el:"div",for:["selectionLabel","index","$formattedSelections"],attrs:{id:'$id + "_selections_item_" + $index',"data-check":"$selectionLabel",key:"$selectionLabel","aria-hidden":'$lastVisibleIndex && $index > $lastVisibleIndex && "true" || undefined',style:{visibility:'$lastVisibleIndex && $index > $lastVisibleIndex && "hidden" || undefined'}},children:'$selectionLabel || ""'})),CSe=Dr("tagWrapper",()=>({$el:"span",for:["option","index","$selections"],attrs:{id:'$id + "_tag-wrapper_" + $index',key:"$option.value","data-value":"$option.value",tabindex:"0",onClick:"$handlers.tagClick && $handlers.tagClick($option)",onKeydown:"$handlers.selectorTagKeydownHandler($option)",onFocus:"$handlers.tagFocus && $handlers.tagFocus($option)",onBlur:"$handlers.tagBlur && $handlers.tagBlur($option)","data-active-selection":"$activeSelectionValue === $option.value"}})),ASe=Dr("tag",()=>({$el:"div",attrs:{id:'$id + "_tag_" + $index',role:"button",tabindex:"0"}})),OSe=Dr("tagLabel",()=>({$el:"span"})),RSe=Dr("tagsWrapper",()=>({$el:"span",attrs:{id:'$id + "_tags_wrapper"',"aria-live":"polite"}})),PSe=Dr("tags",()=>({$el:"span",attrs:{id:'$id + "_selections"'}})),MSe=Dr("tagLoading","span"),DSe=GO(Dr),$7=new WeakMap,CF=new WeakMap,T7=pr({key:"loading",type:"state",value:!0,visible:!1}),Am=pr({key:"loading",type:"state",value:!1,visible:!1}),k7=new WeakMap,Bp=Symbol(),oR=e=>{const t=(i=>{const s=[...i.props.options,...i.props.initialOptions];return[...i.props.memoOptions||[],...s]})(e),n=e.props.inputStd||[],r=[];for(const i of n){let s=t.find(o=>at(Me(o),i));s||(s={value:i,label:Array.isArray(i)?i.join(", "):i,isPlaceholder:!1,noOptionFound:!0}),r.push(s)}return r},yh=new WeakSet,hk=new WeakMap,NSe={position:"fixed",top:0,bottom:0,right:0,left:0,pointerEvents:"none",zIndex:-1,overflowY:"auto","-webkit-overflow-scrolling":"auto"},_S={position:"fixed",overflow:"hidden",height:"100%",width:"100%"},bS={overflow:"hidden",height:"100%"},AF={},OF={};let wS=0;const LSe={schema:dSe(fSe(hSe("$label"),pSe(Cd("prefix"),gSe(),bSe(Fe("$inputStd.length === 0 && $state.loading !== true",ESe('$placeholder || "placeholder"'),Fe("$multiple !== true",wSe(Fe("$state.loading && $selections.length === 0",yS("$ui.isLoading.value"),xSe(SSe("$option.label")))),Fe('$multiple && $selectionAppearance === "truncate"',$Se(TSe(Fe("$state.loading && $selections.length === 0",yS("$ui.isLoading.value"),ISe()))),Fe('$multiple && $selectionAppearance === "tags"',RSe(PSe(Fe("$state.loading && $isLoadingOption !== true && $selections.length === 0",yS("$ui.isLoading.value"),CSe(ASe(Fe("$state.loading && $optionLoaderValues.includes($option.value)",MSe("$ui.isLoading.value"),OSe("$option.label")),IF(Cd("close"))))))))))),Fe("$truncationCount && $state.loading !== true",kSe("$truncationCount")),Fe("$state.loading",Cd("loader")),Fe("$inputStd.length !== 0 && $selectionRemovable",IF(Cd("close")),Cd("select"))),DSe(),mSe(),Cd("suffix"))),vSe("$help"),ySe(_Se("$message.value"))),type:"input",family:"dropdown",props:[],features:[Et("select","select"),Et("close","close"),Et("selected","check"),Et("loader","spinner"),vn("isLoading"),vn("loadMore"),nl,JO.bind(null,function(e){e.props.closeOnSelect===void 0?e.props.closeOnSelect=!e.props.multiple:e.props.closeOnSelect=Ue(e.props.closeOnSelect),(e.props.multiple&&e.props.selectionAppearance===void 0||e.props.selectionAppearance==="truncate")&&(e.props.selectionAppearance="truncate",e.props.formattedSelections=[]),e.props.multiple?e.props.selectionRemovable=!1:e.props.selectionRemovable=Ue(e.props.selectionRemovable)},function(e){e.props.alwaysLoadOnOpen=e.props.alwaysLoadOnOpen!==void 0&&Ue(e.props.alwaysLoadOnOpen),e.on("created",()=>{e.context&&(e.context.handlers.click=rEe.bind(null,e),e.context.handlers.focus=iEe.bind(null,e),e.context.handlers.keydown=tEe.bind(null,e),e.context.handlers.selectorTagKeydownHandler=t=>Zxe.bind(null,e,t))})},function(e){if(e.on("created",()=>{e.context&&sEe(e)}),e.props.multiple||function(t){t.on("prop:selections",({payload:n})=>{var r;t.props.firstSelectionLabel=((r=n[0])===null||r===void 0?void 0:r.label)||"",t.props.option=n[0]})}(e),e.props.selectionAppearance==="truncate"&&(e.props.lastVisibleIndex=null,eF(e),e.on("prop:selections",()=>{eF(e)})),e.props.selectionAppearance==="tags"&&Q8(e),e.props.multiple&&e.props.selectionAppearance==="tags"){let t=function(){return Array.isArray(e.value)?e.value:[]},n=function(r,i){e.input(i)};e.on("created",()=>{e.props.disabled&&(e.props.draggable=!1),cr(`${e.props.id}_selections`,r=>{if(e.context&&r instanceof HTMLElement){const i={draggingClass:e.context.classes.dragging,dropZoneClass:e.context.classes.dropZone,disabled:!e.props.draggable,root:e.props.__root,touchDraggingClass:e.context.classes.touchDragging,touchDropZoneClass:e.context.classes.touchDropZone,draggable:s=>s.hasAttribute("data-active-selection")};xi(r,t,n,i),e.on("prop:disabled",({payload:s})=>{i.disabled=s,xi(r,t,n,i)}),e.on("prop:draggable",({payload:s})=>{i.disabled=!s,xi(r,t,n,i)})}},e.props.__root)})}e.on("prop:expanded",({payload:t})=>{t&&e.props.optionsLoader&&typeof e.props.optionsLoader=="function"&&(!e.props.options.length||e.props.alwaysLoadOnOpen)&&(e.props.options=[],jv(e))}),e.props.behavior==="overscroll"&&uEe(e)}),Hv]},sl=Ws("tg"),{outer:FSe,wrapper:BSe,label:rZe,prefix:USe,suffix:VSe,help:jSe,messages:HSe,message:WSe,icon:qSe}=qs(sl),zSe=sl("input",()=>({$el:"input",bind:"$attrs",attrs:{type:"checkbox",id:"$id",value:"$value",name:"$node.name",checked:"$checked",onInput:"$handlers.toggles",onBlur:"$handlers.blur",disabled:"$disabled"}})),KSe=sl("label",()=>({if:"($label && $onValueLabel === undefined && $offValueLabel === undefined) || ($valueLabelDisplay === inner) && $altLabelPosition !== true",$el:"label",attrs:{for:"$id"},children:"$label"})),GSe=sl("altLabel",()=>({$el:"label",if:"($label && ($onValueLabel || $offValueLabel) && $valueLabelDisplay !== hidden && $valueLabelDisplay !== inner) || $altLabelPosition === true",attrs:{for:"$id","data-label-alt":"true",style:{color:{if:"$checked",then:"$valueLabelColorOn",else:"$valueLabelColorOff"}}},children:"$label"})),YSe=sl("innerLabel",()=>({$el:"div",if:"$valueLabelDisplay === inner && ($checked && $onValueLabel || $offValueLabel)",attrs:{style:{color:{if:"$checked",then:"$valueLabelColorOn",else:"$valueLabelColorOff"}}},children:{if:"$checked",then:"$onValueLabel",else:"$offValueLabel"}})),XSe=sl("valueLabel",()=>({$el:"label",if:"$valueLabelDisplay !== hidden && $valueLabelDisplay !== inner && (($checked === true && $onValueLabel) || ($checked === false && $offValueLabel))",attrs:{for:"$id"},children:{if:"$checked && $onValueLabel",then:"$onValueLabel",else:{if:"$offValueLabel",then:"$offValueLabel"}}})),QSe=sl("inner",()=>({$el:"label",attrs:{for:"$id",id:"$id + '_label'"}})),JSe=sl("track",()=>({$el:"div",attrs:{style:{backgroundColor:{if:"$checked",then:"$trackColorOn",else:"$trackColorOff"}}}})),ZSe=sl("thumb",()=>({$el:"div",attrs:{style:{color:{if:"$checked",then:"$iconColorOn",else:"$iconColorOff"},backgroundColor:{if:"$checked",then:"$thumbColorOn",else:"$thumbColorOff"}}}})),e$e={schema:FSe(BSe(GSe(),QSe(USe(),zSe(),JSe(YSe(),ZSe(Fe("$slots.default","$slots.default",qSe("thumb")))),VSe()),XSe(),KSe()),jSe("$help"),HSe(WSe("$message.value"))),type:"input",props:["checked","thumbColorOff","thumbColorOn","iconColorOff","iconColorOn","valueLabelColorOff","valueLabelColorOn","offValue","offValueLabel","onValue","onValueLabel","thumbIcon","trackColorOff","trackColorOn","valueLabelDisplay","altLabelPosition"],features:[function(e){function t(n,r){r.target instanceof HTMLInputElement&&(n.input(r.target.checked?n.props.onValue:n.props.offValue),n.props.checked=r.target.checked)}e.on("created",()=>{"disabled"in e.props&&(e.props.disabled=Ue(e.props.disabled)),e.props.altLabelPosition=Ue(e.props.altLabelPosition),e.props.offValue===void 0&&(e.props.offValue=!1),e.props.onValue===void 0&&(e.props.onValue=!0),e.props.checked=at(e.value,e.props.onValue),e.context&&(e.context.handlers.toggles=t.bind(null,e))}),e.on("commit",({payload:n})=>{e.props.checked=at(n,e.props.onValue)})}]},Nr=Ws("rp"),{outer:t$e,inner:n$e,prefix:r$e,suffix:i$e,help:s$e,messages:o$e,message:a$e,icon:Jy}=qs(Nr),l$e=Nr("empty",()=>({$el:"div"})),u$e=Nr("insertControl",()=>({$el:"button",attrs:{disabled:"$value.length >= $max",onClick:"$fns.createInsert($index)",type:"button"}})),c$e=Nr("addButton",()=>({$formkit:"button",bind:"$addAttrs",if:"$addButton",disabled:"$value.length >= $max",onClick:"$fns.createAppend()",type:"button"})),d$e=Nr("removeControl",()=>({$el:"button",attrs:{disabled:"$value.length <= $min",onClick:"$fns.createRemover($index)",type:"button"}})),f$e=Nr("items",()=>({$el:"ul",meta:{autoAnimate:!0},attrs:{role:"list"}})),p$e=Nr("item",()=>({$el:"li",for:["item","index","$items"],attrs:{role:"listitem",key:"$item","data-index":"$index"}})),h$e=Nr("downControl",()=>({$el:"button",attrs:{disabled:"$index >= $value.length - 1",onClick:"$fns.createShift($index, 1)",type:"button"}})),g$e=Nr("upControl",()=>({$el:"button",attrs:{disabled:"$index <= 0",onClick:"$fns.createShift($index, -1)",type:"button"}})),m$e=Nr("content","div"),v$e=Nr("fieldset",()=>({$el:"fieldset",attrs:{id:"$id"}})),y$e=Nr("legend",()=>({$el:"legend",if:"$label"})),_$e=Nr("group",()=>({$formkit:"group",index:"$index"})),b$e=Nr("controls",()=>({$el:"ul",if:"$removeControl || $insertControl || $upControl || $downControl"})),w$e=Nr("remove",()=>({$el:"li",if:"$removeControl"})),x$e=Nr("insert",()=>({$el:"li",if:"$insertControl"})),E$e=Nr("up",()=>({$el:"li",if:"$upControl"})),S$e=Nr("down",()=>({$el:"li",if:"$downControl"})),Zy=Nr("controlLabel","span"),$$e={schema:t$e(v$e(y$e("$label"),s$e("$help"),n$e(r$e(),Fe("$value.length === 0",Fe("$slots.empty",l$e()),Fe("$slots.default",f$e(p$e(m$e(_$e("$slots.default")),b$e(E$e(g$e(Zy("$ui.moveUp.value"),Jy("moveUp"))),w$e(d$e(Zy("$ui.remove.value"),Jy("remove"))),x$e(u$e(Zy("$ui.add.value"),Jy("add"))),S$e(h$e(Zy("$ui.moveDown.value"),Jy("moveDown")))))),i$e()))),c$e('$addLabel || ($ui.add.value + " " + ($label || ""))')),o$e(a$e("$message.value"))),type:"list",props:["min","max","total","upControl","downControl","removeControl","insertControl","addLabel","addButton","addAttrs"],features:[function(e){e._c.sync=!0,e.on("created",fEe.bind(null,e))},Fp,vn("remove"),vn("add"),vn("moveUp"),vn("moveDown"),Et("remove","trash"),Et("add","add"),Et("moveUp","arrowUp"),Et("moveDown","arrowDown")]},RF=typeof window<"u",dd=Ws("rt"),{outer:T$e,wrapper:k$e,inner:I$e,label:C$e,prefix:A$e,suffix:O$e,help:R$e,messages:P$e,message:M$e,icon:e_}=qs(dd),D$e=dd("input",()=>({$el:"input",bind:"$attrs",attrs:{id:"$id",type:"range",max:"$max",name:"$node.name",min:"0",disabled:"$disabled",step:"$step",onInput:"$handlers.DOMInput",onBlur:"$handlers.blur",value:"$value",style:{position:"absolute",zIndex:"0",top:0,right:0,bottom:0,opacity:"0"}}})),N$e=dd("itemsWrapper",()=>({$el:"div",attrs:{style:{position:"relative",zIndex:"2"},id:"$id + _items_wrapper",onMousemove:"$hoverHighlight && $handlers.ratingHoverOver",onMouseleave:"$hoverHighlight && $handlers.ratingHoverOut",onTouchstart:"$handlers.ratingHoverOver",onTouchmove:"$handlers.ratingHoverOver",onTouchend:"$handlers.handleClick",onClick:"$handlers.handleClick"}})),L$e=dd("onItems",()=>({$el:"div",attrs:{id:'$id + "_on_wrapper"',style:{position:"relative",display:"flex",width:'$onWidth + "%"',top:"0",bottom:"0",left:"0",overflow:"hidden",color:"$onColor"}}})),F$e=dd("offItems",()=>({$el:"div",attrs:{id:'$id + "_off_wrapper"',style:{position:"absolute",display:"flex",flexDirection:"row-reverse",width:'$offWidth + "%"',top:"0",bottom:"0",right:"0",overflow:"hidden",color:"$offColor"}}})),B$e=dd("onItemWrapper",()=>({$el:"div",for:["item","index","$max"],attrs:{style:{flex:"$wrapperWidth"}}})),U$e=dd("offItemWrapper",()=>({$el:"div",for:["item","index","$max"],attrs:{style:{flex:"$wrapperWidth"}}})),V$e={schema:T$e(k$e(C$e("$label"),I$e(e_("prefix"),A$e(),N$e(L$e(B$e(Fe("$slots.onItem",()=>()=>"$slots.onItem",Fe("$slots.default",()=>()=>"$slots.default",e_("rating"))))),F$e(U$e(Fe("$slots.offItem",()=>()=>"$slots.offItem",Fe("$slots.default",()=>()=>"$slots.default",e_("rating")))))),D$e(),O$e(),e_("suffix"))),R$e("$help"),P$e(M$e("$message.value"))),type:"input",props:[],features:[function(e){e.addProps(["onWidth","offWidth","wrapperWidth","max","min","icon","step","hoverHighlight","ratingIcon","onColor","offColor"]),e.props.max=e.props.max||5,e.props.min=e.props.min||0,e.props.step=e.props.step||1,e.props.hoverHighlight!==!1&&(e.props.hoverHighlight=!0),"disabled"in e.props&&(e.props.disabled=Ue(e.props.disabled)),e.on("created",()=>{RF&&(e.props.initialBodyOverflow=document.documentElement.style.overflow),e.context&&(e.context.handlers.ratingHoverOver=hEe.bind(null,e),e.context.handlers.ratingHoverOut=gEe.bind(null,e),e.context.handlers.handleClick=pEe.bind(null,e),RF&&cr(`${e.props.id}`,()=>{dS(e),function(t){var n;const r=(n=t.props.__root)===null||n===void 0?void 0:n.getElementById(`${t.props.id}_items_wrapper`);if(!r)return;new ResizeObserver(()=>{dS(t)}).observe(r)}(e),setTimeout(()=>dS(e),100)},e.props.__root))}),e.on("input",()=>ZO(e)),e.hook.input((t,n)=>{if(t===null||t===""||isNaN(t))return n(t);const r=Number(t),i=Number(e.props.min),s=Number(e.props.max);return r>s?n(s):e.props.min&&r<=i?n(i):n(r)})},Et("rating","star")]},Zo=Ws("ac"),{outer:j$e,wrapper:H$e,inner:W$e,icon:ca,label:q$e,prefix:z$e,suffix:K$e,help:G$e,messages:Y$e,message:X$e}=qs(Zo),Q$e=Zo("input",()=>({$el:"input",bind:"$attrs",attrs:{id:"$id",type:"text",onClick:"$handlers.click",onBlur:"$handlers.blur",onKeydown:"$handlers.keydown",onInput:"$handlers.input",onFocus:"$handlers.focus",value:"$inputText || undefined",name:"$node.name",placeholder:"$state.loading && $ui.isLoading.value || $placeholder || undefined",tabindex:'$disabled && "-1" || 0',role:"combobox",autocomplete:"off",autocapitalize:"none",readonly:"$attrs.readonly || $state.loading || $multiple && $max && $value && $value.length >= $max && $hasHighlightedRange !== true || undefined","data-selection-appearance":"$selectionAppearance",disabled:"$disabled || $disabledInternally || undefined",onTouchmove:"$handlers.touchmove",onTouchstart:"$handlers.touchmove",onTouchend:"$handlers.touchend","aria-autocomplete":"list","aria-expanded":"$expanded","aria-controls":'$expanded && $id + "_listbox" || undefined',"aria-describedBy":"$describedBy","aria-activedescendant":"$expanded && $activeDescendant || undefined"}})),PF=Zo("listboxButton",()=>({$el:"div",attrs:{style:"$visibilityStyles",id:'$id + "_listbox_button"',role:"button",onClick:"$handlers.toggleListbox",tabindex:'$disabled && "-1" || 0',"aria-haspopup":"true","aria-expanded":"$expanded","aria-controls":'$expanded && $id + "_listbox" || undefined',"aria-disabled":"$disabled || $state.loading || undefined","data-disabled":"$disabled || $disabledInternally || undefined"}})),MF=Zo("selectionWrapper",()=>({for:["option","index","$selections"],$el:"div",attrs:{id:'$id + "_selection_wrapper_" + $index',key:"$option.value","data-value":"$option.value",tabindex:'$disabled && "-1" || 1',onKeydown:"$handlers.selectionKeydown && $handlers.selectionKeydown($multiple && $option || undefined)",onClick:"$handlers.selectionClick && $handlers.selectionClick($multiple && $option || undefined)",onFocus:"$handlers.selectionFocus && $handlers.selectionFocus($multiple && $option || undefined)",onBlur:"$handlers.selectionBlur && $handlers.selectionBlur($multiple && $option || undefined)","data-active-selection":"$activeSelectionValue === $option.value"}})),DF=Zo("selection",()=>({$el:"div",attrs:{id:'$id + "_selection_" + $index'}})),NF=Zo("selections",()=>({$el:"div",attrs:{"aria-live":"polite",id:'$id + "_selections"'}})),xS=Zo("removeSelection",()=>({$el:"button",attrs:{id:'$selectionAppearance === "option" && $multiple && $id + "_remove_selection_" + $index || $id + "_remove_selection"',tabindex:"-1",type:"button",onClick:"$handlers.removeSelection && $handlers.removeSelection($multiple && $option || undefined)",onTouchend:"$handlers.removeSelection && $handlers.removeSelection($multiple && $option || undefined)","aria-controls":"$id"}})),LF=Zo("optionLoading","span"),FF=Zo("option",()=>({$el:"div",if:"$value !== undefined"})),J$e=GO(Zo),BF=new WeakMap,X_=typeof window<"u",ES=new WeakMap;let UF=!1;const Z$e={schema:j$e(H$e(q$e("$label"),W$e(ca("prefix"),z$e(),Q$e(),Fe("$multiple !== true && $selectionAppearance === option && $expanded === false",NF(MF(DF(FF(Fe("$state.loading",LF("$ui.isLoading.value"),"$option.label"))),Fe("$state.loading && $isSingleOption !== true && $optionLoaderValues.includes($option.value)",ca("loader")),Fe("$selectionRemovable && $isSingleOption",xS(ca("close")))))),Fe("$state.loading && ($isSingleOption !== true || $selections.length === 0)",ca("loader")),Fe('$selectionRemovable && $selectionAppearance === "text-input" && $selections.length > 0',xS(ca("close")),Fe('$selectionAppearance === "text-input" || ($selectionAppearance === "option" && $multiple)',PF(ca("select")))),Fe("$isSingleOption && ($inputStd.length === 0 || $selectionRemovable === undefined || ($expanded) || $state.loading || $optionLoaderValues.length > 0)",PF(ca("select"))),J$e(),K$e(),ca("suffix")),Fe("$multiple && $selectionAppearance === option",NF(MF(DF(FF(Fe("$state.loading && $isLoadingOption",LF("$ui.isLoading.value"),"$option.label"))),xS(ca("close")))))),G$e("$help"),Y$e(X$e("$message.value"))),type:"input",family:"dropdown",props:[],features:[Et("select","select"),Et("close","close"),Et("selected","check"),Et("loader","spinner"),vn("isLoading"),vn("loadMore"),nl,JO.bind(null,function(e){e.props.selectionAppearance!=="option"||e.props.multiple||e.props.selectionRemovable===!1||e.props.selectionRemovable==="false"||(e.props.selectionRemovable=!0),e.props.multiple||(e.props.clearSearchOnOpen=Ue(e.props.clearSearchOnOpen)),e.props.selectionRemovable=Ue(e.props.selectionRemovable),e.props.openOnClick=Ue(e.props.openOnClick),e.props.selectionAppearance!=="option"||e.props.multiple||(e.props.isSingleOption=!0),e.props.closeOnSelect===void 0&&(e.props.closeOnSelect=!0),e.props.selectionAppearance===void 0&&(e.props.selectionAppearance="text-input"),e.props.closeOnSelect===void 0&&(e.props.closeOnSelect=!0),e.props.closeOnSelect?e.props.resetSearchOnCommit=!1:e.props.resetSearchOnCommit===void 0&&(e.props.resetSearchOnCommit=e.props.multiple),e.props.allowNewValues=Ue(e.props.allowNewValues)},Z8,function(e){if(e.props.multiple)if(e.props.multiple&&e.props.selectionAppearance==="option"){let t=function(){return Array.isArray(e.value)?e.value:[]},n=function(r,i){e.input(i)};e7(e),e.on("created",()=>{e.props.disabled&&(e.props.draggable=!1),cr(`${e.props.id}_selections`,r=>{if(r instanceof HTMLElement&&e.context){const i={longTouch:!0,draggingClass:e.context.classes.dragging,dropZoneClass:e.context.classes.dropZone,root:e.props.__root,disabled:!e.props.draggable,longTouchClass:e.context.classes.longTouch,touchDraggingClass:e.context.classes.touchDragging,touchDropZoneClass:e.context.classes.touchDropZone,draggable:s=>s.hasAttribute("data-active-selection")};xi(r,t,n,i),e.on("prop:disabled",({payload:s})=>{i.disabled=s,xi(r,t,n,i)}),e.on("prop:draggable",({payload:s})=>{i.disabled=!s,xi(r,t,n,i)})}},e.props.__root)})}else e.props.multiple&&e.props.selectionAppearance==="text-input"&&_Ee(e);else bEe(e)}),Hv]},Vt=Ws("dp"),{outer:eTe,wrapper:tTe,inner:nTe,icon:Yu,label:rTe,prefix:iTe,suffix:sTe,help:oTe,messages:aTe,message:lTe}=qs(Vt),uTe=Vt("input",()=>({$el:"input",bind:"$attrs",attrs:{name:"$node.name",id:"$id",onKeydown:"$handlers.inputKeydown",value:"$inputText",onInput:"$handlers.dateInput",onClick:"$pickerOnly && $handlers.open",onBlur:"$handlers._blur",onFocus:"$handlers.focus",readonly:"$pickerOnly || $expanded",disabled:"$disabled"}})),cTe=Vt("panelWrapper",()=>({$el:"div",if:"$expanded",attrs:{id:'$id + "_popover"',role:"dialog",onBlur:"$handlers._blurOut()",tabindex:"-1",popover:"$popover","aria-modal":"true","aria-label":"Choose date","data-panel":"$panel",style:{if:"$usePopover",then:{margin:0,top:'$popoverCoordinates.y + "px"',left:'$popoverCoordinates.x + "px"',width:'$popoverCoordinates.width + "px"'}}}})),dTe=Vt("next",()=>({$el:"button",if:"$showPagination",attrs:{id:"$id + _next_button",type:"button",onClick:"$handlers.next"}})),fTe=Vt("nextLabel","span"),pTe=Vt("prev",()=>({$el:"button",if:"$showPagination",attrs:{id:"$id + _prev_button",type:"button",onClick:"$handlers.prev"}})),hTe=Vt("prevLabel","span"),gTe=Vt("calendar",()=>({if:'$panel === "day"',$el:"table",for:["month","$calendar"],attrs:{key:'$fns.format($month.monthDay, "YYYY-MM")'}})),mTe=Vt("calendarWeeks",()=>({$el:"tbody"})),vTe=Vt("calendarHeader",()=>({$el:"thead"})),yTe=Vt("weekDays",()=>({$el:"tr"})),_Te=Vt("weekDay",()=>({$el:"th",for:["day","$month.weeks.0"],attrs:{"aria-label":'$fns.format($day, "dddd")'}})),bTe=Vt("week",()=>({$el:"tr",for:["week","$month.weeks"]})),wTe=Vt("dayCell",()=>({$el:"td",for:["day","$week"],attrs:{key:'$: "day" + $fns.format($day, "D")',onClick:"$handlers.setDate($day)",onKeydown:"$handlers.keyDown",onMouseenter:"$handlers.mouseEnter($day)",onMouseleave:"$handlers.mouseLeave",onBlur:"$handlers._blurOut(day)",tabindex:'$fns.sameDay($day) && "0" || "-1"',"data-is-extra":"$fns.notInMonth($month.monthDay, $day)","data-disabled":"$fns.isDisabled($day)","aria-selected":"$fns.isSelected($day)","aria-label":'$fns.format($day, "long")'}})),xTe=Vt("day","div"),ETe=Vt("openButton",()=>({$el:"div",attrs:{style:"$visibilityStyles",id:'$id + "_listbox_button"',type:"div",role:"button",onClick:"$handlers.open",onKeydown:"$handlers.openKeydown",tabIndex:'$pickerOnly && "-1" || "0"',"data-disabled":"$disabled","aria-disabled":"$disabled","aria-label":'$value && ($ui.changeDate.value + ", " + $inputText) || $ui.chooseDate.value',"aria-haspopup":"true","aria-expanded":"$expanded","aria-controls":'$expanded && $id + "_listbox" || undefined'}})),STe=Vt("years",()=>({if:'$panel === "year"',$el:"ul"})),$Te=Vt("year",()=>({for:["year","$years"],$el:"li",attrs:{key:'$: "year" + $fns.format($year, "YYYY")',onClick:"$handlers.setDate($year)",onKeydown:"$handlers.keyDown",onMouseenter:"$handlers.mouseEnter($year)",onMouseleave:"$handlers.mouseLeave",onBlur:"$handlers._blurOut(year)",tabindex:'$fns.sameYear($year) && "0" || "-1"',"aria-selected":"$fns.isSelected($year)","data-disabled":"$fns.isDisabledYear($year)"}})),TTe=Vt("months",()=>({if:'$panel === "month"',$el:"ul"})),kTe=Vt("month",()=>({$el:"li",for:["month","$months"],attrs:{key:'$: "month" + $fns.format($month, "M")',onClick:"$handlers.setDate($month)",onKeydown:"$handlers.keyDown",onMouseenter:"$handlers.mouseEnter($month)",onMouseleave:"$handlers.mouseLeave",onBlur:"$handlers._blurOut(month)",tabindex:'$fns.sameMonth($month) && "0" || "-1"',"aria-selected":"$fns.isSelected($month)","data-disabled":"$fns.isDisabledMonth($month)"}})),ITe=Vt("panelHeader",()=>({$el:"header",attrs:{"aria-live":"polite"}})),CTe=Vt("yearsHeader",()=>({$el:"div",if:'$panel === "year"'})),ATe=Vt("monthsHeader",()=>({$el:"div",if:'$panel === "month"'})),OTe=Vt("daysHeader",()=>({$el:"div",if:'$panel === "day"'})),RTe=Vt("timeHeader",()=>({$el:"div",if:'$panel === "time"'})),SS=Vt("yearButton",()=>({$el:"button",attrs:{type:"button",id:"$id + _year_button",onClick:"$handlers.jumpTo(year)"},children:"$fns.format($renderedDate, $yearFormat)"})),VF=Vt("monthButton",()=>({$el:"button",attrs:{type:"button",id:"$id + _month_button",onClick:"$handlers.jumpTo(month)"},children:"$fns.format($renderedDate, $monthButtonFormat)"})),PTe=Vt("dayButton",()=>({$el:"button",attrs:{type:"button",id:"$id + _day_button",onClick:"$handlers.jumpTo(day)",tabindex:"2"},children:"$fns.format($renderedDate, $dayButtonFormat)"})),MTe=Vt("removeSelection",()=>({$el:"button",if:"$clearable && $_value",attrs:{id:'$id + "_remove_selection"',type:"button",onClick:"$handlers.clear","aria-controls":"$id"}})),DTe=Vt("time",()=>({$el:"div",if:'$panel === "time"'})),NTe=Vt("timeInput",()=>({$el:"input",attrs:{type:"time",value:"$localTime",onInput:"$handlers.localTime",onKeydown:"$handlers.keyDown",spellcheck:"false",onBlur:"$handlers._blurOut(time)"}})),LTe=Vt("panelClose",()=>({$el:"button",if:"$showPanelClose && ($inline === undefined || $inline === false)",attrs:{type:"button",class:"$classes.panelClose",onClick:"$handlers.closePanel",tabindex:-1,"aria-label":"$ui.close.value"}})),{overlayPlaceholder:FTe,overlayLiteral:BTe,overlayChar:UTe,overlayEnum:VTe,overlay:jTe,overlayParts:HTe,overlayInner:WTe}=F8(Vt),qTe=Vt("panel","div"),La=new WeakMap,up=new WeakMap,cp=new WeakSet,zTe=new WeakMap,nx=new WeakMap,gk=new WeakSet,Hl=new WeakMap,Jb=/[\uD800-\uDBFF]/,nc=new WeakMap,$S=new WeakMap,TS=new WeakMap,bg=new WeakMap,Q_=new WeakMap,Af=new WeakSet,Up=new WeakMap,rx=new WeakMap,kS=new WeakMap,wc=new WeakMap;let mk=!1;const jF=()=>{mk=!0,setTimeout(()=>{mk=!1},500)},KTe={"#":{type:"char",pattern:/\d/,token:"#",placeholder:"_",selectDirection:"right"},a:{type:"char",pattern:/[a-zA-Z]/,token:"a",placeholder:"_",selectDirection:"left"},h:{type:"char",pattern:/[0-9a-fA-F]/,token:"h",placeholder:"_",selectDirection:"left"},"*":{type:"char",pattern:/./,token:"*",placeholder:"_",selectDirection:"left"}},HF=new WeakMap,Om=typeof window<"u";let J_=!1;Om&&document.addEventListener("selectionchange",()=>{const e=Kc();if(!(e instanceof HTMLInputElement))return;if(wc.has(e))return function(n){const r=wc.get(n);if(r){const[i,s]=r,[o,a]=Ji(n),l=a.indexOf(i);if(l===-1)return void wc.delete(n);const u=o[l],c=[u[0]+s[0],u[1],"none"];Gc(Vo(n),c)||Gb(n,c)}}(e);if(Hl.get(e)!=="select")return;const t=Vo(e);if(!Gc(t,HF.get(e))){if(HF.set(e,t),cp.has(e))return cp.delete(e);e.dispatchEvent(new CustomEvent("selection",{detail:Vo(e)}))}});const aR="1999-03-04T02:05:01.000Z",IS=new Map,lR=[["YYYY",{year:"numeric"}],["YY",{year:"2-digit"}],["MMMM",{month:"long"}],["MMM",{month:"short"}],["MM",{month:"2-digit"}],["M",{month:"numeric"}],["DD",{day:"2-digit"}],["D",{day:"numeric"}],["dddd",{weekday:"long"}],["ddd",{weekday:"short"}],["d",{weekday:"narrow"}],["mm",{minute:"2-digit"}],["m",{minute:"numeric"}],["ss",{second:"2-digit"}],["s",{second:"numeric"}],["Z",{timeZoneName:"short"}]],uR=[["HH",{hour:"2-digit"}],["H",{hour:"numeric"}]],cR=[["hh",{hour:"2-digit"}],["h",{hour:"numeric"}],["a",{dayPeriod:"narrow"}],["A",{dayPeriod:"narrow"}]],Zb={DD:2,HH:2,MM:2,YY:2,YYYY:4,hh:2,mm:2,ss:2,Z:5},GTe=["MMMM","MMM","dddd","ddd"],Yn=new Map([...lR,...uR,...cR].map(e=>[e[0],e])),WF=new Map,I7=["full","long","medium","short"],qF=/^([0-9]{4})-([0-1][0-9])(?:-([0-3][0-9]))?(?:[T ]?([0-2][0-9])(?::([0-5][0-9]))?(?::([0-5][0-9]))?)?(?:\.[0-9]+)?(Z|(?:\+|\-)[0-9]{4})?$/,bl=e=>String(e).padStart(2,"0"),CS=e=>String(e).padStart(2,"0"),zF=typeof window<"u",vk=new WeakSet,AS=new WeakSet,KF=new WeakSet,ew=new WeakMap,C7=new WeakMap,OS=new WeakSet,yk=new WeakSet,YTe=typeof window<"u",GF=new WeakMap,XTe={schema:eTe(tTe(rTe("$label"),nTe(Yu("prefix"),iTe(),jTe(WTe(HTe(FTe("$part.value"),BTe("$part.value"),UTe("$part.value"),VTe("$part.value")))),uTe(),cTe(ITe(pTe(hTe("$ui.prev.value"),Yu("prev")),CTe("$decade"),ATe(SS()),OTe(VF(),SS()),RTe(VF(),PTe(),SS()),dTe(fTe("$ui.next.value"),Yu("next")),LTe(Yu("close"))),qTe(STe($Te("$fns.format($year, $yearFormat)")),TTe(kTe("$fns.format($month, $monthFormat)")),gTe(vTe(yTe(_Te("$fns.format($day, $weekdayFormat)"))),mTe(bTe(wTe(xTe("$fns.format($day, $dateFormat)"))))),DTe(NTe()))),MTe(Yu("clear")),ETe(Yu("calendar")),sTe(),Yu("suffix"))),oTe("$help"),aTe(lTe("$message.value"))),type:"input",family:"text",props:["dateFormat","dayButtonFormat","format","monthButtonFormat","monthFormat","overlay","pickerOnly","showMonths","showPagination","weekStart","weekdayFormat","yearFormat","years"],features:[_7,function(e){var t,n,r,i,s,o,a,l,u,c,d,f,p,g,h,m,v,y,_,b,x,w;e.addProps(["_isDisabled","_isFocused","activeDate","calendar","clearable","disabled","decade","disabledDays","expanded","inputText","localTime","maxDate","maxScan","minDate","months","offset","paginatedPanels","panel","pickerOnly","renderedDate","sequence","timezone","valueFormat","valueLocale","showPanelClose"]),e.hook.prop((E,S)=>(E.prop==="expanded"&&e.props.disabled&&(E.value=!1),E.prop==="weekStart"&&(E.value=Number(E.value||0)),E.prop==="showMonths"&&(E.value=Number(E.value||1)),E.prop==="maxScan"&&(E.value=Number(E.value||7)),E.prop==="timezone"&&(typeof e._value=="string"||e._value instanceof Date)&&(e.props.offset=lk(e._value,E.value)),S(E))),e.props._isFocused=!1,e.props._isPlaceholder=!1,(t=(f=e.props).valueFormat)!==null&&t!==void 0||(f.valueFormat="ISO8601"),(n=(p=e.props).weekdayFormat)!==null&&n!==void 0||(p.weekdayFormat="d"),(r=(g=e.props).monthFormat)!==null&&r!==void 0||(g.monthFormat="MMM"),(i=(h=e.props).monthButtonFormat)!==null&&i!==void 0||(h.monthButtonFormat="MMMM"),(s=(m=e.props).dayButtonFormat)!==null&&s!==void 0||(m.dayButtonFormat="D"),(o=(v=e.props).dateFormat)!==null&&o!==void 0||(v.dateFormat="D"),(a=(y=e.props).yearFormat)!==null&&a!==void 0||(y.yearFormat="YYYY"),(l=(_=e.props).paginatedPanels)!==null&&l!==void 0||(_.paginatedPanels=["day","year"]),(u=(b=e.props).valueLocale)!==null&&u!==void 0||(b.valueLocale=e.props.locale),(c=(x=e.props).format)!==null&&c!==void 0||(x.format="long"),e.props.panels=bF(e),e.props.pickerOnly=Ue(e.props.pickerOnly),"disabled"in e.props&&(e.props.disabled=Ue(e.props.disabled)),"clearable"in e.props&&(e.props.clearable=Ue(e.props.clearable)),(d=(w=e.props).maxScan)!==null&&d!==void 0||(w.maxScan=7),e.props._isDisabled=typeof e.props.disabledDays=="function"?e.props.disabledDays.bind(null,e):NEe.bind(null,e),function(E){const S=E._value;let T=new Date;if(S instanceof Date)T=nr(S);else if(typeof S=="string")try{T=nr(El(S,E.props.valueFormat,E.props.valueLocale))}catch{console.warn(`Date (${S}) does not match format (${rR(E.props.valueFormat,E.props.valueLocale)})`),T=void 0}else S||(T=void 0);if(E.props.offset=E.props.timezone?lk(T||new Date,E.props.timezone):"+0000",E.props.minDate){const C=typeof E.props.minDate=="string"?El(E.props.minDate):E.props.minDate;E.props.minDate=Td(C,E.props.offset)}if(E.props.maxDate){const C=typeof E.props.maxDate=="string"?El(E.props.maxDate):E.props.maxDate;E.props.maxDate=Td(C,E.props.offset)}T=T&&Td(T,E.props.offset),T&&gh(E,T,!1);let P=T||new Date;P=E.props.minDate>P?E.props.minDate:P,E.props.renderedDate=P,E.props.activeDate=P,E.props.localTime=T&&ls(T,"HH:mm")||"12:00"}(e),e.props.calendar=[],e.props.inputText="",e.props.showMonths=e.props.showMonths||1,typeof e.props.format=="function"?(e.props.formatDate=e.props.format,e.props.format=null):e.props.formatDate=ls,e.on("created",()=>{if(cr(`${e.props.id}`,MEe.bind(null,e),e.props.__root),e.context){let E;e.context.fns.format=(S,T)=>ls(S,T,e.props.locale||"en",!1,yg),e.context.fns.isDisabled=e.props._isDisabled,e.context.fns.isDisabledMonth=S=>!hh(S,T=>!e.props._isDisabled(T),"month"),e.context.fns.isDisabledYear=S=>!hh(S,T=>!e.props._isDisabled(T),"year"),e.context.fns.isSelected=S=>{var T;const P=(T=e.context)===null||T===void 0?void 0:T.value;if(P!=null)return vF(S,Td(P instanceof Date?P:El(P,e.props.valueFormat,e.props.valueLocale),e.props.offset))},e.context.handlers._blur=S=>{var T,P;e.props._isFocused=!1,typeof((T=e.context)===null||T===void 0?void 0:T.handlers.blur)=="function"&&((P=e.context)===null||P===void 0||P.handlers.blur(S))},e.context.handlers.closePanel=()=>{e.props.expanded=!1},e.context.handlers._blurOut=S=>T=>{var P;T.preventDefault(),S&&S!==e.props.panel||e.props.pickerOnly&&T.relatedTarget instanceof Element&&(T.relatedTarget===document.getElementById(`${e.props.id}_inner`)||T.relatedTarget.closest(`#${e.props.id}_inner`))||T.relatedTarget&&T.relatedTarget instanceof Element&&(T.relatedTarget.closest(`#${e.props.id}_popover`)||!(!((P=e.props.__root)===null||P===void 0)&&P.contains(T.relatedTarget))||T.relatedTarget.id===`${e.props.id}_popover`)||(e.props.expanded=!1)},e.context.handlers.overlayClick=()=>{const S=ew.get(e);S&&(S.focus(),e.props._isPlaceholder=!1)},e.context.handlers.focus=()=>{e.props.pickerOnly||(e.props._isFocused=!0,e.props.pickerOnly&&!AS.has(e)&&(KF.add(e),e.props.expanded=!0,setTimeout(()=>KF.delete(e),200)))},e.context.handlers.clear=()=>{var S,T;gh(e,void 0,!0),Gu(e,void 0);const P=(T=(S=e.props)===null||S===void 0?void 0:S.__root)===null||T===void 0?void 0:T.getElementById(`${e.props.id}`);P instanceof HTMLInputElement&&(P.focus(),setTimeout(()=>{P.setSelectionRange(0,0)},50))},e.context.handlers.dateInput=S=>{var T;if(OS.has(e))return OS.delete(e);if(S.target instanceof HTMLInputElement&&!e.props.expanded)try{let P=El({date:S.target.value,format:e.props.format,locale:e.props.locale,partFilter:yg});if(function(C){return lp(C.props.format,C.props.locale).some(B=>B.partName==="weekday")}(e)&&e.props.activeDate instanceof Date&&e.props.activeDate.getTime()===P.getTime()&&!wc.get(S.target)&&ls(P,e.props.format,e.props.locale,!1,yg)!==S.target.value){const C=ex("dddd",e.props.locale),B=lp(e.props.format,e.props.locale),V=(T=h7(S.target.value,B).find(X=>X.token==="dddd"))===null||T===void 0?void 0:T.value,ce=ls(P,"dddd",e.props.locale);if(V&&C.includes(V)&&ce!==V){let X=C.indexOf(V)-C.indexOf(ce);X=X<-1?7+X:X,P=Cf(P,X),vk.add(e)}}gh(e,P)}catch{gh(e,void 0)}},e.context.handlers.open=()=>{e.props.expanded=!0},e.context.handlers.next=()=>{switch(e.props.panel){case"year":return void(e.props.renderedDate=Vd(e.props.renderedDate,10));case"day":return void(e.props.renderedDate=Cl(e.props.renderedDate,1))}},e.context.handlers.prev=()=>{switch(e.props.panel){case"year":return void(e.props.renderedDate=Vd(e.props.renderedDate,-10));case"day":return void(e.props.renderedDate=Cl(e.props.renderedDate,-1))}},e.context.handlers.setDate=S=>()=>{var T;e.props.panel!=="month"&&e.props.panel!=="year"||!e.props.activeDate||(S=e.props.activeDate),!((T=e.context)===null||T===void 0)&&T.fns.isDisabled(S)||e.emit("dateSelected",S)},e.context.handlers.localTime=S=>{const T=S.target;if(!T.value)return;const[P,C]=T.value.split(":");e.props.localTime=T.value,e.props.activeDate.setHours(P,C),Gu(e,e.props.activeDate)},e.context.handlers.keyDown=S=>{switch(e.props.panel){case"day":return e.emit("calendarKeydown",S);case"year":return e.emit("yearKeydown",S);case"month":return e.emit("monthKeydown",S);case"time":return e.emit("timeKeydown",S);default:return}},e.context.handlers.inputKeydown=S=>{e.emit("keydown",S)},e.context.handlers.openKeydown=S=>{S.key!=="Enter"&&S.key!=="Space"||(e.props.expanded=!0)},e.context.handlers.mouseEnter=S=>T=>{clearTimeout(E),T.target instanceof HTMLElement&&T.target.getAttribute("tabindex")==="-1"&&T.target.getAttribute("data-is-extra")!=="true"&&(e.props.panel==="month"||e.props.panel==="year"?e.props.activeDate=hh(S,P=>!e.props._isDisabled(P),e.props.panel):e.props.activeDate=S)},e.context.handlers.mouseLeave=()=>{clearTimeout(E),E=setTimeout(()=>{},100)},e.context.handlers.jumpTo=S=>()=>{e.props.panels.unshift(e.props.panel),e.props.panel=S},e.context.fns.sameDay=S=>{var T;return((T=e.context)===null||T===void 0?void 0:T.activeDate)instanceof Date&&vF(S,e.context.activeDate)},e.context.fns.sameMonth=S=>{var T;return((T=e.context)===null||T===void 0?void 0:T.activeDate)instanceof Date&&S.getMonth()===e.context.activeDate.getMonth()},e.context.fns.sameYear=S=>{var T,P;return((T=e.context)===null||T===void 0?void 0:T.activeDate)instanceof Date&&S.getFullYear()===((P=e.context)===null||P===void 0?void 0:P.activeDate.getFullYear())},e.context.fns.notInMonth=(S,T)=>{const P=function(C){const B=nr(C);return B.setHours(0,0,0),B}(T).getTime();return P<gF(S).getTime()||P>Yb(S).getTime()||void 0}}});const $=PEe.bind(null,e);e.on("prop:panel",({payload:E})=>{e.props.showPagination=e.props.paginatedPanels.includes(E)}),e.on("dateSelected",({payload:E})=>{var S,T;E&&e.props._isDisabled(E)||(Array.isArray(e.props.panels)&&e.props.panels.length?e.props.panel=e.props.panels.shift():(e.props.expanded=!1,(T=(S=e.props.__root)===null||S===void 0?void 0:S.getElementById(`${e.props.id}`))===null||T===void 0||T.focus()),gh(e,E))}),e.on("input",({payload:E})=>{if(E===void 0&&!e.props._isFocused)return void Gu(e,void 0);const S=new Date,T=E?Gu(e,Td(typeof E=="string"?El(E,e.props.valueFormat,e.props.valueLocale):E,e.props.offset)):S;e.props.activeDate=!E&&e.props.activeDate?e.props.activeDate:T,e.props.renderedDate=!E&&e.props.renderedDate?e.props.renderedDate:T,e.props.localTime=ls(T,"HH:mm"),function(P){const C=C7.get(P);if(P._value&&C){const B=qv(P.props.activeDate);if(C.length>B)C.splice(B,C.length-B);else if(C.length<B)for(let V=C.length+1;V<=B;V++)C.push(String(V))}}(e)}),e.on("prop:renderedDate",_F.bind(null,e)),e.on("prop:expanded",({payload:E})=>{if(E){if(yk.delete(e),e.props.panels=bF(e),e.props.panel=e.props.panels.shift(),window.innerWidth<=430&&!window.matchMedia("(hover: hover)").matches?e.props.showPanelClose=!0:e.props.showPanelClose=!1,e.props.panel==="day"){const S=e.props.activeDate;e.props.activeDate=hh(e.props.activeDate,T=>!e.props._isDisabled(T),"month")||S}_F(e),cr(`${e.props.id}_popover`,S=>{const T=S.querySelector('[tabindex="0"]');T&&setTimeout(()=>{T.focus(),function(P,C){const B=new MutationObserver(ce=>{for(const X of ce)X.type==="attributes"&&X.target instanceof HTMLElement&&X.target.getAttribute("tabindex")==="0"?X.target.focus():X.addedNodes.length&&X.addedNodes.forEach(le=>{var me;if(le instanceof HTMLElement&&le.getAttribute("tabindex")==="0")le.focus();else if(le instanceof HTMLElement&&le.querySelector('[tabindex="0"]')){const Ie=le.querySelector('[tabindex="0"]');Ie instanceof HTMLElement&&Ie.focus()}else le instanceof HTMLElement&&le.querySelector('input[type="time"]')&&((me=le.querySelector('input[type="time"]'))===null||me===void 0||me.focus())})});B.observe(C,{attributes:!0,attributeFilter:["tabindex"],childList:!0,subtree:!0});const V=P.on("prop:expanded",({payload:ce})=>{ce||(P.off(V),B.disconnect())})}(e,S)},0)},e.props.__root),zF&&setTimeout(()=>{document.addEventListener("click",$)},10)}else{if(e.props.panel==="time")e.emit("dateSelected",e.props.activeDate);else if(e._value){OS.add(e);const S=typeof e._value=="string"?El(e._value,e.props.valueFormat,e.props.valueLocale):e._value;Gu(e,Td(S,e.props.offset))}else Gu(e,void 0);zF&&(AS.add(e),document.removeEventListener("click",$),setTimeout(()=>AS.delete(e),50))}}),e.on("prop:activeDate",({payload:E})=>{if(Array.isArray(e.props.calendar)&&e.props.calendar.length){if(e.props.panel==="day"){const S=e.props.calendar,T=gF(e.props.renderedDate),P=Yb(Cl(e.props.renderedDate,S.length-1));E.getTime()<T.getTime()?e.props.renderedDate=Cl(e.props.renderedDate,-1):E.getTime()>P.getTime()&&(e.props.renderedDate=Cl(e.props.renderedDate))}else if(e.props.panel==="year"){const S=e.props.years,T=S[0].getFullYear(),P=S[S.length-1].getFullYear(),C=e.props.activeDate.getFullYear();C>P?e.props.renderedDate=Vd(e.props.renderedDate,10):C<T&&(e.props.renderedDate=Vd(e.props.renderedDate,-10))}}e.props.expanded&&Gu(e,e.props.activeDate)}),e.on("keydown",({payload:E})=>{switch(E.key){case"ArrowDown":case"ArrowUp":case" ":E.preventDefault(),e.props.pickerOnly&&(e.props.expanded=!0);break;case"Enter":case"Return":e.props.expanded||(e.props.expanded=!0);break;case"Escape":e.props.expanded=!1}}),e.on("calendarKeydown",({payload:E})=>{E.preventDefault();let S=null,T=0;switch(E.key){case"ArrowRight":T=1;break;case"ArrowLeft":T=-1;break;case"ArrowDown":T=7;break;case"ArrowUp":T=-7;break;case"Return":case"Enter":e.emit("dateSelected",e.props.activeDate);break;case"Tab":E.shiftKey||pS(e,E);break;case"Escape":e.props.expanded=!1}if(T&&(E.preventDefault(),S=Cf(e.props.activeDate,T)),S&&!e.props._isDisabled(S))e.props.activeDate=S;else if(S&&e.props._isDisabled(S)){const P=T>0?1:-1;nu(Number(e.props.maxScan),C=>P*C).some(C=>{const B=Cf(S,C);return!e.props._isDisabled(B)&&(e.props.activeDate=B,!0)})}}),e.on("yearKeydown",({payload:E})=>{let S=0;switch(E.key){case"ArrowDown":S=5;break;case"ArrowRight":S=1;break;case"ArrowUp":S=-5;break;case"ArrowLeft":S=-1;break;case"Tab":E.shiftKey||pS(e,E);break;case"Return":case"Enter":e.emit("dateSelected",e.props.activeDate);break;case"Escape":e.props.expanded=!1}const T=e.props.activeDate.getFullYear()+S-e.props.renderedDate.getFullYear();e.props.activeDate=Vd(e.props.renderedDate,T)}),e.on("monthKeydown",({payload:E})=>{let S=0;switch(E.key){case"ArrowDown":S=3;break;case"ArrowRight":S=1;break;case"ArrowLeft":S=-1;break;case"ArrowUp":S=-3;break;case"Tab":E.shiftKey||pS(e,E);break;case"Return":case"Enter":e.emit("dateSelected",e.props.activeDate);break;case"Escape":e.props.expanded=!1}S&&E.preventDefault();let T=(e.props.activeDate.getMonth()+S)%12;T=T<0?12+T:T;const P=T-e.props.renderedDate.getMonth();let C=Cl(e.props.renderedDate,P);if(e.props._isDisabled(C)){const B=hh(C,V=>!e.props._isDisabled(V),"month");B&&(C=B)}e.props.activeDate=C}),e.on("timeKeydown",({payload:E})=>{switch(E.key){case"Return":case"Enter":E.preventDefault(),e.emit("dateSelected",e.props.activeDate)}}),e.on("prop:_isFocused",()=>{ew.get(e)&&y7(e)}),e.on("commit",()=>{if(e.props.activeDate&&e.props._isDisabled(e.props.activeDate)){const E=pr({blocking:!0,key:"rule_invalidDate",meta:{messageKey:"invalidDate",removeImmediately:!1,localize:!0,i18nArgs:[{node:e,name:LEe(e),args:[]}]},type:"validation",value:"The selected date is invalid."});e.store.set(E)}else e.store.remove("rule_invalidDate")})},Hv,vn("next"),vn("prev"),vn("changeDate"),vn("chooseDate"),Et("close","close"),Et("next","right"),Et("clear","close"),Et("prev","left"),Et("calendar","date")]},ea=Ws("tl"),{outer:QTe,wrapper:JTe,inner:ZTe,icon:_h,label:eke,prefix:tke,suffix:nke,help:rke,messages:ike,message:ske}=qs(ea),oke=ea("input",()=>({$el:"input",bind:"$attrs",attrs:{id:"$id",type:"text",onClick:"$handlers.click",onBlur:"$handlers.blur",onKeydown:"$handlers.keydown",onInput:"$handlers.input",onFocus:"$handlers.focus",value:"$inputText",name:"$node.name",tabindex:"0",placeholder:"$state.loading && $inputStd.length === 0 && $ui.isLoading.value || $placeholder || undefined",role:"combobox",autocomplete:"off",autocapitalize:"none",readonly:"$attrs.readonly || $isLoadingOption || undefined || $multiple && $max && $value && $value.length >= $max",disabled:"$disabled || $disabledInternally || undefined","aria-autocomplete":"list","aria-expanded":"$expanded","aria-controls":'$expanded && $id + "_listbox" || undefined',"aria-describedBy":"$describedBy","aria-activedescendant":"$expanded && $activeDescendant || undefined"}})),ake=ea("listboxButton",()=>({$el:"button",attrs:{style:"$visibilityStyles",id:'$id + "_listbox_button"',type:"button",onClick:"$handlers.toggleListbox",tabindex:"-1",disabled:"$disabled || undefined","aria-haspopup":"true","aria-expanded":"$expanded","aria-controls":'$expanded && $id + "_listbox" || undefined'}})),lke=ea("tagWrapper",()=>({$el:"span",for:["option","index","$selections"],attrs:{id:'$id + "_tag-wrapper_" + $index',key:"$option.value","data-value":"$option.value",tabindex:"-1",onClick:"$handlers.tagClick && $handlers.tagClick($option)",onFocus:"$handlers.tagFocus && $handlers.tagFocus($option)",onBlur:"$handlers.tagBlur && $handlers.tagBlur($option)",onKeydown:"$handlers.searchInputTagKeydown && $handlers.searchInputTagKeydown($option)","data-active-selection":"$activeSelectionValue === $option.value"}})),uke=ea("tag",()=>({$el:"div",attrs:{id:'$id + "_tag_" + $index',role:"button"}})),cke=ea("removeSelection",()=>({$el:"button",if:"$selections.length > 0",attrs:{id:'$id + "_remove_selection_" + $index',tabindex:"-1",type:"button",onClick:"$handlers.removeSelection && $handlers.removeSelection($option)",onTouchstart:"$handlers.removeSelection && $handlers.removeSelection($option)","aria-controls":"$id"}})),dke=ea("tagLabel",()=>({$el:"span"})),fke=ea("tags",()=>({$el:"div",attrs:{id:'$id + "_selections"',"aria-live":"polite"}})),pke=ea("tagLoading","span"),hke=GO(ea);QTe(JTe(eke("$label"),ZTe(_h("prefix"),tke(),fke(lke(uke(Fe("$state.loading && $optionLoaderValues.includes($option.value)",pke("$ui.isLoading.value"),dke("$option.label")),cke(_h("close")))),oke()),Fe("$state.loading",_h("loader")),ake(_h("select")),hke(),nke(),_h("suffix"))),rke("$help"),ike(ske("$message.value"))),JO.bind(null,function(e){e.props.multiple=!0,e.props.openOnClick=Ue(e.props.openOnClick),e.props.closeOnSelect===void 0&&(e.props.closeOnSelect=!0),e.props.closeOnSelect?e.props.resetSearchOnCommit=!1:e.props.resetSearchOnCommit===void 0&&(e.props.resetSearchOnCommit=e.props.multiple),e.props.allowNewValues=Ue(e.props.allowNewValues)},Z8,function(e){e7(e),Q8(e),e.on("created",()=>{function t(){return Array.isArray(e.value)?e.value:[]}function n(r,i){e.input(i)}e.props.disabled&&(e.props.draggable=!1),cr(`${e.props.id}_selections`,r=>{if(r instanceof HTMLElement){if(!e.context)return;const i={draggingClass:e.context.classes.dragging,dropZoneClass:e.context.classes.dropZone,disabled:!e.props.draggable,root:e.props.__root,touchDraggingClass:e.context.classes.touchDragging,touchDropZoneClass:e.context.classes.touchDropZone,draggable:s=>s.hasAttribute("data-active-selection")};xi(r,t,n,i),e.on("prop:disabled",({payload:s})=>{i.disabled=s,xi(r,t,n,i)}),e.on("prop:draggable",({payload:s})=>{i.disabled=!s,xi(r,t,n,i)})}},e.props.__root)})}),Et("select","select"),Et("close","close"),Et("selected","check"),Et("loader","spinner"),vn("isLoading"),vn("loadMore");const dR=Ws("mk"),{outer:gke,wrapper:mke,inner:vke,label:yke,prefix:_ke,suffix:bke,help:wke,messages:xke,message:Eke,icon:YF}=qs(dR),{overlayPlaceholder:Ske,overlayLiteral:$ke,overlayChar:Tke,overlayEnum:kke,overlay:Ike,overlayParts:Cke,overlayInner:Ake}=F8(dR),Oke=dR("input",()=>({$el:"input",bind:"$attrs",attrs:{type:"$type",disabled:"$disabled",name:"$node.name",onBlur:"$handlers.blur",value:"$_maskValue",id:"$id","aria-describedby":"$describedBy"}})),_k=new WeakMap,bk=new WeakMap,XF=new WeakMap;gke(mke(yke("$label"),vke(YF("prefix"),_ke(),Ike(Ake(Cke(Ske("$part.value"),$ke("$part.value"),Tke("$part.value"),kke("$part.value")))),Oke(),bke(),YF("suffix"))),wke("$help"),xke(Eke("$message.value")));const Zt=Ws("tf"),{outer:Rke,wrapper:Pke,inner:iZe,icon:da,prefix:sZe,suffix:oZe,help:Mke,messages:Dke,message:Nke}=qs(Zt),Lke=Zt("fieldset",()=>({$el:"fieldset",attrs:{id:'$id + "_fieldset"',role:"presentation","aria-describedby":{if:"$help",then:'$: "help-" + $id',else:void 0}}})),Fke=Zt("legend",()=>({if:"$label",$el:"legend"})),Bke=Zt("source",()=>({$el:"div",attrs:{id:'$id + "_source"',class:'$classes.transferlist + " " + $classes.source'}})),Uke=Zt("sourceHeader",()=>({$el:"div",attrs:{id:'$id + "_source_header"',role:"presentation",class:'$classes.transferlistHeader + " " + $classes.sourceHeader'}})),Vke=Zt("sourceHeaderLabel",()=>({if:"$sourceLabel",$el:"label",attrs:{id:'$id + "_source_header_label"',for:'$id + "_source_search_input"',class:'$classes.transferlistHeaderLabel + " " + $classes.sourceHeaderLabel'},children:"$sourceLabel || $label"})),jke=Zt("sourceHeaderItemCount",()=>({$el:"span",attrs:{id:'$id + "_source_header_item_count"',role:"presentation","aria-label":'$sourceOptions.length " items"',class:'$classes.transferlistHeaderItemCount + " " + $classes.sourceHeaderItemCount'}})),Hke=Zt("targetHeaderLabel",()=>({if:"$targetLabel",$el:"label",attrs:{id:'$id + "_target_header_label"',for:'$id + "_target_search_input"',class:'$classes.transferlistHeaderLabel + " " + $classes.targetHeaderLabel'},children:"$targetLabel || $label"})),Wke=Zt("targetHeaderItemCount",()=>({$el:"span",attrs:{id:'$id + "_target_header_item_count"',role:"presentation","aria-label":'$targetOptions.length + " items"',class:'$classes.transferlistHeaderItemCount + " " + $classes.targetHeaderItemCount'},children:"$targetOptions.length"})),qke=Zt("sourceControls",()=>({$el:"div",if:"$searchable",attrs:{id:'$id + "_source_controls"',class:'$classes.transferlistControls + " " + $classes.sourceControls'}})),zke=Zt("sourceSearch",()=>({if:"$searchable",$el:"div",attrs:{id:'$id + "_source_search"',class:'$classes.transferlistSearch + " " + $classes.sourceSearch'}})),Kke=Zt("sourceSearchInput",()=>({$el:"input",attrs:{id:'$id + "_source_search_input"',type:"text",placeholder:"$placeholder",onInput:"$handlers.onSearch",value:"$inputText",onKeydown:"$handlers.sourceSearchKeydown",disabled:"$disabled","aria-label":"Search",role:"searchbox",autocomplete:"off",class:'$classes.transferlistSearchInput + " " + $classes.sourceSearchInput',onFocus:"$handlers.sourceSearchFocus",onBlur:"$handlers.sourceSearchBlur"}})),Gke=Zt("sourceSearchClear",()=>({$el:"button",if:'$inputText !== ""',attrs:{id:'$id + "_source_search_clear"',type:"button",onClick:"$handlers.clearSearch","aria-label":"Clear search",class:'$classes.transferlistSearchClear + " " + $classes.sourceSearchClear'}})),Yke=Zt("sourceListItems",()=>({$el:"ul",attrs:{id:'$id + "_source_list_items"',"aria-activedescendant":"$activeDescendant",onMouseenter:"$handlers.onMouseenter(true)",onMouseout:"$handlers.onMouseleave(true)",role:"listbox","aria-multiselectable":"true","aria-roledescription":"List of options to choose from.",class:'$classes.transferlistListItems + " " + $classes.sourceListItems',onKeydown:"$handlers.sourceListKeydown",tabindex:"$searchable || $sourceOptions.length === 0 && -1 || 0",onFocus:"$handlers.sourceListFocused",onBlur:"$handlers.sourceListBlurred"}})),Xke=Zt("sourceListItem",()=>({for:["option","index","$sourceOptions"],$el:"li",attrs:{id:'$id + "_source_list_item_" + $index',"data-value":"$option.value","aria-selected":"$transferOnSelect === false && $fns.isSelected($option, $selectedSourceItems)","data-is-active":"$fns.isActive($option, $activeValue)","data-disabled":"$option.attrs.disabled",role:"option",onClick:"$handlers.listitemClick($option, true)",onTouchstart:"$handlers.listitemTouchstart($option, true)",onTouchmove:"$handlers.listitemTouchmove($option, true)",onTouchend:"$handlers.listitemTouchend($option, true)",key:"$option.value",class:'$classes.transferlistListItem + " " + $classes.sourceListItem'}})),Qke=Zt("sourceOption",()=>({$el:"div",attrs:{"data-checked":"$fns.isSelected($option, $selectedSourceItems)",class:'$classes.transferlistOption + " " + $classes.sourceOption'}})),Jke=Zt("sourceLoadMore",()=>({$el:"li",if:"$state.loading || $state.hasNextPage",attrs:{id:'$id + "_source_load_more"',key:"loadMore",onClick:"$handlers.listitemClick($loadMoreOption)","aria-selected":"false","data-is-active":"$fns.isActive($loadMoreOption)",tabindex:"-1"}})),Zke=Zt("loadMoreInner","span"),eIe=Zt("target",()=>({$el:"div",attrs:{id:'$id + "_target"',class:'$classes.transferlist + " " + $classes.target'}})),tIe=Zt("targetHeader",()=>({$el:"div",attrs:{id:'$id + "_target_header"',role:"presentation",class:'$classes.transferlistHeader + " " + $classes.targetHeader'}})),nIe=Zt("targetListItems",()=>({$el:"ul",attrs:{id:"$id","aria-activedescendant":"$activeDescendant",onMouseenter:"$handlers.onMouseenter(false)",onMouseout:"$handlers.onMouseleave(false)",class:'$classes.transferlistListItems + " " + $classes.targetListItems',tabindex:"$targetOptions.length === 0 && -1 || 0",onKeydown:"$handlers.targetListKeydown",onFocus:"$handlers.targetListFocused",onBlur:"$handlers.targetListBlurred"}})),rIe=Zt("targetListItem",()=>({for:["option","index","$targetOptions"],$el:"li",attrs:{id:'$id + "_target_list_item_" + $index',"data-disabled":"$option.attrs.disabled","data-value":"$option.value","aria-selected":"$transferOnSelect === false && $fns.isSelected($option, $selectedTargetItems)","data-is-active":"$fns.isActive($option, $activeValue)",role:"option",onClick:"$handlers.listitemClick($option, false)",onTouchstart:"$handlers.listitemTouchstart($option, false)",onTouchmove:"$handlers.listitemTouchmove($option, false)",onTouchend:"$handlers.listitemTouchend($option, false)",key:"$option.value",class:'$classes.transferlistListItem + " " + $classes.targetListItem'}})),iIe=Zt("targetOption",()=>({$el:"div",attrs:{id:'$id + "_target_list_item_" + $index + "_option"',"data-checked":"$fns.isSelected($option, $selectedTargetItems)",class:'$classes.transferlistOption + " " + $classes.targetOption'}})),sIe=Zt("transferControls",()=>({$el:"div",attrs:{id:'$id + "_transfer_controls"'}})),oIe=Zt("transferButtonForward",()=>({if:"$transferOnSelect !== true",$el:"button",attrs:{id:'$id + "_transfer_button_forward"',type:"button",disabled:"$selectedSourceItems.length === 0 || $disabled || ($max && $value && $value.length >= $max)",onClick:"$handlers.transferForward","aria-label":"$ui.addSelectedValues.value",title:"$ui.addSelectedValues.value",class:'$classes.transferlistButton + " " + $classes.transferButtonForward'}})),aIe=Zt("transferButtonForwardAll",()=>({$el:"button",attrs:{id:'$id + "_transfer_button_forward_all"',type:"button",disabled:"$sourceOptions.length === 0 || $disabled || ($max && $value && $value.length >= $max)",onClick:"$handlers.transferForwardAll","aria-label":"$ui.addAllValues.value",title:"$ui.addAllValues.value",onFocus:"$handlers.transferForwardAllFocused",class:'$classes.transferlistButton + " " + $classes.transferButtonForwardAll'}})),lIe=Zt("transferButtonBackward",()=>({if:"$transferOnSelect !== true",$el:"button",attrs:{id:'$id + "_transfer_button_backward"',onClick:"$handlers.transferBackward",type:"button",disabled:"$selectedTargetItems.length === 0 || $targetOptions.length === 0 || $disabled","aria-label":"$ui.removeSelectedValues.value",title:"$ui.removeSelectedValues.value",class:'$classes.transferlistButton + " " + $classes.transferButtonBackward'}})),uIe=Zt("transferButtonBackwardAll",()=>({$el:"button",attrs:{id:'$id + "_transfer_button_backward_all"',onClick:"$handlers.transferBackwardAll",type:"button",disabled:"$targetOptions.length === 0 || $disabled","aria-label":"$ui.removeAllValues.value",title:"$ui.removeAllValues.value",class:'$classes.transferlistButton + " " + $classes.transferButtonBackwardAll'}})),t_=Zt("controlLabel","span"),cIe=Zt("sourceEmptyMessage",()=>({$el:"li",if:"$showSourceEmptyMessage && $sourceEmptyMessage && $state.loading !== true",attrs:{id:'$id + "_source_empty_message"',key:"$sourceEmptyMessage",role:"presentation"}})),dIe=Zt("targetEmptyMessage",()=>({$el:"li",if:"$showTargetEmptyMessage && $targetEmptyMessage",attrs:{id:'$id + "_empty_message"',key:"$emptyMessage",role:"presentation"}})),QF=Zt("emptyMessageInner","span"),wk=Symbol(),dp=new WeakSet,Rm=new WeakSet;Rke(Lke(Fke("$label"),Mke("$help"),Pke(Bke(Uke(Vke(),jke(Fe("$optionsLoadingCounter > 0",da("loader"),"$fns.getSourceItemCount($selectedSourceItems)"))),qke(zke(Kke(),Gke(da("close")))),Yke(cIe(QF("$sourceEmptyMessage")),Xke(Fe("$transferOnSelect !== true && $fns.isSelected($option, $selectedSourceItems)",da("selected")),Qke("$option.label")),Jke(Fe("$state.loading && $optionLoadingCounter === 0 || $state.hasNextPage",Zke(Fe("$state.loading",da("loader")),"$state.loading && $ui.isLoading.value || $ui.loadMore.value"))))),sIe(aIe(t_("$ui.addAllValues.value"),da("fastForward")),oIe(t_("$ui.addSelectedValues.value"),da("moveRight")),lIe(t_("$ui.removeSelectedValues.value"),da("moveLeft")),uIe(t_("$ui.removeAllValues.value"),da("rewind"))),eIe(tIe(Hke(),Wke("$fns.getTargetItemCount($selectedTargetItems)")),nIe(dIe(Fe("$state.loading !== true",QF("$targetEmptyMessage"))),rIe(Fe("$transferOnSelect !== true && $fns.isSelected($option, $selectedTargetItems)",da("selected")),iIe(Fe("$fns.optionLoading($option, $optionLoaderValues)","$ui.isLoading.value","$option.label")))))),Dke(Nke("$message.value")))),Et("moveRight","right"),Et("moveLeft","left"),Et("fastForward","fastForward"),Et("rewind","rewind"),Et("close","close"),Et("loader","spinner"),Et("selected","check"),vn("isLoading"),vn("loadMore"),vn("addAllValues"),vn("addSelectedValues"),vn("removeSelectedValues"),vn("removeAllValues");const hr=Ws("sl"),{outer:fIe,wrapper:pIe,inner:aZe,icon:JF,label:hIe,prefix:gIe,suffix:mIe,help:vIe,messages:yIe,message:_Ie}=qs(hr),bIe=hr("chart",()=>({$el:"div",if:"$chart"})),wIe=hr("chartBar",()=>({$el:"div",for:["bar","index","$chart"],attrs:{"data-active":{if:"$isMulti",then:{if:"$_value.0 < $_value.1",then:"$bar.at >= $_value.0 && $bar.at <= $_value.1",else:"$bar.at >= $_value.1 && $bar.at <= $_value.0"},else:"$bar.at <= $_value"},style:{left:'$bar.at / ($max - $min) * 100 + "%"',width:'$: "calc(" + (100 / $chart.length) + "% - 2px)"',height:{if:"$largestBar",then:'$bar.value / $largestBar * 100 + "%"'}}}})),xIe=hr("sliderInner",()=>({$el:"div",attrs:{"data-has-mark-labels":"$markLabels && $marks.length > 0"}})),EIe=hr("track",()=>({$el:"div",attrs:{id:"$: 'track-' + $id",onClick:"$handlers.clickTrack"}})),SIe=hr("trackWrapper",()=>({$el:"div"})),$Ie=hr("trackInner",()=>({$el:"div"})),TIe=hr("fill",()=>({$el:"div",attrs:{style:"$fillStyles"}})),kIe=hr("linkedValues",()=>({$el:"div"})),ZF=hr("maxValue",()=>({$formkit:"number",bind:"$computedMaxInputAttrs",ignore:!0,value:{if:"$isMulti",then:"$_value.1",else:"$_value"},tabindex:{if:"$disabled",then:-1},onNode:"$handlers.maxNode",onBlur:"$handlers.inputBlur"})),IIe=hr("minValue",()=>({$formkit:"number",bind:"$computedMinInputAttrs",ignore:!0,value:{if:"$isMulti",then:"$_value.0",else:"$_value"},tabindex:{if:"$disabled",then:-1},onNode:"$handlers.minNode",onBlur:"$handlers.inputBlur"})),CIe=hr("marks",()=>({$el:"div",if:"$marks"})),AIe=hr("mark",()=>({$el:"span",for:["step","index","$marks"],attrs:{"data-active":{if:"$isMulti",then:{if:"$_value.0 < $_value.1",then:"$step.at >= $_value.0 && $step.at <= $_value.1",else:"$step.at >= $_value.1 && $step.at <= $_value.0"},else:"$step.at <= $_value"},class:{if:"$step.class",then:'$: $classes.mark + " " + $step.class',else:"$classes.mark"},style:{left:'$: $fns.calculateMarkPosition($step.at) + "%"'}}})),OIe=hr("markLabel",()=>({$el:"span",if:"$markLabels",children:{if:"$step.label !== undefined",then:"$step.label",else:""},attrs:{class:'$: $classes.markLabel + " " + $step.labelClass'}})),RIe=hr("handles",()=>({$el:"ul"})),PIe=hr("handleMax",()=>({$el:"li",attrs:{"data-active":"$dragging","data-is-target":'$lastHandleInteraction === "max"',"data-handle":"max","data-show-tooltip":"$tooltip",class:"$: 'formkit-handle ' + $classes.handle + ' ' + $classes.handleMax",onFocus:"$handlers.focus",onClick:"$handlers.clickHandle",onMousedown:"$handlers.startDrag",onTouchstart:"$handlers.startDrag",style:"$maxHandleStyles",tabindex:{if:"$disabled",then:-1,else:0},onBlur:"$handlers.blur",onKeydown:"$handlers.keydown"}})),MIe=hr("handleMin",()=>({$el:"li",if:"$isMulti",attrs:{"data-active":"$dragging","data-is-target":'$lastHandleInteraction === "min"',"data-handle":"min","data-show-tooltip":"$tooltip",class:"$: $classes.handle + ' ' + $classes.handleMin",onFocus:"$handlers.focus",onClick:"$handlers.clickHandle",onMousedown:"$handlers.startDrag",onTouchstart:"$handlers.startDrag",style:"$minHandleStyles",tabindex:{if:"$disabled",then:-1,else:0},onBlur:"$handlers.blur",onKeydown:"$handlers.keydown"}})),DIe=hr("handleMinInner",()=>({$el:"div",attrs:{class:'$: $classes.handleInner + " " + $classes.handleMinInner'}})),NIe=hr("handleMaxInner",()=>({$el:"div",attrs:{class:'$: $classes.handleInner + " " + $classes.handleMaxInner'}})),LIe=hr("tooltipMax",()=>({$el:"div",if:'$tooltip === true || $tooltip === "auto"',children:{if:"$isMulti",then:{if:"$_value.0 < $_value.1",then:'$tooltipFormat($_value.1, "max")',else:'$tooltipFormat($_value.0, "max")'},else:'$tooltipFormat($_value, "max")'},attrs:{class:"$classes.tooltip + ' ' + $classes.tooltipMax"}})),FIe=hr("tooltipMin",()=>({$el:"div",if:'$isMulti && ($tooltip === true || $tooltip === "auto")',children:{if:"$_value.0 < $_value.1",then:'$tooltipFormat($_value.0, "min")',else:'$tooltipFormat($_value.1, "min")'},attrs:{class:"$classes.tooltip + ' ' + $classes.tooltipMin"}}));fIe(pIe(hIe("$label"),vIe("$help"),xIe(JF("prefix"),gIe(),EIe(bIe(wIe()),SIe($Ie(TIe(),CIe(AIe(OIe())),RIe(MIe(FIe(),DIe()),PIe(LIe(),NIe()))))),mIe(),JF("suffix"),Fe("$showInput && $isMulti === false",ZF())),Fe("$showInput && $isMulti",kIe(IIe(),ZF())),yIe(_Ie("$message.value"))));const en=Ws("cp"),{outer:BIe,wrapper:UIe,inner:VIe,label:jIe,prefix:HIe,suffix:WIe,help:e5,messages:qIe,message:zIe,icon:bh}=qs(en),KIe=en("swatchPreview",()=>({$el:"div",attrs:{id:"$id",class:"$classes.swatchPreview",tabindex:{if:"$disabled",then:-1,else:0},onClick:"$handlers.inputPreviewClick",onFocusout:"$handlers.inputPreviewFocusout",onKeydown:"$handlers.inputPreviewKeydown",role:"button","aria-valuetext":'$: "Current color: " + $value'}})),GIe=en("valueString",()=>({$el:"span",attrs:{class:"$classes.valueString"},children:{if:'$format === "hex"',then:"$hex",else:{if:'$format === "rgba"',then:"$rgbaString",else:{if:'$format === "hsla"',then:"$hslaString",else:""}}}})),YIe=en("panel",()=>({$el:"div",attrs:{id:'$: $id + "_popover"',class:"$classes.panel",onKeydown:"$handlers.panelKeydown","aria-role":{if:"$layout === popover",then:"dialog"},"aria-modal":{if:"$layout === popover",then:"true"},"aria-label":"$label",popover:"$popover",style:{if:"$usePopover",then:{margin:0,top:'$popoverCoordinates.y + "px"',left:'$popoverCoordinates.x + "px"'},else:{position:{if:"$inline === undefined || $inline === false",then:"absolute"}}}}})),XIe=en("panelClose",()=>({$el:"button",attrs:{type:"button",class:"$classes.panelClose",onClick:"$handlers.closePanel",tabindex:{if:"$showPanelClose",then:-1,else:0},onKeydown:"$handlers.panelCloseKeydown","aria-label":"$ui.close.value"}})),QIe=en("controlGroup",()=>({$el:"div",attrs:{class:"$classes.controlGroup","data-eye-dropper":"$hasNativeEyeDropper && $eyeDropper",role:"group"}})),JIe=en("LS",()=>({$el:"div",attrs:{class:"$classes.LS"}})),ZIe=en("canvasLS",()=>({$el:"canvas",attrs:{id:'$: "canvas-ls-" + $id',class:'$classes.canvas + " " + $classes.canvasLS',width:256,height:256,"aria-hidden":"true"}})),eCe=en("controlLS",()=>({$el:"div",attrs:{tabindex:{if:"$disabled",then:-1,else:0},class:'$classes.control + " " + $classes.controlLS',onKeydown:"$handlers.lsKeydown",style:{left:'$controlLSPosition.x + "%"',top:'$controlLSPosition.y + "%"',backgroundColor:'$: "hsl(" + $hsla.h + "deg, " + ($hsla.s / 255) * 100 + "%, " + ($hsla.l / 255) * 100 + "%)"'},role:"slider","aria-valuemin":0,"aria-valuemax":1,"aria-valuetext":'$: "Lightness: " + $hslaPercent.l + "%, Saturation: " + $hslaPercent.s + "%"'}})),tCe=en("hue",()=>({$el:"div",attrs:{class:"$classes.hue"}})),nCe=en("canvasHue",()=>({$el:"canvas",attrs:{id:'$: "canvas-hue-" + $id',class:'$classes.canvas + " " + $classes.canvasHue',width:256,height:10,"aria-hidden":"true"}})),rCe=en("controlHue",()=>({$el:"div",attrs:{tabindex:{if:"$disabled",then:-1,else:0},onKeydown:"$handlers.hueControlKeydown",class:'$classes.control + " " + $classes.controlHue',style:{left:'$: "min(max(" + (($hsla.h / 360) * 100) + "%, 3px), calc(100% - 3px))"',backgroundColor:'$: "hsl(" + $hsla.h + "deg, 100%, 50%)"'},role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":"$h"}})),iCe=en("alpha",()=>({$el:"div",attrs:{class:"$classes.alpha"}})),sCe=en("canvasAlpha",()=>({$el:"canvas",attrs:{id:'$: "canvas-alpha-" + $id',class:'$classes.canvas + " " + $classes.canvasAlpha',width:256,height:10,"aria-hidden":"true"}})),oCe=en("controlAlpha",()=>({$el:"div",attrs:{tabindex:{if:"$disabled",then:-1,else:0},onKeydown:"$handlers.alphaControlKeydown",class:'$classes.control + " " + $classes.controlAlpha',style:{left:'$: "min(max(" + ($hsla.a * 100) + "%, 3px), calc(100% - 3px))"',backgroundImage:'$: "linear-gradient(to right, hsla(" + $hsla.h + "deg, " + ($hsla.s / 255) * 100 + "%, " + ($hsla.l / 255) * 100 + "%, " + $hsla.a + "), hsla(" + $hsla.h + "deg, " + ($hsla.s / 255) * 100 + "%, " + ($hsla.l / 255) * 100 + "%, " + $hsla.a + ")), linear-gradient(to right, white, white)"'},role:"slider","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":"$hsla.a"}})),aCe=en("preview",()=>({$el:"div",attrs:{class:"$classes.preview"}})),lCe=en("canvasPreview",()=>({$el:"canvas",attrs:{id:'$: "canvas-preview-" + $id',class:'$classes.canvas + " " + $classes.canvasPreview',width:33,height:33,"aria-hidden":"true"}})),uCe=en("canvasSwatchPreview",()=>({$el:"div",attrs:{class:"$classes.canvasSwatchPreviewWrapper"},children:[{$el:"canvas",attrs:{id:'$: "canvas-swatch-preview-" + $id',class:'$classes.canvas + " " + $classes.canvasSwatchPreview',width:33,height:33,"aria-hidden":"true"}}]})),cCe=en("eyeDropper",()=>({$el:"div",attrs:{tabindex:{if:"$disabled",then:-1,else:0},role:"button",onKeydown:"$handlers.eyeDropperKeydown",id:'$: "eye-dropper-" + $id',class:"$classes.eyeDropper"}})),dCe=en("formatField",()=>({$el:"div",attrs:{class:"$classes.formatField"}})),fCe=en("colorInputGroup",()=>({$el:"div",attrs:{class:"$classes.colorInputGroup","aria-role":"group"}})),pCe=en("hexField",()=>({$el:"div",attrs:{class:'$classes.fieldGroup + " " + $classes.hexFieldGroup'},children:[{$el:"input",attrs:{onInput:"$handlers.hexInput",onKeydown:"$handlers.hexKeydown",onFocus:"$handlers.hexFocus",onBlur:"$handlers.hexBlur",id:'$: "hex-" + $id',tabindex:{if:"$disabled",then:-1,else:0},disabled:"$disabled",class:'$classes.colorField + " " + $classes.hexField',value:"$hex",autocomplete:"off"}},{$el:"label",children:"HEX",attrs:{for:'$: "hex-" + $id',class:"$classes.fieldLabel"}}]})),hCe=en("rField",()=>({$el:"div",attrs:{class:'$classes.fieldGroup + " " + $classes.rFieldGroup'},children:[{$el:"input",attrs:{id:'$: "r-" + $id',onInput:'$handlers.rangeLimitInput("rgba", 0, 255)',onKeydown:'$handlers.rangeLimitKeydown("rgba", 0, 255, 1)',type:"number",class:'$classes.colorField + " " + $classes.rField',min:0,max:255,step:1,tabindex:{if:"$disabled",then:-1,else:0},disabled:"$disabled",value:"$rgba.r",autocomplete:"off"}},{$el:"label",children:"R",attrs:{for:'$: "r-" + $id',class:"$classes.fieldLabel"}}]})),gCe=en("gField",()=>({$el:"div",attrs:{class:'$classes.fieldGroup + " " + $classes.gFieldGroup'},children:[{$el:"input",attrs:{id:'$: "g-" + $id',onInput:'$handlers.rangeLimitInput("rgba", 0, 255)',onKeydown:'$handlers.rangeLimitKeydown("rgba", 0, 255, 1)',type:"number",class:'$classes.colorField + " " + $classes.gField',min:0,max:255,step:1,tabindex:{if:"$disabled",then:-1,else:0},disabled:"$disabled",value:"$rgba.g",autocomplete:"off"}},{$el:"label",children:"G",attrs:{for:'$: "g-" + $id',class:"$classes.fieldLabel"}}]})),mCe=en("bField",()=>({$el:"div",attrs:{class:'$classes.fieldGroup + " " + $classes.bFieldGroup'},children:[{$el:"input",attrs:{id:'$: "b-" + $id',onInput:'$handlers.rangeLimitInput("rgba", 0, 255)',onKeydown:'$handlers.rangeLimitKeydown("rgba", 0, 255, 1)',type:"number",class:'$classes.colorField + " " + $classes.bField',min:0,max:255,step:1,tabindex:{if:"$disabled",then:-1,else:0},disabled:"$disabled",value:"$rgba.b",autocomplete:"off"}},{$el:"label",children:"B",attrs:{for:'$: "b-" + $id',class:"$classes.fieldLabel"}}]})),vCe=en("aField",()=>({$el:"div",attrs:{class:'$classes.fieldGroup + " " + $classes.aFieldGroup'},children:[{$el:"input",attrs:{id:'$: "a-" + $id',onInput:'$handlers.rangeLimitInput("alpha", 0, 1)',onKeydown:'$handlers.rangeLimitKeydown("alpha", 0, 1, 0.01)',type:"text",class:'$classes.colorField + " " + $classes.aField',value:"$rgba.a",tabindex:{if:"$disabled",then:-1,else:0},disabled:"$disabled",autocomplete:"off"},"aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":"$rgba.a"},{$el:"label",children:"A",attrs:{for:'$: "a-" + $id',class:"$classes.fieldLabel"}}]})),yCe=en("hField",()=>({$el:"div",attrs:{class:'$classes.fieldGroup + " " + $classes.hFieldGroup'},children:[{$el:"input",attrs:{id:'$: "h-" + $id',onInput:'$handlers.rangeLimitInput("hsla", 0, 360)',onKeydown:'$handlers.rangeLimitKeydown("hsla", 0, 360, 1)',type:"text",class:'$classes.colorField + " " + $classes.hField',tabindex:{if:"$disabled",then:-1,else:0},disabled:"$disabled",value:"$hslaPercent.h",autocomplete:"off","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":"$hsla.h"}},{$el:"label",children:"H",attrs:{for:'$: "h-" + $id',class:"$classes.fieldLabel"}}]})),_Ce=en("sField",()=>({$el:"div",attrs:{class:'$classes.fieldGroup + " " + $classes.sFieldGroup'},children:[{$el:"input",attrs:{id:'$: "s-" + $id',onInput:'$handlers.rangeLimitInput("hsla", 0, 100)',onKeydown:'$handlers.rangeLimitKeydown("hsla", 0, 100, 1)',type:"text",class:'$classes.colorField + " " + $classes.sField',tabindex:{if:"$disabled",then:-1,else:0},value:"$hslaPercent.s",autocomplete:"off","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":"$hsla.s"}},{$el:"label",children:"S",attrs:{for:'$: "s-" + $id',class:"$classes.fieldLabel"}}]})),bCe=en("lField",()=>({$el:"div",attrs:{class:'$classes.fieldGroup + " " + $classes.lFieldGroup'},children:[{$el:"input",attrs:{id:'$: "l-" + $id',onInput:'$handlers.rangeLimitInput("hsla", 0, 100)',onKeydown:'$handlers.rangeLimitKeydown("hsla", 0, 100, 1)',type:"text",class:'$classes.colorField + " " + $classes.lField',tabindex:{if:"$disabled",then:-1,else:0},disabled:"$disabled",value:"$hslaPercent.l",autocomplete:"off","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":"$hsla.l"}},{$el:"label",children:"L",attrs:{for:'$: "l-" + $id',class:"$classes.fieldLabel"}}]})),wCe=en("formatSwitcher",()=>({$el:"div",attrs:{class:"$classes.formatSwitcher",onClick:"$handlers.toggleFormat",tabindex:{if:"$disabled",then:-1,else:0},onKeydown:"$handlers.formatSwitcherKeydown",role:"button","aria-label":"$ui.next.value"}})),xCe=en("swatches",()=>({$el:"div",attrs:{id:'$: "swatches-" + $id',class:"$classes.swatches","data-keyboard-nav":"$swatchIsUsingKeyboardNav"}})),ECe=en("swatch",()=>({$el:"div",for:["swatch","index","$options"],if:"$swatch",attrs:{if:"$swatch.group",then:{class:"$classes.swatchGroup"},else:{class:"$classes.swatch",title:"$swatch.label"}},children:{if:"$swatch.group",then:[{$el:"span",attrs:{class:"$classes.swatchGroupLabel"},children:"$swatch.group"},{$el:"div",for:["groupSwatch","swatchIndex","$swatch.options"],attrs:{class:"$classes.swatch",title:"$groupSwatch.label"},children:[{$el:"canvas",attrs:{class:"$classes.swatchCanvas",width:21,height:21,onClick:"$handlers.swatchClick",onKeydown:"$handlers.swatchKeydown",tabindex:{if:"$: ($focusedSwatch === $fns.anyToHsvaString($groupSwatch.value, 0))",then:{if:"$disabled",then:-1,else:0},else:-1},key:'$groupSwatch.label + "-" + $groupSwatch.value',"data-color":"$fns.anyToHsvaString($groupSwatch.value, 0)","data-color-precise":"$fns.anyToHsvaString($groupSwatch.value, 2)","data-group":"$index","data-label":"$swatch.label",role:"button","aria-label":"$swatch.label"}}]}],else:{$el:"canvas",attrs:{class:"$classes.swatchCanvas",width:21,height:21,onClick:"$handlers.swatchClick",onKeydown:"$handlers.swatchKeydown",tabindex:{if:"$: ($focusedSwatch === $fns.anyToHsvaString($swatch.value, 0))",then:{if:"$disabled",then:-1,else:0},else:-1},key:'$swatch.label + "-" + $swatch.value',"data-color":"$fns.anyToHsvaString($swatch.value, 0)","data-color-precise":"$fns.anyToHsvaString($swatch.value, 2)","data-group":0,"data-label":"$swatch.label",role:"button","aria-label":"$swatch.label"}}}})),A7=/rgba?\((\d+%?)\s*(?:,?\s*|\s+)(\d+%?)\s*(?:,?\s*|\s+)(\d+%?)(?:\s*(?:,?\s*|\s+|\/\s*)(\d*(?:\.\d+)?%?))?\)/i,O7=/^hsla?\((\d{1,3}deg|[\d.]+)\s*,?\s*([\d.]+%)\s*,?\s*([\d.]+%)(?:\s*,?\s*([\d.]+%?))?\)$/i,t5={"canvas-ls":"LS","canvas-hue":"Hue","canvas-alpha":"Alpha"},SCe={schema:BIe(UIe(jIe("$label"),Fe("$inline && $help",e5("$help")),VIe(Fe("($inline === undefined || $inline === false) && $prefixIcon !== undefined",bh("prefix","label")),Fe("$inline === undefined || $inline === false",HIe()),Fe("$inline === undefined || $inline === false",KIe(uCe(),Fe("$showValue",GIe()))),Fe("$inline || $expanded)",YIe(Fe("$showPanelClose && ($inline === undefined || $inline === false)",XIe(bh("close"))),Fe("$panelControls",QIe(JIe(ZIe(),eCe()),aCe(lCe()),tCe(nCe(),rCe()),iCe(sCe(),oCe()),Fe("$eyeDropper && $hasNativeEyeDropper",cCe(bh("eyeDropper"))))),Fe("$panelFormat",dCe(fCe(Fe('$panelActiveFormat === "hex"',pCe()),Fe('$panelActiveFormat === "rgba"',hCe()),Fe('$panelActiveFormat === "rgba"',gCe()),Fe('$panelActiveFormat === "rgba"',mCe()),Fe('$panelActiveFormat === "hsla"',yCe()),Fe('$panelActiveFormat === "hsla"',_Ce()),Fe('$panelActiveFormat === "hsla"',bCe()),Fe('$panelActiveFormat === "rgba" || $panelActiveFormat === "hsla"',vCe())),wCe(bh("switch")))),Fe("$options",xCe(ECe())))),Fe("$inline === undefined || $inline === false",WIe()),Fe("($inline === undefined || $inline === false) && $suffixIcon !== undefined",bh("suffix"))),Fe("$: ($inline === undefined || $inline === false) && $help",e5("$help"))),qIe(zIe("$message.value"))),type:"input",family:"text",props:["disbaled","format","valueFormat","panelControls","panelFormat","eyeDropper","inline","options","showValue","closeOnSelect","allowPaste"],features:[function(e){function t(F){var H,J;if(!e.context||!e.props.allowPaste||e.props.disabled)return;const Q=(H=e.props.__root)===null||H===void 0?void 0:H.activeElement;if(E&&E.contains(Q)){const L=(J=F.clipboardData)===null||J===void 0?void 0:J.getData("text");if(!L||Q.tagName==="INPUT"&&!jd(L)&&!A7.test(L)&&!O7.test(L))return;(jd(L)||L.startsWith("hsl")||L.startsWith("rgb"))&&(e.props.hexInputFocused&&(e.props.hexInputFocused=!1,setTimeout(()=>{e.props.hexInputFocused=!0},10)),F.preventDefault(),n(L))}}function n(F){var H;if(!F)return;const J=mS(F);if(J){const[Q,L,W,q]=J;F!=="undefined"&&(typeof Q!="number"||isNaN(Q)||typeof L!="number"||isNaN(L)||typeof W!="number"||isNaN(W)||typeof q!="number"||isNaN(q)||At(Q,2)===e.props.h&&At(L,2)===e.props.s&&At(W,2)===e.props.v&&At(q,2)===e.props.alpha)||(e.props.alpha=At(q,2),x(Q,L,W))}else{const Q=(H=e.props.options)===null||H===void 0?void 0:H.find(L=>{var W;return((W=L.label)===null||W===void 0?void 0:W.toLowerCase())===F.toLowerCase()});if(Q&&Q.value){const L=mS(Q.value);if(L){const[W,q,ue,fe]=L;e.props.alpha=At(fe,2),x(W,q,ue)}else x(e.props.h,e.props.s,e.props.v)}else x(e.props.h,e.props.s,e.props.v)}}function r(F){if(!e.context||!V)return;const H=V[F];H&&(e.props.focusedSwatch=H.dataset.color)}function i(F,H){new ResizeObserver(()=>{const J=F.getBoundingClientRect();F.width=Math.round(J.width),F.height=Math.round(J.height),H(F)}).observe(F)}function s(){e.context&&e.props.eyeDropper&&(e.context.hasNativeEyeDropper=!(typeof window>"u"||!window.EyeDropper),cr(`eye-dropper-${e.props.id}`,()=>{var F;const H=new window.EyeDropper,J=(F=e.props.__root)===null||F===void 0?void 0:F.getElementById(`eye-dropper-${e.props.id}`);J==null||J.addEventListener("click",async()=>{const Q=await H.open();if(!Q.sRGBHex)return;const[L,W,q]=ck(Q.sRGBHex);e.props.alpha=1,x(L,W,q)})},e.props.__root))}function o(){a("canvas-ls",F=>{S=F},le,h),a("canvas-hue",F=>{T=F},c,m),a("canvas-alpha",F=>{P=F},me,v),l(`canvas-preview-${e.props.id}`,F=>{C=F,d()},Ie),l(`canvas-swatch-preview-${e.props.id}`,F=>{B=F,f()},Tt),u()}function a(F,H,J,Q){let L=!1;const W=()=>{document.removeEventListener("mousemove",q),document.removeEventListener("mouseup",fe),document.removeEventListener("touchmove",ue),document.removeEventListener("touchend",he)},q=O=>{O.buttons===1&&$&&Q(O)},ue=O=>{$&&Q(O)},fe=()=>{$=void 0,W()},he=()=>{$=void 0,W()};l(`${F}-${e.props.id}`,O=>{const M=O.nextElementSibling;H(O),J(),function(j,Y){const K=ae=>{j&&(ae.preventDefault(),Y(ae))};j==null||j.addEventListener("mousedown",K),j==null||j.addEventListener("touchstart",K)}(O,Q),L||function(j,Y){L=!0,j.addEventListener("blur",()=>{j.removeAttribute("data-prevent-focus-style")}),Y.addEventListener("touchend",()=>{j.removeAttribute("data-prevent-focus-style"),j.blur()}),j.addEventListener("keydown",K=>{["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(K.key)&&j.removeAttribute("data-prevent-focus-style")})}(M,O),O.addEventListener("mousedown",j=>{M.focus(),M.setAttribute("data-prevent-focus-style","true"),$=t5[F],Q(j),document.addEventListener("mousemove",q),document.addEventListener("mouseup",fe)}),O.addEventListener("touchstart",()=>{M.setAttribute("data-prevent-focus-style","true"),M.focus(),$=t5[F],document.addEventListener("touchmove",ue),document.addEventListener("touchend",he)})},J)}function l(F,H,J){cr(F,()=>{var Q;const L=(Q=e.props.__root)===null||Q===void 0?void 0:Q.getElementById(F);L&&(H(L),J&&i(L,J))},e.props.__root)}function u(){cr(`swatches-${e.props.id}`,()=>{var F,H,J;V=Array.from(((F=e.props.__root)===null||F===void 0?void 0:F.querySelectorAll(`#swatches-${e.props.id} canvas`))||[]),V.forEach(Q=>{i(Q,p)}),e.props.focusedSwatch=(J=(H=V[0])===null||H===void 0?void 0:H.dataset)===null||J===void 0?void 0:J.color,_()},e.props.__root)}function c(){if(!T)return;const F=T.getContext("2d");if(!F)return;const H=T.width,J=T.height;for(let Q=0;Q<H;Q++){const L=Math.floor(Q/H*360);F.fillStyle=`hsl(${L}, 100%, 50%)`,F.fillRect(Q,0,1,J)}}function d(){if(!C)return;const F=C.getContext("2d");if(!F)return;y(C,C.width/3);const{r:H,g:J,b:Q,a:L}=e.props.rgba;F.fillStyle=`rgba(${H}, ${J}, ${Q}, ${L})`,F.fillRect(0,0,C.width,C.height)}function f(){if(!B)return;const F=B.getContext("2d");if(!F)return;y(B,B.height/2);const{r:H,g:J,b:Q,a:L}=e.props.rgba;F.fillStyle=`rgba(${H}, ${J}, ${Q}, ${L})`,F.fillRect(0,0,B.width,B.height)}function p(F){if(!F)return;const H=F.getContext("2d");if(!H)return;y(F,F.width/2);const J=F.dataset.colorPrecise;if(!J)return;const[Q,L,W,q]=EF(J),[ue,fe,he,O]=xF(Q,L,W,q);H.fillStyle=`hsla(${ue}, ${fe/255*100}%, ${he/255*100}%, ${O})`,H.fillRect(0,0,Math.round(F.width),Math.round(F.height))}function g(F,H,J){let Q=null;const L=he=>{Q!==null&&cancelAnimationFrame(Q),Q=requestAnimationFrame(()=>{if(!H)return;const O=H.getBoundingClientRect();let M,j;"touches"in he?(M=he.touches[0].clientX-O.left,j=he.touches[0].clientY-O.top):(M=he.clientX-O.left,j=he.clientY-O.top),M=Math.min(Math.max(M,0),O.width),j=Math.min(Math.max(j,0),O.height),J(M,j)})};L(F);const W=he=>{he.preventDefault(),L(he)},q=he=>{he.preventDefault(),L(he)},ue=()=>{$=void 0,document.removeEventListener("mousemove",W),document.removeEventListener("mouseup",ue)},fe=()=>{$=void 0,document.removeEventListener("touchmove",q),document.removeEventListener("touchend",fe)};"touches"in F?(document.addEventListener("touchmove",q),document.addEventListener("touchend",fe)):(document.addEventListener("mousemove",W),document.addEventListener("mouseup",ue))}function h(F){g(F,S,(H,J)=>{const Q=H/S.width*100,L=100-J/S.height*100;Re(e.props.hue,Q,L)})}function m(F){g(F,T,(H,J)=>{if(!T)return;const Q=T.width,L=Math.floor(H/Q*360);e.props.h=L,Re(e.props.h,e.props.s,e.props.v)})}function v(F){g(F,P,(H,J)=>{const Q=H/P.width*100/100;e.props.alpha=Q,Re(e.props.hue,e.props.s,e.props.v)})}function y(F,H){const J=F.getContext("2d");if(!J)return;const Q=Math.ceil(F.height/H),L=Math.ceil(F.width/H);for(let W=0;W<Q;W++)for(let q=0;q<L;q++)J.fillStyle=(W+q)%2==1?"#FFFFFF":"#CCCCCC",J.fillRect(q*H,W*H,H,H)}function _(){var F,H;if(!e.context||!e.props.options||!V)return;const{h:J,s:Q,v:L,alpha:W}=e.props,q=function(he,O,M,j=1){const Y=M===0?0:O;return`${At(M===0||M===100&&O===0?0:he,0)}-${At(Y,0)}-${At(M,0)}-${At(j,2)}`}(J,Q,L,W);let ue=!1,fe=!1;V.forEach(he=>{const O=he.dataset.color;if(!O)return;const[M,j,Y,K]=O.split("-");Y==="0"&&L===0&&K===`${W}`&&(fe=!0);const ae=he.parentElement;fe||O===q?(ae.dataset.active="true",he.ariaSelected="true",fe=!1,!ue&&V&&(r(V.indexOf(he)),ue=!0)):(delete ae.dataset.active,he.ariaSelected="false")}),ue||(e.props.focusedSwatch=(H=(F=V[0])===null||F===void 0?void 0:F.dataset)===null||H===void 0?void 0:H.color)}function b(F){F=F.replace("#",""),e.props.hexInputFocused||F.length!==3||(F=F[0]+F[0]+F[1]+F[1]+F[2]+F[2]),F=`#${F=F.toUpperCase()}`,e.props.hex=F.slice(0,9)}function x(F,H,J){e.props.h=F===void 0||isNaN(F)?e.props.h:At(Math.max(Math.min(F,360),0),2),e.props.s=H===void 0||isNaN(H)?e.props.s:At(Math.max(Math.min(H,100),0),2),e.props.v=J===void 0||isNaN(J)?e.props.v:At(Math.max(Math.min(J,100),0),2);const{h:Q,s:L,v:W,alpha:q}=e.props,[ue,fe,he]=xF(Q,L,W),[O,M,j]=E7(Q,L,W),Y=e.props.hexInputFocused?e.props.hex:HEe(Q,L,W,q),K=At(q,2);e.props.hsla={h:Q,s:fe,l:he,a:K},e.props.hslaPercent={h:At(Q,0),s:W===100&&L===0?0:At(W===0?fe/255:Math.max(Math.min(fe/255*100,100),0),0),l:At(Math.max(Math.min(e.props.hsla.l/255*100,100),0),0),a:K},e.props.hslaString=`hsla(${e.props.hslaPercent.h}, ${e.props.hslaPercent.s}%, ${e.props.hslaPercent.l}%, ${K})`,e.props.hslaStringPrecise=`hsla(${Q}, ${At(W===0?fe/255:fe/255*100,2)}%, ${At(he/255*100,2)}%, ${K})`,e.props.rgba={r:O,g:M,b:j,a:K},e.props.rgbaString=`rgba(${O}, ${M}, ${j}, ${K})`,b(Y),setTimeout(()=>{var be;w(),function(){const ye=e.props.s,we=100-e.props.v;e.props.controlLSPosition={x:ye,y:we}}(),Xe(),E||typeof window>"u"||(E=(be=e.props.__root)===null||be===void 0?void 0:be.querySelector(`[data-id="${e.props.id}"]`))},0);const ae=e.props.valueFormat?e.props.valueFormat:e.props.format;ae==="hex"?e.input(e.props.hex):ae==="rgba"?e.input(e.props.rgbaString):ae==="hsla"&&e.input(e.props.hslaStringPrecise)}function w(){le(),me(),Ie(),Tt()}let $,E=null,S=null,T=null,P=null,C=null,B=null,V=null,ce=0;const X=["hex","rgba","hsla"],le=kd(function(){if(!S)return;const F=S.getContext("2d");if(!F)return;const{width:H,height:J}=S,Q=e.props.h||0;F.fillStyle=`hsl(${Q}, 100%, 50%)`,F.fillRect(0,0,H,J);const L=F.createLinearGradient(0,0,H,0);L.addColorStop(0,"rgba(255, 255, 255, 1)"),L.addColorStop(1,"rgba(255, 255, 255, 0)"),F.fillStyle=L,F.fillRect(0,0,H,J);const W=F.createLinearGradient(0,0,0,J);W.addColorStop(0,"rgba(0,0,0,0)"),W.addColorStop(1,"rgba(0,0,0,1)"),F.fillStyle=W,F.fillRect(0,0,H,J)},2),me=kd(function(){if(!P)return;const F=P.getContext("2d");if(!F)return;const H=Math.round(P.width),J=Math.round(P.height);F.clearRect(0,0,H,J),y(P,J/2);const Q=e.props.rgba.r||0,L=e.props.rgba.g||0,W=e.props.rgba.b||0,q=F.createLinearGradient(0,0,H,0);q.addColorStop(0,`rgba(${Q}, ${L}, ${W}, 0)`),q.addColorStop(1,`rgba(${Q}, ${L}, ${W}, 1)`),F.fillStyle=q,F.fillRect(0,0,H,J)},2),Ie=kd(d,2),Tt=kd(f,2),Re=kd(x,2),Xe=kd(_,10,!1);e.addProps(["expanded","h","s","v","alpha","hsla","hslaPercent","hslaString","hslaStringPrecise","rgba","rgbaString","hex","controlLSPosition","panelActiveFormat","hexInputFocused","hasNativeEyeDropper","focusedSwatch","swatchIsUsingKeyboardNav","showPanelClose"]),e.props.h=e.props.h||void 0,e.props.s=e.props.s||void 0,e.props.v=e.props.v||void 0,e.props.alpha=e.props.alpha||1,e.props.controlLSPosition=e.props.controlLSPosition||{x:0,y:0},e.props.switchIcon=e.props.switchIcon||'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M34.2 179.7L154.4 66.2c1.4-1.3 3.5-2.2 5.6-2.2s4.2 .8 5.6 2.2L285.8 179.7c1.4 1.3 2.2 3.2 2.2 5.2c0 3.9-3.2 7.1-7.1 7.1H39.1c-3.9 0-7.1-3.2-7.1-7.1c0-2 .8-3.8 2.2-5.2zm-22-23.3C4.4 163.8 0 174.1 0 184.9C0 206.5 17.5 224 39.1 224H280.9c21.6 0 39.1-17.5 39.1-39.1c0-10.8-4.4-21.1-12.3-28.4L187.6 42.9C180.1 35.9 170.2 32 160 32s-20.1 3.9-27.6 10.9L12.3 156.4zm22 175.9c-1.4-1.3-2.2-3.2-2.2-5.2c0-3.9 3.2-7.1 7.1-7.1H280.9c3.9 0 7.1 3.2 7.1 7.1c0 2-.8 3.8-2.2 5.2L165.6 445.8c-1.4 1.3-3.5 2.2-5.6 2.2s-4.2-.8-5.6-2.2L34.2 332.3zm-22 23.3L132.4 469.1c7.4 7 17.4 10.9 27.6 10.9s20.1-3.9 27.6-10.9L307.7 355.6c7.8-7.4 12.3-17.7 12.3-28.5c0-21.6-17.5-39.1-39.1-39.1H39.1C17.5 288 0 305.5 0 327.1c0 10.8 4.4 21.1 12.3 28.5z"/></svg>',e.props.hexInputFocused=!1,e.props.swatchIsUsingKeyboardNav=!1,e.on("destroying",()=>{e.context&&typeof document<"u"&&document.removeEventListener("paste",t)}),e.on("created",()=>{e.context&&(typeof window<"u"&&document.addEventListener("paste",t),e.props.expanded=!1,e.props.panelActiveFormat=e.props.format||X[0],e.props.panelControls=mh(e.props.panelControls),e.props.eyeDropper=mh(e.props.eyeDropper),e.props.panelFormat=mh(e.props.panelFormat),e.props.showValue=mh(e.props.showValue),e.props.allowPaste=mh(e.props.allowPaste),e.props.inline=Ue(e.props.inline),e.props.disabled=Ue(e.props.disabled),e.props.format=e.props.format||"hex",e.props.valueFormat=e.props.valueFormat||e.props.format,e.props.closeOnSelect=Ue(e.props.closeOnSelect),e.props.focusedSwatch=void 0,n(`${e.value}`),e.on("input",({payload:F})=>{E&&e.props.__root!==void 0&&!E.contains(e.props.__root.activeElement)&&n(F)}),setTimeout(()=>{s()},5),o(),e.on("prop:expanded",()=>{function F(J){J.key==="Escape"&&(J.preventDefault(),e.props.expanded=!1)}var H;e.props.expanded?(s(),o(),u(),document.addEventListener("keydown",F),window.innerWidth<=430&&!window.matchMedia("(hover: hover)").matches?e.props.showPanelClose=!0:e.props.showPanelClose=!1,setTimeout(()=>{var J;const Q=(J=e.props.__root)===null||J===void 0?void 0:J.querySelector(`[data-id="${e.props.id}"] *:not(.formkit-swatch-preview)[tabindex="0"]`);Q&&Q.focus()},0)):(document.removeEventListener("keydown",F),((H=e.props.__root)===null||H===void 0?void 0:H.querySelector(`[data-id="${e.props.id}"] *[tabindex="0"]`)).focus())}),e.context.fns.anyToHsvaString=(F,H)=>{const J=mS(F);if(!J)return"0-0-0-1";let[Q,L,W,q]=J;return H===0&&(Q=W===0||W===100&&L===0?0:Q),`${At(Q,H)}-${At(L,H)}-${At(W,H)}-${At(q,2)}`},e.context.handlers.inputPreviewClick=F=>{e.props.expanded=!e.props.expanded},e.context.handlers.inputPreviewFocusout=F=>{var H,J,Q;const L=(H=e.props.__root)===null||H===void 0?void 0:H.querySelector(`[data-id="${e.props.id}"] .formkit-inner`),W=F.relatedTarget;if(L.contains(W)){let q=function(ue){var fe,he;L.contains(ue.target)||(e.props.expanded=!1,(fe=e.props.__root)===null||fe===void 0||fe.removeEventListener("mousedown",q),(he=e.props.__root)===null||he===void 0||he.removeEventListener("touchstart",q))};(J=e.props.__root)===null||J===void 0||J.addEventListener("mousedown",q),(Q=e.props.__root)===null||Q===void 0||Q.addEventListener("touchstart",q)}else e.props.expanded=!1},e.context.handlers.inputPreviewKeydown=F=>{F.key==="Escape"&&(F.preventDefault(),e.props.expanded=!1),F.key!=="Enter"&&F.key!==" "||(F.preventDefault(),e.props.expanded=!e.props.expanded)},e.context.handlers.closePanel=()=>{e.props.expanded=!1},e.context.handlers.panelCloseKeydown=F=>{F.key!=="Enter"&&F.key!==" "||(F.preventDefault(),e.props.expanded=!1)},e.context.handlers.toggleFormat=(F=1)=>{F=typeof F=="number"?F:1;const H=(X.indexOf(e.props.panelActiveFormat)+F+X.length)%X.length;e.props.panelActiveFormat=X[H]},e.context.handlers.panelKeydown=F=>{var H,J,Q;if(F.key==="Tab"&&e.props.expanded){F.preventDefault();const L=Array.from(((H=e.props.__root)===null||H===void 0?void 0:H.querySelectorAll(`[data-id="${e.props.id}"] *:not(.formkit-swatch-preview)[tabindex="0"]`))||[]).filter(WEe),W=L.indexOf(!((J=e.props.__root)===null||J===void 0)&&J.activeElement?(Q=e.props.__root)===null||Q===void 0?void 0:Q.activeElement:e.props.__root);let q;q=F.shiftKey?(W-1+L.length)%L.length:(W+1)%L.length,L[q].focus()}},e.context.handlers.lsKeydown=F=>{if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","PageUp","PageDown","Home","End"].includes(F.key)){F.preventDefault();const{h:H,s:J,v:Q}=e.props,L=F.shiftKey?10:1;switch(F.key){case"ArrowLeft":x(H,J-L,Q);break;case"ArrowRight":x(H,J+L,Q);break;case"ArrowUp":x(H,J,Q+L);break;case"ArrowDown":x(H,J,Q-L);break;case"PageUp":x(H,J,Q+10);break;case"PageDown":x(H,J,Q-10);break;case"Home":x(H,J-10,Q);break;case"End":x(H,J+10,Q)}w()}},e.context.handlers.hueControlKeydown=F=>{if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","PageUp","PageDown","Home","End"].includes(F.key)){F.preventDefault();const{h:H,s:J,v:Q}=e.props,L=F.shiftKey?10:1;switch(F.key){case"ArrowLeft":case"ArrowDown":x(H-L,J,Q);break;case"ArrowRight":case"ArrowUp":x(H+L,J,Q);break;case"PageUp":x(H+10,J,Q);break;case"PageDown":x(H-10,J,Q);break;case"Home":x(0,J,Q);break;case"End":x(360,J,Q)}w()}},e.context.handlers.alphaControlKeydown=F=>{if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","PageUp","PageDown","Home","End"].includes(F.key)){F.preventDefault();const{h:H,s:J,v:Q,alpha:L}=e.props,W=F.shiftKey?.1:.01;switch(F.key){case"ArrowLeft":case"ArrowDown":e.props.alpha=At(Math.min(Math.max(L-W,0),1),2);break;case"ArrowRight":case"ArrowUp":e.props.alpha=At(Math.min(Math.max(L+W,0),1),2);break;case"PageUp":e.props.alpha=At(Math.min(Math.max(L+.1,0),1),2);break;case"PageDown":e.props.alpha=At(Math.min(Math.max(L-.1,0),1),2);break;case"Home":e.props.alpha=0;break;case"End":e.props.alpha=1}x(H,J,Q)}},e.context.handlers.eyeDropperKeydown=F=>{var H;if(F.key==="Enter"||F.key===" "){F.preventDefault();const J=(H=e.props.__root)===null||H===void 0?void 0:H.getElementById(`eye-dropper-${e.props.id}`);J==null||J.click()}},e.context.handlers.formatSwitcherKeydown=F=>{e.context&&(F.key!=="Enter"&&F.key!==" "&&F.key!=="ArrowDown"||(F.preventDefault(),e.context.handlers.toggleFormat()),F.key==="ArrowUp"&&(F.preventDefault(),e.context.handlers.toggleFormat(-1)))},e.context.handlers.hexInput=F=>{const H=F.target,J=H.value.startsWith("#")?9:8,Q=H.value.slice(0,J);if(H.value=Q,jd(Q)){const[L,W,q,ue]=ck(Q);e.props.alpha=ue,b(Q),x(L,W,q)}},e.context.handlers.hexKeydown=F=>{const H=F.target,J=H.value;let Q="";if(!jd(J))return;const L=J.startsWith("#")?J.slice(1):J,W=L.length===8,q=W?L.substring(0,6):L,ue=W?L.substring(6,8):"",fe=F.shiftKey?10:1,he=16777215;let O;if(["ArrowUp","ArrowDown","PageUp","PageDown","Home","End"].includes(F.key))switch(F.preventDefault(),F.key){case"ArrowUp":O=(parseInt(q,16)+fe)%16777216;break;case"ArrowDown":O=(parseInt(q,16)-fe+he+1)%16777216;break;case"PageUp":O=(parseInt(q,16)+10)%16777216;break;case"PageDown":O=(parseInt(q,16)-10+he+1)%16777216;break;case"Home":O=0;break;case"End":O=he}O!==void 0&&(Q=O.toString(16).padStart(6,"0").toUpperCase()),Q&&(H.value=W?`#${Q}${ue}`:`#${Q}`),e.context&&e.context.handlers.hexInput(F)},e.context.handlers.hexFocus=()=>{e.context&&(e.props.hexInputFocused=!0)},e.context.handlers.hexBlur=F=>{if(!e.context)return;e.props.hexInputFocused=!1;const H=F.target.value;jd(H)&&b(H)},e.context.handlers.rangeLimitInput=(F,H,J,Q)=>L=>{const W=Q||L;if(!W||!e.context)return;const q=W.target;if(q.value.endsWith("."))return;const ue=Math.max(Math.min(Number(q.value),J),H);q.value=`${ue}`;const fe=q.id;if(F==="hsla"){switch(fe){case`h-${e.props.id}`:e.props.h=ue;break;case`s-${e.props.id}`:e.props.hslaPercent.s=ue;break;case`l-${e.props.id}`:e.props.hslaPercent.l=ue}const[he,O,M]=sR(e.props.h,2.55*e.props.hslaPercent.s,2.55*e.props.hslaPercent.l);x(he,O,M)}else if(F==="rgba"){switch(fe){case`r-${e.props.id}`:e.props.rgba.r=ue;break;case`g-${e.props.id}`:e.props.rgba.g=ue;break;case`b-${e.props.id}`:e.props.rgba.b=ue}const[he,O,M]=S7(e.props.rgba.r,e.props.rgba.g,e.props.rgba.b);x(he,O,M)}else F=="alpha"&&(e.props.alpha=ue,x())},e.context.handlers.rangeLimitKeydown=(F,H,J,Q)=>L=>{if(e.context)if(["ArrowUp","ArrowDown","PageUp","PageDown","Home","End","Backspace","Tab","Enter"].includes(L.key)||L.metaKey||!/[a-zA-Z!@#$%^&*()_+={}\[\]:;"'<,>?\/|\\`~]/g.test(L.key)){if(["ArrowUp","ArrowDown","PageUp","PageDown","Home","End"].includes(L.key)){const W=L.target,q=Number(W.value),ue=L.shiftKey?10*Q:Q;switch(L.key){case"ArrowUp":L.preventDefault(),W.value=`${Math.min(q+ue,J)}`;break;case"ArrowDown":L.preventDefault(),W.value=`${Math.max(q-ue,H)}`;break;case"PageUp":L.preventDefault(),W.value=`${Math.min(q+10*Q,J)}`;break;case"PageDown":L.preventDefault(),W.value=`${Math.max(q-10*Q,H)}`;break;case"Home":L.preventDefault(),W.value=`${H}`;break;case"End":L.preventDefault(),W.value=`${J}`}e.context.handlers.rangeLimitInput(F,H,J,L)()}}else L.preventDefault()},e.context.handlers.swatchClick=F=>{const H=F.target;if(H.dataset.colorPrecise){const[J,Q,L,W]=EF(H.dataset.colorPrecise);e.props.alpha=W,x(J,Q,L),e.props.closeOnSelect&&(e.props.expanded=!1)}e.context&&F.type!=="keydown"&&e.context.handlers.swatchKeydown(F)},e.context.handlers.swatchKeydown=F=>{var H,J,Q,L;if(!e.context||!V||!V.length)return;const W=V.indexOf(F.currentTarget);let q=null;const ue=function(K){var ae;if(!K.length)return 0;const be=(ae=K[0].parentElement)===null||ae===void 0?void 0:ae.parentElement;if(!be)return 0;const ye=be.getBoundingClientRect().width,we=K[0].parentElement;if(!we)return 0;const z=we.getBoundingClientRect(),_e=window.getComputedStyle(we),ge=parseFloat(_e.marginLeft)+parseFloat(_e.marginRight),xe=z.width+ge;return Math.floor(ye/xe)}(V),fe=V.length;let he=0,O=fe,M=!1;const j=V[W].dataset.group;if(j!==void 0){const K=V.filter(ae=>ae.dataset.group===j);he=V.indexOf(K[0]),O=V.indexOf(K[K.length-1])}const Y=(W-he)%ue;if(!F.key||F.key==="Tab")return F.key||(e.props.swatchIsUsingKeyboardNav=!1,ce=Y,r(W)),F.key==="Tab"&&(e.props.swatchIsUsingKeyboardNav=!1),void V.forEach(K=>{delete K.parentElement.dataset.focused});if(F.key==="Enter"||F.key===" ")return F.preventDefault(),ce=Y,e.context.handlers.swatchClick(F),void r(W);switch(F.key!=="ArrowUp"&&F.key!=="ArrowDown"&&F.key!=="ArrowLeft"&&F.key!=="ArrowRight"||(e.props.swatchIsUsingKeyboardNav=!0,F.preventDefault()),F.key){case"ArrowUp":q=Math.max(W-ue,W-(ue-(ce-Y))),M=!0;break;case"ArrowDown":q=Math.max(W+ue,W+(ue+(ce-Y))),M=!0;break;case"ArrowLeft":q=W-1,ce=(q-he)%ue;break;case"ArrowRight":q=W+1,ce=(q-he)%ue}if(M&&q!==null&&(q<he||q>O)){let K;K=q<he?(J=(H=V[he-1])===null||H===void 0?void 0:H.dataset)===null||J===void 0?void 0:J.group:(L=(Q=V[O+1])===null||Q===void 0?void 0:Q.dataset)===null||L===void 0?void 0:L.group;const ae=V.filter(_e=>_e.dataset.group===j),be=V.filter(_e=>_e.dataset.group===K),ye=(W-he)%ue,we=ae.length%ue||ue,z=W>=he+ae.length-we;if(q<he){const _e=be.length%ue||ue;q=he-_e+Math.min(Math.max(ye,ce),_e-1)}else q>O&&(q=z?Math.min(O+Math.max(ye,ce)+1,V.indexOf(be[be.length-1])):Math.min(q,O))}if(q!==null&&q>=0&&q<fe){r(q),V.forEach(be=>{delete be.parentElement.dataset.focused});const K=V[q],ae=K.parentElement;K.focus(),ae.dataset.focused="true"}})})},Hv,nl,Et("eyeDropper","color"),Et("close","close"),vn("close"),vn("next")]},Vp=Ws("tb"),{outer:$Ce,inner:lZe,wrapper:n5,label:r5,prefix:TCe,suffix:kCe,help:ICe,messages:CCe,message:ACe,icon:i5}=qs(Vp),OCe=Vp("singleToggle",()=>({bind:"$attrs",$el:"button",attrs:{id:"$id",type:"button","aria-label":"$label","aria-pressed":"$fns.isChecked($onValue, $value)",role:"checkbox",onClick:"$handlers.toggleValue()",disabled:"$disabled",class:"$classes.input",onBlur:"$handlers.blur"}})),RCe=Vp("multiToggle",()=>({bind:"$attrs",$el:"button",attrs:{type:"button",id:"$id+'_'+$index","aria-label":"$label","aria-pressed":"$fns.isChecked($option, $value)",role:'$multiple && "checkbox" || "radio"',onClick:"$handlers.toggleValue($option)",class:"$classes.input",title:"$option.help",disabled:"$disabled || $option.disabled",onBlur:"$handlers.blur"}})),n_=Vp("inputInner",()=>({bind:"$attrs",$el:"span"})),PCe=Vp("options",()=>({$el:"ul",attrs:{id:"$id",role:"group","data-vertical":'$vertical && "true" || "false"',"aria-labelledby":"$id"}})),MCe=Vp("option",()=>({$el:"li",for:["option","index","$options"],attrs:{role:"listitem",key:"$option.value","data-index":"$index"}}));$Ce(Fe("$options",n5(r5("$label"),PCe(MCe(RCe(Fe("$fns.isChecked($option) === true",n_("$slots.default || $slots.on || $option.onLabel || $option.label"),n_("$slots.default || $slots.off || $option.offLabel || $option.label")))))),n5(Fe("$label && ($slots.default || $slots.on || $onLabel)",r5("$label")),OCe(i5("prefix"),TCe(),Fe("$_isChecked === true",n_("$slots.default || $slots.on || $onLabel || $label"),n_("$slots.default || $slots.off || $offLabel || $label")),kCe(),i5("suffix")))),ICe("$help"),CCe(ACe("$message.value")));const DCe=typeof window<"u"?setInterval:()=>0,s5=new WeakSet,R7=new Set,es=new WeakMap,fp=new WeakMap,Yc=new WeakMap,xk=new WeakMap,NCe=new WeakMap,pp=new WeakMap,tw=new WeakMap,jh=new WeakSet;let vu,fR=0,pR=0;const Ta="__aa_tgt",Pm="__aa_del",nw="__aa_new",LCe=e=>{const t=HCe(e);t&&t.forEach(n=>WCe(n))},FCe=e=>{e.forEach(t=>{t.target===vu&&UCe(),es.has(t.target)&&fd(t.target)})};function BCe(e){const t=xk.get(e);t==null||t.disconnect();let n=es.get(e),r=0;const i=5;n||(n=hp(e),es.set(e,n));const{offsetWidth:s,offsetHeight:o}=vu,l=[n.top-i,s-(n.left+i+n.width),o-(n.top+i+n.height),n.left-i].map(c=>`${-1*Math.floor(c)}px`).join(" "),u=new IntersectionObserver(()=>{++r>1&&fd(e)},{root:vu,threshold:1,rootMargin:l});u.observe(e),xk.set(e,u)}function fd(e){clearTimeout(tw.get(e));const t=ix(e),n=Mm(t)?500:t.duration;tw.set(e,setTimeout(async()=>{const r=Yc.get(e);try{await(r==null?void 0:r.finished),es.set(e,hp(e)),BCe(e)}catch{}},n))}function UCe(){clearTimeout(tw.get(vu)),tw.set(vu,setTimeout(()=>{R7.forEach(e=>N7(e,t=>P7(()=>fd(t))))},100))}function VCe(e){setTimeout(()=>{NCe.set(e,setInterval(()=>P7(fd.bind(null,e)),2e3))},Math.round(2e3*Math.random()))}function P7(e){typeof requestIdleCallback=="function"?requestIdleCallback(()=>e()):requestAnimationFrame(()=>e())}let Ek,sf;const jCe=typeof window<"u"&&"ResizeObserver"in window;jCe&&(vu=document.documentElement,Ek=new MutationObserver(LCe),sf=new ResizeObserver(FCe),window.addEventListener("scroll",()=>{pR=window.scrollY,fR=window.scrollX}),sf.observe(vu));function HCe(e){return e.reduce((r,i)=>[...r,...Array.from(i.addedNodes),...Array.from(i.removedNodes)],[]).every(r=>r.nodeName==="#comment")?!1:e.reduce((r,i)=>{if(r===!1)return!1;if(i.target instanceof Element){if(RS(i.target),!r.has(i.target)){r.add(i.target);for(let s=0;s<i.target.children.length;s++){const o=i.target.children.item(s);if(o){if(Pm in o)return!1;RS(i.target,o),r.add(o)}}}if(i.removedNodes.length)for(let s=0;s<i.removedNodes.length;s++){const o=i.removedNodes[s];if(Pm in o)return!1;o instanceof Element&&(r.add(o),RS(i.target,o),fp.set(o,[i.previousSibling,i.nextSibling]))}}return r},new Set)}function RS(e,t){!t&&!(Ta in e)?Object.defineProperty(e,Ta,{value:e}):t&&!(Ta in t)&&Object.defineProperty(t,Ta,{value:e})}function WCe(e){var t;const n=e.isConnected,r=es.has(e);n&&fp.has(e)&&fp.delete(e),Yc.has(e)&&((t=Yc.get(e))===null||t===void 0||t.cancel()),nw in e?o5(e):r&&n?zCe(e):r&&!n?KCe(e):o5(e)}function Io(e){return Number(e.replace(/[^0-9.\-]/g,""))}function qCe(e){let t=e.parentElement;for(;t;){if(t.scrollLeft||t.scrollTop)return{x:t.scrollLeft,y:t.scrollTop};t=t.parentElement}return{x:0,y:0}}function hp(e){const t=e.getBoundingClientRect(),{x:n,y:r}=qCe(e);return{top:t.top+r,left:t.left+n,width:t.width,height:t.height}}function M7(e,t,n){let r=t.width,i=t.height,s=n.width,o=n.height;const a=getComputedStyle(e);if(a.getPropertyValue("box-sizing")==="content-box"){const u=Io(a.paddingTop)+Io(a.paddingBottom)+Io(a.borderTopWidth)+Io(a.borderBottomWidth),c=Io(a.paddingLeft)+Io(a.paddingRight)+Io(a.borderRightWidth)+Io(a.borderLeftWidth);r-=c,s-=c,i-=u,o-=u}return[r,s,i,o].map(Math.round)}function ix(e){return Ta in e&&pp.has(e[Ta])?pp.get(e[Ta]):{duration:250,easing:"ease-in-out"}}function D7(e){if(Ta in e)return e[Ta]}function hR(e){const t=D7(e);return t?jh.has(t):!1}function N7(e,...t){t.forEach(n=>n(e,pp.has(e)));for(let n=0;n<e.children.length;n++){const r=e.children.item(n);r&&t.forEach(i=>i(r,pp.has(r)))}}function gR(e){return Array.isArray(e)?e:[e]}function Mm(e){return typeof e=="function"}function zCe(e){const t=es.get(e),n=hp(e);if(!hR(e))return es.set(e,n);let r;if(!t)return;const i=ix(e);if(typeof i!="function"){const s=t.left-n.left,o=t.top-n.top,[a,l,u,c]=M7(e,t,n),d={transform:`translate(${s}px, ${o}px)`},f={transform:"translate(0, 0)"};a!==l&&(d.width=`${a}px`,f.width=`${l}px`),u!==c&&(d.height=`${u}px`,f.height=`${c}px`),r=e.animate([d,f],{duration:i.duration,easing:i.easing})}else{const[s]=gR(i(e,"remain",t,n));r=new Animation(s),r.play()}Yc.set(e,r),es.set(e,n),r.addEventListener("finish",fd.bind(null,e))}function o5(e){nw in e&&delete e[nw];const t=hp(e);es.set(e,t);const n=ix(e);if(!hR(e))return;let r;if(typeof n!="function")r=e.animate([{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:n.duration*1.5,easing:"ease-in"});else{const[i]=gR(n(e,"add",t));r=new Animation(i),r.play()}Yc.set(e,r),r.addEventListener("finish",fd.bind(null,e))}function a5(e,t){var n;e.remove(),es.delete(e),fp.delete(e),Yc.delete(e),(n=xk.get(e))===null||n===void 0||n.disconnect(),setTimeout(()=>{if(Pm in e&&delete e[Pm],Object.defineProperty(e,nw,{value:!0,configurable:!0}),t&&e instanceof HTMLElement)for(const r in t)e.style[r]=""},0)}function KCe(e){var t;if(!fp.has(e)||!es.has(e))return;const[n,r]=fp.get(e);Object.defineProperty(e,Pm,{value:!0,configurable:!0});const i=window.scrollX,s=window.scrollY;if(r&&r.parentNode&&r.parentNode instanceof Element?r.parentNode.insertBefore(e,r):n&&n.parentNode?n.parentNode.appendChild(e):(t=D7(e))===null||t===void 0||t.appendChild(e),!hR(e))return a5(e);const[o,a,l,u]=YCe(e),c=ix(e),d=es.get(e);(i!==fR||s!==pR)&&GCe(e,i,s,c);let f,p={position:"absolute",top:`${o}px`,left:`${a}px`,width:`${l}px`,height:`${u}px`,margin:"0",pointerEvents:"none",transformOrigin:"center",zIndex:"100"};if(!Mm(c))Object.assign(e.style,p),f=e.animate([{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:c.duration,easing:"ease-out"});else{const[g,h]=gR(c(e,"remove",d));(h==null?void 0:h.styleReset)!==!1&&(p=(h==null?void 0:h.styleReset)||p,Object.assign(e.style,p)),f=new Animation(g),f.play()}Yc.set(e,f),f.addEventListener("finish",a5.bind(null,e,p))}function GCe(e,t,n,r){const i=fR-t,s=pR-n,o=document.documentElement.style.scrollBehavior;if(getComputedStyle(vu).scrollBehavior==="smooth"&&(document.documentElement.style.scrollBehavior="auto"),window.scrollTo(window.scrollX+i,window.scrollY+s),!e.parentElement)return;const l=e.parentElement;let u=l.clientHeight,c=l.clientWidth;const d=performance.now();function f(){requestAnimationFrame(()=>{if(!Mm(r)){const p=u-l.clientHeight,g=c-l.clientWidth;d+r.duration>performance.now()?(window.scrollTo({left:window.scrollX-g,top:window.scrollY-p}),u=l.clientHeight,c=l.clientWidth,f()):document.documentElement.style.scrollBehavior=o}})}f()}function YCe(e){const t=es.get(e),[n,,r]=M7(e,t,hp(e));let i=e.parentElement;for(;i&&(getComputedStyle(i).position==="static"||i instanceof HTMLBodyElement);)i=i.parentElement;i||(i=document.body);const s=getComputedStyle(i),o=es.get(i)||hp(i),a=Math.round(t.top-o.top)-Io(s.borderTopWidth),l=Math.round(t.left-o.left)-Io(s.borderLeftWidth);return[a,l,n,r]}function XCe(e,t={}){return Ek&&sf&&(window.matchMedia("(prefers-reduced-motion: reduce)").matches&&!Mm(t)&&!t.disrespectUserMotionPreference||(jh.add(e),getComputedStyle(e).position==="static"&&Object.assign(e.style,{position:"relative"}),N7(e,fd,VCe,i=>sf==null?void 0:sf.observe(i)),Mm(t)?pp.set(e,t):pp.set(e,{duration:250,easing:"ease-in-out",...t}),Ek.observe(e,{childList:!0}),R7.add(e))),Object.freeze({parent:e,enable:()=>{jh.add(e)},disable:()=>{jh.delete(e)},isEnabled:()=>jh.has(e)})}var rw=new Map,L7=new Map,QCe=0,Hd=null,l5=0;function JCe(){u5(),Hd=new MutationObserver(()=>{u5(),!rw.size&&Hd&&(Hd.disconnect(),Hd=null)}),Hd.observe(document,{childList:!0,subtree:!0})}function u5(){rw.forEach((e,t)=>{document.getElementById(t)&&(clearTimeout(l5),rw.delete(t),l5=setTimeout(()=>{document.querySelectorAll("[data-auto-animate]").forEach(i=>{let s;const o=i.getAttribute("data-auto-animate");o&&(s=L7.get(o)),XCe(i,s||e||{})})},250))})}function ZCe(e,t={}){return n=>{n.on("created",()=>{var r;if(typeof((r=n.props.definition)==null?void 0:r.schema)=="function"){if(typeof window===void 0)return;const i=n.props.definition.schema;n.props.definition.schema=s=>{const o=i(s),a=Array.isArray(o)?o[0]:o;return Ud(a,l=>{var u,c,d,f;if(qc(l)){let p=!1;const g=(u=l==null?void 0:l.meta)==null?void 0:u.section;let h=!0;if((c=l==null?void 0:l.meta)!=null&&c.autoAnimate&&(p=!0,typeof l.meta.autoAnimate=="object")){const m=Object.assign({},e,l.meta.autoAnimate);h=`${n.props.id}-${QCe++}`,L7.set(h,m)}if(!p&&g&&typeof g=="string"&&((d=t.global)!=null&&d.includes(g)||(f=t[n.props.type])!=null&&f.includes(g))&&(p=!0),!p)return;l!=null&&l.attrs?Object.assign(l.attrs,{"data-auto-animate":h}):l.attrs={"data-auto-animate":h},n.props.id&&rw.set(n.props.id,e)}}),a}}!Hd&&typeof window<"u"&&JCe()})}}var eAe=We("wrapper",()=>({$el:"div",attrs:{"data-tab-style":"$tabStyle","data-hide-labels":"$hideProgressLabels"}})),c5=We("badge",()=>({$el:"span",attrs:{role:"presentation"}})),tAe=We("stepActions",()=>({$el:"div"})),nAe=We("stepInner","div"),rAe=We("stepNext",()=>({$el:"div",if:"$isLastStep === false || $stepIndex === 0",children:[{$cmp:"FormKit",bind:"$nextAttrs",props:{type:"button",label:{if:"$nextLabel",then:"$nextLabel",else:"$ui.next.value"},"data-next":"$isLastStep === false",onClick:"$handlers.next"}}]})),iAe=We("stepOuter",()=>({$el:"div",attrs:{key:"$id","data-type":"step","data-disabled":"$disabled || undefined","data-invalid":"$state.valid === false && $state.validationVisible || undefined","data-errors":"$state.errors || undefined","data-submitted":"$state.submitted || undefined",id:"$id",role:"tabpanel","aria-labelledby":'$node.parent.props.id + "_tab_" + $stepIndex',class:"$classes.step",hidden:"$isActiveStep === false || undefined"}})),sAe=We("stepPrevious",()=>({$el:"div",if:"$isFirstStep === false",children:[{$cmp:"FormKit",bind:"$previousAttrs",props:{type:"button",label:{if:"$previousLabel",then:"$previousLabel",else:"$ui.prev.value"},"data-prev":"$isFirstStep === false",onClick:"$handlers.previous"}}]})),oAe=We("steps",()=>({$el:"div"})),aAe=(e,t)=>We(`${e}Icon`,()=>{const n=`_raw${e.charAt(0).toUpperCase()}${e.slice(1)}Icon`;return{if:`$step.${e}Icon && $step.${n}`,then:{$el:`${t||"span"}`,attrs:{class:`$classes.${e}Icon + " formkit-icon"`,innerHTML:`$step.${n}`,role:"presentation",onClick:`$handlers.iconClick(${e})`}},else:{if:`$${e}Icon && $${n}`,then:{$el:`${t||"span"}`,attrs:{class:`$classes.${e}Icon + " formkit-icon"`,innerHTML:`$${n}`,role:"presentation",onClick:`$handlers.iconClick(${e})`}}}}})(),lAe=We("tab",()=>({$el:"button",for:["step","index","$fns.getSteps()"],attrs:{key:"$step.id",type:"button",onClick:"$step.makeActive","data-active":"$step.isActiveStep","data-valid":"$step.isValid","data-visited":"$step.hasBeenVisited",role:"tab",id:'$id + "_tab_" + $index',"aria-selected":"$step.isActiveStep || false","aria-controls":"$step.id",tabindex:{if:"$step.isActiveStep",then:"0",else:"-1"}}})),uAe=We("tabLabel",()=>({$el:"span"})),cAe=We("tabs",()=>({$el:"div",attrs:{role:"tablist"}})),dAe=We("multiStepOuter",()=>({$el:"div",attrs:{key:"$id",id:"$id",class:"$classes.outer","data-prerender":"$fns.preRenderSteps()","data-family":"$family || undefined","data-type":"$type","data-multiple":'$attrs.multiple || ($type != "select" && $options != undefined) || undefined',"data-disabled":"$disabled || undefined","data-invalid":"$state.valid === false && $state.validationVisible || undefined","data-errors":"$state.errors || undefined","data-submitted":"$state.submitted || undefined"}})),fAe={schema:dAe(eAe(cAe(lAe(Ns('$tabStyle === "tab" || ($tabStyle === "progress" && $hideProgressLabels === false)',uAe("$step.stepName")),Ns("($step.totalErrorCount > 0) && $step.showStepErrors",c5("$step.totalErrorCount")),Ns("$step.isValid && $step.hasBeenVisited",c5(aAe("validStep"))))),oAe("$slots.default"))),type:"group",family:"multi-step",props:["allowIncomplete","hideProgressLabels","tabStyle","beforeStepChange","validStepIcon"],features:[Et("validStep","check"),Fp]},pAe={schema:iAe(nAe("$slots.default"),tAe(sAe(),rAe())),type:"group",family:"",props:["previousLabel","nextLabel","beforeStepChange","previousAttrs","nextAttrs","validStepIcon"],features:[vn("next"),vn("prev"),Fp]},F7=typeof window<"u",B7=e=>e&&e.replace(/([A-Z])/g,t=>` ${t}`).replace(/^./,t=>t.toUpperCase()).trim();function d5(e,t){if(!F7||!t)return t;const n=[...t];return n.sort((r,i)=>{var a,l;const s=(a=e.props.__root)==null?void 0:a.getElementById(r.id),o=(l=e.props.__root)==null?void 0:l.getElementById(i.id);return!s||!o?0:s.compareDocumentPosition(o)===2?1:-1}),n.map(r=>{r.ordered=!0}),n}function PS(e){e&&e.forEach((t,n)=>{t.isFirstStep=n===0,t.isLastStep=n===e.length-1,t.stepIndex=n,t.steps=e})}function hAe(e){if(e.showStepErrors)return parseInt(e.blockingCount)+parseInt(e.errorCount)>0}async function U7(e,t){var u,c,d;if(e===t)return!0;const{allowIncomplete:n}=((u=e.node.parent)==null?void 0:u.props)||{},r=e.node.parent,i=r==null?void 0:r.props.steps.indexOf(e),s=r==null?void 0:r.props.steps.indexOf(t),o=Sk(e);if(e.showStepErrors=!0,s>=i&&!o&&!n)return!1;const a=s-i;for(let f=0;f<a;f++){const p=r==null?void 0:r.props.steps[i+f];if(!(n||((c=p.state)==null?void 0:c.valid)))return!1}const l=e.node.props.beforeStepChange||((d=e.node.parent)==null?void 0:d.props.beforeStepChange);if(l&&typeof l=="function"){r&&(r==null||r.store.set(pr({key:"loading",value:!0,visible:!1})),r.props.disabled=!0,e.disabled=!0);const f=await l({currentStep:e,targetStep:t,delta:s-i});if(r&&(r==null||r.store.remove("loading"),r.props.disabled=!1,e.disabled=!1),typeof f=="boolean"&&!f)return!1}return!0}async function r_(e,t){if(t&&t.preventDefault(),e&&e.node.name&&e.node.parent){const n=e.node.parent.props.steps.find(i=>{var s;return i.node.name===((s=e.node.parent)==null?void 0:s.props.activeStep)});await U7(n,e)&&e.node.parent.context&&(e.node.parent.props.activeStep=e.node.name)}}async function Wd(e,t){if(t&&t.node.name&&t.node.parent){const n=t.node.parent.props.steps,r=t.stepIndex,i=n[r+e];if(!i)return;const s=await U7(t,i);i&&s&&(t.node.parent.props.activeStep=i.node.name)}}function Sk(e){var t,n;return e.node.walk(r=>{r.store.set(pr({key:"submitted",value:!0,visible:!1}))}),((t=e.node.context)==null?void 0:t.state.valid)||((n=e.node.parent)==null?void 0:n.props.allowIncomplete)}function gAe(e,t){t instanceof HTMLElement&&t.addEventListener("keydown",n=>{var r;if(n.target instanceof HTMLButtonElement&&n.key==="Tab"&&"data-next"in((r=n.target)==null?void 0:r.attributes)&&!n.shiftKey){n.preventDefault();const i=e.children.find(s=>!jO(s)&&s.name===e.props.activeStep);i&&i.context&&Wd(1,i.context)}})}function mAe(e){return!e||!e.length?[]:(e[0].type==Symbol.for("v-fgt")&&e[0].children?e[0].children:e).map((r,i)=>{var s,o,a;return{__isPlaceholder:!0,stepName:((s=r.props)==null?void 0:s.label)||B7((o=r.props)==null?void 0:o.name),isFirstStep:i===0,isLastStep:i===e.length-1,isActiveStep:i===0,node:{name:(a=r.props)==null?void 0:a.name}}})}function vAe(e){return()=>{if(!e.context||e.props.steps)return;let t=[];e.context.slots&&e.context.slots.default&&(t=e.context.slots.default()),e.props.steps=e.props.steps||mAe(t),e.context.stepCount=e.props.steps.length}}function yAe(e){let t=!0;const n=r=>{var i,s;if(r.props.type==="multi-step"){if(!r.context)return;t=!0,r.addProps(["steps","tabs","activeStep"]),r.context.fns.preRenderSteps=vAe(r),r.context.fns.getStepCount=()=>{if(r.context)return r.context.stepCount},r.context.fns.getSteps=()=>{if(r.context)return r.context.steps},r.props.allowIncomplete=typeof r.props.allowIncomplete=="boolean"?r.props.allowIncomplete:typeof(e==null?void 0:e.allowIncomplete)=="boolean"?e==null?void 0:e.allowIncomplete:!0,r.props.hideProgressLabels=typeof r.props.hideProgressLabels=="boolean"?r.props.hideProgressLabels:(e==null?void 0:e.hideProgressLabels)||!1,r.props.tabStyle=r.props.tabStyle||(e==null?void 0:e.tabStyle)||"tab",r.context.handlers.triggerStepValidations=Sk,r.context.handlers.showStepErrors=hAe,r.on("created",()=>{r.context&&(r.extend("next",{get:o=>()=>{var a;Wd(1,(a=o==null?void 0:o.props)==null?void 0:a.steps.find(l=>l.isActiveStep))},set:!1}),r.extend("previous",{get:o=>()=>{var a;Wd(-1,(a=o==null?void 0:o.props)==null?void 0:a.steps.find(l=>l.isActiveStep))},set:!1}),r.extend("goTo",{get:o=>a=>{if(typeof a=="number"){const l=o.props.steps[a];r_(l)}else if(typeof a=="string"){const l=o.props.steps.find(u=>u.node.name===a);r_(l)}},set:!1}),cr(`${r.props.id}`,o=>{gAe(r,o)},r.props.__root))}),r.on("child",({payload:o})=>{r.props.steps&&r.props.steps.length&&(r.props.steps=r.props.steps.filter(a=>!a.__isPlaceholder)),r.props.steps=Array.isArray(r.props.steps)&&r.props.steps.length>0?[...r.props.steps,o.context]:[o.context],r.props.steps=d5(r,r.props.steps),PS(r.props.steps),o.props.stepName=o.props.label||B7(o.name),o.props.errorCount=0,o.props.blockingCount=0,o.props.isActiveStep=t,t=!1,r.props.activeStep=r.props.activeStep?r.props.activeStep:r.props.steps[0]?r.props.steps[0].node.name:""}),r.on("prop:activeStep",({payload:o})=>{r.children.forEach(a=>{var l;if(!jO(a)&&(a.props.isActiveStep=a.name===o,F7&&a.name===o)){const u=(l=r.props.__root)==null?void 0:l.querySelector(`[aria-controls="${a.props.id}"]`);u instanceof HTMLButtonElement&&u.focus()}})}),r.on("childRemoved",({payload:o})=>{let a=-1;if(o.props.ordered=!1,r.props.steps=r.props.steps.filter((l,u)=>l.node.name!==o.name?!0:(a=u,!1)),PS(r.props.steps),r.props.activeStep===o.name){const l=a>0?a-1:0;r.props.activeStep=r.props.steps[l]?r.props.steps[l].node.name:""}})}else if(r.props.type==="step"&&((i=r.parent)==null?void 0:i.props.type)==="multi-step"){let o=function(l){l.props.totalErrorCount=l.props.errorCount+l.props.blockingCount};if(!r.context||!r.parent||!r.parent.context)return;r.addProps(["isActiveStep","isFirstStep","isLastStep","stepName","errorCount","blockingCount","totalErrorCount","showStepErrors","isValid","hasBeenVisited","ordered"]);const a=r.parent;r.on("created",()=>{!r.context||!a.context||cr(`${r.props.id}`,()=>{a.props.steps=d5(r,a.props.steps),PS(a.props.steps)},r.props.__root)}),r.context&&a.context&&(a.context.handlers.setActiveStep=l=>r_.bind(null,l),r.context.handlers.incrementStep=l=>()=>Wd(l,r.context),r.context.makeActive=()=>{r_(r.context)},r.context.handlers.next=()=>Wd(1,r.context),r.context.handlers.previous=()=>Wd(-1,r.context)),r.on("count:errors",({payload:l})=>{r.props.errorCount=l}),r.on("count:blocking",({payload:l})=>{r.props.blockingCount=l}),r.on("prop:errorCount",()=>o(r)),r.on("prop:blockingCount",()=>o(r)),r.on("prop:totalErrorCount",()=>{r.props.isValid=r.props.totalErrorCount<=0}),r.on("message-added",({payload:l})=>{l.key==="submitted"&&(o(r),r.context&&(Sk(r.context),r.props.showStepErrors=!0))}),r.on("prop:isActiveStep",()=>{!r.props.hasBeenVisited&&r.props.isActiveStep&&(r.props.hasBeenVisited=!0)})}else((s=r.parent)==null?void 0:s.props.type)==="multi-step"&&console.warn('Invalid FormKit input location. <FormKit type="multi-step"> should only have <FormKit type="step"> inputs as immediate children. Failure to wrap child inputs in <FormKit type="step"> can lead to undesired behaviors.')};return n.library=r=>{switch(r.props.type){case"multi-step":return r.define(fAe);case"step":return(!r.parent||r.parent.props.type!=="multi-step")&&console.warn('Invalid use of <FormKit type="step">. <FormKit type="step"> must be an immediate child of a <FormKit type="multi-step"> component.'),r.define(pAe)}},n}const _Ae=e=>{var t;return e?!((t=e==null?void 0:e.value)!=null&&t.includes("www.")):!1},bAe=e=>e?/^[a-zA-Z0-9][a-zA-Z0-9-_]{0,61}[a-zA-Z0-9]{0,1}\.([a-zA-Z]{1,15}|[a-zA-Z0-9-]{1,30}\.[a-zA-Z]{2,15})$/.test(e==null?void 0:e.value):!1,wAe=e=>e?/^[a-zA-Z0-9-\p{L}]+$/u.test(e==null?void 0:e.value):!1,xAe=e=>e?/^[A-Za-z0-9](?:[A-Za-z0-9-]{0,61}[A-Za-z0-9])?$/.test(e==null?void 0:e.value):!1,EAe=Object.freeze(Object.defineProperty({__proto__:null,alphanumericAndDashes:wAe,checkNakedUrl:_Ae,checkValidDomain:bAe,checkValidSubdomain:xAe},Symbol.toStringTag,{value:"Module"}));function SAe(e,t){const n=`${t.props.type}__${e}`,r=`formkit-${e}`,i=t.props.family?`family:${t.props.family}__${e}`:"",s=`${n}__${i}`;if(!(s in Xu)){const o=Xu[n]??$Ae[e]??{};o[r]=!0,i in Xu?Xu[s]={...Xu[i],...o}:Xu[s]=o}return Xu[s]??{[r]:!0}}const Xu={"family:button__wrapper":{"group-data-[disabled=true]:grayscale":!0},"family:button__input":{"appearance-none":!0,"[color-scheme:light]":!0,"dark:[color-scheme:dark]":!0,"selection:bg-rose-100":!0,"selection:text-slate-700":!0,"group-data-[has-overlay]:selection:!text-transparent":!0,"font-bold":!0,"rounded-xl":!0,"outline-none":!0,flex:!0,"!text-sm":!0,"px-7":!0,"py-3":!0,"items-center":!0,"mb-1.5":!0,"text-sm":!0,"ring-offset-2":!0,"ring-rose-400":!0,"focus-visible:ring-2":!0,"group-data-[disabled]:!cursor-not-allowed":!0,shadow:!0,"group-data-[prefix-icon]:pl-5":!0,"group-data-[suffix-icon]:pr-5":!0,border:!0,"border-rose-500":!0,"text-rose-500":!0,"group-[]/repeater:shadow-sm":!0,"group-[]/multistep:shadow-sm":!0,"dark:border-rose-500":!0},"family:box__wrapper":{"inline-flex":!0,"items-center":!0,"mb-1":!0,"group-data-[multiple]:mb-0":!0},"family:box__legend":{block:!0,"text-slate-700":!0,"text-sm":!0,"font-bold":!0,"dark:text-slate-300":!0,"mb-2":!0},"family:box__input":{"appearance-none":!0,"[color-scheme:light]":!0,"dark:[color-scheme:dark]":!0,"selection:bg-rose-100":!0,"selection:text-slate-700":!0,"group-data-[has-overlay]:selection:!text-transparent":!0,peer:!0,"pointer-events-none":!0,absolute:!0,"h-0":!0,"w-0":!0,"overflow-hidden":!0,"opacity-0":!0},"family:box__decorator":{"mr-1.5":!0,"bg-white":!0,"ring-rose-400":!0,"peer-checked:border-rose-500":!0,relative:!0,block:!0,"text-lg":!0,"w-[1em]":!0,"aspect-[1/1]":!0,border:!0,"border-slate-400":!0,"text-transparent":!0,"peer-checked:bg-rose-50":!0,"peer-checked:text-rose-500":!0,"peer-focus-visible:ring-2":!0,"peer-focus-visible:ring-offset-1":!0,"select-none":!0,"group-data-[disabled]:!cursor-not-allowed":!0,"peer-disabled:bg-slate-100":!0,"group-data-[disabled]:grayscale":!0,shadow:!0,"peer-disabled:cursor-not-allowed":!0,"group-[]/repeater:shadow-none":!0,"group-[]/multistep:shadow-none":!0,"dark:border-slate-500":!0,"dark:bg-transparent":!0,"dark:ring-offset-rose-400":!0,"dark:peer-focus-visible:ring-1":!0,"dark:peer-disabled:bg-slate-600/50":!0,"dark:peer-checked:bg-rose-800":!0,"dark:peer-checked:text-rose-300":!0},"family:box__decoratorIcon":{absolute:!0,"left-1/2":!0,"top-1/2":!0,flex:!0,"h-full":!0,"w-full":!0,"-translate-x-1/2":!0,"-translate-y-1/2":!0},"family:box__option":{"mb-1.5":!0,"last:mb-0":!0,"data-[disabled]:opacity-50":!0,"data-[disabled]:select-none":!0,"group-data-[disabled]:data-[disabled]:opacity-100":!0},"family:box__label":{block:!0,"text-slate-700":!0,"text-sm":!0,"font-bold":!0,"mb-1":!0,"!mb-0":!0,"!font-normal":!0,"!text-sm":!0,"dark:text-slate-300":!0},"family:box__optionHelp":{"text-slate-500":!0,"text-xs":!0,"-mt-1":!0,"mb-1.5":!0,"ml-[min(2em,1.7rem)]":!0,relative:!0,"left-px":!0},"family:box__help":{"text-slate-500":!0,"text-xs":!0,"dark:text-slate-400":!0,"mb-1":!0,"group-data-[multiple]:mb-2":!0,"group-data-[multiple]:-mt-1.5":!0},"family:text__wrapper":{flex:!0,"flex-col":!0,"items-start":!0,"justify-start":!0,"mb-1.5":!0,"last:mb-0":!0},"family:text__label":{block:!0,"text-slate-700":!0,"text-sm":!0,"font-bold":!0,"dark:text-slate-300":!0,"!inline-flex":!0,"mb-1":!0},"family:text__inner":{"text-base":!0,flex:!0,"items-center":!0,"w-full":!0,"py-2":!0,"px-3":!0,"rounded-xl":!0,border:!0,"border-slate-400":!0,"bg-white":!0,"focus-within:ring-1":!0,"focus-within:!ring-rose-400":!0,"focus-within:!border-rose-400":!0,"group-data-[invalid]:border-red-400":!0,"group-data-[invalid]:ring-1":!0,"group-data-[invalid]:ring-red-400":!0,"group-data-[disabled]:bg-slate-100":!0,"group-data-[disabled]:!cursor-not-allowed":!0,shadow:!0,"group-[]/repeater:shadow-none":!0,"group-[]/multistep:shadow-none":!0,"dark:bg-transparent":!0,"dark:border-slate-500":!0,"dark:group-data-[disabled]:bg-slate-800/5":!0,"dark:group-data-[invalid]:border-red-400":!0,"dark:group-data-[invalid]:ring-red-400":!0},"family:text__input":{"appearance-none":!0,"[color-scheme:light]":!0,"dark:[color-scheme:dark]":!0,"selection:text-slate-700":!0,"group-data-[has-overlay]:selection:!text-transparent":!0,"text-base":!0,"text-slate-700":!0,"min-w-0":!0,"min-h-[1.5em]":!0,grow:!0,"outline-none":!0,"bg-transparent":!0,"selection:bg-rose-100":!0,"placeholder:text-slate-400":!0,"group-data-[disabled]:!cursor-not-allowed":!0,"dark:placeholder-slate-400/50":!0,"dark:text-slate-300":!0,"border-none":!0,"p-0":!0,"focus:ring-0":!0},"family:text__prefixIcon":{flex:!0,"items-center":!0,"-ml-1":!0,"mr-2":!0,"text-base":!0,"h-[1em]":!0,"w-[1em]":!0,"shrink-0":!0,"[&>svg]:w-full":!0,"text-slate-600":!0,"dark:text-slate-300":!0},"family:text__suffixIcon":{flex:!0,"items-center":!0,"-mr-1":!0,"ml-2":!0,"text-base":!0,"h-[1em]":!0,"w-[1em]":!0,"shrink-0":!0,"[&>svg]:w-full":!0,"text-slate-600":!0,"dark:text-slate-300":!0},"family:dropdown__wrapper":{"mb-1.5":!0},"family:dropdown__inner":{relative:!0,flex:!0,"items-center":!0,"bg-white":!0,border:!0,"border-slate-400":!0,"rounded-xl":!0,"group-data-[is-multiline]:!rounded-xl":!0,"focus-within:ring-1":!0,"focus-within:!ring-rose-400":!0,"focus-within:!border-rose-400":!0,"group-data-[invalid]:border-red-400":!0,"group-data-[invalid]:ring-1":!0,"group-data-[invalid]:ring-red-400":!0,"group-data-[disabled]:bg-slate-100":!0,"group-data-[disabled]:!cursor-not-allowed":!0,shadow:!0,"group-[]/repeater:shadow-none":!0,"group-[]/multistep:shadow-none":!0,"dark:bg-transparent":!0,"dark:border-slate-500":!0,"dark:group-data-[disabled]:bg-slate-700/40":!0,"dark:group-data-[invalid]:border-red-400":!0,"dark:group-data-[invalid]:ring-red-400":!0},"family:dropdown__input":{"appearance-none":!0,"[color-scheme:light]":!0,"dark:[color-scheme:dark]":!0,"selection:text-slate-700":!0,"group-data-[has-overlay]:selection:!text-transparent":!0,grow:!0,"p-2":!0,"pr-0":!0,"pl-3":!0,"text-base":!0,"text-slate-700":!0,"text-ellipsis":!0,"min-w-0":!0,"outline-none":!0,"bg-transparent":!0,"group-data-[disabled]:!cursor-not-allowed":!0,"group-data-[prefix-icon]:!pl-0":!0,"group-data-[suffix-icon]:!pr-0":!0,"placeholder:text-slate-400":!0,"selection:bg-rose-100":!0,"dark:placeholder:text-slate-500":!0,"dark:text-slate-300":!0,"border-none":!0,"focus:ring-0":!0,"bg-none":!0},"family:dropdown__listboxButton":{"w-[2.5em]":!0,"self-stretch":!0,"text-base":!0,flex:!0,"items-center":!0,"text-slate-700":!0,"z-10":!0,"dark:text-slate-300":!0,"data-[disabled]:cursor-not-allowed":!0},"family:dropdown__removeSelection":{"w-[2.5em]":!0,"self-stretch":!0,"text-base":!0,flex:!0,"items-center":!0,"text-slate-700":!0,"hover:text-red-400":!0,"z-10":!0,"dark:text-slate-300":!0},"family:dropdown__controlLabel":{absolute:!0,"opacity-0":!0,"pointer-events-none":!0,"text-[0px]":!0},"family:dropdown__selectIcon":{"text-base":!0,"inline-flex":!0,"justify-center":!0,"w-[2.5em]":!0,relative:!0,"my-auto":!0,"[&>svg]:w-[1em]":!0,"[&>svg]:mx-auto":!0},"family:dropdown__closeIcon":{"text-base":!0,"w-[0.75em]":!0,relative:!0,"m-auto":!0},"family:dropdown__prefixIcon":{flex:!0,"items-center":!0,"-ml-1":!0,"mr-2":!0,"text-base":!0,"h-[1em]":!0,"w-[1em]":!0,"shrink-0":!0,"[&>svg]:w-full":!0,"!ml-2":!0,"!mr-0":!0,"text-slate-600":!0,"dark:text-slate-300":!0},"family:dropdown__suffixIcon":{flex:!0,"items-center":!0,"-mr-1":!0,"ml-2":!0,"text-base":!0,"h-[1em]":!0,"w-[1em]":!0,"shrink-0":!0,"[&>svg]:w-full":!0,"!mr-2":!0,"!ml-0":!0,"text-slate-600":!0,"dark:text-slate-300":!0},"family:dropdown__dropdownWrapper":{"rounded-xl":!0,"shadow-lg":!0,"mt-1":!0,"overflow-clip":!0,"empty:hidden":!0,border:!0,"border-slate-300":!0,"dark:border-slate-600":!0,"group-data-[expanded]:opacity-100":!0,"group-data-[overscroll]:m-0":!0,"group-data-[overscroll]:shadow-none":!0,"group-data-[overscroll]:border-none":!0},"family:dropdown__listitemGroup":{"group/optgroup":!0,"last:pb-0":!0,"border-t":!0,"border-b":!0,"-mb-px":!0,"border-slate-300":!0,"dark:border-slate-600":!0},"family:dropdown__groupLabel":{block:!0,"pt-1.5":!0,"pb-1":!0,"px-2.5":!0,"font-bold":!0,"pointer-events-none":!0,"text-slate-600":!0,"dark:text-slate-300":!0},"family:dropdown__listbox":{"bg-white":!0,"rounded-xl":!0,"empty:hidden":!0,"dark:bg-slate-800":!0,"group-data-[overscroll]:shadow-lg":!0,"group-data-[overscroll]:border":!0,"group-data-[overscroll]:border-slate-300":!0,"group-data-[overscroll]:dark:border-slate-600":!0},"family:dropdown__listitem":{relative:!0,flex:!0,"items-center":!0,"px-2":!0,"py-1.5":!0,"first:pt-2":!0,"last:pb-2":!0,"text-slate-700":!0,"text-base":!0,"data-[is-active]:bg-rose-100":!0,"dark:text-slate-200":!0,"dark:data-[is-active]:text-slate-700":!0,"before:content-['']":!0,"before:absolute":!0,"before:inset-0":!0,"data-[is-active]:first:before:rounded-xl":!0,"data-[is-active]:first:before:rounded-b-none":!0,"data-[is-active]:last:before:rounded-xl":!0,"data-[is-active]:last:before:rounded-t-none":!0,"data-[is-active]:first:last:before:rounded-xl":!0,"data-[is-active]:before:ring-1":!0,"data-[is-active]:before:ring-rose-400":!0,"data-[is-active]:before:ring-inset":!0,"data-[is-active]:before:ring-offset-rose-100":!0,"group-[]/optgroup:first:before:!rounded-none":!0,"group-[]/optgroup:last:before:!rounded-none":!0},"family:dropdown__selectedIcon":{flex:!0,absolute:!0,"items-center":!0,"text-rose-500":!0,"left-2":!0,"text-base":!0,"h-[1em]":!0,"w-[1em]":!0,"shrink-0":!0,"[&>svg]:w-full":!0},"family:dropdown__option":{"ml-[1.5em]":!0},"family:dropdown__loadMore":{"data-[is-active]:bg-rose-100":!0},"family:dropdown__loadMoreInner":{flex:!0,"text-sm":!0,"text-slate-500":!0,"p-2":!0,"items-center":!0,"justify-center":!0,"[&>span]:mr-2":!0,"cursor-pointer":!0,"dark:text-slate-200":!0,"dark:hover:text-rose-400":!0},"family:dropdown__selectionWrapper":{grow:!0,flex:!0,"items-center":!0,"text-slate-700":!0},"family:dropdown__selection":{grow:!0,"text-slate-700":!0,"group-data-[multiple]:p-2":!0,"dark:text-slate-300":!0},"family:dropdown__tagsWrapper":{"w-full":!0},"family:dropdown__tagWrapper":{"group/tag":!0,"rounded-full":!0,"mr-1":!0,"mb-1":!0,"outline-none":!0,"data-[active-selection=true]:ring-2":!0,"data-[active-selection=true]:ring-rose-400":!0},"family:dropdown__tags":{"inline-flex":!0,"flex-wrap":!0,"items-center":!0,"w-full":!0,"-mb-1":!0,"empty:mb-0":!0},"family:dropdown__tag":{flex:!0,"items-center":!0,"cursor-default":!0,"rounded-full":!0,"text-sm":!0,"px-1.5":!0,"py-0.5":!0,"bg-rose-500":!0,"text-white":!0,"[&>[type=button]]:!w-[0.5em]":!0,"[&>[type=button]]:aspect-[1/1]":!0,"[&>[type=button]]:!text-inherit":!0,"[&>[type=button]]:cursor-pointer":!0,"group-data-[active-selection=true]/tag:bg-rose-300":!0,"group-data-[active-selection=true]/tag:text-slate-700":!0},"family:dropdown__tagLabel":{"mr-1":!0},"family:dropdown__emptyMessage":{flex:!0,"items-center":!0,"px-2":!0,"py-1.5":!0,"first:pt-2":!0,"last:pb-2":!0,"text-slate-700":!0,"text-sm":!0,"aria-selected:text-white":!0,"aria-selected:bg-rose-500":!0},button__input:{"appearance-none":!0,"[color-scheme:light]":!0,"dark:[color-scheme:dark]":!0,"selection:bg-rose-100":!0,"selection:text-slate-700":!0,"group-data-[has-overlay]:selection:!text-transparent":!0,"bg-rose-50":!0,"hover:bg-rose-100":!0,"dark:text-rose-500":!0,"dark:bg-transparent":!0,"dark:hover:bg-rose-50/5":!0},checkbox__decorator:{rounded:!0},checkbox__decoratorIcon:{"max-w-[66.66%]":!0},color__inner:{"!w-auto":!0,"!p-1.5":!0,"!inline-flex":!0,"group-data-[prefix-icon]:border":!0,"group-data-[prefix-icon]:border-slate-400":!0,"group-data-[suffix-icon]:border":!0,"group-data-[suffix-icon]:border-slate-400":!0,"dark:group-data-[prefix-icon]:border-slate-500":!0,"dark:group-data-[suffix-icon]:border-slate-500":!0},color__input:{"appearance-none":!0,"[color-scheme:light]":!0,"dark:[color-scheme:dark]":!0,"selection:bg-rose-100":!0,"selection:text-slate-700":!0,"group-data-[has-overlay]:selection:!text-transparent":!0,"!w-14":!0,"bg-transparent":!0,"cursor-pointer":!0,"rounded-xl":!0,"overflow-clip":!0,"[&::-webkit-color-swatch-wrapper]:p-0":!0,"[&::-webkit-color-swatch]:border-none":!0,"[&::-moz-color-swatch]:border-none":!0,"group-data-[prefix-icon]:mx-2":!0,"group-data-[suffix-icon]:mx-2":!0},color__prefixIcon:{flex:!0,"items-center":!0,"-ml-1":!0,"mr-2":!0,"text-base":!0,"h-[1em]":!0,"w-[1em]":!0,"shrink-0":!0,"[&>svg]:w-full":!0,"group-data-[prefix-icon]:m-1.5":!0,"group-data-[prefix-icon]:mr-0":!0},color__suffixIcon:{flex:!0,"items-center":!0,"-mr-1":!0,"ml-2":!0,"text-base":!0,"h-[1em]":!0,"w-[1em]":!0,"shrink-0":!0,"[&>svg]:w-full":!0,"group-data-[suffix-icon]:m-1.5":!0,"group-data-[prefix-icon]:ml-0":!0},date__input:{"appearance-none":!0,"[color-scheme:light]":!0,"dark:[color-scheme:dark]":!0,"selection:bg-rose-100":!0,"selection:text-slate-700":!0,"group-data-[has-overlay]:selection:!text-transparent":!0,"focus:[&::-webkit-datetime-edit-day-field]:bg-rose-100":!0,"focus:[&::-webkit-datetime-edit-month-field]:bg-rose-100":!0,"focus:[&::-webkit-datetime-edit-year-field]:bg-rose-100":!0},"datetime-local__input":{"appearance-none":!0,"[color-scheme:light]":!0,"dark:[color-scheme:dark]":!0,"selection:bg-rose-100":!0,"selection:text-slate-700":!0,"group-data-[has-overlay]:selection:!text-transparent":!0,"focus:[&::-webkit-datetime-edit-day-field]:bg-rose-100":!0,"focus:[&::-webkit-datetime-edit-month-field]:bg-rose-100":!0,"focus:[&::-webkit-datetime-edit-year-field]:bg-rose-100":!0,"focus:[&::-webkit-datetime-edit-hour-field]:bg-rose-100":!0,"focus:[&::-webkit-datetime-edit-minute-field]:bg-rose-100":!0,"focus:[&::-webkit-datetime-edit-ampm-field]:bg-rose-100":!0},file__fileList:{"group/list":!0,peer:!0,"w-full":!0,"min-w-0":!0,"data-[has-multiple]:mb-[1.25em]":!0},file__fileItemIcon:{"h-[1em]":!0,"w-[1em]":!0,"mr-2":!0,"shrink-0":!0},file__fileItem:{flex:!0,"min-w-0":!0,"items-center":!0,"text-slate-700":!0,"mb-1.5":!0,"last:mb-0":!0,"dark:text-slate-300":!0},file__fileName:{truncate:!0,"min-w-0":!0,"w-full":!0,shrink:!0,"leading-5":!0,"group-data-[has-multiple]/list:text-sm":!0},file__fileRemove:{"right-2":!0,"ring-rose-400":!0,"rounded-xl":!0,"z-20":!0,flex:!0,"appearance-none":!0,"items-center":!0,"text-[0px]":!0,"outline-none":!0,"hover:!text-red-400":!0,"focus-visible:ring-2":!0,"group-data-[disabled]:pointer-events-none":!0,"group-data-[disabled]:!text-slate-500":!0,"peer-data-[has-multiple]:absolute":!0,"peer-data-[has-multiple]:bottom-[max(0.5em,8px)]":!0,"peer-data-[has-multiple]:left-3":!0,"peer-data-[has-multiple]:text-rose-500":!0,"peer-data-[has-multiple]:text-xs":!0,"peer-data-[has-multiple]:whitespace-nowrap":!0,"group-data-[prefix-icon]:peer-data-[has-multiple]:left-2":!0,"dark:hover:!text-red-400":!0},file__fileRemoveIcon:{block:!0,"text-base":!0,"w-[0.75em]":!0,relative:!0,"z-10":!0},file__inner:{relative:!0,"cursor-pointer":!0,"group-data-[has-multiple]:rounded-xl":!0},file__input:{"appearance-none":!0,"[color-scheme:light]":!0,"dark:[color-scheme:dark]":!0,"selection:bg-rose-100":!0,"selection:text-slate-700":!0,"group-data-[has-overlay]:selection:!text-transparent":!0,"cursor-pointer":!0,"text-transparent":!0,absolute:!0,"inset-0":!0,"opacity-0":!0,"z-10":!0,"file:pointer-events-none":!0,"file:w-0":!0,"file:h-0":!0,"file:overflow-hidden":!0},file__noFiles:{flex:!0,"w-full":!0,"items-center":!0,"text-slate-400":!0,"dark:text-slate-500":!0},file__noFilesIcon:{"w-[1em]":!0,"mr-2":!0},form__form:{"group/form":!0,"space-y-4":!0},form__actions:{"":!0},form__summaryInner:{"group/summary":!0,border:!0,"border-slate-400":!0,"bg-white":!0,"rounded-xl":!0,"py-2":!0,"px-3":!0,shadow:!0,"dark:bg-transparent":!0,"dark:border-slate-500":!0},form__summaryHeader:{"text-lg":!0,"text-slate-700":!0,"font-bold":!0,"mb-2":!0,"dark:text-slate-300":!0},form__messages:{"":!0},form__message:{"text-red-500":!0,"mb-1.5":!0,"text-xs":!0,"dark:text-red-400":!0,"group-[]/summary:text-sm":!0},form__messageLink:{"group-[]/summary:outline-none":!0,"group-[]/summary:focus-visible:ring-2":!0,"group-[]/summary:ring-rose-500":!0},month__input:{"appearance-none":!0,"[color-scheme:light]":!0,"dark:[color-scheme:dark]":!0,"selection:bg-rose-100":!0,"selection:text-slate-700":!0,"group-data-[has-overlay]:selection:!text-transparent":!0,"focus:[&::-webkit-datetime-edit-month-field]:bg-rose-100":!0,"focus:[&::-webkit-datetime-edit-year-field]:bg-rose-100":!0},radio__decorator:{"rounded-full":!0},radio__decoratorIcon:{"max-w-[50%]":!0},range__inner:{relative:!0,"!border-none":!0,"!ring-0":!0,"!px-0":!0,"!bg-transparent":!0,"!shadow-none":!0},range__input:{"appearance-none":!0,"[color-scheme:light]":!0,"dark:[color-scheme:dark]":!0,"selection:bg-rose-100":!0,"selection:text-slate-700":!0,"group-data-[has-overlay]:selection:!text-transparent":!0,"group/input":!0,"cursor-pointer":!0,"[&::-webkit-slider-runnable-track]:bg-slate-400/50":!0,"[&::-webkit-slider-runnable-track]:h-[0.25em]":!0,"[&::-webkit-slider-runnable-track]:rounded-xl":!0,"dark:[&::-webkit-slider-runnable-track]:bg-slate-500/50":!0,"[&::-webkit-slider-thumb]:appearance-none":!0,"[&::-webkit-slider-thumb]:w-[0.85em]":!0,"[&::-webkit-slider-thumb]:aspect-[1/1]":!0,"[&::-webkit-slider-thumb]:bg-rose-500":!0,"[&::-webkit-slider-thumb]:rounded-full":!0,"[&::-webkit-slider-thumb]:relative":!0,"[&::-webkit-slider-thumb]:top-1/2":!0,"[&::-webkit-slider-thumb]:-translate-y-1/2":!0,"[&::-webkit-slider-thumb]:group-data-[disabled]:bg-slate-500":!0,"[&::-webkit-slider-thumb]:group-data-[disabled]:!ring-slate-300":!0,"[&::-webkit-slider-thumb]:focus-visible:ring-2":!0,"[&::-webkit-slider-thumb]:focus:!ring-rose-400":!0,"[&::-webkit-slider-thumb]:focus:ring-offset-2":!0,"[&::-webkit-slider-thumb]:shadow":!0,"dark:[&::-webkit-slider-thumb]:group-data-[disabled]:!ring-slate-600":!0,"dark:[&::-webkit-slider-thumb]:focus:ring-offset-slate-700":!0,"[&::-moz-range-track]:bg-slate-400/50":!0,"[&::-moz-range-track]:h-[0.25]":!0,"[&::-moz-range-track]:rounded-xl":!0,"dark:[&::-moz-range-track]:bg-slate-500/50":!0,"[&::-moz-range-thumb]:appearance-none":!0,"[&::-moz-range-thumb]:border-none":!0,"[&::-moz-range-thumb]:w-[0.85em]":!0,"[&::-moz-range-thumb]:h-[0.85em]":!0,"[&::-moz-range-thumb]:bg-rose-500":!0,"[&::-moz-range-thumb]:rounded-full":!0,"[&::-moz-range-thumb]:group-data-[disabled]:bg-slate-500":!0,"[&::-moz-range-thumb]:group-data-[disabled]:!ring-slate-300":!0,"[&::-moz-range-thumb]:focus-visible:ring-2":!0,"[&::-moz-range-thumb]:focus:!ring-rose-400":!0,"[&::-moz-range-thumb]:focus:ring-offset-2":!0,"[&::-moz-range-thumb]:shadow":!0,"dark:[&::-moz-range-thumb]:group-data-[disabled]:!ring-slate-500":!0,"dark:[&::-moz-range-thumb]:focus:ring-offset-slate-700":!0},select__wrapper:{"mb-1.5":!0},select__inner:{relative:!0,flex:!0,"items-center":!0,"bg-white":!0,border:!0,"border-slate-400":!0,"rounded-xl":!0,"focus-within:ring-1":!0,"focus-within:!ring-rose-400":!0,"focus-within:!border-rose-400":!0,"group-data-[invalid]:border-red-400":!0,"group-data-[invalid]:ring-1":!0,"group-data-[invalid]:ring-red-400":!0,"group-data-[disabled]:bg-slate-100":!0,"group-data-[disabled]:!cursor-not-allowed":!0,shadow:!0,"group-[]/repeater:shadow-none":!0,"group-[]/multistep:shadow-none":!0,"group-data-[multiple]:rounded-xl":!0,"dark:bg-transparent":!0,"dark:border-slate-500":!0,"dark:group-data-[disabled]:bg-slate-800/5":!0,"dark:group-data-[invalid]:border-red-400":!0,"dark:group-data-[invalid]:ring-red-400":!0},select__input:{"appearance-none":!0,"[color-scheme:light]":!0,"dark:[color-scheme:dark]":!0,"selection:text-slate-700":!0,"group-data-[has-overlay]:selection:!text-transparent":!0,grow:!0,"p-2":!0,"py-2":!0,"px-3":!0,"pr-[2em]":!0,"text-base":!0,"text-slate-700":!0,"text-ellipsis":!0,"min-w-0":!0,"outline-none":!0,"bg-transparent":!0,"group-data-[disabled]:!cursor-not-allowed":!0,"group-data-[prefix-icon]:!pl-0":!0,"group-data-[suffix-icon]:!pr-0":!0,"data-[placeholder]:text-slate-400":!0,"group-data-[multiple]:!p-0":!0,"selection:bg-rose-100":!0,"dark:data-[placeholder]:text-slate-400/50":!0,"dark:text-slate-300":!0,"border-none":!0,"focus:ring-0":!0,"bg-none":!0},select__selectIcon:{absolute:!0,"w-[1em]":!0,"text-slate-700":!0,"pointer-events-none":!0,"right-2":!0,"group-data-[suffix-icon]:mr-[1.5em]":!0,"dark:text-slate-300":!0},select__optGroup:{"bg-white":!0,"text-slate-700":!0,"group/optgroup":!0,"group-data-[multiple]:px-1.5":!0,"pt-1.5":!0,"font-bold":!0,"text-sm":!0,"dark:bg-slate-800":!0,"dark:text-slate-300":!0},select__option:{"bg-white":!0,"text-slate-700":!0,"group-data-[disabled]:opacity-50":!0,"group-data-[disabled]:select-none":!0,"group-data-[multiple]:checked:bg-rose-100":!0,"group-data-[multiple]:focus:bg-rose-100":!0,"group-data-[multiple]:text-sm":!0,"group-data-[multiple]:outline-none":!0,"group-data-[multiple]:border-none":!0,"group-data-[multiple]:py-1.5":!0,"group-data-[multiple]:px-2":!0,"dark:bg-slate-800":!0,"dark:text-slate-300":!0,"dark:group-data-[multiple]:focus:bg-rose-700":!0,"dark:group-data-[multiple]:checked:bg-rose-700":!0},select__prefixIcon:{flex:!0,"items-center":!0,"mr-2":!0,"text-base":!0,"h-[1em]":!0,"w-[1em]":!0,"shrink-0":!0,"[&>svg]:w-full":!0,"ml-2":!0,"text-slate-600":!0,"dark:text-slate-300":!0},select__suffixIcon:{flex:!0,"items-center":!0,"ml-2":!0,"text-base":!0,"h-[1em]":!0,"w-[1em]":!0,"shrink-0":!0,"[&>svg]:w-full":!0,"mr-2":!0,"text-slate-600":!0,"dark:text-slate-300":!0},submit__outer:{group:!0,"min-w-0":!0,grow:!0,"mb-4":!0,"data-[disabled]:select-none":!0,"text-base":!0,"data-[disabled]:opacity-100":!0},submit__input:{"appearance-none":!0,"[color-scheme:light]":!0,"dark:[color-scheme:dark]":!0,"selection:bg-rose-100":!0,"selection:text-slate-700":!0,"group-data-[has-overlay]:selection:!text-transparent":!0,"bg-rose-500":!0,"!text-white":!0,"active:text-rose-100":!0,"active:bg-rose-600":!0,"hover:bg-rose-600":!0,"disabled:border-slate-400":!0,"disabled:bg-slate-400":!0,"disabled:text-slate-100":!0,"group-data-[disabled]:!cursor-not-allowed":!0,"dark:disabled:border-slate-100":!0,"dark:disabled:bg-slate-500":!0,"dark:disabled:text-slate-200":!0,"dark:text-white":!0,"dark:ring-offset-rose-400":!0,"before:transition-all":!0,"group-data-[loading=true]/form:before:content['']":!0,"group-data-[loading=true]/form:before:block":!0,"group-data-[loading=true]/form:before:animate-spin":!0,"group-data-[loading=true]/form:before:w-5":!0,"group-data-[loading=true]/form:before:h-5":!0,"group-data-[loading=true]/form:before:rounded-full":!0,"group-data-[loading=true]/form:before:mr-3":!0,"group-data-[loading=true]/form:before:-ml-1.5":!0,"group-data-[loading=true]/form:before:border-2":!0,"group-data-[loading=true]/form:before:border-solid":!0,"group-data-[loading=true]/form:before:border-white":!0,"group-data-[loading=true]/form:before:border-r-transparent":!0},submit__prefixIcon:{flex:!0,"items-center":!0,"-ml-1":!0,"mr-2":!0,"text-base":!0,"h-[1em]":!0,"w-[1em]":!0,"shrink-0":!0,"[&>svg]:w-full":!0,"text-slate-100":!0},submit__suffixIcon:{flex:!0,"items-center":!0,"-mr-1":!0,"ml-2":!0,"text-base":!0,"h-[1em]":!0,"w-[1em]":!0,"shrink-0":!0,"[&>svg]:w-full":!0,"text-slate-100":!0},textarea__inner:{flex:!0,"items-center":!0,"mb-1.5":!0,"bg-white":!0,border:!0,"border-slate-400":!0,"rounded-xl":!0,"focus-within:ring-1":!0,"focus-within:!ring-rose-400":!0,"focus-within:!border-rose-400":!0,"group-data-[invalid]:border-red-400":!0,"group-data-[invalid]:ring-1":!0,"group-data-[invalid]:ring-red-400":!0,"group-data-[disabled]:bg-slate-100":!0,shadow:!0,"group-[]/repeater:shadow-none":!0,"group-[]/multistep:shadow-none":!0,"dark:border-slate-500":!0,"dark:group-data-[disabled]:bg-slate-800/5":!0,"dark:group-data-[invalid]:border-red-400":!0,"dark:group-data-[invalid]:ring-red-400":!0,"dark:bg-transparent":!0},textarea__input:{"appearance-none":!0,"[color-scheme:light]":!0,"dark:[color-scheme:dark]":!0,"selection:text-slate-700":!0,"group-data-[has-overlay]:selection:!text-transparent":!0,"text-base":!0,"h-24":!0,"text-slate-700":!0,"min-w-0":!0,grow:!0,shrink:!0,"!py-2":!0,"!px-3":!0,"outline-none":!0,"bg-transparent":!0,"selection:bg-rose-100":!0,"placeholder:text-slate-400":!0,"group-data-[disabled]:!cursor-not-allowed":!0,"dark:placeholder-slate-400/50":!0,"dark:text-slate-300":!0,"p-0":!0,"border-none":!0,"focus:ring-0":!0},textarea__prefixIcon:{flex:!0,"items-center":!0,"-ml-1":!0,"mr-2":!0,"text-base":!0,"h-[1em]":!0,"w-[1em]":!0,"shrink-0":!0,"[&>svg]:w-full":!0,"!ml-2":!0,"!mr-0":!0,"text-slate-600":!0,"dark:text-slate-300":!0},textarea__suffixIcon:{flex:!0,"items-center":!0,"-mr-1":!0,"ml-2":!0,"text-base":!0,"h-[1em]":!0,"w-[1em]":!0,"shrink-0":!0,"[&>svg]:w-full":!0,"!mr-2":!0,"!ml-0":!0,"text-slate-600":!0,"dark:text-slate-300":!0},time__input:{"appearance-none":!0,"[color-scheme:light]":!0,"dark:[color-scheme:dark]":!0,"selection:bg-rose-100":!0,"selection:text-slate-700":!0,"group-data-[has-overlay]:selection:!text-transparent":!0,"focus:[&::-webkit-datetime-edit-hour-field]:bg-rose-100":!0,"focus:[&::-webkit-datetime-edit-minute-field]:bg-rose-100":!0,"focus:[&::-webkit-datetime-edit-ampm-field]:bg-rose-100":!0},week__input:{"appearance-none":!0,"[color-scheme:light]":!0,"dark:[color-scheme:dark]":!0,"selection:bg-rose-100":!0,"selection:text-slate-700":!0,"group-data-[has-overlay]:selection:!text-transparent":!0,"focus:[&::-webkit-datetime-edit-week-field]:bg-rose-100":!0,"focus:[&::-webkit-datetime-edit-year-field]:bg-rose-100":!0},autocomplete__selections:{flex:!0,absolute:!0,"inset-0":!0,"group-data-[multiple]:static":!0,"group-data-[multiple]:block":!0,"group-data-[empty]:hidden":!0,"group-data-[multiple]:mt-1.5":!0},autocomplete__selectionWrapper:{"bg-slate-100":!0,"rounded-xl":!0,"group-data-[multiple]:border":!0,"group-data-[multiple]:border-slate-300":!0,"group-data-[multiple]:mb-1.5":!0,"outline-none":!0,"data-[active-selection=true]:ring-2":!0,"data-[active-selection=true]:ring-rose-400":!0,"dark:bg-slate-600":!0,"dark:group-data-[multiple]:border-slate-500":!0,"[&.formkit-dropZone]:opacity-25":!0,"[&.formkit-touchDropZone]:opacity-25":!0,"[&.formkit-touchDragging]:!flex":!0,"[&.formkit-longTouch]:opacity-25":!0},autocomplete__selection:{"rounded-xl":!0,just:!0,"pl-2":!0,"[&>*]:ml-0":!0,"dark:text-slate-200":!0},colorpicker__outer:{group:!0,"min-w-0":!0,grow:!0,"mb-4":!0,"data-[disabled]:select-none":!0,"data-[disabled]:opacity-50":!0,"text-base":!0,"data-[disabled]:cursor-not-allowed":!0,"data-[disabled]:pointer-events-none":!0},colorpicker__help:{"text-slate-500":!0,"text-xs":!0,"dark:text-slate-400":!0,"group-data-[inline]:-mt-1":!0,"group-data-[inline]:mb-2":!0},colorpicker__inner:{relative:!0,"inline-flex":!0,"!w-auto":!0,"pl-2":!0,"group-data-[inline]:border-none":!0,"group-data-[inline]:shadow-none":!0,"group-data-[inline]:p-0":!0,"group-data-[inline]:bg-transparent":!0,"group-data-[inline]:outline-none":!0,"group-data-[inline]:!ring-0":!0,"group-data-[inline]:!w-full":!0,"group-data-[inline]:rounded-xl":!0},colorpicker__swatchPreview:{"w-full":!0,flex:!0,"justify-start":!0,"items-center":!0,"rounded-xl":!0,"text-sm":!0,"cursor-pointer":!0,"outline-none":!0},colorpicker__canvasSwatchPreviewWrapper:{relative:!0,"before:content-['']":!0,"before:absolute":!0,"before:inset-0":!0,"before:rounded-xl":!0,"before:shadow-[inset_0_0_0_1px_rgba(0,0,0,0.2)]":!0,"before:z-[2]":!0},colorpicker__canvasSwatchPreview:{"text-base":!0,"rounded-xl":!0,"aspect-[1/1]":!0,"shrink-0":!0,grow:!0,"!w-[1.5em]":!0},colorpicker__valueString:{"text-base":!0,"text-slate-700":!0,"selection:bg-rose-100":!0,"font-mono":!0,"inline-block":!0,"ml-2":!0,"mr-1.5":!0,"dark:text-slate-300":!0,"dark:selection:text-slate-700":!0},colorpicker__panel:{absolute:!0,"left-0":!0,"top-full":!0,"z-[99]":!0,flex:!0,"w-[100vw]":!0,"max-w-[18.5em]":!0,"touch-manipulation":!0,"flex-col":!0,"rounded-xl":!0,border:!0,"bg-white":!0,"p-2":!0,"shadow-md":!0,"group-data-[inline]:static":!0,"group-data-[inline]:max-w-none":!0,"border-slate-400":!0,"group-data-[inline]:z-auto":!0,"group-data-[inline]:w-full":!0,"group-data-[inline]:shadow":!0,"group-data-[inline]:group-data-[disabled]:!cursor-not-allowed":!0,"group-data-[inline]:group-data-[disabled]:!pointer-events-none":!0,"group-data-[inline]:[&:has([id^=swatches]:first-child:last-child)]:w-auto":!0,"group-data-[inline]:[&:has([id^=swatches]:first-child:last-child)_[id^=swatches]>div]:w-[1.5em]":!0,"dark:bg-slate-800":!0,"dark:border-slate-500":!0,"dark:group-data-[inline]:bg-transparent":!0,"[@media(max-width:431px)_and_(hover:none)]:group-[&:not([data-inline])]:!fixed":!0,"[@media(max-width:431px)_and_(hover:none)]:group-[&:not([data-inline])]:top-auto":!0,"[@media(max-width:431px)_and_(hover:none)]:group-[&:not([data-inline])]:max-w-none":!0,"[@media(max-width:431px)_and_(hover:none)]:group-[&:not([data-inline])]:bottom-0":!0,"[@media(max-width:431px)_and_(hover:none)]:group-[&:not([data-inline])]:left-0":!0,"[@media(max-width:431px)_and_(hover:none)]:group-[&:not([data-inline])]:rounded-none":!0},colorpicker__panelClose:{flex:!0,"justify-end":!0,"items-center":!0,"text-slate-600":!0,"mb-1.5":!0,"-mt-1":!0,"border-none":!0,"bg-none":!0,"border-b":!0,"border-slate-300":!0,"w-[calc(100%+1rem)]":!0,"-ml-2":!0,"pt-0":!0,"pr-2":!0,"pb-1.5":!0,"pl-2":!0,"dark:border-slate-600":!0},colorpicker__closeIcon:{"w-[2rem]":!0,"aspect-[1/1]":!0,"p-1":!0,"rounded-xl":!0,border:!0,"[&>svg]:w-full":!0,"[&>svg]:aspect-[1/1]":!0,"[&>svg]:max-w-none":!0,"[&>svg]:max-h-none":!0},colorpicker__controlGroup:{grid:!0,"[grid-template-areas:'a_a_a'_'b_c_e'_'b_d_e']":!0,"mb-2":!0},colorpicker__LS:{"[grid-area:a]":!0,relative:!0,"mb-2":!0},colorpicker__canvas:{block:!0,"w-full":!0},colorpicker__canvasLS:{"aspect-[2/1]":!0,"cursor-pointer":!0,"rounded-lg":!0},colorpicker__canvasHue:{"rounded-lg":!0},colorpicker__canvasAlpha:{"rounded-lg":!0},colorpicker__preview:{"rounded-xl":!0,"after:rounded-xl":!0,relative:!0,"inline-flex":!0,"aspect-[1/1]":!0,"overflow-hidden":!0,"[grid-area:b]":!0,"mr-2":!0,"after:absolute":!0,"after:left-0":!0,"after:top-0":!0,"after:h-full":!0,"after:w-full":!0,"after:shadow-[inset_0_0_0_1px_rgba(0,0,0,0.2)]":!0,"after:content-['']":!0,"w-[2em]":!0,"dark:after:shadow-[inset_0_0_0_1px_rgba(255,255,255,0.25)]":!0},colorpicker__hue:{"[grid-area:c]":!0,relative:!0,"inline-flex":!0,"h-3/4":!0},colorpicker__alpha:{"[grid-area:d]":!0,relative:!0,"inline-flex":!0,"h-3/4":!0},colorpicker__eyeDropper:{"[grid-area:e]":!0,"w-[2em]":!0,"ml-2":!0,"inline-flex":!0,"self-center":!0,"justify-center":!0,"justify-self-center":!0,"aspect-[1/1]":!0,"rounded-xl":!0,border:!0,"border-slate-300":!0,"cursor-pointer":!0,"content-center":!0,"items-center":!0,"text-slate-600":!0,"dark:border-slate-600":!0},colorpicker__eyeDropperIcon:{"w-auto":!0,"[&>svg]:w-[1em]":!0,"dark:text-slate-400":!0},colorpicker__control:{absolute:!0,"bg-white":!0,"shadow-[0_0_0_2px_rgba(255,255,255,1),0_0_0_3px_rgba(0,0,0,0.2)]":!0,"-translate-y-1/2":!0,"-translate-x-1/2":!0,"pointer-events-none":!0,"data-[prevent-focus-style]:shadow-[0_0_0_2px_rgba(255,255,255,1),0_0_0_3px_rgba(0,0,0,0.2)]":!0,"focus-visible:outline-none":!0,"focus-visible:ring-2":!0,"focus-visible:ring-offset-2":!0,"focus-visible:ring-rose-400":!0},colorpicker__controlLS:{"w-[10px]":!0,"h-[10px]":!0,"rounded-full":!0},colorpicker__controlHue:{"w-[4px]":!0,"h-[calc(100%-2px)]":!0,"top-1/2":!0,"rounded-xl":!0},colorpicker__controlAlpha:{"w-[4px]":!0,"h-[calc(100%-2px)]":!0,"top-1/2":!0,"rounded-xl":!0},colorpicker__formatField:{flex:!0,"items-center":!0,"justify-center":!0,grow:!0},colorpicker__colorField:{"bg-transparent":!0,"text-slate-700":!0,border:!0,"border-slate-300":!0,"dark:border-slate-600":!0,"dark:text-slate-300":!0,"dark:selection:text-slate-700":!0},colorpicker__colorInputGroup:{flex:!0,"items-center":!0,"justify-center":!0,grow:!0},colorpicker__fieldGroup:{flex:!0,"flex-col":!0,"items-center":!0,"justify-center":!0,"w-full":!0,"mr-1":!0,"[&>input]:p-1":!0,"[&>input]:text-sm":!0,"[&>input]:text-slate-700":!0,"[&>input]:selection:bg-rose-100":!0,"[&>input]:m-0":!0,"[&>input]:grow":!0,"[&>input]:shrink":!0,"[&>input]:w-full":!0,"[&>input]:border":!0,"[&>input]:border-slate-300":!0,"[&>input]:rounded-xl":!0,"[&>input]:text-center":!0,"[&>input]:appearance-none":!0,"[&>input::-webkit-outer-spin-button]:appearance-none":!0,"[&>input::-webkit-inner-spin-button]:appearance-none":!0,"[&>input::-webkit-inner-spin-button]:m-0":!0,"[&>input:focus]:outline-none":!0,"[&>input:focus]:ring-1":!0,"[&>input:focus]:ring-rose-500":!0,"[&>input:focus]:border-rose-500":!0,"max-[431px]:[&>input]:text-base":!0},colorpicker__fieldLabel:{"text-xs":!0,"text-slate-500":!0,"mt-1.5":!0,"dark:text-slate-400":!0},colorpicker__formatSwitcher:{flex:!0,"justify-end":!0,"self-start":!0,uppercase:!0,"shrink-0":!0,"p-1":!0,"mt-0.5":!0,"text-slate-600":!0,rounded:!0,"select-none":!0,"dark:text-slate-400":!0},colorpicker__switchIcon:{"[&>svg]:w-3":!0},colorpicker__swatches:{"inline-flex":!0,"flex-wrap":!0,"w-full":!0,"justify-self-center":!0,"min-w-0":!0,"mx-auto":!0,"px-[1px]":!0,"pt-2":!0,"pb-2":!0,"mt-2":!0,"-mb-2":!0,"border-t":!0,"border-slate-300":!0,"overflow-auto":!0,"max-h-[200px]":!0,"select-none":!0,"first:-mt-[3px]":!0,"first:last:-mb-[3px]":!0,"first:last:pb-[2px]":!0,"first:pt-px":!0,"first:border-t-0":!0,"dark:border-slate-600":!0},colorpicker__swatchGroup:{flex:!0,"flex-wrap":!0,"w-full":!0,"mb-2":!0,"last:mb-0":!0},colorpicker__swatchGroupLabel:{"ml-1":!0,block:!0,"w-full":!0,"text-sm":!0,"text-slate-500":!0,"dark:text-slate-400":!0},colorpicker__swatch:{relative:!0,"text-base":!0,"w-[calc((100%/10)-0.5em)]":!0,"max-w-[22px]":!0,"m-[0.16em]":!0,"cursor-pointer":!0,"before:content-['']":!0,"before:absolute":!0,"before:inset-0":!0,"before:rounded":!0,"before:shadow-[inset_0_0_0_1px_rgba(0,0,0,0.2)]":!0,"before:pointer-events-none":!0,"before:z-[2]":!0,"dark:before:shadow-[inset_0_0_0_1px_rgba(255,255,255,0.25)]":!0,"data-[active=true]:after:content-['']":!0,"data-[active=true]:after:block":!0,"data-[active=true]:after:absolute":!0,"data-[active=true]:after:w-1.5":!0,"data-[active=true]:after:h-1.5":!0,"data-[active=true]:after:top-1/2":!0,"data-[active=true]:after:left-1/2":!0,"data-[active=true]:after:pointer-events-none":!0,"data-[active=true]:after:rounded-full":!0,"data-[active=true]:after:-translate-x-1/2":!0,"data-[active=true]:after:-translate-y-1/2":!0,"data-[active=true]:after:bg-white":!0,"data-[active=true]:after:z-[2]":!0,"data-[active=true]:after:ring-1":!0,"data-[active=true]:after:ring-[rgba(0,0,0,0.33)]":!0,"[&>canvas]:block":!0,"[&>canvas]:w-full":!0,"[&>canvas]:aspect-[1/1]":!0,"[&>canvas]:rounded":!0,"[&>canvas:focus-visible]:outline-none":!0,"[&>canvas:focus-visible]:ring-2":!0,"[&>canvas:focus-visible]:ring-rose-400":!0,"[&>canvas:focus-visible]:ring-offset-2":!0,"[&>canvas:focus-visible]:ring-offset-white":!0,"dark:[&>canvas:focus-visible]:ring-offset-slate-700":!0},datepicker__inner:{relative:!0},datepicker__removeSelection:{"self-stretch":!0,"text-base":!0,flex:!0,"items-center":!0,"ml-1":!0,"mr-2":!0,"text-slate-700":!0,"hover:text-red-400":!0,"z-10":!0,"dark:text-slate-300":!0},datepicker__clearIcon:{"[&>svg]:w-[0.75em]":!0},datepicker__panelWrapper:{"group/panel":!0,absolute:!0,"min-w-[20em]":!0,"top-[calc(100%_+_0.5em)]":!0,"left-0":!0,"shadow-[0_0_1.25em_rgba(0,0,0,.25)]":!0,"rounded-xl":!0,"p-4":!0,"bg-white":!0,"z-10":!0,"dark:bg-slate-800":!0,"[@media(max-width:431px)_and_(hover:none)]:group-[&:not([data-inline])]:!fixed":!0,"[@media(max-width:431px)_and_(hover:none)]:group-[&:not([data-inline])]:top-auto":!0,"[@media(max-width:431px)_and_(hover:none)]:group-[&:not([data-inline])]:max-w-none":!0,"[@media(max-width:431px)_and_(hover:none)]:group-[&:not([data-inline])]:bottom-0":!0,"[@media(max-width:431px)_and_(hover:none)]:group-[&:not([data-inline])]:left-0":!0,"[@media(max-width:431px)_and_(hover:none)]:group-[&:not([data-inline])]:rounded-none":!0,"[@media(max-width:431px)_and_(hover:none)]:group-[&:not([data-inline])]:w-full":!0},datepicker__panelHeader:{grid:!0,"grid-cols-[2.5em_1fr_2.5em]":!0,"justify-center":!0,"items-center":!0,"border-b-2":!0,"border-slate-300":!0,"mb-2":!0,"pb-2.5":!0,"dark:border-slate-600":!0,"[@media(max-width:431px)_and_(hover:none)]:group-[&:not([data-inline])]:grid-cols-[2.5em_1fr_2.5em_2.5em]":!0,"[@media(max-width:431px)_and_(hover:none)]:group-[&:not([data-inline])]:group-data-[panel=time]/panel:grid-cols-[2.5em_1fr_2.5em]":!0,"[@media(max-width:431px)_and_(hover:none)]:group-[&:not([data-inline])]:group-data-[panel=month]/panel:grid-cols-[2.5em_1fr_2.5em]":!0},datepicker__panelClose:{"aspect-[1/1]":!0,border:!0,"border-slate-300":!0,"rounded-xl":!0,flex:!0,"items-center":!0,"justify-center":!0,"text-slate-700":!0,"[&_svg]:w-[1.25em]":!0,"dark:text-slate-300":!0,"dark:border-slate-600":!0,"[@media(max-width:431px)_and_(hover:none)]:group-data-[panel=time]/panel:col-start-3":!0,"[@media(max-width:431px)_and_(hover:none)]:group-data-[panel=month]/panel:col-start-3":!0},datepicker__panel:{flex:!0,"justify-center":!0},datepicker__input:{"appearance-none":!0,"[color-scheme:light]":!0,"dark:[color-scheme:dark]":!0,"selection:bg-rose-100":!0,"selection:text-slate-700":!0,"group-data-[has-overlay]:selection:!text-transparent":!0,"placeholder:text-slate-400":!0},datepicker__monthsHeader:{flex:!0,"items-center":!0,"justify-center":!0,"col-start-2":!0,"col-end-2":!0},datepicker__timeHeader:{flex:!0,"items-center":!0,"justify-center":!0,"col-start-2":!0,"col-end-2":!0},datepicker__months:{grid:!0,"grid-cols-3":!0,"w-full":!0},datepicker__month:{"m-1.5":!0,"p-1.5":!0,"text-center":!0,"text-slate-700":!0,"rounded-xl":!0,"bg-slate-200":!0,"aria-selected:!bg-rose-500":!0,"aria-selected:!text-white":!0,"focus:outline":!0,"focus:outline-2":!0,"focus:outline-rose-500":!0,"focus:outline-offset-2":!0,"focus:bg-white":!0,"focus:text-slate-700":!0,"data-[is-extra=true]:opacity-25":!0,"group-data-[disabled=true]:opacity-50":!0,"group-data-[disabled=true]:cursor-default":!0,"group-data-[disabled=true]:pointer-events-none":!0,"dark:bg-slate-700":!0,"dark:text-slate-300":!0},datepicker__yearsHeader:{flex:!0,"items-center":!0,"justify-center":!0,"text-slate-700":!0,"col-start-2":!0,"col-end-2":!0,"dark:text-slate-300":!0},datepicker__years:{grid:!0,"grid-cols-5":!0,"w-full":!0},datepicker__year:{"text-base":!0,"text-center":!0,"text-slate-700":!0,"items-center":!0,"m-1.5":!0,"p-1.5":!0,"rounded-xl":!0,"bg-slate-200":!0,"aria-selected:!bg-rose-500":!0,"aria-selected:!text-white":!0,"focus:outline":!0,"focus:outline-2":!0,"focus:outline-rose-500":!0,"focus:outline-offset-2":!0,"focus:bg-white":!0,"data-[is-extra=true]:opacity-25":!0,"group-data-[disabled=true]:opacity-50":!0,"group-data-[disabled=true]:cursor-default":!0,"group-data-[disabled=true]:pointer-events-none":!0,"dark:bg-slate-700":!0,"dark:text-slate-300":!0},datepicker__weekDays:{grid:!0,"grid-cols-7":!0},datepicker__weekDay:{"w-[2.25em]":!0,"text-slate-700":!0,"m-1.5":!0,"rounded-xl":!0,"font-medium":!0,lowercase:!0,"dark:text-slate-500":!0},datepicker__calendarWeeks:{"":!0},datepicker__week:{grid:!0,"grid-cols-7":!0,"group-data-[disabled=true]:opacity-50":!0,"group-data-[disabled=true]:cursor-default":!0,"group-data-[disabled=true]:pointer-events-none":!0},datepicker__dayCell:{flex:!0,"items-center":!0,"justify-center":!0,"text-center":!0,"text-slate-700":!0,"w-[2.25em]":!0,"h-[2.25em]":!0,"m-1":!0,"p-2":!0,"rounded-xl":!0,"bg-slate-200":!0,"aria-selected:bg-rose-500":!0,"aria-selected:text-white":!0,"focus:outline":!0,"focus:outline-2":!0,"focus:outline-rose-500":!0,"focus:outline-offset-2":!0,"focus:bg-white":!0,"data-[is-extra=true]:opacity-25":!0,"data-[disabled=true]:opacity-50":!0,"data-[disabled=true]:cursor-default":!0,"data-[disabled=true]:pointer-events-none":!0,"dark:bg-slate-600":!0,"dark:text-slate-300":!0,"dark:aria-selected:bg-rose-500":!0,"dark:aria-selected:text-white":!0,"dark:focus:outline-rose-500":!0,"dark:focus:bg-slate-200":!0,"dark:focus:text-slate-700":!0},datepicker__timeInput:{"w-full":!0,"border-2":!0,"[color-scheme:light]":!0,"dark:[color-scheme:dark]":!0,"text-slate-700":!0,"border-slate-300":!0,"rounded-xl":!0,"p-1.5":!0,"my-2.5":!0,"focus-visible:outline-rose-500":!0,"dark:text-slate-300":!0,"dark:bg-transparent":!0,"dark:border-slate-600":!0},datepicker__daysHeader:{flex:!0,"items-center":!0,"justify-center":!0},datepicker__prev:{"mr-auto":!0,"px-2.5":!0,"py-0.5":!0,"hover:bg-slate-100":!0,"rounded-xl":!0,"col-start-1":!0,"col-end-1":!0,"focus-visible:outline-none":!0,"focus-visible:ring-2":!0,"focus-visible:ring-rose-400":!0,"focus-visible:ring-offset-2":!0},datepicker__prevLabel:{hidden:!0},datepicker__prevIcon:{flex:!0,"w-[0.75em]":!0,"select-none":!0,"text-slate-700":!0,"[&>svg]:w-full":!0,"dark:text-slate-300":!0},datepicker__dayButton:{"appearance-none":!0,"text-slate-700":!0,"cursor-pointer":!0,"px-2.5":!0,"py-0.5":!0,"border-2":!0,"border-slate-300":!0,"rounded-xl":!0,"mx-1":!0,"hover:border-rose-500":!0,"focus-visible:outline-none":!0,"focus-visible:ring-2":!0,"focus-visible:ring-rose-400":!0,"focus-visible:ring-offset-2":!0,"dark:text-slate-300":!0,"dark:border-slate-600":!0,"dark:hover:border-rose-400":!0},datepicker__monthButton:{"appearance-none":!0,"text-slate-700":!0,"cursor-pointer":!0,"px-2.5":!0,"py-0.5":!0,"border-2":!0,"border-slate-300":!0,"rounded-xl":!0,"mx-1":!0,"hover:border-rose-500":!0,"focus-visible:outline-none":!0,"focus-visible:ring-2":!0,"focus-visible:ring-rose-400":!0,"focus-visible:ring-offset-2":!0,"dark:text-slate-300":!0,"dark:border-slate-600":!0,"dark:hover:border-rose-400":!0},datepicker__yearButton:{"appearance-none":!0,"text-slate-700":!0,"cursor-pointer":!0,"px-2.5":!0,"py-0.5":!0,"border-2":!0,"border-slate-300":!0,"rounded-xl":!0,"mx-1":!0,"hover:border-rose-500":!0,"focus-visible:outline-none":!0,"focus-visible:ring-2":!0,"focus-visible:ring-rose-400":!0,"focus-visible:ring-offset-2":!0,"dark:text-slate-300":!0,"dark:border-slate-600":!0,"dark:hover:border-rose-400":!0},datepicker__next:{"ml-auto":!0,"px-2.5":!0,"py-0.5":!0,"rounded-xl":!0,"hover:bg-slate-100":!0,"hover:rounded":!0,"col-start-3":!0,"col-end-3":!0,"focus-visible:outline-none":!0,"focus-visible:ring-2":!0,"focus-visible:ring-rose-400":!0,"focus-visible:ring-offset-2":!0},datepicker__nextLabel:{hidden:!0},datepicker__nextIcon:{flex:!0,"w-[0.75em]":!0,"select-none":!0,"text-slate-700":!0,"[&>svg]:w-full":!0,"dark:text-slate-300":!0},datepicker__openButton:{"appearance-none":!0,"border-0":!0,"bg-transparent":!0,flex:!0,"p-0":!0,"self-stretch":!0,"cursor-pointer":!0,"focus-visible:outline-none":!0,"focus-visible:ring-2":!0,"focus-visible:ring-rose-400":!0,"focus-visible:ring-offset-2":!0,"focus-visible:rounded-xl":!0},datepicker__calendarIcon:{"text-slate-600":!0,"focus-visible:text-rose-500":!0,flex:!0,"w-[1em]":!0,"grow-0":!0,"shrink-0":!0,"self-stretch":!0,"select-none":!0,"[&>svg]:w-full":!0,"[&>svg]:m-auto":!0,"[&>svg]:max-h-[1em]":!0,"[&>svg]:max-w-[1em]":!0},dropdown__placeholder:{"text-slate-400":!0,grow:!0,"dark:text-slate-400/50":!0},dropdown__selector:{flex:!0,grow:!0,"justify-between":!0,"w-full":!0,"py-2":!0,"pl-3":!0,"pr-0":!0,"text-base":!0,"text-slate-700":!0,"text-left":!0,"group-data-[disabled]:!cursor-not-allowed":!0,"group-data-[prefix-icon]:!pl-0":!0,"group-data-[suffix-icon]:!pr-0":!0,"data-[placeholder]:text-slate-400":!0,"selection:bg-rose-100":!0,"dark:data-[placeholder]:text-slate-400/50":!0,"dark:text-slate-300":!0},dropdown__selectIcon:{"shrink-0":!0},dropdown__selectionsWrapper:{"w-[85%]":!0,"overflow-hidden":!0},dropdown__selection:{"[&>*]:ml-0":!0},dropdown__selections:{"inline-flex":!0,"items-center":!0},dropdown__selectionsItem:{"whitespace-nowrap":!0,"mr-1":!0},dropdown__tagWrapper:{"[&.formkit-dropZone_.formkit-tag]:opacity-25":!0,"[&.formkit-touchDropZone_.formkit-tag]:opacity-25":!0},dropdown__truncationCount:{flex:!0,"items-center":!0,"justify-center":!0,"h-[1.5em]":!0,"rounded-xl":!0,"bg-slate-400":!0,"text-white":!0,"whitespace-nowrap":!0,"text-[11px]":!0,"[line-height:1em]":!0,"tracking-tighter":!0,"leading-0":!0,"py-1":!0,"px-1":!0,"shrink-0":!0,"my-auto":!0},mask__inner:{relative:!0},mask__input:{"appearance-none":!0,"[color-scheme:light]":!0,"dark:[color-scheme:dark]":!0,"selection:bg-rose-100":!0,"selection:text-slate-700":!0,"group-data-[has-overlay]:selection:!text-transparent":!0,"group-data-[has-overlay]:!caret-slate-700":!0,"dark:group-data-[has-overlay]:!caret-slate-300":!0},rating__inner:{"text-slate-300":!0},rating__itemsWrapper:{relative:!0,"inline-flex":!0,"focus:border-rose-500":!0},rating__onItemRow:{"h-full":!0,"w-full":!0},rating__offItemRow:{"h-full":!0,"w-full":!0},rating__onItemWrapper:{"[&>*]:w-full":!0,"[&>*]:h-full":!0,"w-full":!0,"h-full":!0,"text-yellow-400":!0},rating__offItemWrapper:{"text-slate-400":!0,"w-full":!0,"h-full":!0,"[&>*]:w-full":!0,"[&>*]:h-full":!0,"dark:text-slate-500":!0},rating__ratingItem:{relative:!0,"focus-within:outline":!0,"focus-within:outline-rose-500":!0,"w-[1.5em]":!0,"h-[1.5em]":!0},rating__itemLabelInner:{"h-px":!0,"w-px":!0,"overflow-hidden":!0,absolute:!0,"white-space-nowrap":!0},rating__itemLabel:{absolute:!0,"h-full":!0},rating__ratingIcon:{"w-[1.5em]":!0,"h-[1.5em]":!0,flex:!0},rating__input:{"appearance-none":!0,"[color-scheme:light]":!0,"dark:[color-scheme:dark]":!0,"selection:bg-rose-100":!0,"selection:text-slate-700":!0,"group-data-[has-overlay]:selection:!text-transparent":!0,"outline-none":!0},rating__messages:{"mt-1.5":!0},repeater__outer:{"min-w-0":!0,grow:!0,"mb-4":!0,"text-base":!0,"group/repeater":!0,"max-w-full":!0},repeater__fieldset:{"min-w-0":!0},repeater__legend:{block:!0,"text-slate-700":!0,"text-sm":!0,"font-bold":!0,"dark:text-slate-300":!0,"mb-2":!0},repeater__content:{"min-w-0":!0,grow:!0,"p-2":!0,flex:!0,"flex-col":!0,"align-center":!0,"[&>div[data-type]]:max-w-none":!0,"[&>div[data-type]:last-child]:mb-0":!0},repeater__addButton:{"!mb-0":!0,"mt-4":!0,"group-data-[disabled]/repeater:pointer-events-none":!0,"group-data-[disabled]/repeater:opacity-50":!0,"group-data-[disabled]/repeater:grayscale":!0},repeater__controlLabel:{absolute:!0,"opacity-0":!0,"pointer-events-none":!0,"text-[0px]":!0},repeater__controls:{flex:!0,border:!0,"border-slate-300":!0,"items-center":!0,"justify-start":!0,"bg-slate-50":!0,"px-2":!0,"py-0.5":!0,"[&>li]:aspect-[1/1]":!0,"dark:bg-slate-800":!0,"rounded-xl":!0,absolute:!0,"top-[14px]":!0,"right-[4%]":!0},repeater__downControl:{"w-[1.5em]":!0,"h-[1.5em]":!0,"mx-auto":!0,flex:!0,"items-center":!0,"appearance-none":!0,"justify-center":!0,"aspect-[1/1]":!0,"text-slate-500":!0,"hover:text-rose-500":!0,"disabled:hover:text-inherit":!0,"disabled:opacity-25":!0,"disabled:!text-slate-500":!0,"dark:text-slate-300":!0,"dark:disabled:!text-slate-300":!0,"dark:hover:text-rose-400":!0},repeater__upControl:{"w-[1.5em]":!0,"h-[1.5em]":!0,"mx-auto":!0,flex:!0,"items-center":!0,"appearance-none":!0,"justify-center":!0,"aspect-[1/1]":!0,"text-slate-500":!0,"hover:text-rose-500":!0,"disabled:hover:text-inherit":!0,"disabled:opacity-25":!0,"disabled:!text-slate-500":!0,"dark:text-slate-300":!0,"dark:disabled:!text-slate-300":!0,"dark:hover:text-rose-400":!0},repeater__removeControl:{"w-[1.3em]":!0,"h-[1.3em]":!0,"mx-auto":!0,flex:!0,"items-center":!0,"appearance-none":!0,"justify-center":!0,"aspect-[1/1]":!0,"text-slate-500":!0,"hover:text-rose-500":!0,"disabled:hover:text-inherit":!0,"disabled:opacity-25":!0,"disabled:!text-slate-500":!0,"dark:text-slate-300":!0,"dark:disabled:!text-slate-300":!0,"dark:hover:text-rose-400":!0},repeater__insertControl:{"w-[1.5em]":!0,"h-[1.5em]":!0,"mx-auto":!0,flex:!0,"items-center":!0,"appearance-none":!0,"justify-center":!0,"aspect-[1/1]":!0,"text-slate-500":!0,"hover:text-rose-500":!0,"disabled:hover:text-inherit":!0,"disabled:opacity-25":!0,"disabled:!text-slate-500":!0,"dark:text-slate-300":!0,"dark:disabled:!text-slate-300":!0,"dark:hover:text-rose-400":!0},repeater__help:{"text-slate-500":!0,"text-xs":!0,"dark:text-slate-400":!0,"mb-2":!0,"-mt-1":!0},repeater__item:{flex:!0,relative:!0,"w-full":!0,"mb-4":!0,"bg-white":!0,border:!0,"border-slate-300":!0,"rounded-xl":!0,shadow:!0,"dark:border-slate-600":!0,"dark:bg-transparent":!0,"[&.formkit-dropZone]:opacity-30":!0,"[&.formkit-dropZone]:blur-[2px]":!0},repeater__dragHandleWrapper:{relative:!0,"w-8":!0,"bg-slate-50":!0,"rounded-xl":!0,"rounded-tr-none":!0,"rounded-br-none":!0,"dark:bg-slate-800":!0},repeater__dragHandle:{"w-full":!0,"h-full":!0,flex:!0,absolute:!0,"top-0":!0,"left-0":!0,"cursor-grab":!0,"active:cursor-grabbing":!0},repeater__dragHandleIcon:{"w-2":!0,"m-auto":!0,"text-slate-500":!0,"dark:text-slate-400":!0,"[&>svg>path]:fill-current":!0},repeater__moveDownIcon:{block:!0,"w-[0.75em]":!0,"aspect-[1/1]":!0},repeater__moveUpIcon:{block:!0,"w-[0.75em]":!0,"aspect-[1/1]":!0},repeater__removeIcon:{block:!0,"w-[1.25em]":!0,"aspect-[1/1]":!0},repeater__addIcon:{block:!0,"w-[1.25em]":!0,"aspect-[1/1]":!0},slider__outer:{group:!0,"min-w-0":!0,grow:!0,"mb-4":!0,"data-[disabled]:select-none":!0,"data-[disabled]:opacity-50":!0,"text-base":!0,"data-[disabled]:pointer-events-none":!0},slider__help:{"text-slate-500":!0,"text-xs":!0,"dark:text-slate-400":!0,"-mt-0.5":!0,"mb-1.5":!0},slider__sliderInner:{flex:!0,"items-center":!0,"[&>[data-type=number]]:mb-0":!0,"[&>[data-type=number]]:ml-2.5":!0,"[&>[data-type=number]]:shrink":!0,"[&>[data-type=number]]:grow-0":!0,"[&[data-has-mark-labels=true]_[id^=track]]:mb-5":!0},slider__track:{grow:!0,relative:!0,"z-20":!0,"py-2.5":!0,"select-none":!0},slider__trackWrapper:{"px-[2px]":!0,"rounded-full":!0,"bg-slate-300":!0,"dark:bg-slate-500":!0},slider__trackInner:{"h-1.5":!0,"mx-0.5":!0,relative:!0},slider__prefixIcon:{flex:!0,"items-center":!0,"-ml-1":!0,"mr-2":!0,"text-base":!0,"h-[1em]":!0,"w-[1em]":!0,"shrink-0":!0,"[&>svg]:w-full":!0,"text-slate-600":!0,"dark:text-slate-300":!0},slider__suffixIcon:{flex:!0,"items-center":!0,"-mr-1":!0,"ml-2":!0,"text-base":!0,"h-[1em]":!0,"w-[1em]":!0,"shrink-0":!0,"[&>svg]:w-full":!0,"text-slate-600":!0,"dark:text-slate-300":!0},slider__fill:{"h-full":!0,"rounded-full":!0,absolute:!0,"top-0":!0,"-mx-1":!0,"bg-rose-500":!0,"group-data-[disabled]:bg-slate-500":!0},slider__marks:{absolute:!0,"pointer-events-none":!0,"inset-0":!0},slider__mark:{absolute:!0,"top-1/2":!0,"w-[3px]":!0,"h-[3px]":!0,"rounded-full":!0,"-translate-x-1/2":!0,"-translate-y-1/2":!0,"bg-slate-400":!0,"data-[active=true]:bg-white":!0},slider__markLabel:{absolute:!0,"top-[calc(100%+0.5em)]":!0,"left-1/2":!0,"text-slate-400":!0,"text-xs":!0,"-translate-x-1/2":!0},slider__handles:{"m-0":!0,"p-0":!0,"list-none":!0},slider__handle:{group:!0,"select-none":!0,"w-4":!0,"h-4":!0,"rounded-full":!0,"bg-white":!0,absolute:!0,"top-1/2":!0,"left-0":!0,"z-30":!0,"-translate-x-1/2":!0,"-translate-y-1/2":!0,"shadow-[inset_0_0_0_1px_rgba(0,0,0,0.1),0_1px_2px_0_rgba(0,0,0,0.5)]":!0,"focus-visible:outline-0":!0,"focus-visible:ring-2":!0,"ring-rose-500":!0,"data-[is-target=true]:z-20":!0,"dark:bg-slate-200":!0},slider__tooltip:{absolute:!0,"bottom-full":!0,"left-1/2":!0,"-translate-x-1/2":!0,"-translate-y-[4px]":!0,"bg-rose-500":!0,"text-white":!0,"py-1":!0,"px-1.5":!0,"text-xs":!0,"leading-none":!0,"whitespace-nowrap":!0,rounded:!0,"opacity-0":!0,"pointer-events-none":!0,"transition-opacity":!0,'after:content-[""]':!0,"after:absolute":!0,"after:top-full":!0,"after:left-1/2":!0,"after:-translate-x-1/2":!0,"after:-translate-y-[1px]":!0,"after:border-4":!0,"after:border-transparent":!0,"after:border-t-rose-500":!0,"group-hover:opacity-100":!0,"group-focus-visible:opacity-100":!0,"group-data-[show-tooltip=true]:opacity-100":!0},slider__linkedValues:{flex:!0,"items-start":!0,"justify-between":!0},slider__minValue:{grow:!0,"!max-w-[45%]":!0,"mb-0":!0,"[&>div>div]:relative":!0,'[&>div>div::after]:content-[""]':!0,"[&>div>div::after]:absolute":!0,"[&>div>div::after]:top-1/2":!0,"[&>div>div::after]:left-[105.5%]":!0,"[&>div>div::after]:w-[12%]":!0,"[&>div>div::after]:h-[1px]":!0,"[&>div>div::after]:bg-slate-400":!0,"dark:[&>div>div::after]:bg-slate-500":!0},slider__maxValue:{grow:!0,"!max-w-[45%]":!0,"mb-0":!0,relative:!0},slider__chart:{relative:!0,"z-20":!0,"mb-2":!0,flex:!0,"justify-between":!0,"items-center":!0,"w-full":!0,"aspect-[3/1]":!0},slider__chartBar:{absolute:!0,"bottom-0":!0,"h-full":!0,"bg-slate-400":!0,"data-[active=false]:bg-slate-300":!0,"dark:bg-slate-500":!0,"dark:data-[active=false]:bg-slate-600":!0},taglist__inner:{"py-2":!0,"pr-0":!0,"pl-0":!0},taglist__tags:{"pl-3":!0},taglist__tagWrapper:{"[&.formkit-dropZone_.formkit-tag]:opacity-25":!0,"[&.formkit-touchDropZone_.formkit-tag]:opacity-25":!0},taglist__input:{"appearance-none":!0,"[color-scheme:light]":!0,"dark:[color-scheme:dark]":!0,"selection:bg-rose-100":!0,"selection:text-slate-700":!0,"group-data-[has-overlay]:selection:!text-transparent":!0,"!p-0":!0,"!w-[0%]":!0,"min-w-[1em]":!0,"inline-block":!0,"-mt-1":!0,"first:mt-0":!0,"first:mb-1":!0},taglist__listboxButton:{"ml-auto":!0,"shrink-0":!0},toggle__outer:{group:!0,"min-w-0":!0,grow:!0,"mb-4":!0,"data-[disabled]:select-none":!0,"data-[disabled]:opacity-50":!0,"text-base":!0,"max-w-none":!0},toggle__altLabel:{block:!0,"w-full":!0,"mb-1.5":!0,"font-bold":!0,"text-xs":!0,"text-slate-700":!0,"dark:text-slate-300":!0},toggle__inner:{peer:!0,"inline-block":!0,"mr-2":!0},toggle__input:{"appearance-none":!0,"[color-scheme:light]":!0,"dark:[color-scheme:dark]":!0,"selection:bg-rose-100":!0,"selection:text-slate-700":!0,"group-data-[has-overlay]:selection:!text-transparent":!0,peer:!0,absolute:!0,"opacity-0":!0,"w-0":!0,"h-0":!0},toggle__label:{block:!0,"text-slate-700":!0,"text-sm":!0,"font-bold":!0,"mb-1":!0,"dark:text-slate-300":!0,"peer-first:font-normal":!0,"peer-first:mb-0":!0},toggle__innerLabel:{absolute:!0,"text-slate-200":!0,"text-[10px]":!0,"font-bold":!0,"select-none":!0,"left-full":!0,"top-1/2":!0,"-translate-x-full":!0,"-translate-y-1/2":!0,"px-1":!0},toggle__thumb:{relative:!0,"p-0.5":!0,"left-0":!0,"aspect-[1/1]":!0,"rounded-full":!0,"transition-all":!0,"w-[1.25em]":!0,"bg-slate-50":!0,"text-slate-600":!0,"shadow-base":!0},toggle__track:{"p-0.5":!0,"min-w-[3em]":!0,relative:!0,"cursor-pointer":!0,"select-none":!0,"rounded-full":!0,"transition-all":!0,"bg-slate-400":!0,"peer-checked:bg-rose-500":!0,"peer-checked:[&>div:last-child]:left-full":!0,"peer-checked:[&>div:last-child]:-translate-x-full":!0,"peer-checked:[&>div:first-child:not(:last-child)]:left-0":!0,"peer-checked:[&>div:first-child:not(:last-child)]:translate-x-0":!0,"shadow-sm":!0,"peer-focus-visible:ring-2":!0,"peer-focus-visible:ring-rose-400":!0,"peer-focus-visible:ring-offset-2":!0,"dark:bg-slate-500":!0},toggle__valueLabel:{"font-bold":!0,"text-xs":!0,"text-slate-700":!0,"dark:text-slate-300":!0},toggle__wrapper:{flex:!0,"flex-wrap":!0,"items-center":!0,"mb-1.5":!0},togglebuttons__wrapper:{"mb-1.5":!0},togglebuttons__options:{"group/options":!0,"inline-flex":!0,"data-[vertical=true]:flex-col":!0},togglebuttons__option:{"group/option":!0},togglebuttons__input:{"appearance-none":!0,"[color-scheme:light]":!0,"dark:[color-scheme:dark]":!0,"selection:bg-rose-100":!0,"selection:text-slate-700":!0,"group-data-[has-overlay]:selection:!text-transparent":!0,"!px-4":!0,"!mb-0":!0,relative:!0,"focus:z-10":!0,"group-data-[vertical=true]/options:w-full":!0,"justify-center":!0,"bg-rose-50":!0,"disabled:opacity-50":!0,"disabled:cursor-not-allowed":!0,"group-data-[disabled]:disabled:opacity-100":!0,"dark:bg-transparent":!0,"dark:disabled:bg-transparent":!0,"dark:disabled:text-rose-500":!0,"dark:text-rose-500":!0,"aria-[pressed=true]:bg-rose-500":!0,"aria-[pressed=true]:text-white":!0,"dark:aria-[pressed=true]:bg-rose-500":!0,"dark:aria-[pressed=true]:text-white":!0,"group-[]/option:!rounded-none":!0,"group-data-[vertical=false]/options:group-first/option:!rounded-xl":!0,"group-data-[vertical=true]/options:group-first/option:!rounded-xl":!0,"group-data-[vertical=false]/options:group-first/option:!rounded-tr-none":!0,"group-data-[vertical=false]/options:group-first/option:!rounded-br-none":!0,"group-data-[vertical=true]/options:group-first/option:!rounded-bl-none":!0,"group-data-[vertical=true]/options:group-first/option:!rounded-br-none":!0,"group-data-[vertical=false]/options:group-last/option:!rounded-xl":!0,"group-data-[vertical=true]/options:group-last/option:!rounded-xl":!0,"group-data-[vertical=false]/options:group-last/option:!rounded-tl-none":!0,"group-data-[vertical=false]/options:group-last/option:!rounded-bl-none":!0,"group-data-[vertical=true]/options:group-last/option:!rounded-tl-none":!0,"group-data-[vertical=true]/options:group-last/option:!rounded-tr-none":!0,"group-data-[vertical=false]/options:group-[]/option:!border-r-0":!0,"group-data-[vertical=false]/options:group-last/option:!border-r":!0,"group-data-[vertical=false]/options:group-[]/option:aria-[pressed=true]:border-x-rose-500":!0,"group-data-[vertical=false]/options:group-first/option:aria-[pressed=true]:border-l-rose-500":!0,"group-data-[vertical=false]/options:group-last/option:aria-[pressed=true]:border-r-rose-500":!0,"dark:group-data-[vertical=false]/options:group-[]/option:aria-[pressed=true]:border-x-rose-500":!0,"dark:group-data-[vertical=false]/options:group-first/option:aria-[pressed=true]:border-l-rose-500":!0,"dark:group-data-[vertical=false]/options:group-last/option:aria-[pressed=true]:border-r-rose-500":!0,"group-data-[vertical=true]/options:group-[]/option:!border-b-0":!0,"group-data-[vertical=true]/options:group-last/option:!border-b":!0,"group-data-[vertical=true]/options:group-[]/option:aria-[pressed=true]:border-y-rose-500":!0,"group-data-[vertical=true]/options:group-first/option:aria-[pressed=true]:border-t-rose-500":!0,"group-data-[vertical=true]/options:group-last/option:aria-[pressed=true]:border-b-rose-500":!0,"dark:group-data-[vertical=true]/options:group-[]/option:aria-[pressed=true]:border-y-rose-500":!0,"dark:group-data-[vertical=true]/options:group-first/option:aria-[pressed=true]:border-t-rose-500":!0,"dark:group-data-[vertical=true]/options:group-last/option:aria-[pressed=true]:border-b-rose-500":!0},transferlist__outer:{group:!0,"min-w-0":!0,grow:!0,"mb-4":!0,"data-[disabled]:select-none":!0,"data-[disabled]:opacity-50":!0,"text-base":!0,"max-w-none":!0,"[&_.dnd-placeholder]:bg-rose-500":!0,"[&_.dnd-placeholder]:text-white":!0},transferlist__wrapper:{flex:!0,"flex-col":!0,"sm:flex-row":!0,"justify-between":!0,"w-full":!0,"max-w-none":!0},transferlist__help:{"text-slate-500":!0,"text-xs":!0,"dark:text-slate-400":!0,"pb-2":!0},transferlist__transferlist:{grow:!0,shrink:!0,"min-w-0":!0,shadow:!0,"group-[]/repeater:shadow-none":!0,"group-[]/multistep:shadow-none":!0,"aspect-[4/5]":!0,flex:!0,"flex-col":!0,"h-[350px]":!0,border:!0,"border-slate-300":!0,"rounded-xl":!0,"overflow-hidden":!0,"select-none":!0,"[&:has(:focus-visible)]:ring-1":!0,"[&:has(:focus-visible)]:ring-rose-400":!0,"dark:border-slate-600":!0,"dark:bg-slate-900/50":!0},transferlist__transferlistHeader:{flex:!0,"bg-slate-100":!0,"text-slate-600":!0,"text-sm":!0,"justify-between":!0,"items-center":!0,"border-b":!0,"border-slate-300":!0,"py-2":!0,"px-2.5":!0,"dark:bg-slate-700":!0,"dark:border-slate-600":!0,"dark:text-slate-400":!0},transferlist__transferlistHeaderItemCount:{"ml-auto":!0,"text-xs":!0,"min-w-[1.5em]":!0,"[line-height:1.5em]":!0,"px-2":!0,"text-center":!0,"rounded-full":!0,"bg-slate-200":!0,"text-slate-700":!0,"dark:bg-slate-500":!0,"dark:text-slate-300":!0},transferlist__transferlistListItems:{"list-none":!0,"bg-white":!0,"h-full":!0,"overflow-x-hidden":!0,"overflow-y-auto":!0,"dark:bg-transparent":!0,"outline-none":!0},transferlist__transferlistListItem:{"py-2":!0,"px-2":!0,"text-slate-700":!0,"ring-1":!0,"ring-slate-200":!0,"aria-selected:bg-rose-100":!0,"data-[is-active=true]:bg-rose-100":!0,"data-[is-active=true]:ring-rose-200":!0,"aria-selected:ring-rose-200":!0,relative:!0,flex:!0,"cursor-pointer":!0,"items-center":!0,"bg-white":!0,"pl-[1.5em]":!0,"first:-mt-px":!0,"first:border-t":!0,"aria-selected:z-[2]":!0,"aria-selected:border-transparent":!0,"aria-selected:ring-1":!0,"data-[is-active=true]:z-[2]":!0,"data-[is-active=true]:border-transparent":!0,"data-[is-active=true]:ring-1":!0,"group-data-[is-max=true]:cursor-not-allowed":!0,"dark:bg-slate-800":!0,"dark:text-slate-300":!0,"dark:data-[is-active=true]:bg-rose-800":!0,"dark:aria-selected:bg-rose-800":!0,"dark:ring-slate-700":!0,"dark:data-[is-active=true]:ring-rose-600":!0,"dark:aria-selected:ring-rose-600":!0,"[&.formkit-dropZone]:bg-rose-100":!0,"[&.formkit-selectionDropZone]:bg-rose-100":!0,"[&.formkit-touchDropZone]:bg-rose-100":!0,"[&.formkit-touchSelectionDropZone]:bg-rose-100":!0,"[&.formkit-longTouch]:bg-rose-100":!0,"dark:[&.formkit-dropZone]:bg-rose-900":!0,"dark:[&.formkit-selectionDropZone]:bg-rose-900":!0,"dark:[&.formkit-touchDropZone]:bg-rose-900":!0,"dark:[&.formkit-touchSelectionDropZone]:bg-rose-900":!0,"dark:[&.formkit-longTouch]:bg-rose-900":!0},transferlist__transferlistOption:{"text-sm":!0},transferlist__transferControls:{"inline-flex":!0,"grow-0":!0,shrink:!0,border:!0,"border-slate-300":!0,"flex-row":!0,"sm:flex-col":!0,"justify-center":!0,"my-2":!0,"sm:my-auto":!0,"mx-auto":!0,"sm:mx-2":!0,"rounded-xl":!0,"overflow-clip":!0,"shadow-none":!0,"group-[]/repeater:shadow-none":!0,"group-[]/multistep:shadow-none":!0,"dark:border-slate-800":!0},transferlist__sourceEmptyMessage:{"appearance-none":!0,"border-none":!0,"w-full":!0,"my-2":!0,"text-center":!0,"text-slate-500":!0,italic:!0},transferlist__sourceListItems:{"group-data-[is-max=true]:opacity-50":!0},transferlist__targetEmptyMessage:{"appearance-none":!0,"border-none":!0,"w-full":!0,"my-2":!0,"text-center":!0,"text-slate-500":!0,italic:!0},transferlist__emptyMessageInner:{flex:!0,"items-center":!0,"justify-center":!0,"p-2":!0,"text-sm":!0},transferlist__transferlistControls:{"bg-white":!0,"p-2":!0,"border-b":!0,"border-slate-200":!0,"dark:bg-slate-700":!0,"dark:border-slate-700":!0},transferlist__transferlistSearch:{flex:!0,border:!0,"border-slate-300":!0,"rounded-xl":!0,"items-center":!0,"text-slate-700":!0,"selection:bg-rose-100":!0,"dark:border-slate-600":!0,"dark:text-slate-300":!0,"dark:selection:bg-rose-100":!0,"dark:selection:text-slate-700":!0,"dark:bg-slate-800":!0},transferlist__transferlistSearchInput:{"border-none":!0,"px-2":!0,"py-1.5":!0,"w-full":!0,"bg-transparent":!0,"outline-none":!0,"text-sm":!0},transferlist__transferlistSearchClear:{flex:!0,"w-[0.75em]":!0,"mr-2":!0,"[&_svg]:w-full":!0},transferlist__controlLabel:{absolute:!0,"opacity-0":!0,"pointer-events-none":!0,"text-[0px]":!0},transferlist__selectedIcon:{"w-[0.75em]":!0,absolute:!0,"left-[0.5em]":!0,"select-none":!0,"text-rose-500":!0,"dark:text-rose-400":!0},transferlist__transferlistButton:{"sm:w-5":!0,relative:!0,flex:!0,"justify-center":!0,"text-sm":!0,"shrink-0":!0,"box-content":!0,"text-slate-700":!0,"disabled:bg-slate-200":!0,"disabled:!text-slate-400":!0,"bg-slate-50":!0,"hover:text-rose-500":!0,"cursor-pointer":!0,"appearance-none":!0,"border-none":!0,"p-2.5":!0,"hover:z-10":!0,"disabled:cursor-not-allowed":!0,"disabled:opacity-50":!0,"disabled:hover:text-current":!0,"disabled:hover:outline-none":!0,"focus-visible:ring-1":!0,"focus-visible:ring-rose-400":!0,"focus-visible:z-10":!0,"dark:bg-slate-800":!0,"dark:text-slate-400":!0,"dark:disabled:!text-slate-600":!0,"dark:disabled:bg-slate-900":!0,"dark:disabled:hover:text-current":!0,"dark:disabled:hover:outline-none":!0,"dark:hover:text-rose-400":!0},transferlist__fastForwardIcon:{"w-4":!0,flex:!0,"select-none":!0,"[&>svg]:m-auto":!0,"[&>svg]:w-full":!0,"[&>svg]:max-w-[1rem]":!0,"[&>svg]:max-h-[1rem]":!0,"rotate-90":!0,"sm:rotate-0":!0},transferlist__moveRightIcon:{"w-4":!0,flex:!0,"select-none":!0,"[&>svg]:m-auto":!0,"[&>svg]:w-full":!0,"[&>svg]:max-w-[1rem]":!0,"[&>svg]:max-h-[1rem]":!0,"rotate-90":!0,"sm:rotate-0":!0},transferlist__moveLeftIcon:{"w-4":!0,flex:!0,"select-none":!0,"[&>svg]:m-auto":!0,"[&>svg]:w-full":!0,"[&>svg]:max-w-[1rem]":!0,"[&>svg]:max-h-[1rem]":!0,"rotate-90":!0,"sm:rotate-0":!0},transferlist__rewindIcon:{"w-4":!0,flex:!0,"select-none":!0,"[&>svg]:m-auto":!0,"[&>svg]:w-full":!0,"[&>svg]:max-w-[1rem]":!0,"[&>svg]:max-h-[1rem]":!0,"rotate-90":!0,"sm:rotate-0":!0},transferlist__messages:{"mt-2":!0},barcode__barcodeIcon:{"w-[1.5em]":!0,"text-slate-700":!0,"cursor-pointer":!0,"dark:text-slate-300":!0},barcode__dialog:{"border-none":!0,"outline-none":!0,"overflow-clip":!0,"p-0":!0,"bg-black":!0,"rounded-xl":!0,"w-[100%-2rem]":!0,"max-w-[30rem]":!0,"[&::backdrop]:bg-slate-800/50":!0},barcode__video:{"w-full":!0,"aspect-[1/1]":!0,"object-cover":!0,block:!0,"pointer-events-none":!0},barcode__closeIcon:{"cursor-pointer":!0,absolute:!0,"bg-white":!0,"color-slate-700":!0,"w-[1.5em]":!0,"h-[1.5em]":!0,"rounded-xl":!0,flex:!0,"top-2":!0,"right-2":!0,"z-20":!0,"[&>svg]:w-[1.25em]":!0,"[&>svg]:h-[1.25em]":!0,"[&>svg]:m-auto":!0},barcode__overlay:{"text-slate-700":!0,"dark:text-slate-300":!0,absolute:!0,"top-1/2":!0,"left-1/2":!0,"w-[min(20em,75%)]":!0,"aspect-[1/1]":!0,"-translate-x-1/2":!0,"-translate-y-1/2":!0,"rounded-xl":!0,"pointer-events-none":!0,"shadow-[0_0_0_999em_rgba(0,0,0,0.5)]":!0},barcode__overlayDecorators:{absolute:!0,"inset-0":!0,"z-10":!0},barcode__overlayDecoratorTopLeft:{absolute:!0,"w-[1.5rem]":!0,"h-[1.5rem]":!0,"rounded-xl":!0,"top-0":!0,"left-0":!0,"border-l-4":!0,"border-t-4":!0,"rounded-tr-none":!0,"rounded-bl-none":!0},barcode__overlayDecoratorTopRight:{absolute:!0,"w-[1.5rem]":!0,"h-[1.5rem]":!0,"rounded-xl":!0,"top-0":!0,"right-0":!0,"border-r-4":!0,"border-t-4":!0,"rounded-tl-none":!0,"rounded-br-none":!0},barcode__overlayDecoratorBottomRight:{absolute:!0,"w-[1.5rem]":!0,"h-[1.5rem]":!0,"rounded-xl":!0,"bottom-0":!0,"right-0":!0,"border-r-4":!0,"border-b-4":!0,"rounded-tr-none":!0,"rounded-bl-none":!0},barcode__overlayDecoratorBottomLeft:{absolute:!0,"w-[1.5rem]":!0,"h-[1.5rem]":!0,"rounded-xl":!0,"bottom-0":!0,"left-0":!0,"border-l-4":!0,"border-b-4":!0,"rounded-tl-none":!0,"rounded-br-none":!0},"multi-step__outer":{group:!0,"min-w-0":!0,grow:!0,"mb-4":!0,"data-[disabled]:select-none":!0,"data-[disabled]:opacity-50":!0,"text-base":!0,"group/multistep":!0,"max-w-[32rem]":!0},"multi-step__wrapper":{"group/wrapper":!0,"data-[tab-style=tab]:shadow":!0,"data-[tab-style=tab]:rounded-xl":!0},"multi-step__tabs":{flex:!0,"items-center":!0,"group-data-[tab-style=tab]/wrapper:overflow-auto":!0,"group-data-[tab-style=tab]/wrapper:border":!0,"group-data-[tab-style=tab]/wrapper:border-b-0":!0,"group-data-[tab-style=tab]/wrapper:border-slate-300":!0,"group-data-[tab-style=tab]/wrapper:rounded-xl":!0,"group-data-[tab-style=tab]/wrapper:rounded-bl-none":!0,"group-data-[tab-style=tab]/wrapper:rounded-br-none":!0,"dark:group-data-[tab-style=tab]/wrapper:border-slate-600":!0,"group-data-[tab-style=progress]/wrapper:my-6":!0,"group-data-[tab-style=progress]/wrapper:justify-around":!0,"group-data-[tab-style=progress]/wrapper:overflow-visible":!0,"group-data-[tab-style=progress]/wrapper:group-data-[hide-labels=true]/wrapper:mb-3.5":!0},"multi-step__tab":{"group/tab":!0,"group-data-[tab-style=tab]/wrapper:relative":!0,"group-data-[tab-style=tab]/wrapper:flex":!0,"group-data-[tab-style=tab]/wrapper:grow":!0,"group-data-[tab-style=tab]/wrapper:text-sm":!0,"group-data-[tab-style=tab]/wrapper:items-center":!0,"group-data-[tab-style=tab]/wrapper:justify-center":!0,"group-data-[tab-style=tab]/wrapper:cursor-pointer":!0,"group-data-[tab-style=tab]/wrapper:text-slate-700":!0,"group-data-[tab-style=tab]/wrapper:bg-slate-100":!0,"group-data-[tab-style=tab]/wrapper:py-3.5":!0,"group-data-[tab-style=tab]/wrapper:px-4":!0,"group-data-[tab-style=tab]/wrapper:border-r":!0,"group-data-[tab-style=tab]/wrapper:border-b":!0,"group-data-[tab-style=tab]/wrapper:border-slate-300":!0,"group-data-[tab-style=tab]/wrapper:last:border-r-0":!0,"group-data-[tab-style=tab]/wrapper:shadow-[inset_0_-0.5em_0.5em_-0.5em_rgba(0,0,0,0.1)]":!0,"group-data-[tab-style=tab]/wrapper:data-[active=true]:bg-white":!0,"group-data-[tab-style=tab]/wrapper:data-[active=true]:font-bold":!0,"group-data-[tab-style=tab]/wrapper:data-[active=true]:border-b-white":!0,"group-data-[tab-style=tab]/wrapper:data-[active=true]:z-10":!0,"group-data-[tab-style=tab]/wrapper:data-[active=true]:shadow-[0_0_0.5em_0_rgba(0,0,0,0.1)]":!0,"dark:group-data-[tab-style=tab]/wrapper:text-slate-300":!0,"dark:group-data-[tab-style=tab]/wrapper:bg-slate-950/20":!0,"dark:group-data-[tab-style=tab]/wrapper:data-[active=true]:bg-transparent":!0,"dark:group-data-[tab-style=tab]/wrapper:data-[active=true]:border-b-transparent":!0,"dark:group-data-[tab-style=tab]/wrapper:border-slate-600":!0,"group-data-[tab-style=progress]/wrapper:flex":!0,"group-data-[tab-style=progress]/wrapper:flex-col":!0,"group-data-[tab-style=progress]/wrapper:items-center":!0,"group-data-[tab-style=progress]/wrapper:grow":!0,"group-data-[tab-style=progress]/wrapper:shrink-0":!0,"group-data-[tab-style=progress]/wrapper:relative":!0,"group-data-[tab-style=progress]/wrapper:before:block":!0,"group-data-[tab-style=progress]/wrapper:before:text-sm":!0,"group-data-[tab-style=progress]/wrapper:before:w-[1.25rem]":!0,"group-data-[tab-style=progress]/wrapper:before:h-[1.25rem]":!0,"group-data-[tab-style=progress]/wrapper:before:border-4":!0,"group-data-[tab-style=progress]/wrapper:before:border-slate-300":!0,"group-data-[tab-style=progress]/wrapper:before:rounded-full":!0,"group-data-[tab-style=progress]/wrapper:before:bg-white":!0,"group-data-[tab-style=progress]/wrapper:before:z-10":!0,"dark:group-data-[tab-style=progress]/wrapper:before:border-slate-600":!0,"dark:group-data-[tab-style=progress]/wrapper:before:bg-slate-950":!0,"group-data-[tab-style=progress]/wrapper:after:block":!0,"group-data-[tab-style=progress]/wrapper:after:h-1":!0,"group-data-[tab-style=progress]/wrapper:after:w-full":!0,"group-data-[tab-style=progress]/wrapper:after:absolute":!0,"group-data-[tab-style=progress]/wrapper:after:top-[0.5em]":!0,"group-data-[tab-style=progress]/wrapper:after:left-[calc(50%+0.5em)]":!0,"group-data-[tab-style=progress]/wrapper:after:bg-slate-300":!0,"group-data-[tab-style=progress]/wrapper:data-[valid=true]:data-[visited=true]:after:bg-rose-500":!0,"group-data-[tab-style=progress]/wrapper:last:after:hidden":!0,"dark:group-data-[tab-style=progress]/wrapper:after:bg-slate-600":!0,"dark:group-data-[tab-style=progress]/wrapper:data-[valid=true]:data-[visited=true]:after:bg-rose-500":!0},"multi-step__tabLabel":{"group-data-[tab-style=progress]/wrapper:absolute":!0,"group-data-[tab-style=progress]/wrapper:text-slate-800":!0,"group-data-[tab-style=progress]/wrapper:top-full":!0,"group-data-[tab-style=progress]/wrapper:w-full":!0,"group-data-[tab-style=progress]/wrapper:whitespace-nowrap":!0,"group-data-[tab-style=progress]/wrapper:text-xs":!0,"dark:group-data-[tab-style=progress]/wrapper:text-slate-300":!0},"multi-step__badge":{"bg-red-500":!0,absolute:!0,"font-mono":!0,"font-bold":!0,flex:!0,"items-center":!0,"justify-center":!0,"aspect-[1/1]":!0,"[line-height:1.25rem]":!0,"text-white":!0,"rounded-full":!0,"group-data-[valid=true]/tab:bg-rose-500":!0,"group-data-[tab-style=tab]/wrapper:text-[0.66rem]":!0,"group-data-[tab-style=tab]/wrapper:p-1.5":!0,"group-data-[tab-style=tab]/wrapper:w-5":!0,"group-data-[tab-style=tab]/wrapper:h-5":!0,"group-data-[tab-style=tab]/wrapper:top-1.5":!0,"group-data-[tab-style=tab]/wrapper:right-1.5":!0,"group-data-[tab-style=progress]/wrapper:w-[1.25rem]":!0,"group-data-[tab-style=progress]/wrapper:h-[1.25rem]":!0,"group-data-[tab-style=progress]/wrapper:p-1":!0,"group-data-[tab-style=progress]/wrapper:text-[10px]":!0,"group-data-[tab-style=progress]/wrapper:[line-height:0]":!0,"group-data-[tab-style=progress]/wrapper:z-10":!0},"multi-step__validStepIcon":{"w-full":!0,"h-full":!0,"mt-0.5":!0},"multi-step__steps":{"px-10":!0,"pt-8":!0,"pb-4":!0,"bg-white":!0,border:!0,"border-slate-300":!0,"rounded-xl":!0,"dark:bg-transparent":!0,"dark:border-slate-600":!0,"group-data-[tab-style=tab]/wrapper:border-t-0":!0,"group-data-[tab-style=tab]/wrapper:rounded-tl-none":!0,"group-data-[tab-style=tab]/wrapper:rounded-tr-none":!0,"group-data-[tab-style=progress]/wrapper:shadow":!0,"[&_[data-type]]:max-w-none":!0},step__stepActions:{flex:!0,"justify-between":!0,"[&>*]:grow-0":!0},step__stepPrevious:{"mr-1.5":!0},step__stepNext:{"ml-auto":!0}},$Ae={outer:{group:!0,"min-w-0":!0,grow:!0,"mb-4":!0,"data-[disabled]:select-none":!0,"data-[disabled]:opacity-50":!0,"text-base":!0},label:{block:!0,"text-slate-700":!0,"text-sm":!0,"font-bold":!0,"mb-1":!0,"dark:text-slate-300":!0},legend:{block:!0,"text-slate-700":!0,"text-sm":!0,"font-bold":!0,"dark:text-slate-300":!0},input:{"appearance-none":!0,"[color-scheme:light]":!0,"dark:[color-scheme:dark]":!0,"selection:bg-rose-100":!0,"selection:text-slate-700":!0,"group-data-[has-overlay]:selection:!text-transparent":!0},prefixIcon:{flex:!0,"items-center":!0,"-ml-1":!0,"mr-2":!0,"text-base":!0,"h-[1em]":!0,"w-[1em]":!0,"shrink-0":!0,"[&>svg]:w-full":!0},suffixIcon:{flex:!0,"items-center":!0,"-mr-1":!0,"ml-2":!0,"text-base":!0,"h-[1em]":!0,"w-[1em]":!0,"shrink-0":!0,"[&>svg]:w-full":!0},loaderIcon:{"animate-spin":!0,flex:!0,"items-center":!0,"my-auto":!0,"ml-2":!0,"text-base":!0,"text-slate-500":!0,"h-[1em]":!0,"w-[1em]":!0,"shrink-0":!0,"[&>svg]:w-full":!0},loadMoreInner:{flex:!0,"text-sm":!0,"text-slate-500":!0,"p-2":!0,"items-center":!0,"justify-center":!0,"[&>span]:mr-2":!0},help:{"text-slate-500":!0,"text-xs":!0,"dark:text-slate-400":!0},message:{"text-red-500":!0,"mb-1.5":!0,"text-xs":!0,"dark:text-red-400":!0},overlay:{"text-slate-700":!0,"dark:text-slate-300":!0},overlayPlaceholder:{"text-slate-400":!0,"dark:text-slate-400/50":!0},overlayLiteral:{"text-slate-700":!0,"dark:text-slate-300":!0},overlayChar:{"text-slate-700":!0,"dark:text-slate-300":!0},overlayEnum:{"text-slate-700":!0,"dark:text-slate-300":!0}};var TAe=typeof global=="object"&&global&&global.Object===Object&&global;const V7=TAe;var kAe=typeof self=="object"&&self&&self.Object===Object&&self,IAe=V7||kAe||Function("return this")();const Yr=IAe;var CAe=Yr.Symbol;const mi=CAe;var j7=Object.prototype,AAe=j7.hasOwnProperty,OAe=j7.toString,wh=mi?mi.toStringTag:void 0;function RAe(e){var t=AAe.call(e,wh),n=e[wh];try{e[wh]=void 0;var r=!0}catch{}var i=OAe.call(e);return r&&(t?e[wh]=n:delete e[wh]),i}var PAe=Object.prototype,MAe=PAe.toString;function DAe(e){return MAe.call(e)}var NAe="[object Null]",LAe="[object Undefined]",f5=mi?mi.toStringTag:void 0;function Mi(e){return e==null?e===void 0?LAe:NAe:f5&&f5 in Object(e)?RAe(e):DAe(e)}function ir(e){return e!=null&&typeof e=="object"}var FAe="[object Symbol]";function ys(e){return typeof e=="symbol"||ir(e)&&Mi(e)==FAe}var BAe=0/0;function p5(e){return typeof e=="number"?e:ys(e)?BAe:+e}function zn(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var UAe=Array.isArray;const dt=UAe;var VAe=1/0,h5=mi?mi.prototype:void 0,g5=h5?h5.toString:void 0;function _s(e){if(typeof e=="string")return e;if(dt(e))return zn(e,_s)+"";if(ys(e))return g5?g5.call(e):"";var t=e+"";return t=="0"&&1/e==-VAe?"-0":t}function sx(e,t){return function(n,r){var i;if(n===void 0&&r===void 0)return t;if(n!==void 0&&(i=n),r!==void 0){if(i===void 0)return r;typeof n=="string"||typeof r=="string"?(n=_s(n),r=_s(r)):(n=p5(n),r=p5(r)),i=e(n,r)}return i}}var jAe=sx(function(e,t){return e+t},0);const HAe=jAe;var WAe=/\s/;function H7(e){for(var t=e.length;t--&&WAe.test(e.charAt(t)););return t}var qAe=/^\s+/;function W7(e){return e&&e.slice(0,H7(e)+1).replace(qAe,"")}function Kn(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var m5=0/0,zAe=/^[-+]0x[0-9a-f]+$/i,KAe=/^0b[01]+$/i,GAe=/^0o[0-7]+$/i,YAe=parseInt;function Ls(e){if(typeof e=="number")return e;if(ys(e))return m5;if(Kn(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Kn(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=W7(e);var n=KAe.test(e);return n||GAe.test(e)?YAe(e.slice(2),n?2:8):zAe.test(e)?m5:+e}var v5=1/0,XAe=17976931348623157e292;function Fa(e){if(!e)return e===0?e:0;if(e=Ls(e),e===v5||e===-v5){var t=e<0?-1:1;return t*XAe}return e===e?e:0}function gt(e){var t=Fa(e),n=t%1;return t===t?n?t-n:t:0}var QAe="Expected a function";function JAe(e,t){if(typeof t!="function")throw new TypeError(QAe);return e=gt(e),function(){if(--e<1)return t.apply(this,arguments)}}function Di(e){return e}var ZAe="[object AsyncFunction]",eOe="[object Function]",tOe="[object GeneratorFunction]",nOe="[object Proxy]";function ol(e){if(!Kn(e))return!1;var t=Mi(e);return t==eOe||t==tOe||t==ZAe||t==nOe}var rOe=Yr["__core-js_shared__"];const Z_=rOe;var y5=function(){var e=/[^.]+$/.exec(Z_&&Z_.keys&&Z_.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function iOe(e){return!!y5&&y5 in e}var sOe=Function.prototype,oOe=sOe.toString;function pd(e){if(e!=null){try{return oOe.call(e)}catch{}try{return e+""}catch{}}return""}var aOe=/[\\^$.*+?()[\]{}|]/g,lOe=/^\[object .+?Constructor\]$/,uOe=Function.prototype,cOe=Object.prototype,dOe=uOe.toString,fOe=cOe.hasOwnProperty,pOe=RegExp("^"+dOe.call(fOe).replace(aOe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function q7(e){if(!Kn(e)||iOe(e))return!1;var t=ol(e)?pOe:lOe;return t.test(pd(e))}function hOe(e,t){return e==null?void 0:e[t]}function hd(e,t){var n=hOe(e,t);return q7(n)?n:void 0}var gOe=hd(Yr,"WeakMap");const Dm=gOe;var mOe=Dm&&new Dm;const iw=mOe;var vOe=iw?function(e,t){return iw.set(e,t),e}:Di;const z7=vOe;var _5=Object.create,yOe=function(){function e(){}return function(t){if(!Kn(t))return{};if(_5)return _5(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();const jp=yOe;function Nm(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=jp(e.prototype),r=e.apply(n,t);return Kn(r)?r:n}}var _Oe=1;function bOe(e,t,n){var r=t&_Oe,i=Nm(e);function s(){var o=this&&this!==Yr&&this instanceof s?i:e;return o.apply(r?n:this,arguments)}return s}function bs(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var wOe=Math.max;function K7(e,t,n,r){for(var i=-1,s=e.length,o=n.length,a=-1,l=t.length,u=wOe(s-o,0),c=Array(l+u),d=!r;++a<l;)c[a]=t[a];for(;++i<o;)(d||i<s)&&(c[n[i]]=e[i]);for(;u--;)c[a++]=e[i++];return c}var xOe=Math.max;function G7(e,t,n,r){for(var i=-1,s=e.length,o=-1,a=n.length,l=-1,u=t.length,c=xOe(s-a,0),d=Array(c+u),f=!r;++i<c;)d[i]=e[i];for(var p=i;++l<u;)d[p+l]=t[l];for(;++o<a;)(f||i<s)&&(d[p+n[o]]=e[i++]);return d}function EOe(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}function ox(){}var SOe=4294967295;function Rt(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=SOe,this.__views__=[]}Rt.prototype=jp(ox.prototype);Rt.prototype.constructor=Rt;function mR(){}var $Oe=iw?function(e){return iw.get(e)}:mR;const vR=$Oe;var TOe={};const Of=TOe;var kOe=Object.prototype,IOe=kOe.hasOwnProperty;function e0(e){for(var t=e.name+"",n=Of[t],r=IOe.call(Of,t)?n.length:0;r--;){var i=n[r],s=i.func;if(s==null||s==e)return i.name}return t}function Vs(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}Vs.prototype=jp(ox.prototype);Vs.prototype.constructor=Vs;function ts(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function Y7(e){if(e instanceof Rt)return e.clone();var t=new Vs(e.__wrapped__,e.__chain__);return t.__actions__=ts(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var COe=Object.prototype,AOe=COe.hasOwnProperty;function R(e){if(ir(e)&&!dt(e)&&!(e instanceof Rt)){if(e instanceof Vs)return e;if(AOe.call(e,"__wrapped__"))return Y7(e)}return new Vs(e)}R.prototype=ox.prototype;R.prototype.constructor=R;function $k(e){var t=e0(e),n=R[t];if(typeof n!="function"||!(t in Rt.prototype))return!1;if(e===n)return!0;var r=vR(n);return!!r&&e===r[0]}var OOe=800,ROe=16,POe=Date.now;function X7(e){var t=0,n=0;return function(){var r=POe(),i=ROe-(r-n);if(n=r,i>0){if(++t>=OOe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var MOe=X7(z7);const Q7=MOe;var DOe=/\{\n\/\* \[wrapped with (.+)\] \*/,NOe=/,? & /;function LOe(e){var t=e.match(DOe);return t?t[1].split(NOe):[]}var FOe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function BOe(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(FOe,`{
/* [wrapped with `+t+`] */
`)}function yR(e){return function(){return e}}var UOe=function(){try{var e=hd(Object,"defineProperty");return e({},"",{}),e}catch{}}();const sw=UOe;var VOe=sw?function(e,t){return sw(e,"toString",{configurable:!0,enumerable:!1,value:yR(t),writable:!0})}:Di;const jOe=VOe;var HOe=X7(jOe);const _R=HOe;function zs(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function ax(e,t,n,r){for(var i=e.length,s=n+(r?1:-1);r?s--:++s<i;)if(t(e[s],s,e))return s;return-1}function J7(e){return e!==e}function WOe(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function Hp(e,t,n){return t===t?WOe(e,t,n):ax(e,J7,n)}function lx(e,t){var n=e==null?0:e.length;return!!n&&Hp(e,t,0)>-1}var qOe=1,zOe=2,KOe=8,GOe=16,YOe=32,XOe=64,QOe=128,JOe=256,ZOe=512,eRe=[["ary",QOe],["bind",qOe],["bindKey",zOe],["curry",KOe],["curryRight",GOe],["flip",ZOe],["partial",YOe],["partialRight",XOe],["rearg",JOe]];function tRe(e,t){return zs(eRe,function(n){var r="_."+n[0];t&n[1]&&!lx(e,r)&&e.push(r)}),e.sort()}function Z7(e,t,n){var r=t+"";return _R(e,BOe(r,tRe(LOe(r),n)))}var nRe=1,rRe=2,iRe=4,sRe=8,b5=32,w5=64;function eK(e,t,n,r,i,s,o,a,l,u){var c=t&sRe,d=c?o:void 0,f=c?void 0:o,p=c?s:void 0,g=c?void 0:s;t|=c?b5:w5,t&=~(c?w5:b5),t&iRe||(t&=~(nRe|rRe));var h=[e,t,i,p,d,g,f,a,l,u],m=n.apply(void 0,h);return $k(e)&&Q7(m,h),m.placeholder=r,Z7(m,e,t)}function Wp(e){var t=e;return t.placeholder}var oRe=9007199254740991,aRe=/^(?:0|[1-9]\d*)$/;function al(e,t){var n=typeof e;return t=t??oRe,!!t&&(n=="number"||n!="symbol"&&aRe.test(e))&&e>-1&&e%1==0&&e<t}var lRe=Math.min;function uRe(e,t){for(var n=e.length,r=lRe(t.length,n),i=ts(e);r--;){var s=t[r];e[r]=al(s,n)?i[s]:void 0}return e}var x5="__lodash_placeholder__";function yu(e,t){for(var n=-1,r=e.length,i=0,s=[];++n<r;){var o=e[n];(o===t||o===x5)&&(e[n]=x5,s[i++]=n)}return s}var cRe=1,dRe=2,fRe=8,pRe=16,hRe=128,gRe=512;function ux(e,t,n,r,i,s,o,a,l,u){var c=t&hRe,d=t&cRe,f=t&dRe,p=t&(fRe|pRe),g=t&gRe,h=f?void 0:Nm(e);function m(){for(var v=arguments.length,y=Array(v),_=v;_--;)y[_]=arguments[_];if(p)var b=Wp(m),x=EOe(y,b);if(r&&(y=K7(y,r,i,p)),s&&(y=G7(y,s,o,p)),v-=x,p&&v<u){var w=yu(y,b);return eK(e,t,ux,m.placeholder,n,y,w,a,l,u-v)}var $=d?n:this,E=f?$[e]:e;return v=y.length,a?y=uRe(y,a):g&&v>1&&y.reverse(),c&&l<v&&(y.length=l),this&&this!==Yr&&this instanceof m&&(E=h||Nm(E)),E.apply($,y)}return m}function mRe(e,t,n){var r=Nm(e);function i(){for(var s=arguments.length,o=Array(s),a=s,l=Wp(i);a--;)o[a]=arguments[a];var u=s<3&&o[0]!==l&&o[s-1]!==l?[]:yu(o,l);if(s-=u.length,s<n)return eK(e,t,ux,i.placeholder,void 0,o,u,void 0,void 0,n-s);var c=this&&this!==Yr&&this instanceof i?r:e;return bs(c,this,o)}return i}var vRe=1;function yRe(e,t,n,r){var i=t&vRe,s=Nm(e);function o(){for(var a=-1,l=arguments.length,u=-1,c=r.length,d=Array(c+l),f=this&&this!==Yr&&this instanceof o?s:e;++u<c;)d[u]=r[u];for(;l--;)d[u++]=arguments[++a];return bs(f,i?n:this,d)}return o}var E5="__lodash_placeholder__",MS=1,_Re=2,bRe=4,S5=8,xh=128,$5=256,wRe=Math.min;function xRe(e,t){var n=e[1],r=t[1],i=n|r,s=i<(MS|_Re|xh),o=r==xh&&n==S5||r==xh&&n==$5&&e[7].length<=t[8]||r==(xh|$5)&&t[7].length<=t[8]&&n==S5;if(!(s||o))return e;r&MS&&(e[2]=t[2],i|=n&MS?0:bRe);var a=t[3];if(a){var l=e[3];e[3]=l?K7(l,a,t[4]):a,e[4]=l?yu(e[3],E5):t[4]}return a=t[5],a&&(l=e[5],e[5]=l?G7(l,a,t[6]):a,e[6]=l?yu(e[5],E5):t[6]),a=t[7],a&&(e[7]=a),r&xh&&(e[8]=e[8]==null?t[8]:wRe(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}var ERe="Expected a function",T5=1,SRe=2,DS=8,NS=16,LS=32,k5=64,I5=Math.max;function ll(e,t,n,r,i,s,o,a){var l=t&SRe;if(!l&&typeof e!="function")throw new TypeError(ERe);var u=r?r.length:0;if(u||(t&=~(LS|k5),r=i=void 0),o=o===void 0?o:I5(gt(o),0),a=a===void 0?a:gt(a),u-=i?i.length:0,t&k5){var c=r,d=i;r=i=void 0}var f=l?void 0:vR(e),p=[e,t,n,r,i,c,d,s,o,a];if(f&&xRe(p,f),e=p[0],t=p[1],n=p[2],r=p[3],i=p[4],a=p[9]=p[9]===void 0?l?0:e.length:I5(p[9]-u,0),!a&&t&(DS|NS)&&(t&=~(DS|NS)),!t||t==T5)var g=bOe(e,t,n);else t==DS||t==NS?g=mRe(e,t,a):(t==LS||t==(T5|LS))&&!i.length?g=yRe(e,t,n,r):g=ux.apply(void 0,p);var h=f?z7:Q7;return Z7(h(g,p),e,t)}var $Re=128;function tK(e,t,n){return t=n?void 0:t,t=e&&t==null?e.length:t,ll(e,$Re,void 0,void 0,void 0,void 0,t)}function ul(e,t,n){t=="__proto__"&&sw?sw(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function wo(e,t){return e===t||e!==e&&t!==t}var TRe=Object.prototype,kRe=TRe.hasOwnProperty;function zv(e,t,n){var r=e[t];(!(kRe.call(e,t)&&wo(r,n))||n===void 0&&!(t in e))&&ul(e,t,n)}function ta(e,t,n,r){var i=!n;n||(n={});for(var s=-1,o=t.length;++s<o;){var a=t[s],l=r?r(n[a],e[a],a,n,e):void 0;l===void 0&&(l=e[a]),i?ul(n,a,l):zv(n,a,l)}return n}var C5=Math.max;function nK(e,t,n){return t=C5(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,s=C5(r.length-t,0),o=Array(s);++i<s;)o[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(o),bs(e,this,a)}}function wt(e,t){return _R(nK(e,t,Di),e+"")}var IRe=9007199254740991;function cx(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=IRe}function ss(e){return e!=null&&cx(e.length)&&!ol(e)}function Pi(e,t,n){if(!Kn(n))return!1;var r=typeof t;return(r=="number"?ss(n)&&al(t,n.length):r=="string"&&t in n)?wo(n[t],e):!1}function qp(e){return wt(function(t,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=e.length>3&&typeof s=="function"?(i--,s):void 0,o&&Pi(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),t=Object(t);++r<i;){var a=n[r];a&&e(t,a,r,s)}return t})}var CRe=Object.prototype;function Kv(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||CRe;return e===n}function bR(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var ARe="[object Arguments]";function A5(e){return ir(e)&&Mi(e)==ARe}var rK=Object.prototype,ORe=rK.hasOwnProperty,RRe=rK.propertyIsEnumerable,PRe=A5(function(){return arguments}())?A5:function(e){return ir(e)&&ORe.call(e,"callee")&&!RRe.call(e,"callee")};const Xc=PRe;function wR(){return!1}var iK=typeof exports=="object"&&exports&&!exports.nodeType&&exports,O5=iK&&typeof module=="object"&&module&&!module.nodeType&&module,MRe=O5&&O5.exports===iK,R5=MRe?Yr.Buffer:void 0,DRe=R5?R5.isBuffer:void 0,NRe=DRe||wR;const _u=NRe;var LRe="[object Arguments]",FRe="[object Array]",BRe="[object Boolean]",URe="[object Date]",VRe="[object Error]",jRe="[object Function]",HRe="[object Map]",WRe="[object Number]",qRe="[object Object]",zRe="[object RegExp]",KRe="[object Set]",GRe="[object String]",YRe="[object WeakMap]",XRe="[object ArrayBuffer]",QRe="[object DataView]",JRe="[object Float32Array]",ZRe="[object Float64Array]",ePe="[object Int8Array]",tPe="[object Int16Array]",nPe="[object Int32Array]",rPe="[object Uint8Array]",iPe="[object Uint8ClampedArray]",sPe="[object Uint16Array]",oPe="[object Uint32Array]",Un={};Un[JRe]=Un[ZRe]=Un[ePe]=Un[tPe]=Un[nPe]=Un[rPe]=Un[iPe]=Un[sPe]=Un[oPe]=!0;Un[LRe]=Un[FRe]=Un[XRe]=Un[BRe]=Un[QRe]=Un[URe]=Un[VRe]=Un[jRe]=Un[HRe]=Un[WRe]=Un[qRe]=Un[zRe]=Un[KRe]=Un[GRe]=Un[YRe]=!1;function aPe(e){return ir(e)&&cx(e.length)&&!!Un[Mi(e)]}function ws(e){return function(t){return e(t)}}var sK=typeof exports=="object"&&exports&&!exports.nodeType&&exports,wg=sK&&typeof module=="object"&&module&&!module.nodeType&&module,lPe=wg&&wg.exports===sK,FS=lPe&&V7.process,uPe=function(){try{var e=wg&&wg.require&&wg.require("util").types;return e||FS&&FS.binding&&FS.binding("util")}catch{}}();const js=uPe;var P5=js&&js.isTypedArray,cPe=P5?ws(P5):aPe;const zp=cPe;var dPe=Object.prototype,fPe=dPe.hasOwnProperty;function oK(e,t){var n=dt(e),r=!n&&Xc(e),i=!n&&!r&&_u(e),s=!n&&!r&&!i&&zp(e),o=n||r||i||s,a=o?bR(e.length,String):[],l=a.length;for(var u in e)(t||fPe.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||al(u,l)))&&a.push(u);return a}function aK(e,t){return function(n){return e(t(n))}}var pPe=aK(Object.keys,Object);const hPe=pPe;var gPe=Object.prototype,mPe=gPe.hasOwnProperty;function xR(e){if(!Kv(e))return hPe(e);var t=[];for(var n in Object(e))mPe.call(e,n)&&n!="constructor"&&t.push(n);return t}function Lr(e){return ss(e)?oK(e):xR(e)}var vPe=Object.prototype,yPe=vPe.hasOwnProperty,_Pe=qp(function(e,t){if(Kv(t)||ss(t)){ta(t,Lr(t),e);return}for(var n in t)yPe.call(t,n)&&zv(e,n,t[n])});const bPe=_Pe;function wPe(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var xPe=Object.prototype,EPe=xPe.hasOwnProperty;function SPe(e){if(!Kn(e))return wPe(e);var t=Kv(e),n=[];for(var r in e)r=="constructor"&&(t||!EPe.call(e,r))||n.push(r);return n}function os(e){return ss(e)?oK(e,!0):SPe(e)}var $Pe=qp(function(e,t){ta(t,os(t),e)});const M5=$Pe;var TPe=qp(function(e,t,n,r){ta(t,os(t),e,r)});const ow=TPe;var kPe=qp(function(e,t,n,r){ta(t,Lr(t),e,r)});const IPe=kPe;var CPe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,APe=/^\w*$/;function ER(e,t){if(dt(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||ys(e)?!0:APe.test(e)||!CPe.test(e)||t!=null&&e in Object(t)}var OPe=hd(Object,"create");const Lm=OPe;function RPe(){this.__data__=Lm?Lm(null):{},this.size=0}function PPe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var MPe="__lodash_hash_undefined__",DPe=Object.prototype,NPe=DPe.hasOwnProperty;function LPe(e){var t=this.__data__;if(Lm){var n=t[e];return n===MPe?void 0:n}return NPe.call(t,e)?t[e]:void 0}var FPe=Object.prototype,BPe=FPe.hasOwnProperty;function UPe(e){var t=this.__data__;return Lm?t[e]!==void 0:BPe.call(t,e)}var VPe="__lodash_hash_undefined__";function jPe(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Lm&&t===void 0?VPe:t,this}function Qc(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Qc.prototype.clear=RPe;Qc.prototype.delete=PPe;Qc.prototype.get=LPe;Qc.prototype.has=UPe;Qc.prototype.set=jPe;function HPe(){this.__data__=[],this.size=0}function dx(e,t){for(var n=e.length;n--;)if(wo(e[n][0],t))return n;return-1}var WPe=Array.prototype,qPe=WPe.splice;function zPe(e){var t=this.__data__,n=dx(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():qPe.call(t,n,1),--this.size,!0}function KPe(e){var t=this.__data__,n=dx(t,e);return n<0?void 0:t[n][1]}function GPe(e){return dx(this.__data__,e)>-1}function YPe(e,t){var n=this.__data__,r=dx(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function cl(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}cl.prototype.clear=HPe;cl.prototype.delete=zPe;cl.prototype.get=KPe;cl.prototype.has=GPe;cl.prototype.set=YPe;var XPe=hd(Yr,"Map");const Fm=XPe;function QPe(){this.size=0,this.__data__={hash:new Qc,map:new(Fm||cl),string:new Qc}}function JPe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function fx(e,t){var n=e.__data__;return JPe(t)?n[typeof t=="string"?"string":"hash"]:n.map}function ZPe(e){var t=fx(this,e).delete(e);return this.size-=t?1:0,t}function eMe(e){return fx(this,e).get(e)}function tMe(e){return fx(this,e).has(e)}function nMe(e,t){var n=fx(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function dl(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}dl.prototype.clear=QPe;dl.prototype.delete=ZPe;dl.prototype.get=eMe;dl.prototype.has=tMe;dl.prototype.set=nMe;var rMe="Expected a function";function px(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(rMe);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=e.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(px.Cache||dl),n}px.Cache=dl;var iMe=500;function sMe(e){var t=px(e,function(r){return n.size===iMe&&n.clear(),r}),n=t.cache;return t}var oMe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,aMe=/\\(\\)?/g,lMe=sMe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(oMe,function(n,r,i,s){t.push(i?s.replace(aMe,"$1"):r||n)}),t});const lK=lMe;function dn(e){return e==null?"":_s(e)}function Lu(e,t){return dt(e)?e:ER(e,t)?[e]:lK(dn(e))}var uMe=1/0;function na(e){if(typeof e=="string"||ys(e))return e;var t=e+"";return t=="0"&&1/e==-uMe?"-0":t}function gd(e,t){t=Lu(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[na(t[n++])];return n&&n==r?e:void 0}function hx(e,t,n){var r=e==null?void 0:gd(e,t);return r===void 0?n:r}function SR(e,t){for(var n=-1,r=t.length,i=Array(r),s=e==null;++n<r;)i[n]=s?void 0:hx(e,t[n]);return i}function Fu(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var D5=mi?mi.isConcatSpreadable:void 0;function cMe(e){return dt(e)||Xc(e)||!!(D5&&e&&e[D5])}function ti(e,t,n,r,i){var s=-1,o=e.length;for(n||(n=cMe),i||(i=[]);++s<o;){var a=e[s];t>0&&n(a)?t>1?ti(a,t-1,n,r,i):Fu(i,a):r||(i[i.length]=a)}return i}function uK(e){var t=e==null?0:e.length;return t?ti(e,1):[]}function fl(e){return _R(nK(e,void 0,uK),e+"")}var dMe=fl(SR);const fMe=dMe;var pMe=aK(Object.getPrototypeOf,Object);const gx=pMe;var hMe="[object Object]",gMe=Function.prototype,mMe=Object.prototype,cK=gMe.toString,vMe=mMe.hasOwnProperty,yMe=cK.call(Object);function Gv(e){if(!ir(e)||Mi(e)!=hMe)return!1;var t=gx(e);if(t===null)return!0;var n=vMe.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&cK.call(n)==yMe}var _Me="[object DOMException]",bMe="[object Error]";function $R(e){if(!ir(e))return!1;var t=Mi(e);return t==bMe||t==_Me||typeof e.message=="string"&&typeof e.name=="string"&&!Gv(e)}var wMe=wt(function(e,t){try{return bs(e,void 0,t)}catch(n){return $R(n)?n:new Error(n)}});const dK=wMe;var xMe="Expected a function";function fK(e,t){var n;if(typeof t!="function")throw new TypeError(xMe);return e=gt(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var EMe=1,SMe=32,TR=wt(function(e,t,n){var r=EMe;if(n.length){var i=yu(n,Wp(TR));r|=SMe}return ll(e,r,t,n,i)});TR.placeholder={};const pK=TR;var $Me=fl(function(e,t){return zs(t,function(n){n=na(n),ul(e,n,pK(e[n],e))}),e});const TMe=$Me;var kMe=1,IMe=2,CMe=32,kR=wt(function(e,t,n){var r=kMe|IMe;if(n.length){var i=yu(n,Wp(kR));r|=CMe}return ll(t,r,e,n,i)});kR.placeholder={};const AMe=kR;function Hs(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(i);++r<i;)s[r]=e[r+t];return s}function Bu(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:Hs(e,t,n)}var OMe="\\ud800-\\udfff",RMe="\\u0300-\\u036f",PMe="\\ufe20-\\ufe2f",MMe="\\u20d0-\\u20ff",DMe=RMe+PMe+MMe,NMe="\\ufe0e\\ufe0f",LMe="\\u200d",FMe=RegExp("["+LMe+OMe+DMe+NMe+"]");function Kp(e){return FMe.test(e)}function BMe(e){return e.split("")}var hK="\\ud800-\\udfff",UMe="\\u0300-\\u036f",VMe="\\ufe20-\\ufe2f",jMe="\\u20d0-\\u20ff",HMe=UMe+VMe+jMe,WMe="\\ufe0e\\ufe0f",qMe="["+hK+"]",Tk="["+HMe+"]",kk="\\ud83c[\\udffb-\\udfff]",zMe="(?:"+Tk+"|"+kk+")",gK="[^"+hK+"]",mK="(?:\\ud83c[\\udde6-\\uddff]){2}",vK="[\\ud800-\\udbff][\\udc00-\\udfff]",KMe="\\u200d",yK=zMe+"?",_K="["+WMe+"]?",GMe="(?:"+KMe+"(?:"+[gK,mK,vK].join("|")+")"+_K+yK+")*",YMe=_K+yK+GMe,XMe="(?:"+[gK+Tk+"?",Tk,mK,vK,qMe].join("|")+")",QMe=RegExp(kk+"(?="+kk+")|"+XMe+YMe,"g");function JMe(e){return e.match(QMe)||[]}function po(e){return Kp(e)?JMe(e):BMe(e)}function bK(e){return function(t){t=dn(t);var n=Kp(t)?po(t):void 0,r=n?n[0]:t.charAt(0),i=n?Bu(n,1).join(""):t.slice(1);return r[e]()+i}}var ZMe=bK("toUpperCase");const IR=ZMe;function wK(e){return IR(dn(e).toLowerCase())}function CR(e,t,n,r){var i=-1,s=e==null?0:e.length;for(r&&s&&(n=e[++i]);++i<s;)n=t(n,e[i],i,e);return n}function AR(e){return function(t){return e==null?void 0:e[t]}}var eDe={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},tDe=AR(eDe);const nDe=tDe;var rDe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,iDe="\\u0300-\\u036f",sDe="\\ufe20-\\ufe2f",oDe="\\u20d0-\\u20ff",aDe=iDe+sDe+oDe,lDe="["+aDe+"]",uDe=RegExp(lDe,"g");function xK(e){return e=dn(e),e&&e.replace(rDe,nDe).replace(uDe,"")}var cDe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function dDe(e){return e.match(cDe)||[]}var fDe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function pDe(e){return fDe.test(e)}var EK="\\ud800-\\udfff",hDe="\\u0300-\\u036f",gDe="\\ufe20-\\ufe2f",mDe="\\u20d0-\\u20ff",vDe=hDe+gDe+mDe,SK="\\u2700-\\u27bf",$K="a-z\\xdf-\\xf6\\xf8-\\xff",yDe="\\xac\\xb1\\xd7\\xf7",_De="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",bDe="\\u2000-\\u206f",wDe=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",TK="A-Z\\xc0-\\xd6\\xd8-\\xde",xDe="\\ufe0e\\ufe0f",kK=yDe+_De+bDe+wDe,IK="['’]",N5="["+kK+"]",EDe="["+vDe+"]",CK="\\d+",SDe="["+SK+"]",AK="["+$K+"]",OK="[^"+EK+kK+CK+SK+$K+TK+"]",$De="\\ud83c[\\udffb-\\udfff]",TDe="(?:"+EDe+"|"+$De+")",kDe="[^"+EK+"]",RK="(?:\\ud83c[\\udde6-\\uddff]){2}",PK="[\\ud800-\\udbff][\\udc00-\\udfff]",qd="["+TK+"]",IDe="\\u200d",L5="(?:"+AK+"|"+OK+")",CDe="(?:"+qd+"|"+OK+")",F5="(?:"+IK+"(?:d|ll|m|re|s|t|ve))?",B5="(?:"+IK+"(?:D|LL|M|RE|S|T|VE))?",MK=TDe+"?",DK="["+xDe+"]?",ADe="(?:"+IDe+"(?:"+[kDe,RK,PK].join("|")+")"+DK+MK+")*",ODe="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",RDe="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",PDe=DK+MK+ADe,MDe="(?:"+[SDe,RK,PK].join("|")+")"+PDe,DDe=RegExp([qd+"?"+AK+"+"+F5+"(?="+[N5,qd,"$"].join("|")+")",CDe+"+"+B5+"(?="+[N5,qd+L5,"$"].join("|")+")",qd+"?"+L5+"+"+F5,qd+"+"+B5,RDe,ODe,CK,MDe].join("|"),"g");function NDe(e){return e.match(DDe)||[]}function NK(e,t,n){return e=dn(e),t=n?void 0:t,t===void 0?pDe(e)?NDe(e):dDe(e):e.match(t)||[]}var LDe="['’]",FDe=RegExp(LDe,"g");function Gp(e){return function(t){return CR(NK(xK(t).replace(FDe,"")),e,"")}}var BDe=Gp(function(e,t,n){return t=t.toLowerCase(),e+(n?wK(t):t)});const UDe=BDe;function VDe(){if(!arguments.length)return[];var e=arguments[0];return dt(e)?e:[e]}var jDe=Yr.isFinite,HDe=Math.min;function OR(e){var t=Math[e];return function(n,r){if(n=Ls(n),r=r==null?0:HDe(gt(r),292),r&&jDe(n)){var i=(dn(n)+"e").split("e"),s=t(i[0]+"e"+(+i[1]+r));return i=(dn(s)+"e").split("e"),+(i[0]+"e"+(+i[1]-r))}return t(n)}}var WDe=OR("ceil");const qDe=WDe;function LK(e){var t=R(e);return t.__chain__=!0,t}var zDe=Math.ceil,KDe=Math.max;function GDe(e,t,n){(n?Pi(e,t,n):t===void 0)?t=1:t=KDe(gt(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var i=0,s=0,o=Array(zDe(r/t));i<r;)o[s++]=Hs(e,i,i+=t);return o}function md(e,t,n){return e===e&&(n!==void 0&&(e=e<=n?e:n),t!==void 0&&(e=e>=t?e:t)),e}function YDe(e,t,n){return n===void 0&&(n=t,t=void 0),n!==void 0&&(n=Ls(n),n=n===n?n:0),t!==void 0&&(t=Ls(t),t=t===t?t:0),md(Ls(e),t,n)}function XDe(){this.__data__=new cl,this.size=0}function QDe(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function JDe(e){return this.__data__.get(e)}function ZDe(e){return this.__data__.has(e)}var eNe=200;function tNe(e,t){var n=this.__data__;if(n instanceof cl){var r=n.__data__;if(!Fm||r.length<eNe-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new dl(r)}return n.set(e,t),this.size=n.size,this}function oo(e){var t=this.__data__=new cl(e);this.size=t.size}oo.prototype.clear=XDe;oo.prototype.delete=QDe;oo.prototype.get=JDe;oo.prototype.has=ZDe;oo.prototype.set=tNe;function FK(e,t){return e&&ta(t,Lr(t),e)}function nNe(e,t){return e&&ta(t,os(t),e)}var BK=typeof exports=="object"&&exports&&!exports.nodeType&&exports,U5=BK&&typeof module=="object"&&module&&!module.nodeType&&module,rNe=U5&&U5.exports===BK,V5=rNe?Yr.Buffer:void 0,j5=V5?V5.allocUnsafe:void 0;function UK(e,t){if(t)return e.slice();var n=e.length,r=j5?j5(n):new e.constructor(n);return e.copy(r),r}function Uu(e,t){for(var n=-1,r=e==null?0:e.length,i=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[i++]=o)}return s}function RR(){return[]}var iNe=Object.prototype,sNe=iNe.propertyIsEnumerable,H5=Object.getOwnPropertySymbols,oNe=H5?function(e){return e==null?[]:(e=Object(e),Uu(H5(e),function(t){return sNe.call(e,t)}))}:RR;const PR=oNe;function aNe(e,t){return ta(e,PR(e),t)}var lNe=Object.getOwnPropertySymbols,uNe=lNe?function(e){for(var t=[];e;)Fu(t,PR(e)),e=gx(e);return t}:RR;const VK=uNe;function cNe(e,t){return ta(e,VK(e),t)}function jK(e,t,n){var r=t(e);return dt(e)?r:Fu(r,n(e))}function Ik(e){return jK(e,Lr,PR)}function MR(e){return jK(e,os,VK)}var dNe=hd(Yr,"DataView");const Ck=dNe;var fNe=hd(Yr,"Promise");const Ak=fNe;var pNe=hd(Yr,"Set");const Rf=pNe;var W5="[object Map]",hNe="[object Object]",q5="[object Promise]",z5="[object Set]",K5="[object WeakMap]",G5="[object DataView]",gNe=pd(Ck),mNe=pd(Fm),vNe=pd(Ak),yNe=pd(Rf),_Ne=pd(Dm),Zu=Mi;(Ck&&Zu(new Ck(new ArrayBuffer(1)))!=G5||Fm&&Zu(new Fm)!=W5||Ak&&Zu(Ak.resolve())!=q5||Rf&&Zu(new Rf)!=z5||Dm&&Zu(new Dm)!=K5)&&(Zu=function(e){var t=Mi(e),n=t==hNe?e.constructor:void 0,r=n?pd(n):"";if(r)switch(r){case gNe:return G5;case mNe:return W5;case vNe:return q5;case yNe:return z5;case _Ne:return K5}return t});const Xo=Zu;var bNe=Object.prototype,wNe=bNe.hasOwnProperty;function xNe(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&wNe.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var ENe=Yr.Uint8Array;const aw=ENe;function DR(e){var t=new e.constructor(e.byteLength);return new aw(t).set(new aw(e)),t}function SNe(e,t){var n=t?DR(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var $Ne=/\w*$/;function TNe(e){var t=new e.constructor(e.source,$Ne.exec(e));return t.lastIndex=e.lastIndex,t}var Y5=mi?mi.prototype:void 0,X5=Y5?Y5.valueOf:void 0;function kNe(e){return X5?Object(X5.call(e)):{}}function HK(e,t){var n=t?DR(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var INe="[object Boolean]",CNe="[object Date]",ANe="[object Map]",ONe="[object Number]",RNe="[object RegExp]",PNe="[object Set]",MNe="[object String]",DNe="[object Symbol]",NNe="[object ArrayBuffer]",LNe="[object DataView]",FNe="[object Float32Array]",BNe="[object Float64Array]",UNe="[object Int8Array]",VNe="[object Int16Array]",jNe="[object Int32Array]",HNe="[object Uint8Array]",WNe="[object Uint8ClampedArray]",qNe="[object Uint16Array]",zNe="[object Uint32Array]";function KNe(e,t,n){var r=e.constructor;switch(t){case NNe:return DR(e);case INe:case CNe:return new r(+e);case LNe:return SNe(e,n);case FNe:case BNe:case UNe:case VNe:case jNe:case HNe:case WNe:case qNe:case zNe:return HK(e,n);case ANe:return new r;case ONe:case MNe:return new r(e);case RNe:return TNe(e);case PNe:return new r;case DNe:return kNe(e)}}function WK(e){return typeof e.constructor=="function"&&!Kv(e)?jp(gx(e)):{}}var GNe="[object Map]";function YNe(e){return ir(e)&&Xo(e)==GNe}var Q5=js&&js.isMap,XNe=Q5?ws(Q5):YNe;const qK=XNe;var QNe="[object Set]";function JNe(e){return ir(e)&&Xo(e)==QNe}var J5=js&&js.isSet,ZNe=J5?ws(J5):JNe;const zK=ZNe;var eLe=1,tLe=2,nLe=4,KK="[object Arguments]",rLe="[object Array]",iLe="[object Boolean]",sLe="[object Date]",oLe="[object Error]",GK="[object Function]",aLe="[object GeneratorFunction]",lLe="[object Map]",uLe="[object Number]",YK="[object Object]",cLe="[object RegExp]",dLe="[object Set]",fLe="[object String]",pLe="[object Symbol]",hLe="[object WeakMap]",gLe="[object ArrayBuffer]",mLe="[object DataView]",vLe="[object Float32Array]",yLe="[object Float64Array]",_Le="[object Int8Array]",bLe="[object Int16Array]",wLe="[object Int32Array]",xLe="[object Uint8Array]",ELe="[object Uint8ClampedArray]",SLe="[object Uint16Array]",$Le="[object Uint32Array]",An={};An[KK]=An[rLe]=An[gLe]=An[mLe]=An[iLe]=An[sLe]=An[vLe]=An[yLe]=An[_Le]=An[bLe]=An[wLe]=An[lLe]=An[uLe]=An[YK]=An[cLe]=An[dLe]=An[fLe]=An[pLe]=An[xLe]=An[ELe]=An[SLe]=An[$Le]=!0;An[oLe]=An[GK]=An[hLe]=!1;function Fs(e,t,n,r,i,s){var o,a=t&eLe,l=t&tLe,u=t&nLe;if(n&&(o=i?n(e,r,i,s):n(e)),o!==void 0)return o;if(!Kn(e))return e;var c=dt(e);if(c){if(o=xNe(e),!a)return ts(e,o)}else{var d=Xo(e),f=d==GK||d==aLe;if(_u(e))return UK(e,a);if(d==YK||d==KK||f&&!i){if(o=l||f?{}:WK(e),!a)return l?cNe(e,nNe(o,e)):aNe(e,FK(o,e))}else{if(!An[d])return i?e:{};o=KNe(e,d,a)}}s||(s=new oo);var p=s.get(e);if(p)return p;s.set(e,o),zK(e)?e.forEach(function(m){o.add(Fs(m,t,n,m,e,s))}):qK(e)&&e.forEach(function(m,v){o.set(v,Fs(m,t,n,v,e,s))});var g=u?l?MR:Ik:l?os:Lr,h=c?void 0:g(e);return zs(h||e,function(m,v){h&&(v=m,m=e[v]),zv(o,v,Fs(m,t,n,v,e,s))}),o}var TLe=4;function kLe(e){return Fs(e,TLe)}var ILe=1,CLe=4;function Ok(e){return Fs(e,ILe|CLe)}var ALe=1,OLe=4;function RLe(e,t){return t=typeof t=="function"?t:void 0,Fs(e,ALe|OLe,t)}var PLe=4;function MLe(e,t){return t=typeof t=="function"?t:void 0,Fs(e,PLe,t)}function DLe(){return new Vs(this.value(),this.__chain__)}function NLe(e){for(var t=-1,n=e==null?0:e.length,r=0,i=[];++t<n;){var s=e[t];s&&(i[r++]=s)}return i}function LLe(){var e=arguments.length;if(!e)return[];for(var t=Array(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return Fu(dt(n)?ts(n):[n],ti(t,1))}var FLe="__lodash_hash_undefined__";function BLe(e){return this.__data__.set(e,FLe),this}function ULe(e){return this.__data__.has(e)}function Jc(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new dl;++t<n;)this.add(e[t])}Jc.prototype.add=Jc.prototype.push=BLe;Jc.prototype.has=ULe;function NR(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function Bm(e,t){return e.has(t)}var VLe=1,jLe=2;function XK(e,t,n,r,i,s){var o=n&VLe,a=e.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(e),c=s.get(t);if(u&&c)return u==t&&c==e;var d=-1,f=!0,p=n&jLe?new Jc:void 0;for(s.set(e,t),s.set(t,e);++d<a;){var g=e[d],h=t[d];if(r)var m=o?r(h,g,d,t,e,s):r(g,h,d,e,t,s);if(m!==void 0){if(m)continue;f=!1;break}if(p){if(!NR(t,function(v,y){if(!Bm(p,y)&&(g===v||i(g,v,n,r,s)))return p.push(y)})){f=!1;break}}else if(!(g===h||i(g,h,n,r,s))){f=!1;break}}return s.delete(e),s.delete(t),f}function LR(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}function mx(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var HLe=1,WLe=2,qLe="[object Boolean]",zLe="[object Date]",KLe="[object Error]",GLe="[object Map]",YLe="[object Number]",XLe="[object RegExp]",QLe="[object Set]",JLe="[object String]",ZLe="[object Symbol]",e2e="[object ArrayBuffer]",t2e="[object DataView]",Z5=mi?mi.prototype:void 0,BS=Z5?Z5.valueOf:void 0;function n2e(e,t,n,r,i,s,o){switch(n){case t2e:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case e2e:return!(e.byteLength!=t.byteLength||!s(new aw(e),new aw(t)));case qLe:case zLe:case YLe:return wo(+e,+t);case KLe:return e.name==t.name&&e.message==t.message;case XLe:case JLe:return e==t+"";case GLe:var a=LR;case QLe:var l=r&HLe;if(a||(a=mx),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;r|=WLe,o.set(e,t);var c=XK(a(e),a(t),r,i,s,o);return o.delete(e),c;case ZLe:if(BS)return BS.call(e)==BS.call(t)}return!1}var r2e=1,i2e=Object.prototype,s2e=i2e.hasOwnProperty;function o2e(e,t,n,r,i,s){var o=n&r2e,a=Ik(e),l=a.length,u=Ik(t),c=u.length;if(l!=c&&!o)return!1;for(var d=l;d--;){var f=a[d];if(!(o?f in t:s2e.call(t,f)))return!1}var p=s.get(e),g=s.get(t);if(p&&g)return p==t&&g==e;var h=!0;s.set(e,t),s.set(t,e);for(var m=o;++d<l;){f=a[d];var v=e[f],y=t[f];if(r)var _=o?r(y,v,f,t,e,s):r(v,y,f,e,t,s);if(!(_===void 0?v===y||i(v,y,n,r,s):_)){h=!1;break}m||(m=f=="constructor")}if(h&&!m){var b=e.constructor,x=t.constructor;b!=x&&"constructor"in e&&"constructor"in t&&!(typeof b=="function"&&b instanceof b&&typeof x=="function"&&x instanceof x)&&(h=!1)}return s.delete(e),s.delete(t),h}var a2e=1,eB="[object Arguments]",tB="[object Array]",i_="[object Object]",l2e=Object.prototype,nB=l2e.hasOwnProperty;function u2e(e,t,n,r,i,s){var o=dt(e),a=dt(t),l=o?tB:Xo(e),u=a?tB:Xo(t);l=l==eB?i_:l,u=u==eB?i_:u;var c=l==i_,d=u==i_,f=l==u;if(f&&_u(e)){if(!_u(t))return!1;o=!0,c=!1}if(f&&!c)return s||(s=new oo),o||zp(e)?XK(e,t,n,r,i,s):n2e(e,t,l,n,r,i,s);if(!(n&a2e)){var p=c&&nB.call(e,"__wrapped__"),g=d&&nB.call(t,"__wrapped__");if(p||g){var h=p?e.value():e,m=g?t.value():t;return s||(s=new oo),i(h,m,n,r,s)}}return f?(s||(s=new oo),o2e(e,t,n,r,i,s)):!1}function Yv(e,t,n,r,i){return e===t?!0:e==null||t==null||!ir(e)&&!ir(t)?e!==e&&t!==t:u2e(e,t,n,r,Yv,i)}var c2e=1,d2e=2;function FR(e,t,n,r){var i=n.length,s=i,o=!r;if(e==null)return!s;for(e=Object(e);i--;){var a=n[i];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<s;){a=n[i];var l=a[0],u=e[l],c=a[1];if(o&&a[2]){if(u===void 0&&!(l in e))return!1}else{var d=new oo;if(r)var f=r(u,c,l,e,t,d);if(!(f===void 0?Yv(c,u,c2e|d2e,r,d):f))return!1}}return!0}function QK(e){return e===e&&!Kn(e)}function BR(e){for(var t=Lr(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,QK(i)]}return t}function JK(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function ZK(e){var t=BR(e);return t.length==1&&t[0][2]?JK(t[0][0],t[0][1]):function(n){return n===e||FR(n,e,t)}}function f2e(e,t){return e!=null&&t in Object(e)}function eG(e,t,n){t=Lu(t,e);for(var r=-1,i=t.length,s=!1;++r<i;){var o=na(t[r]);if(!(s=e!=null&&n(e,o)))break;e=e[o]}return s||++r!=i?s:(i=e==null?0:e.length,!!i&&cx(i)&&al(o,i)&&(dt(e)||Xc(e)))}function UR(e,t){return e!=null&&eG(e,t,f2e)}var p2e=1,h2e=2;function tG(e,t){return ER(e)&&QK(t)?JK(na(e),t):function(n){var r=hx(n,e);return r===void 0&&r===t?UR(n,e):Yv(t,r,p2e|h2e)}}function VR(e){return function(t){return t==null?void 0:t[e]}}function g2e(e){return function(t){return gd(t,e)}}function nG(e){return ER(e)?VR(na(e)):g2e(e)}function ut(e){return typeof e=="function"?e:e==null?Di:typeof e=="object"?dt(e)?tG(e[0],e[1]):ZK(e):nG(e)}var m2e="Expected a function";function v2e(e){var t=e==null?0:e.length,n=ut;return e=t?zn(e,function(r){if(typeof r[1]!="function")throw new TypeError(m2e);return[n(r[0]),r[1]]}):[],wt(function(r){for(var i=-1;++i<t;){var s=e[i];if(bs(s[0],this,r))return bs(s[1],this,r)}})}function rG(e,t,n){var r=n.length;if(e==null)return!r;for(e=Object(e);r--;){var i=n[r],s=t[i],o=e[i];if(o===void 0&&!(i in e)||!s(o))return!1}return!0}function y2e(e){var t=Lr(e);return function(n){return rG(n,e,t)}}var _2e=1;function b2e(e){return y2e(Fs(e,_2e))}function w2e(e,t){return t==null||rG(e,t,Lr(t))}function x2e(e,t,n,r){for(var i=-1,s=e==null?0:e.length;++i<s;){var o=e[i];t(r,o,n(o),e)}return r}function iG(e){return function(t,n,r){for(var i=-1,s=Object(t),o=r(t),a=o.length;a--;){var l=o[e?a:++i];if(n(s[l],l,s)===!1)break}return t}}var E2e=iG();const jR=E2e;function ra(e,t){return e&&jR(e,t,Lr)}function sG(e,t){return function(n,r){if(n==null)return n;if(!ss(n))return e(n,r);for(var i=n.length,s=t?i:-1,o=Object(n);(t?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var S2e=sG(ra);const Vu=S2e;function $2e(e,t,n,r){return Vu(e,function(i,s,o){t(r,i,n(i),o)}),r}function vx(e,t){return function(n,r){var i=dt(n)?x2e:$2e,s=t?t():{};return i(n,e,ut(r),s)}}var T2e=Object.prototype,k2e=T2e.hasOwnProperty,I2e=vx(function(e,t,n){k2e.call(e,n)?++e[n]:ul(e,n,1)});const C2e=I2e;function A2e(e,t){var n=jp(e);return t==null?n:FK(n,t)}var O2e=8;function HR(e,t,n){t=n?void 0:t;var r=ll(e,O2e,void 0,void 0,void 0,void 0,void 0,t);return r.placeholder=HR.placeholder,r}HR.placeholder={};var R2e=16;function WR(e,t,n){t=n?void 0:t;var r=ll(e,R2e,void 0,void 0,void 0,void 0,void 0,t);return r.placeholder=WR.placeholder,r}WR.placeholder={};var P2e=function(){return Yr.Date.now()};const t0=P2e;var M2e="Expected a function",D2e=Math.max,N2e=Math.min;function qR(e,t,n){var r,i,s,o,a,l,u=0,c=!1,d=!1,f=!0;if(typeof e!="function")throw new TypeError(M2e);t=Ls(t)||0,Kn(n)&&(c=!!n.leading,d="maxWait"in n,s=d?D2e(Ls(n.maxWait)||0,t):s,f="trailing"in n?!!n.trailing:f);function p(w){var $=r,E=i;return r=i=void 0,u=w,o=e.apply(E,$),o}function g(w){return u=w,a=setTimeout(v,t),c?p(w):o}function h(w){var $=w-l,E=w-u,S=t-$;return d?N2e(S,s-E):S}function m(w){var $=w-l,E=w-u;return l===void 0||$>=t||$<0||d&&E>=s}function v(){var w=t0();if(m(w))return y(w);a=setTimeout(v,h(w))}function y(w){return a=void 0,f&&r?p(w):(r=i=void 0,o)}function _(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function b(){return a===void 0?o:y(t0())}function x(){var w=t0(),$=m(w);if(r=arguments,i=this,l=w,$){if(a===void 0)return g(l);if(d)return clearTimeout(a),a=setTimeout(v,t),p(l)}return a===void 0&&(a=setTimeout(v,t)),o}return x.cancel=_,x.flush=b,x}function L2e(e,t){return e==null||e!==e?t:e}var oG=Object.prototype,F2e=oG.hasOwnProperty,B2e=wt(function(e,t){e=Object(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&Pi(t[0],t[1],i)&&(r=1);++n<r;)for(var s=t[n],o=os(s),a=-1,l=o.length;++a<l;){var u=o[a],c=e[u];(c===void 0||wo(c,oG[u])&&!F2e.call(e,u))&&(e[u]=s[u])}return e});const U2e=B2e;function Rk(e,t,n){(n!==void 0&&!wo(e[t],n)||n===void 0&&!(t in e))&&ul(e,t,n)}function dr(e){return ir(e)&&ss(e)}function Pk(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function aG(e){return ta(e,os(e))}function V2e(e,t,n,r,i,s,o){var a=Pk(e,n),l=Pk(t,n),u=o.get(l);if(u){Rk(e,n,u);return}var c=s?s(a,l,n+"",e,t,o):void 0,d=c===void 0;if(d){var f=dt(l),p=!f&&_u(l),g=!f&&!p&&zp(l);c=l,f||p||g?dt(a)?c=a:dr(a)?c=ts(a):p?(d=!1,c=UK(l,!0)):g?(d=!1,c=HK(l,!0)):c=[]:Gv(l)||Xc(l)?(c=a,Xc(a)?c=aG(a):(!Kn(a)||ol(a))&&(c=WK(l))):d=!1}d&&(o.set(l,c),i(c,l,r,s,o),o.delete(l)),Rk(e,n,c)}function yx(e,t,n,r,i){e!==t&&jR(t,function(s,o){if(i||(i=new oo),Kn(s))V2e(e,t,o,n,yx,r,i);else{var a=r?r(Pk(e,o),s,o+"",e,t,i):void 0;a===void 0&&(a=s),Rk(e,o,a)}},os)}function lG(e,t,n,r,i,s){return Kn(e)&&Kn(t)&&(s.set(t,e),yx(e,t,void 0,lG,s),s.delete(t)),e}var j2e=qp(function(e,t,n,r){yx(e,t,n,r)});const uG=j2e;var H2e=wt(function(e){return e.push(void 0,lG),bs(uG,void 0,e)});const W2e=H2e;var q2e="Expected a function";function cG(e,t,n){if(typeof e!="function")throw new TypeError(q2e);return setTimeout(function(){e.apply(void 0,n)},t)}var z2e=wt(function(e,t){return cG(e,1,t)});const K2e=z2e;var G2e=wt(function(e,t,n){return cG(e,Ls(t)||0,n)});const Y2e=G2e;function zR(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var X2e=200;function Xv(e,t,n,r){var i=-1,s=lx,o=!0,a=e.length,l=[],u=t.length;if(!a)return l;n&&(t=zn(t,ws(n))),r?(s=zR,o=!1):t.length>=X2e&&(s=Bm,o=!1,t=new Jc(t));e:for(;++i<a;){var c=e[i],d=n==null?c:n(c);if(c=r||c!==0?c:0,o&&d===d){for(var f=u;f--;)if(t[f]===d)continue e;l.push(c)}else s(t,d,r)||l.push(c)}return l}var Q2e=wt(function(e,t){return dr(e)?Xv(e,ti(t,1,dr,!0)):[]});const J2e=Q2e;function xs(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Z2e=wt(function(e,t){var n=xs(t);return dr(n)&&(n=void 0),dr(e)?Xv(e,ti(t,1,dr,!0),ut(n)):[]});const eFe=Z2e;var tFe=wt(function(e,t){var n=xs(t);return dr(n)&&(n=void 0),dr(e)?Xv(e,ti(t,1,dr,!0),void 0,n):[]});const nFe=tFe;var rFe=sx(function(e,t){return e/t},1);const iFe=rFe;function sFe(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===void 0?1:gt(t),Hs(e,t<0?0:t,r)):[]}function oFe(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===void 0?1:gt(t),t=r-t,Hs(e,0,t<0?0:t)):[]}function _x(e,t,n,r){for(var i=e.length,s=r?i:-1;(r?s--:++s<i)&&t(e[s],s,e););return n?Hs(e,r?0:s,r?s+1:i):Hs(e,r?s+1:0,r?i:s)}function aFe(e,t){return e&&e.length?_x(e,ut(t),!0,!0):[]}function lFe(e,t){return e&&e.length?_x(e,ut(t),!0):[]}function ia(e){return typeof e=="function"?e:Di}function rB(e,t){var n=dt(e)?zs:Vu;return n(e,ia(t))}function uFe(e,t){for(var n=e==null?0:e.length;n--&&t(e[n],n,e)!==!1;);return e}var cFe=iG(!0);const dG=cFe;function KR(e,t){return e&&dG(e,t,Lr)}var dFe=sG(KR,!0);const fG=dFe;function iB(e,t){var n=dt(e)?uFe:fG;return n(e,ia(t))}function fFe(e,t,n){e=dn(e),t=_s(t);var r=e.length;n=n===void 0?r:md(gt(n),0,r);var i=n;return n-=t.length,n>=0&&e.slice(n,i)==t}function pFe(e,t){return zn(t,function(n){return[n,e[n]]})}function hFe(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=[r,r]}),n}var gFe="[object Map]",mFe="[object Set]";function pG(e){return function(t){var n=Xo(t);return n==gFe?LR(t):n==mFe?hFe(t):pFe(t,e(t))}}var vFe=pG(Lr);const sB=vFe;var yFe=pG(os);const oB=yFe;var _Fe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},bFe=AR(_Fe);const wFe=bFe;var hG=/[&<>"']/g,xFe=RegExp(hG.source);function gG(e){return e=dn(e),e&&xFe.test(e)?e.replace(hG,wFe):e}var mG=/[\\^$.*+?()[\]{}|]/g,EFe=RegExp(mG.source);function SFe(e){return e=dn(e),e&&EFe.test(e)?e.replace(mG,"\\$&"):e}function vG(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function $Fe(e,t){var n=!0;return Vu(e,function(r,i,s){return n=!!t(r,i,s),n}),n}function TFe(e,t,n){var r=dt(e)?vG:$Fe;return n&&Pi(e,t,n)&&(t=void 0),r(e,ut(t))}var kFe=4294967295;function yG(e){return e?md(gt(e),0,kFe):0}function IFe(e,t,n,r){var i=e.length;for(n=gt(n),n<0&&(n=-n>i?0:i+n),r=r===void 0||r>i?i:gt(r),r<0&&(r+=i),r=n>r?0:yG(r);n<r;)e[n++]=t;return e}function CFe(e,t,n,r){var i=e==null?0:e.length;return i?(n&&typeof n!="number"&&Pi(e,t,n)&&(n=0,r=i),IFe(e,t,n,r)):[]}function _G(e,t){var n=[];return Vu(e,function(r,i,s){t(r,i,s)&&n.push(r)}),n}function AFe(e,t){var n=dt(e)?Uu:_G;return n(e,ut(t))}function bG(e){return function(t,n,r){var i=Object(t);if(!ss(t)){var s=ut(n);t=Lr(t),n=function(a){return s(i[a],a,i)}}var o=e(t,n,r);return o>-1?i[s?t[o]:o]:void 0}}var OFe=Math.max;function wG(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:gt(n);return i<0&&(i=OFe(r+i,0)),ax(e,ut(t),i)}var RFe=bG(wG);const xG=RFe;function EG(e,t,n){var r;return n(e,function(i,s,o){if(t(i,s,o))return r=s,!1}),r}function PFe(e,t){return EG(e,ut(t),ra)}var MFe=Math.max,DFe=Math.min;function SG(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=r-1;return n!==void 0&&(i=gt(n),i=n<0?MFe(r+i,0):DFe(i,r-1)),ax(e,ut(t),i,!0)}var NFe=bG(SG);const LFe=NFe;function FFe(e,t){return EG(e,ut(t),KR)}function aB(e){return e&&e.length?e[0]:void 0}function $G(e,t){var n=-1,r=ss(e)?Array(e.length):[];return Vu(e,function(i,s,o){r[++n]=t(i,s,o)}),r}function bx(e,t){var n=dt(e)?zn:$G;return n(e,ut(t))}function BFe(e,t){return ti(bx(e,t),1)}var UFe=1/0;function VFe(e,t){return ti(bx(e,t),UFe)}function jFe(e,t,n){return n=n===void 0?1:gt(n),ti(bx(e,t),n)}var HFe=1/0;function WFe(e){var t=e==null?0:e.length;return t?ti(e,HFe):[]}function qFe(e,t){var n=e==null?0:e.length;return n?(t=t===void 0?1:gt(t),ti(e,t)):[]}var zFe=512;function KFe(e){return ll(e,zFe)}var GFe=OR("floor");const YFe=GFe;var XFe="Expected a function",QFe=8,JFe=32,ZFe=128,e5e=256;function TG(e){return fl(function(t){var n=t.length,r=n,i=Vs.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if(typeof s!="function")throw new TypeError(XFe);if(i&&!o&&e0(s)=="wrapper")var o=new Vs([],!0)}for(r=o?r:n;++r<n;){s=t[r];var a=e0(s),l=a=="wrapper"?vR(s):void 0;l&&$k(l[0])&&l[1]==(ZFe|QFe|JFe|e5e)&&!l[4].length&&l[9]==1?o=o[e0(l[0])].apply(o,l[3]):o=s.length==1&&$k(s)?o[a]():o.thru(s)}return function(){var u=arguments,c=u[0];if(o&&u.length==1&&dt(c))return o.plant(c).value();for(var d=0,f=n?t[d].apply(this,u):c;++d<n;)f=t[d].call(this,f);return f}})}var t5e=TG();const n5e=t5e;var r5e=TG(!0);const i5e=r5e;function s5e(e,t){return e==null?e:jR(e,ia(t),os)}function o5e(e,t){return e==null?e:dG(e,ia(t),os)}function a5e(e,t){return e&&ra(e,ia(t))}function l5e(e,t){return e&&KR(e,ia(t))}function u5e(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r}function wx(e,t){return Uu(t,function(n){return ol(e[n])})}function c5e(e){return e==null?[]:wx(e,Lr(e))}function d5e(e){return e==null?[]:wx(e,os(e))}var f5e=Object.prototype,p5e=f5e.hasOwnProperty,h5e=vx(function(e,t,n){p5e.call(e,n)?e[n].push(t):ul(e,n,[t])});const g5e=h5e;function GR(e,t){return e>t}function xx(e){return function(t,n){return typeof t=="string"&&typeof n=="string"||(t=Ls(t),n=Ls(n)),e(t,n)}}var m5e=xx(GR);const v5e=m5e;var y5e=xx(function(e,t){return e>=t});const _5e=y5e;var b5e=Object.prototype,w5e=b5e.hasOwnProperty;function x5e(e,t){return e!=null&&w5e.call(e,t)}function kG(e,t){return e!=null&&eG(e,t,x5e)}var E5e=Math.max,S5e=Math.min;function $5e(e,t,n){return e>=S5e(t,n)&&e<E5e(t,n)}function T5e(e,t,n){return t=Fa(t),n===void 0?(n=t,t=0):n=Fa(n),e=Ls(e),$5e(e,t,n)}var k5e="[object String]";function Ex(e){return typeof e=="string"||!dt(e)&&ir(e)&&Mi(e)==k5e}function YR(e,t){return zn(t,function(n){return e[n]})}function Yp(e){return e==null?[]:YR(e,Lr(e))}var I5e=Math.max;function C5e(e,t,n,r){e=ss(e)?e:Yp(e),n=n&&!r?gt(n):0;var i=e.length;return n<0&&(n=I5e(i+n,0)),Ex(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Hp(e,t,n)>-1}var A5e=Math.max;function O5e(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:gt(n);return i<0&&(i=A5e(r+i,0)),Hp(e,t,i)}function R5e(e){var t=e==null?0:e.length;return t?Hs(e,0,-1):[]}var P5e=Math.min;function XR(e,t,n){for(var r=n?zR:lx,i=e[0].length,s=e.length,o=s,a=Array(s),l=1/0,u=[];o--;){var c=e[o];o&&t&&(c=zn(c,ws(t))),l=P5e(c.length,l),a[o]=!n&&(t||i>=120&&c.length>=120)?new Jc(o&&c):void 0}c=e[0];var d=-1,f=a[0];e:for(;++d<i&&u.length<l;){var p=c[d],g=t?t(p):p;if(p=n||p!==0?p:0,!(f?Bm(f,g):r(u,g,n))){for(o=s;--o;){var h=a[o];if(!(h?Bm(h,g):r(e[o],g,n)))continue e}f&&f.push(g),u.push(p)}}return u}function QR(e){return dr(e)?e:[]}var M5e=wt(function(e){var t=zn(e,QR);return t.length&&t[0]===e[0]?XR(t):[]});const D5e=M5e;var N5e=wt(function(e){var t=xs(e),n=zn(e,QR);return t===xs(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?XR(n,ut(t)):[]});const L5e=N5e;var F5e=wt(function(e){var t=xs(e),n=zn(e,QR);return t=typeof t=="function"?t:void 0,t&&n.pop(),n.length&&n[0]===e[0]?XR(n,void 0,t):[]});const B5e=F5e;function U5e(e,t,n,r){return ra(e,function(i,s,o){t(r,n(i),s,o)}),r}function IG(e,t){return function(n,r){return U5e(n,e,t(r),{})}}var V5e=Object.prototype,j5e=V5e.toString,H5e=IG(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=j5e.call(t)),e[t]=n},yR(Di));const W5e=H5e;var CG=Object.prototype,q5e=CG.hasOwnProperty,z5e=CG.toString,K5e=IG(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=z5e.call(t)),q5e.call(e,t)?e[t].push(n):e[t]=[n]},ut);const G5e=K5e;function AG(e,t){return t.length<2?e:gd(e,Hs(t,0,-1))}function Qv(e,t,n){t=Lu(t,e),e=AG(e,t);var r=e==null?e:e[na(xs(t))];return r==null?void 0:bs(r,e,n)}var Y5e=wt(Qv);const X5e=Y5e;var Q5e=wt(function(e,t,n){var r=-1,i=typeof t=="function",s=ss(e)?Array(e.length):[];return Vu(e,function(o){s[++r]=i?bs(t,o,n):Qv(o,t,n)}),s});const J5e=Q5e;var Z5e="[object ArrayBuffer]";function eBe(e){return ir(e)&&Mi(e)==Z5e}var lB=js&&js.isArrayBuffer,tBe=lB?ws(lB):eBe;const nBe=tBe;var rBe="[object Boolean]";function iBe(e){return e===!0||e===!1||ir(e)&&Mi(e)==rBe}var sBe="[object Date]";function oBe(e){return ir(e)&&Mi(e)==sBe}var uB=js&&js.isDate,aBe=uB?ws(uB):oBe;const lBe=aBe;function uBe(e){return ir(e)&&e.nodeType===1&&!Gv(e)}var cBe="[object Map]",dBe="[object Set]",fBe=Object.prototype,pBe=fBe.hasOwnProperty;function hBe(e){if(e==null)return!0;if(ss(e)&&(dt(e)||typeof e=="string"||typeof e.splice=="function"||_u(e)||zp(e)||Xc(e)))return!e.length;var t=Xo(e);if(t==cBe||t==dBe)return!e.size;if(Kv(e))return!xR(e).length;for(var n in e)if(pBe.call(e,n))return!1;return!0}function gBe(e,t){return Yv(e,t)}function mBe(e,t,n){n=typeof n=="function"?n:void 0;var r=n?n(e,t):void 0;return r===void 0?Yv(e,t,void 0,n):!!r}var vBe=Yr.isFinite;function yBe(e){return typeof e=="number"&&vBe(e)}function OG(e){return typeof e=="number"&&e==gt(e)}function _Be(e,t){return e===t||FR(e,t,BR(t))}function bBe(e,t,n){return n=typeof n=="function"?n:void 0,FR(e,t,BR(t),n)}var wBe="[object Number]";function RG(e){return typeof e=="number"||ir(e)&&Mi(e)==wBe}function xBe(e){return RG(e)&&e!=+e}var EBe=Z_?ol:wR;const SBe=EBe;var $Be="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.";function TBe(e){if(SBe(e))throw new Error($Be);return q7(e)}function kBe(e){return e==null}function IBe(e){return e===null}var CBe="[object RegExp]";function ABe(e){return ir(e)&&Mi(e)==CBe}var cB=js&&js.isRegExp,OBe=cB?ws(cB):ABe;const JR=OBe;var dB=9007199254740991;function RBe(e){return OG(e)&&e>=-dB&&e<=dB}function PBe(e){return e===void 0}var MBe="[object WeakMap]";function DBe(e){return ir(e)&&Xo(e)==MBe}var NBe="[object WeakSet]";function LBe(e){return ir(e)&&Mi(e)==NBe}var FBe=1;function BBe(e){return ut(typeof e=="function"?e:Fs(e,FBe))}var UBe=Array.prototype,VBe=UBe.join;function jBe(e,t){return e==null?"":VBe.call(e,t)}var HBe=Gp(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()});const WBe=HBe;var qBe=vx(function(e,t,n){ul(e,n,t)});const zBe=qBe;function KBe(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}var GBe=Math.max,YBe=Math.min;function XBe(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=r;return n!==void 0&&(i=gt(n),i=i<0?GBe(r+i,0):YBe(i,r-1)),t===t?KBe(e,t,i):ax(e,J7,i,!0)}var QBe=Gp(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()});const JBe=QBe;var ZBe=bK("toLowerCase");const e4e=ZBe;function ZR(e,t){return e<t}var t4e=xx(ZR);const n4e=t4e;var r4e=xx(function(e,t){return e<=t});const i4e=r4e;function s4e(e,t){var n={};return t=ut(t),ra(e,function(r,i,s){ul(n,t(r,i,s),r)}),n}function o4e(e,t){var n={};return t=ut(t),ra(e,function(r,i,s){ul(n,i,t(r,i,s))}),n}var a4e=1;function l4e(e){return ZK(Fs(e,a4e))}var u4e=1;function c4e(e,t){return tG(e,Fs(t,u4e))}function Sx(e,t,n){for(var r=-1,i=e.length;++r<i;){var s=e[r],o=t(s);if(o!=null&&(a===void 0?o===o&&!ys(o):n(o,a)))var a=o,l=s}return l}function d4e(e){return e&&e.length?Sx(e,Di,GR):void 0}function f4e(e,t){return e&&e.length?Sx(e,ut(t),GR):void 0}function eP(e,t){for(var n,r=-1,i=e.length;++r<i;){var s=t(e[r]);s!==void 0&&(n=n===void 0?s:n+s)}return n}var p4e=0/0;function PG(e,t){var n=e==null?0:e.length;return n?eP(e,t)/n:p4e}function h4e(e){return PG(e,Di)}function g4e(e,t){return PG(e,ut(t))}var m4e=qp(function(e,t,n){yx(e,t,n)});const v4e=m4e;var y4e=wt(function(e,t){return function(n){return Qv(n,e,t)}});const _4e=y4e;var b4e=wt(function(e,t){return function(n){return Qv(e,n,t)}});const w4e=b4e;function x4e(e){return e&&e.length?Sx(e,Di,ZR):void 0}function E4e(e,t){return e&&e.length?Sx(e,ut(t),ZR):void 0}function MG(e,t,n){var r=Lr(t),i=wx(t,r),s=!(Kn(n)&&"chain"in n)||!!n.chain,o=ol(e);return zs(i,function(a){var l=t[a];e[a]=l,o&&(e.prototype[a]=function(){var u=this.__chain__;if(s||u){var c=e(this.__wrapped__),d=c.__actions__=ts(this.__actions__);return d.push({func:l,args:arguments,thisArg:e}),c.__chain__=u,c}return l.apply(e,Fu([this.value()],arguments))})}),e}var S4e=sx(function(e,t){return e*t},1);const $4e=S4e;var T4e="Expected a function";function Jv(e){if(typeof e!="function")throw new TypeError(T4e);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function k4e(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}var I4e="[object Map]",C4e="[object Set]",US=mi?mi.iterator:void 0;function DG(e){if(!e)return[];if(ss(e))return Ex(e)?po(e):ts(e);if(US&&e[US])return k4e(e[US]());var t=Xo(e),n=t==I4e?LR:t==C4e?mx:Yp;return n(e)}function A4e(){this.__values__===void 0&&(this.__values__=DG(this.value()));var e=this.__index__>=this.__values__.length,t=e?void 0:this.__values__[this.__index__++];return{done:e,value:t}}function NG(e,t){var n=e.length;if(n)return t+=t<0?n:0,al(t,n)?e[t]:void 0}function O4e(e,t){return e&&e.length?NG(e,gt(t)):void 0}function R4e(e){return e=gt(e),wt(function(t){return NG(t,e)})}function tP(e,t){return t=Lu(t,e),e=AG(e,t),e==null||delete e[na(xs(t))]}function P4e(e){return Gv(e)?void 0:e}var M4e=1,D4e=2,N4e=4,L4e=fl(function(e,t){var n={};if(e==null)return n;var r=!1;t=zn(t,function(s){return s=Lu(s,e),r||(r=s.length>1),s}),ta(e,MR(e),n),r&&(n=Fs(n,M4e|D4e|N4e,P4e));for(var i=t.length;i--;)tP(n,t[i]);return n});const F4e=L4e;function Zv(e,t,n,r){if(!Kn(e))return e;t=Lu(t,e);for(var i=-1,s=t.length,o=s-1,a=e;a!=null&&++i<s;){var l=na(t[i]),u=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(i!=o){var c=a[l];u=r?r(c,l,a):void 0,u===void 0&&(u=Kn(c)?c:al(t[i+1])?[]:{})}zv(a,l,u),a=a[l]}return e}function LG(e,t,n){for(var r=-1,i=t.length,s={};++r<i;){var o=t[r],a=gd(e,o);n(a,o)&&Zv(s,Lu(o,e),a)}return s}function FG(e,t){if(e==null)return{};var n=zn(MR(e),function(r){return[r]});return t=ut(t),LG(e,n,function(r,i){return t(r,i[0])})}function B4e(e,t){return FG(e,Jv(ut(t)))}function U4e(e){return fK(2,e)}function V4e(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function BG(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=e===e,s=ys(e),o=t!==void 0,a=t===null,l=t===t,u=ys(t);if(!a&&!u&&!s&&e>t||s&&o&&l&&!a&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!s&&!u&&e<t||u&&n&&i&&!r&&!s||a&&n&&i||!o&&i||!l)return-1}return 0}function j4e(e,t,n){for(var r=-1,i=e.criteria,s=t.criteria,o=i.length,a=n.length;++r<o;){var l=BG(i[r],s[r]);if(l){if(r>=a)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return e.index-t.index}function UG(e,t,n){t.length?t=zn(t,function(s){return dt(s)?function(o){return gd(o,s.length===1?s[0]:s)}:s}):t=[Di];var r=-1;t=zn(t,ws(ut));var i=$G(e,function(s,o,a){var l=zn(t,function(u){return u(s)});return{criteria:l,index:++r,value:s}});return V4e(i,function(s,o){return j4e(s,o,n)})}function H4e(e,t,n,r){return e==null?[]:(dt(t)||(t=t==null?[]:[t]),n=r?void 0:n,dt(n)||(n=n==null?[]:[n]),UG(e,t,n))}function nP(e){return fl(function(t){return t=zn(t,ws(ut)),wt(function(n){var r=this;return e(t,function(i){return bs(i,r,n)})})})}var W4e=nP(zn);const q4e=W4e;var z4e=wt;const K4e=z4e;var G4e=Math.min,Y4e=K4e(function(e,t){t=t.length==1&&dt(t[0])?zn(t[0],ws(ut)):zn(ti(t,1),ws(ut));var n=t.length;return wt(function(r){for(var i=-1,s=G4e(r.length,n);++i<s;)r[i]=t[i].call(this,r[i]);return bs(e,this,r)})});const X4e=Y4e;var Q4e=nP(vG);const J4e=Q4e;var Z4e=nP(NR);const eUe=Z4e;var tUe=9007199254740991,nUe=Math.floor;function Mk(e,t){var n="";if(!e||t<1||t>tUe)return n;do t%2&&(n+=e),t=nUe(t/2),t&&(e+=e);while(t);return n}var rUe=VR("length");const iUe=rUe;var VG="\\ud800-\\udfff",sUe="\\u0300-\\u036f",oUe="\\ufe20-\\ufe2f",aUe="\\u20d0-\\u20ff",lUe=sUe+oUe+aUe,uUe="\\ufe0e\\ufe0f",cUe="["+VG+"]",Dk="["+lUe+"]",Nk="\\ud83c[\\udffb-\\udfff]",dUe="(?:"+Dk+"|"+Nk+")",jG="[^"+VG+"]",HG="(?:\\ud83c[\\udde6-\\uddff]){2}",WG="[\\ud800-\\udbff][\\udc00-\\udfff]",fUe="\\u200d",qG=dUe+"?",zG="["+uUe+"]?",pUe="(?:"+fUe+"(?:"+[jG,HG,WG].join("|")+")"+zG+qG+")*",hUe=zG+qG+pUe,gUe="(?:"+[jG+Dk+"?",Dk,HG,WG,cUe].join("|")+")",fB=RegExp(Nk+"(?="+Nk+")|"+gUe+hUe,"g");function mUe(e){for(var t=fB.lastIndex=0;fB.test(e);)++t;return t}function Xp(e){return Kp(e)?mUe(e):iUe(e)}var vUe=Math.ceil;function lw(e,t){t=t===void 0?" ":_s(t);var n=t.length;if(n<2)return n?Mk(t,e):t;var r=Mk(t,vUe(e/Xp(t)));return Kp(t)?Bu(po(r),0,e).join(""):r.slice(0,e)}var yUe=Math.ceil,_Ue=Math.floor;function bUe(e,t,n){e=dn(e),t=gt(t);var r=t?Xp(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return lw(_Ue(i),n)+e+lw(yUe(i),n)}function wUe(e,t,n){e=dn(e),t=gt(t);var r=t?Xp(e):0;return t&&r<t?e+lw(t-r,n):e}function xUe(e,t,n){e=dn(e),t=gt(t);var r=t?Xp(e):0;return t&&r<t?lw(t-r,n)+e:e}var EUe=/^\s+/,SUe=Yr.parseInt;function $Ue(e,t,n){return n||t==null?t=0:t&&(t=+t),SUe(dn(e).replace(EUe,""),t||0)}var TUe=32,rP=wt(function(e,t){var n=yu(t,Wp(rP));return ll(e,TUe,void 0,t,n)});rP.placeholder={};const KG=rP;var kUe=64,iP=wt(function(e,t){var n=yu(t,Wp(iP));return ll(e,kUe,void 0,t,n)});iP.placeholder={};const IUe=iP;var CUe=vx(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});const AUe=CUe;function OUe(e,t){return LG(e,t,function(n,r){return UR(e,r)})}var RUe=fl(function(e,t){return e==null?{}:OUe(e,t)});const PUe=RUe;function MUe(e){for(var t,n=this;n instanceof ox;){var r=Y7(n);r.__index__=0,r.__values__=void 0,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t}function DUe(e){return function(t){return e==null?void 0:gd(e,t)}}function NUe(e,t,n,r){for(var i=n-1,s=e.length;++i<s;)if(r(e[i],t))return i;return-1}var LUe=Array.prototype,pB=LUe.splice;function sP(e,t,n,r){var i=r?NUe:Hp,s=-1,o=t.length,a=e;for(e===t&&(t=ts(t)),n&&(a=zn(e,ws(n)));++s<o;)for(var l=0,u=t[s],c=n?n(u):u;(l=i(a,c,l,r))>-1;)a!==e&&pB.call(a,l,1),pB.call(e,l,1);return e}function GG(e,t){return e&&e.length&&t&&t.length?sP(e,t):e}var FUe=wt(GG);const BUe=FUe;function UUe(e,t,n){return e&&e.length&&t&&t.length?sP(e,t,ut(n)):e}function VUe(e,t,n){return e&&e.length&&t&&t.length?sP(e,t,void 0,n):e}var jUe=Array.prototype,HUe=jUe.splice;function YG(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==s){var s=i;al(i)?HUe.call(e,i,1):tP(e,i)}}return e}var WUe=fl(function(e,t){var n=e==null?0:e.length,r=SR(e,t);return YG(e,zn(t,function(i){return al(i,n)?+i:i}).sort(BG)),r});const qUe=WUe;var zUe=Math.floor,KUe=Math.random;function oP(e,t){return e+zUe(KUe()*(t-e+1))}var GUe=parseFloat,YUe=Math.min,XUe=Math.random;function QUe(e,t,n){if(n&&typeof n!="boolean"&&Pi(e,t,n)&&(t=n=void 0),n===void 0&&(typeof t=="boolean"?(n=t,t=void 0):typeof e=="boolean"&&(n=e,e=void 0)),e===void 0&&t===void 0?(e=0,t=1):(e=Fa(e),t===void 0?(t=e,e=0):t=Fa(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=XUe();return YUe(e+i*(t-e+GUe("1e-"+((i+"").length-1))),t)}return oP(e,t)}var JUe=Math.ceil,ZUe=Math.max;function e3e(e,t,n,r){for(var i=-1,s=ZUe(JUe((t-e)/(n||1)),0),o=Array(s);s--;)o[r?s:++i]=e,e+=n;return o}function XG(e){return function(t,n,r){return r&&typeof r!="number"&&Pi(t,n,r)&&(n=r=void 0),t=Fa(t),n===void 0?(n=t,t=0):n=Fa(n),r=r===void 0?t<n?1:-1:Fa(r),e3e(t,n,r,e)}}var t3e=XG();const n3e=t3e;var r3e=XG(!0);const i3e=r3e;var s3e=256,o3e=fl(function(e,t){return ll(e,s3e,void 0,void 0,void 0,t)});const a3e=o3e;function QG(e,t,n,r,i){return i(e,function(s,o,a){n=r?(r=!1,s):t(n,s,o,a)}),n}function l3e(e,t,n){var r=dt(e)?CR:QG,i=arguments.length<3;return r(e,ut(t),n,i,Vu)}function u3e(e,t,n,r){var i=e==null?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function c3e(e,t,n){var r=dt(e)?u3e:QG,i=arguments.length<3;return r(e,ut(t),n,i,fG)}function d3e(e,t){var n=dt(e)?Uu:_G;return n(e,Jv(ut(t)))}function f3e(e,t){var n=[];if(!(e&&e.length))return n;var r=-1,i=[],s=e.length;for(t=ut(t);++r<s;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return YG(e,i),n}function p3e(e,t,n){return(n?Pi(e,t,n):t===void 0)?t=1:t=gt(t),Mk(dn(e),t)}function h3e(){var e=arguments,t=dn(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var g3e="Expected a function";function m3e(e,t){if(typeof e!="function")throw new TypeError(g3e);return t=t===void 0?t:gt(t),wt(e,t)}function v3e(e,t,n){t=Lu(t,e);var r=-1,i=t.length;for(i||(i=1,e=void 0);++r<i;){var s=e==null?void 0:e[na(t[r])];s===void 0&&(r=i,s=n),e=ol(s)?s.call(e):s}return e}var y3e=Array.prototype,_3e=y3e.reverse;function Lk(e){return e==null?e:_3e.call(e)}var b3e=OR("round");const w3e=b3e;function JG(e){var t=e.length;return t?e[oP(0,t-1)]:void 0}function x3e(e){return JG(Yp(e))}function E3e(e){var t=dt(e)?JG:x3e;return t(e)}function $x(e,t){var n=-1,r=e.length,i=r-1;for(t=t===void 0?r:t;++n<t;){var s=oP(n,i),o=e[s];e[s]=e[n],e[n]=o}return e.length=t,e}function S3e(e,t){return $x(ts(e),md(t,0,e.length))}function $3e(e,t){var n=Yp(e);return $x(n,md(t,0,n.length))}function T3e(e,t,n){(n?Pi(e,t,n):t===void 0)?t=1:t=gt(t);var r=dt(e)?S3e:$3e;return r(e,t)}function k3e(e,t,n){return e==null?e:Zv(e,t,n)}function I3e(e,t,n,r){return r=typeof r=="function"?r:void 0,e==null?e:Zv(e,t,n,r)}function C3e(e){return $x(ts(e))}function A3e(e){return $x(Yp(e))}function O3e(e){var t=dt(e)?C3e:A3e;return t(e)}var R3e="[object Map]",P3e="[object Set]";function M3e(e){if(e==null)return 0;if(ss(e))return Ex(e)?Xp(e):e.length;var t=Xo(e);return t==R3e||t==P3e?e.size:xR(e).length}function D3e(e,t,n){var r=e==null?0:e.length;return r?(n&&typeof n!="number"&&Pi(e,t,n)?(t=0,n=r):(t=t==null?0:gt(t),n=n===void 0?r:gt(n)),Hs(e,t,n)):[]}var N3e=Gp(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});const L3e=N3e;function F3e(e,t){var n;return Vu(e,function(r,i,s){return n=t(r,i,s),!n}),!!n}function B3e(e,t,n){var r=dt(e)?NR:F3e;return n&&Pi(e,t,n)&&(t=void 0),r(e,ut(t))}var U3e=wt(function(e,t){if(e==null)return[];var n=t.length;return n>1&&Pi(e,t[0],t[1])?t=[]:n>2&&Pi(t[0],t[1],t[2])&&(t=[t[0]]),UG(e,ti(t,1),[])});const V3e=U3e;var j3e=4294967295,H3e=j3e-1,W3e=Math.floor,q3e=Math.min;function aP(e,t,n,r){var i=0,s=e==null?0:e.length;if(s===0)return 0;t=n(t);for(var o=t!==t,a=t===null,l=ys(t),u=t===void 0;i<s;){var c=W3e((i+s)/2),d=n(e[c]),f=d!==void 0,p=d===null,g=d===d,h=ys(d);if(o)var m=r||g;else u?m=g&&(r||f):a?m=g&&f&&(r||!p):l?m=g&&f&&!p&&(r||!h):p||h?m=!1:m=r?d<=t:d<t;m?i=c+1:s=c}return q3e(s,H3e)}var z3e=4294967295,K3e=z3e>>>1;function Tx(e,t,n){var r=0,i=e==null?r:e.length;if(typeof t=="number"&&t===t&&i<=K3e){for(;r<i;){var s=r+i>>>1,o=e[s];o!==null&&!ys(o)&&(n?o<=t:o<t)?r=s+1:i=s}return i}return aP(e,t,Di,n)}function G3e(e,t){return Tx(e,t)}function Y3e(e,t,n){return aP(e,t,ut(n))}function X3e(e,t){var n=e==null?0:e.length;if(n){var r=Tx(e,t);if(r<n&&wo(e[r],t))return r}return-1}function Q3e(e,t){return Tx(e,t,!0)}function J3e(e,t,n){return aP(e,t,ut(n),!0)}function Z3e(e,t){var n=e==null?0:e.length;if(n){var r=Tx(e,t,!0)-1;if(wo(e[r],t))return r}return-1}function ZG(e,t){for(var n=-1,r=e.length,i=0,s=[];++n<r;){var o=e[n],a=t?t(o):o;if(!n||!wo(a,l)){var l=a;s[i++]=o===0?0:o}}return s}function eVe(e){return e&&e.length?ZG(e):[]}function tVe(e,t){return e&&e.length?ZG(e,ut(t)):[]}var nVe=4294967295;function rVe(e,t,n){return n&&typeof n!="number"&&Pi(e,t,n)&&(t=n=void 0),n=n===void 0?nVe:n>>>0,n?(e=dn(e),e&&(typeof t=="string"||t!=null&&!JR(t))&&(t=_s(t),!t&&Kp(e))?Bu(po(e),0,n):e.split(t,n)):[]}var iVe="Expected a function",sVe=Math.max;function oVe(e,t){if(typeof e!="function")throw new TypeError(iVe);return t=t==null?0:sVe(gt(t),0),wt(function(n){var r=n[t],i=Bu(n,0,t);return r&&Fu(i,r),bs(e,this,i)})}var aVe=Gp(function(e,t,n){return e+(n?" ":"")+IR(t)});const lVe=aVe;function uVe(e,t,n){return e=dn(e),n=n==null?0:md(gt(n),0,e.length),t=_s(t),e.slice(n,n+t.length)==t}function cVe(){return{}}function dVe(){return""}function fVe(){return!0}var pVe=sx(function(e,t){return e-t},0);const hVe=pVe;function gVe(e){return e&&e.length?eP(e,Di):0}function mVe(e,t){return e&&e.length?eP(e,ut(t)):0}function vVe(e){var t=e==null?0:e.length;return t?Hs(e,1,t):[]}function yVe(e,t,n){return e&&e.length?(t=n||t===void 0?1:gt(t),Hs(e,0,t<0?0:t)):[]}function _Ve(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===void 0?1:gt(t),t=r-t,Hs(e,t<0?0:t,r)):[]}function bVe(e,t){return e&&e.length?_x(e,ut(t),!1,!0):[]}function wVe(e,t){return e&&e.length?_x(e,ut(t)):[]}function xVe(e,t){return t(e),e}var eY=Object.prototype,EVe=eY.hasOwnProperty;function hB(e,t,n,r){return e===void 0||wo(e,eY[n])&&!EVe.call(r,n)?t:e}var SVe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function $Ve(e){return"\\"+SVe[e]}var TVe=/<%=([\s\S]+?)%>/g;const tY=TVe;var kVe=/<%-([\s\S]+?)%>/g;const IVe=kVe;var CVe=/<%([\s\S]+?)%>/g;const AVe=CVe;var OVe={escape:IVe,evaluate:AVe,interpolate:tY,variable:"",imports:{_:{escape:gG}}};const Fk=OVe;var RVe="Invalid `variable` option passed into `_.template`",PVe=/\b__p \+= '';/g,MVe=/\b(__p \+=) '' \+/g,DVe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,NVe=/[()=,{}\[\]\/\s]/,LVe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,s_=/($^)/,FVe=/['\n\r\u2028\u2029\\]/g,BVe=Object.prototype,gB=BVe.hasOwnProperty;function UVe(e,t,n){var r=Fk.imports._.templateSettings||Fk;n&&Pi(e,t,n)&&(t=void 0),e=dn(e),t=ow({},t,r,hB);var i=ow({},t.imports,r.imports,hB),s=Lr(i),o=YR(i,s),a,l,u=0,c=t.interpolate||s_,d="__p += '",f=RegExp((t.escape||s_).source+"|"+c.source+"|"+(c===tY?LVe:s_).source+"|"+(t.evaluate||s_).source+"|$","g"),p=gB.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/\s/g," ")+`
`:"";e.replace(f,function(m,v,y,_,b,x){return y||(y=_),d+=e.slice(u,x).replace(FVe,$Ve),v&&(a=!0,d+=`' +
__e(`+v+`) +
'`),b&&(l=!0,d+=`';
`+b+`;
__p += '`),y&&(d+=`' +
((__t = (`+y+`)) == null ? '' : __t) +
'`),u=x+m.length,m}),d+=`';
`;var g=gB.call(t,"variable")&&t.variable;if(!g)d=`with (obj) {
`+d+`
}
`;else if(NVe.test(g))throw new Error(RVe);d=(l?d.replace(PVe,""):d).replace(MVe,"$1").replace(DVe,"$1;"),d="function("+(g||"obj")+`) {
`+(g?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(a?", __e = _.escape":"")+(l?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+d+`return __p
}`;var h=dK(function(){return Function(s,p+"return "+d).apply(void 0,o)});if(h.source=d,$R(h))throw h;return h}var VVe="Expected a function";function jVe(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(VVe);return Kn(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),qR(e,t,{leading:r,maxWait:t,trailing:i})}function ey(e,t){return t(e)}var HVe=9007199254740991,VS=4294967295,WVe=Math.min;function qVe(e,t){if(e=gt(e),e<1||e>HVe)return[];var n=VS,r=WVe(e,VS);t=ia(t),e-=VS;for(var i=bR(r,t);++n<e;)t(n);return i}function zVe(){return this}function nY(e,t){var n=e;return n instanceof Rt&&(n=n.value()),CR(t,function(r,i){return i.func.apply(i.thisArg,Fu([r],i.args))},n)}function jS(){return nY(this.__wrapped__,this.__actions__)}function KVe(e){return dn(e).toLowerCase()}function GVe(e){return dt(e)?zn(e,na):ys(e)?[e]:ts(lK(dn(e)))}var mB=9007199254740991;function YVe(e){return e?md(gt(e),-mB,mB):e===0?e:0}function XVe(e){return dn(e).toUpperCase()}function QVe(e,t,n){var r=dt(e),i=r||_u(e)||zp(e);if(t=ut(t),n==null){var s=e&&e.constructor;i?n=r?new s:[]:Kn(e)?n=ol(s)?jp(gx(e)):{}:n={}}return(i?zs:ra)(e,function(o,a,l){return t(n,o,a,l)}),n}function rY(e,t){for(var n=e.length;n--&&Hp(t,e[n],0)>-1;);return n}function iY(e,t){for(var n=-1,r=e.length;++n<r&&Hp(t,e[n],0)>-1;);return n}function JVe(e,t,n){if(e=dn(e),e&&(n||t===void 0))return W7(e);if(!e||!(t=_s(t)))return e;var r=po(e),i=po(t),s=iY(r,i),o=rY(r,i)+1;return Bu(r,s,o).join("")}function ZVe(e,t,n){if(e=dn(e),e&&(n||t===void 0))return e.slice(0,H7(e)+1);if(!e||!(t=_s(t)))return e;var r=po(e),i=rY(r,po(t))+1;return Bu(r,0,i).join("")}var eje=/^\s+/;function tje(e,t,n){if(e=dn(e),e&&(n||t===void 0))return e.replace(eje,"");if(!e||!(t=_s(t)))return e;var r=po(e),i=iY(r,po(t));return Bu(r,i).join("")}var nje=30,rje="...",ije=/\w*$/;function sje(e,t){var n=nje,r=rje;if(Kn(t)){var i="separator"in t?t.separator:i;n="length"in t?gt(t.length):n,r="omission"in t?_s(t.omission):r}e=dn(e);var s=e.length;if(Kp(e)){var o=po(e);s=o.length}if(n>=s)return e;var a=n-Xp(r);if(a<1)return r;var l=o?Bu(o,0,a).join(""):e.slice(0,a);if(i===void 0)return l+r;if(o&&(a+=l.length-a),JR(i)){if(e.slice(a).search(i)){var u,c=l;for(i.global||(i=RegExp(i.source,dn(ije.exec(i))+"g")),i.lastIndex=0;u=i.exec(c);)var d=u.index;l=l.slice(0,d===void 0?a:d)}}else if(e.indexOf(_s(i),a)!=a){var f=l.lastIndexOf(i);f>-1&&(l=l.slice(0,f))}return l+r}function oje(e){return tK(e,1)}var aje={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},lje=AR(aje);const uje=lje;var sY=/&(?:amp|lt|gt|quot|#39);/g,cje=RegExp(sY.source);function dje(e){return e=dn(e),e&&cje.test(e)?e.replace(sY,uje):e}var fje=1/0,pje=Rf&&1/mx(new Rf([,-0]))[1]==fje?function(e){return new Rf(e)}:mR;const hje=pje;var gje=200;function bu(e,t,n){var r=-1,i=lx,s=e.length,o=!0,a=[],l=a;if(n)o=!1,i=zR;else if(s>=gje){var u=t?null:hje(e);if(u)return mx(u);o=!1,i=Bm,l=new Jc}else l=t?[]:a;e:for(;++r<s;){var c=e[r],d=t?t(c):c;if(c=n||c!==0?c:0,o&&d===d){for(var f=l.length;f--;)if(l[f]===d)continue e;t&&l.push(d),a.push(c)}else i(l,d,n)||(l!==a&&l.push(d),a.push(c))}return a}var mje=wt(function(e){return bu(ti(e,1,dr,!0))});const vje=mje;var yje=wt(function(e){var t=xs(e);return dr(t)&&(t=void 0),bu(ti(e,1,dr,!0),ut(t))});const _je=yje;var bje=wt(function(e){var t=xs(e);return t=typeof t=="function"?t:void 0,bu(ti(e,1,dr,!0),void 0,t)});const wje=bje;function xje(e){return e&&e.length?bu(e):[]}function Eje(e,t){return e&&e.length?bu(e,ut(t)):[]}function Sje(e,t){return t=typeof t=="function"?t:void 0,e&&e.length?bu(e,void 0,t):[]}var $je=0;function Tje(e){var t=++$je;return dn(e)+t}function kje(e,t){return e==null?!0:tP(e,t)}var Ije=Math.max;function lP(e){if(!(e&&e.length))return[];var t=0;return e=Uu(e,function(n){if(dr(n))return t=Ije(n.length,t),!0}),bR(t,function(n){return zn(e,VR(n))})}function oY(e,t){if(!(e&&e.length))return[];var n=lP(e);return t==null?n:zn(n,function(r){return bs(t,void 0,r)})}function aY(e,t,n,r){return Zv(e,t,n(gd(e,t)),r)}function Cje(e,t,n){return e==null?e:aY(e,t,ia(n))}function Aje(e,t,n,r){return r=typeof r=="function"?r:void 0,e==null?e:aY(e,t,ia(n),r)}var Oje=Gp(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()});const Rje=Oje;function Pje(e){return e==null?[]:YR(e,os(e))}var Mje=wt(function(e,t){return dr(e)?Xv(e,t):[]});const Dje=Mje;function Nje(e,t){return KG(ia(t),e)}var Lje=fl(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(s){return SR(s,e)};return t>1||this.__actions__.length||!(r instanceof Rt)||!al(n)?this.thru(i):(r=r.slice(n,+n+(t?1:0)),r.__actions__.push({func:ey,args:[i],thisArg:void 0}),new Vs(r,this.__chain__).thru(function(s){return t&&!s.length&&s.push(void 0),s}))});const Fje=Lje;function Bje(){return LK(this)}function Uje(){var e=this.__wrapped__;if(e instanceof Rt){var t=e;return this.__actions__.length&&(t=new Rt(this)),t=t.reverse(),t.__actions__.push({func:ey,args:[Lk],thisArg:void 0}),new Vs(t,this.__chain__)}return this.thru(Lk)}function uP(e,t,n){var r=e.length;if(r<2)return r?bu(e[0]):[];for(var i=-1,s=Array(r);++i<r;)for(var o=e[i],a=-1;++a<r;)a!=i&&(s[i]=Xv(s[i]||o,e[a],t,n));return bu(ti(s,1),t,n)}var Vje=wt(function(e){return uP(Uu(e,dr))});const jje=Vje;var Hje=wt(function(e){var t=xs(e);return dr(t)&&(t=void 0),uP(Uu(e,dr),ut(t))});const Wje=Hje;var qje=wt(function(e){var t=xs(e);return t=typeof t=="function"?t:void 0,uP(Uu(e,dr),void 0,t)});const zje=qje;var Kje=wt(lP);const Gje=Kje;function lY(e,t,n){for(var r=-1,i=e.length,s=t.length,o={};++r<i;){var a=r<s?t[r]:void 0;n(o,e[r],a)}return o}function Yje(e,t){return lY(e||[],t||[],zv)}function Xje(e,t){return lY(e||[],t||[],Zv)}var Qje=wt(function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n=typeof n=="function"?(e.pop(),n):void 0,oY(e,n)});const Jje=Qje,Ve={chunk:GDe,compact:NLe,concat:LLe,difference:J2e,differenceBy:eFe,differenceWith:nFe,drop:sFe,dropRight:oFe,dropRightWhile:aFe,dropWhile:lFe,fill:CFe,findIndex:wG,findLastIndex:SG,first:aB,flatten:uK,flattenDeep:WFe,flattenDepth:qFe,fromPairs:u5e,head:aB,indexOf:O5e,initial:R5e,intersection:D5e,intersectionBy:L5e,intersectionWith:B5e,join:jBe,last:xs,lastIndexOf:XBe,nth:O4e,pull:BUe,pullAll:GG,pullAllBy:UUe,pullAllWith:VUe,pullAt:qUe,remove:f3e,reverse:Lk,slice:D3e,sortedIndex:G3e,sortedIndexBy:Y3e,sortedIndexOf:X3e,sortedLastIndex:Q3e,sortedLastIndexBy:J3e,sortedLastIndexOf:Z3e,sortedUniq:eVe,sortedUniqBy:tVe,tail:vVe,take:yVe,takeRight:_Ve,takeRightWhile:bVe,takeWhile:wVe,union:vje,unionBy:_je,unionWith:wje,uniq:xje,uniqBy:Eje,uniqWith:Sje,unzip:lP,unzipWith:oY,without:Dje,xor:jje,xorBy:Wje,xorWith:zje,zip:Gje,zipObject:Yje,zipObjectDeep:Xje,zipWith:Jje},_n={countBy:C2e,each:rB,eachRight:iB,every:TFe,filter:AFe,find:xG,findLast:LFe,flatMap:BFe,flatMapDeep:VFe,flatMapDepth:jFe,forEach:rB,forEachRight:iB,groupBy:g5e,includes:C5e,invokeMap:J5e,keyBy:zBe,map:bx,orderBy:H4e,partition:AUe,reduce:l3e,reduceRight:c3e,reject:d3e,sample:E3e,sampleSize:T3e,shuffle:O3e,size:M3e,some:B3e,sortBy:V3e},Zje={now:t0},sr={after:JAe,ary:tK,before:fK,bind:pK,bindKey:AMe,curry:HR,curryRight:WR,debounce:qR,defer:K2e,delay:Y2e,flip:KFe,memoize:px,negate:Jv,once:U4e,overArgs:X4e,partial:KG,partialRight:IUe,rearg:a3e,rest:m3e,spread:oVe,throttle:jVe,unary:oje,wrap:Nje},Ye={castArray:VDe,clone:kLe,cloneDeep:Ok,cloneDeepWith:RLe,cloneWith:MLe,conformsTo:w2e,eq:wo,gt:v5e,gte:_5e,isArguments:Xc,isArray:dt,isArrayBuffer:nBe,isArrayLike:ss,isArrayLikeObject:dr,isBoolean:iBe,isBuffer:_u,isDate:lBe,isElement:uBe,isEmpty:hBe,isEqual:gBe,isEqualWith:mBe,isError:$R,isFinite:yBe,isFunction:ol,isInteger:OG,isLength:cx,isMap:qK,isMatch:_Be,isMatchWith:bBe,isNaN:xBe,isNative:TBe,isNil:kBe,isNull:IBe,isNumber:RG,isObject:Kn,isObjectLike:ir,isPlainObject:Gv,isRegExp:JR,isSafeInteger:RBe,isSet:zK,isString:Ex,isSymbol:ys,isTypedArray:zp,isUndefined:PBe,isWeakMap:DBe,isWeakSet:LBe,lt:n4e,lte:i4e,toArray:DG,toFinite:Fa,toInteger:gt,toLength:yG,toNumber:Ls,toPlainObject:aG,toSafeInteger:YVe,toString:dn},Ni={add:HAe,ceil:qDe,divide:iFe,floor:YFe,max:d4e,maxBy:f4e,mean:h4e,meanBy:g4e,min:x4e,minBy:E4e,multiply:$4e,round:w3e,subtract:hVe,sum:gVe,sumBy:mVe},cP={clamp:YDe,inRange:T5e,random:QUe},st={assign:bPe,assignIn:M5,assignInWith:ow,assignWith:IPe,at:fMe,create:A2e,defaults:U2e,defaultsDeep:W2e,entries:sB,entriesIn:oB,extend:M5,extendWith:ow,findKey:PFe,findLastKey:FFe,forIn:s5e,forInRight:o5e,forOwn:a5e,forOwnRight:l5e,functions:c5e,functionsIn:d5e,get:hx,has:kG,hasIn:UR,invert:W5e,invertBy:G5e,invoke:X5e,keys:Lr,keysIn:os,mapKeys:s4e,mapValues:o4e,merge:v4e,mergeWith:uG,omit:F4e,omitBy:B4e,pick:PUe,pickBy:FG,result:v3e,set:k3e,setWith:I3e,toPairs:sB,toPairsIn:oB,transform:QVe,unset:kje,update:Cje,updateWith:Aje,values:Yp,valuesIn:Pje},sa={at:Fje,chain:LK,commit:DLe,lodash:R,next:A4e,plant:MUe,reverse:Uje,tap:xVe,thru:ey,toIterator:zVe,toJSON:jS,value:jS,valueOf:jS,wrapperChain:Bje},an={camelCase:UDe,capitalize:wK,deburr:xK,endsWith:fFe,escape:gG,escapeRegExp:SFe,kebabCase:WBe,lowerCase:JBe,lowerFirst:e4e,pad:bUe,padEnd:wUe,padStart:xUe,parseInt:$Ue,repeat:p3e,replace:h3e,snakeCase:L3e,split:rVe,startCase:lVe,startsWith:uVe,template:UVe,templateSettings:Fk,toLower:KVe,toUpper:XVe,trim:JVe,trimEnd:ZVe,trimStart:tje,truncate:sje,unescape:dje,upperCase:Rje,upperFirst:IR,words:NK},pn={attempt:dK,bindAll:TMe,cond:v2e,conforms:b2e,constant:yR,defaultTo:L2e,flow:n5e,flowRight:i5e,identity:Di,iteratee:BBe,matches:l4e,matchesProperty:c4e,method:_4e,methodOf:w4e,mixin:MG,noop:mR,nthArg:R4e,over:q4e,overEvery:J4e,overSome:eUe,property:nG,propertyOf:DUe,range:n3e,rangeRight:i3e,stubArray:RR,stubFalse:wR,stubObject:cVe,stubString:dVe,stubTrue:fVe,times:qVe,toPath:GVe,uniqueId:Tje};function eHe(){var e=new Rt(this.__wrapped__);return e.__actions__=ts(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ts(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ts(this.__views__),e}function tHe(){if(this.__filtered__){var e=new Rt(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}var nHe=Math.max,rHe=Math.min;function iHe(e,t,n){for(var r=-1,i=n.length;++r<i;){var s=n[r],o=s.size;switch(s.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=rHe(t,e+o);break;case"takeRight":e=nHe(e,t-o);break}}return{start:e,end:t}}var sHe=1,oHe=2,aHe=Math.min;function lHe(){var e=this.__wrapped__.value(),t=this.__dir__,n=dt(e),r=t<0,i=n?e.length:0,s=iHe(0,i,this.__views__),o=s.start,a=s.end,l=a-o,u=r?a:o-1,c=this.__iteratees__,d=c.length,f=0,p=aHe(l,this.__takeCount__);if(!n||!r&&i==l&&p==l)return nY(e,this.__actions__);var g=[];e:for(;l--&&f<p;){u+=t;for(var h=-1,m=e[u];++h<d;){var v=c[h],y=v.iteratee,_=v.type,b=y(m);if(_==oHe)m=b;else if(!b){if(_==sHe)continue e;break e}}g[f++]=m}return g}/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var uHe="4.17.21",cHe=2,dHe=1,fHe=3,uY=4294967295,pHe=Array.prototype,hHe=Object.prototype,cY=hHe.hasOwnProperty,vB=mi?mi.iterator:void 0,gHe=Math.max,yB=Math.min,dP=function(e){return function(t,n,r){if(r==null){var i=Kn(n),s=i&&Lr(n),o=s&&s.length&&wx(n,s);(o?o.length:i)||(r=n,n=t,t=this)}return e(t,n,r)}}(MG);R.after=sr.after;R.ary=sr.ary;R.assign=st.assign;R.assignIn=st.assignIn;R.assignInWith=st.assignInWith;R.assignWith=st.assignWith;R.at=st.at;R.before=sr.before;R.bind=sr.bind;R.bindAll=pn.bindAll;R.bindKey=sr.bindKey;R.castArray=Ye.castArray;R.chain=sa.chain;R.chunk=Ve.chunk;R.compact=Ve.compact;R.concat=Ve.concat;R.cond=pn.cond;R.conforms=pn.conforms;R.constant=pn.constant;R.countBy=_n.countBy;R.create=st.create;R.curry=sr.curry;R.curryRight=sr.curryRight;R.debounce=sr.debounce;R.defaults=st.defaults;R.defaultsDeep=st.defaultsDeep;R.defer=sr.defer;R.delay=sr.delay;R.difference=Ve.difference;R.differenceBy=Ve.differenceBy;R.differenceWith=Ve.differenceWith;R.drop=Ve.drop;R.dropRight=Ve.dropRight;R.dropRightWhile=Ve.dropRightWhile;R.dropWhile=Ve.dropWhile;R.fill=Ve.fill;R.filter=_n.filter;R.flatMap=_n.flatMap;R.flatMapDeep=_n.flatMapDeep;R.flatMapDepth=_n.flatMapDepth;R.flatten=Ve.flatten;R.flattenDeep=Ve.flattenDeep;R.flattenDepth=Ve.flattenDepth;R.flip=sr.flip;R.flow=pn.flow;R.flowRight=pn.flowRight;R.fromPairs=Ve.fromPairs;R.functions=st.functions;R.functionsIn=st.functionsIn;R.groupBy=_n.groupBy;R.initial=Ve.initial;R.intersection=Ve.intersection;R.intersectionBy=Ve.intersectionBy;R.intersectionWith=Ve.intersectionWith;R.invert=st.invert;R.invertBy=st.invertBy;R.invokeMap=_n.invokeMap;R.iteratee=pn.iteratee;R.keyBy=_n.keyBy;R.keys=Lr;R.keysIn=st.keysIn;R.map=_n.map;R.mapKeys=st.mapKeys;R.mapValues=st.mapValues;R.matches=pn.matches;R.matchesProperty=pn.matchesProperty;R.memoize=sr.memoize;R.merge=st.merge;R.mergeWith=st.mergeWith;R.method=pn.method;R.methodOf=pn.methodOf;R.mixin=dP;R.negate=Jv;R.nthArg=pn.nthArg;R.omit=st.omit;R.omitBy=st.omitBy;R.once=sr.once;R.orderBy=_n.orderBy;R.over=pn.over;R.overArgs=sr.overArgs;R.overEvery=pn.overEvery;R.overSome=pn.overSome;R.partial=sr.partial;R.partialRight=sr.partialRight;R.partition=_n.partition;R.pick=st.pick;R.pickBy=st.pickBy;R.property=pn.property;R.propertyOf=pn.propertyOf;R.pull=Ve.pull;R.pullAll=Ve.pullAll;R.pullAllBy=Ve.pullAllBy;R.pullAllWith=Ve.pullAllWith;R.pullAt=Ve.pullAt;R.range=pn.range;R.rangeRight=pn.rangeRight;R.rearg=sr.rearg;R.reject=_n.reject;R.remove=Ve.remove;R.rest=sr.rest;R.reverse=Ve.reverse;R.sampleSize=_n.sampleSize;R.set=st.set;R.setWith=st.setWith;R.shuffle=_n.shuffle;R.slice=Ve.slice;R.sortBy=_n.sortBy;R.sortedUniq=Ve.sortedUniq;R.sortedUniqBy=Ve.sortedUniqBy;R.split=an.split;R.spread=sr.spread;R.tail=Ve.tail;R.take=Ve.take;R.takeRight=Ve.takeRight;R.takeRightWhile=Ve.takeRightWhile;R.takeWhile=Ve.takeWhile;R.tap=sa.tap;R.throttle=sr.throttle;R.thru=ey;R.toArray=Ye.toArray;R.toPairs=st.toPairs;R.toPairsIn=st.toPairsIn;R.toPath=pn.toPath;R.toPlainObject=Ye.toPlainObject;R.transform=st.transform;R.unary=sr.unary;R.union=Ve.union;R.unionBy=Ve.unionBy;R.unionWith=Ve.unionWith;R.uniq=Ve.uniq;R.uniqBy=Ve.uniqBy;R.uniqWith=Ve.uniqWith;R.unset=st.unset;R.unzip=Ve.unzip;R.unzipWith=Ve.unzipWith;R.update=st.update;R.updateWith=st.updateWith;R.values=st.values;R.valuesIn=st.valuesIn;R.without=Ve.without;R.words=an.words;R.wrap=sr.wrap;R.xor=Ve.xor;R.xorBy=Ve.xorBy;R.xorWith=Ve.xorWith;R.zip=Ve.zip;R.zipObject=Ve.zipObject;R.zipObjectDeep=Ve.zipObjectDeep;R.zipWith=Ve.zipWith;R.entries=st.toPairs;R.entriesIn=st.toPairsIn;R.extend=st.assignIn;R.extendWith=st.assignInWith;dP(R,R);R.add=Ni.add;R.attempt=pn.attempt;R.camelCase=an.camelCase;R.capitalize=an.capitalize;R.ceil=Ni.ceil;R.clamp=cP.clamp;R.clone=Ye.clone;R.cloneDeep=Ye.cloneDeep;R.cloneDeepWith=Ye.cloneDeepWith;R.cloneWith=Ye.cloneWith;R.conformsTo=Ye.conformsTo;R.deburr=an.deburr;R.defaultTo=pn.defaultTo;R.divide=Ni.divide;R.endsWith=an.endsWith;R.eq=Ye.eq;R.escape=an.escape;R.escapeRegExp=an.escapeRegExp;R.every=_n.every;R.find=_n.find;R.findIndex=Ve.findIndex;R.findKey=st.findKey;R.findLast=_n.findLast;R.findLastIndex=Ve.findLastIndex;R.findLastKey=st.findLastKey;R.floor=Ni.floor;R.forEach=_n.forEach;R.forEachRight=_n.forEachRight;R.forIn=st.forIn;R.forInRight=st.forInRight;R.forOwn=st.forOwn;R.forOwnRight=st.forOwnRight;R.get=st.get;R.gt=Ye.gt;R.gte=Ye.gte;R.has=st.has;R.hasIn=st.hasIn;R.head=Ve.head;R.identity=Di;R.includes=_n.includes;R.indexOf=Ve.indexOf;R.inRange=cP.inRange;R.invoke=st.invoke;R.isArguments=Ye.isArguments;R.isArray=dt;R.isArrayBuffer=Ye.isArrayBuffer;R.isArrayLike=Ye.isArrayLike;R.isArrayLikeObject=Ye.isArrayLikeObject;R.isBoolean=Ye.isBoolean;R.isBuffer=Ye.isBuffer;R.isDate=Ye.isDate;R.isElement=Ye.isElement;R.isEmpty=Ye.isEmpty;R.isEqual=Ye.isEqual;R.isEqualWith=Ye.isEqualWith;R.isError=Ye.isError;R.isFinite=Ye.isFinite;R.isFunction=Ye.isFunction;R.isInteger=Ye.isInteger;R.isLength=Ye.isLength;R.isMap=Ye.isMap;R.isMatch=Ye.isMatch;R.isMatchWith=Ye.isMatchWith;R.isNaN=Ye.isNaN;R.isNative=Ye.isNative;R.isNil=Ye.isNil;R.isNull=Ye.isNull;R.isNumber=Ye.isNumber;R.isObject=Kn;R.isObjectLike=Ye.isObjectLike;R.isPlainObject=Ye.isPlainObject;R.isRegExp=Ye.isRegExp;R.isSafeInteger=Ye.isSafeInteger;R.isSet=Ye.isSet;R.isString=Ye.isString;R.isSymbol=Ye.isSymbol;R.isTypedArray=Ye.isTypedArray;R.isUndefined=Ye.isUndefined;R.isWeakMap=Ye.isWeakMap;R.isWeakSet=Ye.isWeakSet;R.join=Ve.join;R.kebabCase=an.kebabCase;R.last=xs;R.lastIndexOf=Ve.lastIndexOf;R.lowerCase=an.lowerCase;R.lowerFirst=an.lowerFirst;R.lt=Ye.lt;R.lte=Ye.lte;R.max=Ni.max;R.maxBy=Ni.maxBy;R.mean=Ni.mean;R.meanBy=Ni.meanBy;R.min=Ni.min;R.minBy=Ni.minBy;R.stubArray=pn.stubArray;R.stubFalse=pn.stubFalse;R.stubObject=pn.stubObject;R.stubString=pn.stubString;R.stubTrue=pn.stubTrue;R.multiply=Ni.multiply;R.nth=Ve.nth;R.noop=pn.noop;R.now=Zje.now;R.pad=an.pad;R.padEnd=an.padEnd;R.padStart=an.padStart;R.parseInt=an.parseInt;R.random=cP.random;R.reduce=_n.reduce;R.reduceRight=_n.reduceRight;R.repeat=an.repeat;R.replace=an.replace;R.result=st.result;R.round=Ni.round;R.sample=_n.sample;R.size=_n.size;R.snakeCase=an.snakeCase;R.some=_n.some;R.sortedIndex=Ve.sortedIndex;R.sortedIndexBy=Ve.sortedIndexBy;R.sortedIndexOf=Ve.sortedIndexOf;R.sortedLastIndex=Ve.sortedLastIndex;R.sortedLastIndexBy=Ve.sortedLastIndexBy;R.sortedLastIndexOf=Ve.sortedLastIndexOf;R.startCase=an.startCase;R.startsWith=an.startsWith;R.subtract=Ni.subtract;R.sum=Ni.sum;R.sumBy=Ni.sumBy;R.template=an.template;R.times=pn.times;R.toFinite=Ye.toFinite;R.toInteger=gt;R.toLength=Ye.toLength;R.toLower=an.toLower;R.toNumber=Ye.toNumber;R.toSafeInteger=Ye.toSafeInteger;R.toString=Ye.toString;R.toUpper=an.toUpper;R.trim=an.trim;R.trimEnd=an.trimEnd;R.trimStart=an.trimStart;R.truncate=an.truncate;R.unescape=an.unescape;R.uniqueId=pn.uniqueId;R.upperCase=an.upperCase;R.upperFirst=an.upperFirst;R.each=_n.forEach;R.eachRight=_n.forEachRight;R.first=Ve.head;dP(R,function(){var e={};return ra(R,function(t,n){cY.call(R.prototype,n)||(e[n]=t)}),e}(),{chain:!1});R.VERSION=uHe;(R.templateSettings=an.templateSettings).imports._=R;zs(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){R[e].placeholder=R});zs(["drop","take"],function(e,t){Rt.prototype[e]=function(n){n=n===void 0?1:gHe(gt(n),0);var r=this.__filtered__&&!t?new Rt(this):this.clone();return r.__filtered__?r.__takeCount__=yB(n,r.__takeCount__):r.__views__.push({size:yB(n,uY),type:e+(r.__dir__<0?"Right":"")}),r},Rt.prototype[e+"Right"]=function(n){return this.reverse()[e](n).reverse()}});zs(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==dHe||n==fHe;Rt.prototype[e]=function(i){var s=this.clone();return s.__iteratees__.push({iteratee:ut(i),type:n}),s.__filtered__=s.__filtered__||r,s}});zs(["head","last"],function(e,t){var n="take"+(t?"Right":"");Rt.prototype[e]=function(){return this[n](1).value()[0]}});zs(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");Rt.prototype[e]=function(){return this.__filtered__?new Rt(this):this[n](1)}});Rt.prototype.compact=function(){return this.filter(Di)};Rt.prototype.find=function(e){return this.filter(e).head()};Rt.prototype.findLast=function(e){return this.reverse().find(e)};Rt.prototype.invokeMap=wt(function(e,t){return typeof e=="function"?new Rt(this):this.map(function(n){return Qv(n,e,t)})});Rt.prototype.reject=function(e){return this.filter(Jv(ut(e)))};Rt.prototype.slice=function(e,t){e=gt(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Rt(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==void 0&&(t=gt(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)};Rt.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()};Rt.prototype.toArray=function(){return this.take(uY)};ra(Rt.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=R[r?"take"+(t=="last"?"Right":""):t],s=r||/^find/.test(t);i&&(R.prototype[t]=function(){var o=this.__wrapped__,a=r?[1]:arguments,l=o instanceof Rt,u=a[0],c=l||dt(o),d=function(v){var y=i.apply(R,Fu([v],a));return r&&f?y[0]:y};c&&n&&typeof u=="function"&&u.length!=1&&(l=c=!1);var f=this.__chain__,p=!!this.__actions__.length,g=s&&!f,h=l&&!p;if(!s&&c){o=h?o:new Rt(this);var m=e.apply(o,a);return m.__actions__.push({func:ey,args:[d],thisArg:void 0}),new Vs(m,f)}return g&&h?e.apply(this,a):(m=this.thru(d),g?r?m.value()[0]:m.value():m)})});zs(["pop","push","shift","sort","splice","unshift"],function(e){var t=pHe[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);R.prototype[e]=function(){var i=arguments;if(r&&!this.__chain__){var s=this.value();return t.apply(dt(s)?s:[],i)}return this[n](function(o){return t.apply(dt(o)?o:[],i)})}});ra(Rt.prototype,function(e,t){var n=R[t];if(n){var r=n.name+"";cY.call(Of,r)||(Of[r]=[]),Of[r].push({name:t,func:n})}});Of[ux(void 0,cHe).name]=[{name:"wrapper",func:void 0}];Rt.prototype.clone=eHe;Rt.prototype.reverse=tHe;Rt.prototype.value=lHe;R.prototype.at=sa.at;R.prototype.chain=sa.wrapperChain;R.prototype.commit=sa.commit;R.prototype.next=sa.next;R.prototype.plant=sa.plant;R.prototype.reverse=sa.reverse;R.prototype.toJSON=R.prototype.valueOf=R.prototype.value=sa.value;R.prototype.first=R.prototype.head;vB&&(R.prototype[vB]=sa.toIterator);const dY=Symbol("firebaseApp");function fY(e){return fr()&&ct(dY,null)||rd(e)}const o_=new WeakMap;function mHe(e,t){if(!o_.has(e)){const n=pU(!0);o_.set(e,n);const{unmount:r}=t;t.unmount=()=>{r.call(t),n.stop(),o_.delete(e)}}return o_.get(e)}const pY=new WeakMap;function ty(e){return pY.get(fY(e))}function uZe(e){const t=ty(e);return Ce(()=>t.value!==void 0)}const a_=new WeakMap;function hY(e){const t=fY(e);if(!a_.has(t)){let n;const i=[new Promise(s=>{n=s}),s=>{a_.set(t,s),n(s.value)}];a_.set(t,i)}return a_.get(t)}function fP(e){const t=hY(e);return Array.isArray(t)?t[0]:Promise.resolve(t.value)}function vHe(e,t){kq(t,n=>{const r=hY();e.value=n,Array.isArray(r)&&r[1](e)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gY="firebasestorage.googleapis.com",yHe="storageBucket",_He=2*60*1e3,bHe=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa extends Es{constructor(t,n,r=0){super(HS(t),`Firebase Storage: ${n} (${HS(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,oa.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return HS(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Qo;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Qo||(Qo={}));function HS(e){return"storage/"+e}function wHe(){const e="An unknown error occurred, please check the error payload for server response.";return new oa(Qo.UNKNOWN,e)}function xHe(){return new oa(Qo.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function EHe(){return new oa(Qo.CANCELED,"User canceled the upload/download.")}function SHe(e){return new oa(Qo.INVALID_URL,"Invalid URL '"+e+"'.")}function $He(e){return new oa(Qo.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function _B(e){return new oa(Qo.INVALID_ARGUMENT,e)}function mY(){return new oa(Qo.APP_DELETED,"The Firebase app was deleted.")}function THe(e){return new oa(Qo.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=no.makeFromUrl(t,n)}catch{return new no(t,"")}if(r.path==="")return r;throw $He(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(b){b.path.charAt(b.path.length-1)==="/"&&(b.path_=b.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(b){b.path_=decodeURIComponent(b.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${c}/b/${i}/o${f}`,"i"),g={bucket:1,path:3},h=n===gY?"(?:storage.googleapis.com|storage.cloud.google.com)":n,m="([^?#]*)",v=new RegExp(`^https?://${h}/${i}/${m}`,"i"),_=[{regex:a,indices:l,postModify:s},{regex:p,indices:g,postModify:u},{regex:v,indices:{bucket:1,path:2},postModify:u}];for(let b=0;b<_.length;b++){const x=_[b],w=x.regex.exec(t);if(w){const $=w[x.indices.bucket];let E=w[x.indices.path];E||(E=""),r=new no($,E),x.postModify(r);break}}if(r==null)throw SHe(t);return r}}class kHe{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IHe(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...m){u||(u=!0,t.apply(null,m))}function d(m){i=setTimeout(()=>{i=null,e(p,l())},m)}function f(){s&&clearTimeout(s)}function p(m,...v){if(u){f();return}if(m){f(),c.call(null,m,...v);return}if(l()||o){f(),c.call(null,m,...v);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,d(_)}let g=!1;function h(m){g||(g=!0,f(),!u&&(i!==null?(m||(a=2),clearTimeout(i),d(0)):m||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,h(!0)},n),h}function CHe(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AHe(e){return e!==void 0}function bB(e,t,n,r){if(r<t)throw _B(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw _B(`Invalid value for '${e}'. Expected ${n} or less.`)}function OHe(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uw;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(uw||(uw={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RHe(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PHe{constructor(t,n,r,i,s,o,a,l,u,c,d,f=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new l_(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===uw.NO_ERROR,l=s.getStatus();if(!a||RHe(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===uw.ABORT;r(!1,new l_(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new l_(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());AHe(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=wHe();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?mY():EHe();o(l)}else{const l=xHe();o(l)}};this.canceled_?n(!1,new l_(!1,null,!0)):this.backoffId_=IHe(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&CHe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class l_{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function MHe(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function DHe(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function NHe(e,t){t&&(e["X-Firebase-GMPID"]=t)}function LHe(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function FHe(e,t,n,r,i,s,o=!0){const a=OHe(e.urlParams),l=e.url+a,u=Object.assign({},e.headers);return NHe(u,t),MHe(u,n),DHe(u,s),LHe(u,r),new PHe(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BHe(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function UHe(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(t,n){this._service=t,n instanceof no?this._location=n:this._location=no.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new cw(t,n)}get root(){const t=new no(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return UHe(this._location.path)}get storage(){return this._service}get parent(){const t=BHe(this._location.path);if(t===null)return null;const n=new no(this._location.bucket,t);return new cw(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw THe(t)}}function wB(e,t){const n=t==null?void 0:t[yHe];return n==null?null:no.makeFromBucketSpec(n,e)}class VHe{constructor(t,n,r,i,s){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=gY,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=_He,this._maxUploadRetryTime=bHe,this._requests=new Set,i!=null?this._bucket=no.makeFromBucketSpec(i,this._host):this._bucket=wB(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=no.makeFromBucketSpec(this._url,t):this._bucket=wB(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){bB("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){bB("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new cw(this,t)}_makeRequest(t,n,r,i,s=!0){if(this._deleted)return new kHe(mY());{const o=FHe(t,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const xB="@firebase/storage",EB="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jHe="storage";function HHe(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new VHe(n,r,i,t,Tu)}function WHe(){Oi(new gi(jHe,HHe,"PUBLIC").setMultipleInstances(!0)),Or(xB,EB,""),Or(xB,EB,"esm2017")}WHe();function qHe(e){return KHe({initialUser:e,dependencies:{popupRedirectResolver:Uq,persistence:[Nq,Aq,hO]}})}const zHe=Symbol("VueFireAuth");function KHe({dependencies:e,initialUser:t}){return(n,r)=>{const[i,s]=GHe(n,r,t,e);vHe(i,s)}}function GHe(e,t,n,r,i=wq(e,r)){const s=mHe(e,t).run(()=>re(n));return pY.set(e,s),t.provide(zHe,i),[s,i]}function YHe(e,{firebaseApp:t,modules:n=[]}){e.provide(dY,t);for(const r of n)r(t,e)}/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const zd=typeof document<"u";function vY(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function XHe(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&vY(e.default)}const hn=Object.assign;function WS(e,t){const n={};for(const r in t){const i=t[r];n[r]=ho(i)?i.map(e):e(i)}return n}const xg=()=>{},ho=Array.isArray,yY=/#/g,QHe=/&/g,JHe=/\//g,ZHe=/=/g,eWe=/\?/g,_Y=/\+/g,tWe=/%5B/g,nWe=/%5D/g,bY=/%5E/g,rWe=/%60/g,wY=/%7B/g,iWe=/%7C/g,xY=/%7D/g,sWe=/%20/g;function pP(e){return encodeURI(""+e).replace(iWe,"|").replace(tWe,"[").replace(nWe,"]")}function oWe(e){return pP(e).replace(wY,"{").replace(xY,"}").replace(bY,"^")}function Bk(e){return pP(e).replace(_Y,"%2B").replace(sWe,"+").replace(yY,"%23").replace(QHe,"%26").replace(rWe,"`").replace(wY,"{").replace(xY,"}").replace(bY,"^")}function aWe(e){return Bk(e).replace(ZHe,"%3D")}function lWe(e){return pP(e).replace(yY,"%23").replace(eWe,"%3F")}function uWe(e){return e==null?"":lWe(e).replace(JHe,"%2F")}function Um(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const cWe=/\/$/,dWe=e=>e.replace(cWe,"");function qS(e,t,n="/"){let r,i={},s="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=t.slice(0,l),s=t.slice(l+1,a>-1?a:t.length),i=e(s)),a>-1&&(r=r||t.slice(0,a),o=t.slice(a,t.length)),r=gWe(r??t,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:Um(o)}}function fWe(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function SB(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function pWe(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&gp(t.matched[r],n.matched[i])&&EY(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function gp(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function EY(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!hWe(e[n],t[n]))return!1;return!0}function hWe(e,t){return ho(e)?$B(e,t):ho(t)?$B(t,e):e===t}function $B(e,t){return ho(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function gWe(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o).join("/")}const wl={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Vm;(function(e){e.pop="pop",e.push="push"})(Vm||(Vm={}));var Eg;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Eg||(Eg={}));function mWe(e){if(!e)if(zd){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),dWe(e)}const vWe=/^[^#]+#/;function yWe(e,t){return e.replace(vWe,"#")+t}function _We(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const kx=()=>({left:window.scrollX,top:window.scrollY});function bWe(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=_We(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function TB(e,t){return(history.state?history.state.position-t:-1)+e}const Uk=new Map;function wWe(e,t){Uk.set(e,t)}function xWe(e){const t=Uk.get(e);return Uk.delete(e),t}let EWe=()=>location.protocol+"//"+location.host;function SY(e,t){const{pathname:n,search:r,hash:i}=t,s=e.indexOf("#");if(s>-1){let a=i.includes(e.slice(s))?e.slice(s).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),SB(l,"")}return SB(n,e)+r+i}function SWe(e,t,n,r){let i=[],s=[],o=null;const a=({state:f})=>{const p=SY(e,location),g=n.value,h=t.value;let m=0;if(f){if(n.value=p,t.value=f,o&&o===g){o=null;return}m=h?f.position-h.position:0}else r(p);i.forEach(v=>{v(n.value,g,{delta:m,type:Vm.pop,direction:m?m>0?Eg.forward:Eg.back:Eg.unknown})})};function l(){o=n.value}function u(f){i.push(f);const p=()=>{const g=i.indexOf(f);g>-1&&i.splice(g,1)};return s.push(p),p}function c(){const{history:f}=window;f.state&&f.replaceState(hn({},f.state,{scroll:kx()}),"")}function d(){for(const f of s)f();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:d}}function kB(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?kx():null}}function $We(e){const{history:t,location:n}=window,r={value:SY(e,n)},i={value:t.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(l,u,c){const d=e.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?e:e.slice(d))+l:EWe()+e+l;try{t[c?"replaceState":"pushState"](u,"",f),i.value=u}catch(p){console.error(p),n[c?"replace":"assign"](f)}}function o(l,u){const c=hn({},t.state,kB(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});s(l,c,!0),r.value=l}function a(l,u){const c=hn({},i.value,t.state,{forward:l,scroll:kx()});s(c.current,c,!0);const d=hn({},kB(r.value,l,null),{position:c.position+1},u);s(l,d,!1),r.value=l}return{location:r,state:i,push:a,replace:o}}function TWe(e){e=mWe(e);const t=$We(e),n=SWe(e,t.state,t.location,t.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=hn({location:"",base:e,go:r,createHref:yWe.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function kWe(e){return typeof e=="string"||e&&typeof e=="object"}function $Y(e){return typeof e=="string"||typeof e=="symbol"}const TY=Symbol("");var IB;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(IB||(IB={}));function mp(e,t){return hn(new Error,{type:e,[TY]:!0},t)}function fa(e,t){return e instanceof Error&&TY in e&&(t==null||!!(e.type&t))}const CB="[^/]+?",IWe={sensitive:!1,strict:!1,start:!0,end:!0},CWe=/[.+*?^${}()[\]/\\]/g;function AWe(e,t){const n=hn({},IWe,t),r=[];let i=n.start?"^":"";const s=[];for(const u of e){const c=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let d=0;d<u.length;d++){const f=u[d];let p=40+(n.sensitive?.25:0);if(f.type===0)d||(i+="/"),i+=f.value.replace(CWe,"\\$&"),p+=40;else if(f.type===1){const{value:g,repeatable:h,optional:m,regexp:v}=f;s.push({name:g,repeatable:h,optional:m});const y=v||CB;if(y!==CB){p+=10;try{new RegExp(`(${y})`)}catch(b){throw new Error(`Invalid custom RegExp for param "${g}" (${y}): `+b.message)}}let _=h?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;d||(_=m&&u.length<2?`(?:/${_})`:"/"+_),m&&(_+="?"),i+=_,p+=20,m&&(p+=-8),h&&(p+=-20),y===".*"&&(p+=-50)}c.push(p)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(u){const c=u.match(o),d={};if(!c)return null;for(let f=1;f<c.length;f++){const p=c[f]||"",g=s[f-1];d[g.name]=p&&g.repeatable?p.split("/"):p}return d}function l(u){let c="",d=!1;for(const f of e){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const p of f)if(p.type===0)c+=p.value;else if(p.type===1){const{value:g,repeatable:h,optional:m}=p,v=g in u?u[g]:"";if(ho(v)&&!h)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const y=ho(v)?v.join("/"):v;if(!y)if(m)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${g}"`);c+=y}}return c||"/"}return{re:o,score:r,keys:s,parse:a,stringify:l}}function OWe(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function kY(e,t){let n=0;const r=e.score,i=t.score;for(;n<r.length&&n<i.length;){const s=OWe(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(AB(r))return 1;if(AB(i))return-1}return i.length-r.length}function AB(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const RWe={type:0,value:""},PWe=/[a-zA-Z0-9_]/;function MWe(e){if(!e)return[[]];if(e==="/")return[[RWe]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(p){throw new Error(`ERR (${n})/"${u}": ${p}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,u="",c="";function d(){u&&(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&d(),o()):l===":"?(d(),n=1):f();break;case 4:f(),n=r;break;case 1:l==="("?n=2:PWe.test(l)?f():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${u}"`),d(),o(),i}function DWe(e,t,n){const r=AWe(MWe(e.path),n),i=hn(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function NWe(e,t){const n=[],r=new Map;t=MB({strict:!1,end:!0,sensitive:!1},t);function i(d){return r.get(d)}function s(d,f,p){const g=!p,h=RB(d);h.aliasOf=p&&p.record;const m=MB(t,d),v=[h];if("alias"in d){const b=typeof d.alias=="string"?[d.alias]:d.alias;for(const x of b)v.push(RB(hn({},h,{components:p?p.record.components:h.components,path:x,aliasOf:p?p.record:h})))}let y,_;for(const b of v){const{path:x}=b;if(f&&x[0]!=="/"){const w=f.record.path,$=w[w.length-1]==="/"?"":"/";b.path=f.record.path+(x&&$+x)}if(y=DWe(b,f,m),p?p.alias.push(y):(_=_||y,_!==y&&_.alias.push(y),g&&d.name&&!PB(y)&&o(d.name)),IY(y)&&l(y),h.children){const w=h.children;for(let $=0;$<w.length;$++)s(w[$],y,p&&p.children[$])}p=p||y}return _?()=>{o(_)}:xg}function o(d){if($Y(d)){const f=r.get(d);f&&(r.delete(d),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(d);f>-1&&(n.splice(f,1),d.record.name&&r.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return n}function l(d){const f=BWe(d,n);n.splice(f,0,d),d.record.name&&!PB(d)&&r.set(d.record.name,d)}function u(d,f){let p,g={},h,m;if("name"in d&&d.name){if(p=r.get(d.name),!p)throw mp(1,{location:d});m=p.record.name,g=hn(OB(f.params,p.keys.filter(_=>!_.optional).concat(p.parent?p.parent.keys.filter(_=>_.optional):[]).map(_=>_.name)),d.params&&OB(d.params,p.keys.map(_=>_.name))),h=p.stringify(g)}else if(d.path!=null)h=d.path,p=n.find(_=>_.re.test(h)),p&&(g=p.parse(h),m=p.record.name);else{if(p=f.name?r.get(f.name):n.find(_=>_.re.test(f.path)),!p)throw mp(1,{location:d,currentLocation:f});m=p.record.name,g=hn({},f.params,d.params),h=p.stringify(g)}const v=[];let y=p;for(;y;)v.unshift(y.record),y=y.parent;return{name:m,path:h,params:g,matched:v,meta:FWe(v)}}e.forEach(d=>s(d));function c(){n.length=0,r.clear()}return{addRoute:s,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:i}}function OB(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function RB(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:LWe(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function LWe(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function PB(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function FWe(e){return e.reduce((t,n)=>hn(t,n.meta),{})}function MB(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function BWe(e,t){let n=0,r=t.length;for(;n!==r;){const s=n+r>>1;kY(e,t[s])<0?r=s:n=s+1}const i=UWe(e);return i&&(r=t.lastIndexOf(i,r-1)),r}function UWe(e){let t=e;for(;t=t.parent;)if(IY(t)&&kY(e,t)===0)return t}function IY({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function VWe(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(_Y," "),o=s.indexOf("="),a=Um(o<0?s:s.slice(0,o)),l=o<0?null:Um(s.slice(o+1));if(a in t){let u=t[a];ho(u)||(u=t[a]=[u]),u.push(l)}else t[a]=l}return t}function DB(e){let t="";for(let n in e){const r=e[n];if(n=aWe(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(ho(r)?r.map(s=>s&&Bk(s)):[r&&Bk(r)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function jWe(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=ho(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return t}const HWe=Symbol(""),NB=Symbol(""),Ix=Symbol(""),hP=Symbol(""),Vk=Symbol("");function Eh(){let e=[];function t(r){return e.push(r),()=>{const i=e.indexOf(r);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Al(e,t,n,r,i,s=o=>o()){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const u=f=>{f===!1?l(mp(4,{from:n,to:t})):f instanceof Error?l(f):kWe(f)?l(mp(2,{from:t,to:f})):(o&&r.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),a())},c=s(()=>e.call(r&&r.instances[i],t,n,u));let d=Promise.resolve(c);e.length<3&&(d=d.then(u)),d.catch(f=>l(f))})}function zS(e,t,n,r,i=s=>s()){const s=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(vY(l)){const c=(l.__vccOpts||l)[t];c&&s.push(Al(c,n,r,o,a,i))}else{let u=l();s.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=XHe(c)?c.default:c;o.mods[a]=c,o.components[a]=d;const p=(d.__vccOpts||d)[t];return p&&Al(p,n,r,o,a,i)()}))}}return s}function LB(e){const t=ct(Ix),n=ct(hP),r=Ce(()=>{const l=ve(e.to);return t.resolve(l)}),i=Ce(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],d=n.matched;if(!c||!d.length)return-1;const f=d.findIndex(gp.bind(null,c));if(f>-1)return f;const p=FB(l[u-2]);return u>1&&FB(c)===p&&d[d.length-1].path!==p?d.findIndex(gp.bind(null,l[u-2])):f}),s=Ce(()=>i.value>-1&&KWe(n.params,r.value.params)),o=Ce(()=>i.value>-1&&i.value===n.matched.length-1&&EY(n.params,r.value.params));function a(l={}){return zWe(l)?t[ve(e.replace)?"replace":"push"](ve(e.to)).catch(xg):Promise.resolve()}return{route:r,href:Ce(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}const WWe=Tn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:LB,setup(e,{slots:t}){const n=Cs(LB(e)),{options:r}=ct(Ix),i=Ce(()=>({[BB(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[BB(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:Yt("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),qWe=WWe;function zWe(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function KWe(e,t){for(const n in t){const r=t[n],i=e[n];if(typeof r=="string"){if(r!==i)return!1}else if(!ho(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function FB(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const BB=(e,t,n)=>e??t??n,GWe=Tn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=ct(Vk),i=Ce(()=>e.route||r.value),s=ct(NB,0),o=Ce(()=>{let u=ve(s);const{matched:c}=i.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),a=Ce(()=>i.value.matched[o.value]);tr(NB,Ce(()=>o.value+1)),tr(HWe,a),tr(Vk,i);const l=re();return bt(()=>[l.value,a.value,e.name],([u,c,d],[f,p,g])=>{c&&(c.instances[d]=u,p&&p!==c&&u&&u===f&&(c.leaveGuards.size||(c.leaveGuards=p.leaveGuards),c.updateGuards.size||(c.updateGuards=p.updateGuards))),u&&c&&(!p||!gp(c,p)||!f)&&(c.enterCallbacks[d]||[]).forEach(h=>h(u))},{flush:"post"}),()=>{const u=i.value,c=e.name,d=a.value,f=d&&d.components[c];if(!f)return UB(n.default,{Component:f,route:u});const p=d.props[c],g=p?p===!0?u.params:typeof p=="function"?p(u):p:null,m=Yt(f,hn({},g,t,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return UB(n.default,{Component:m,route:u})||m}}});function UB(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const YWe=GWe;function XWe(e){const t=NWe(e.routes,e),n=e.parseQuery||VWe,r=e.stringifyQuery||DB,i=e.history,s=Eh(),o=Eh(),a=Eh(),l=Ho(wl);let u=wl;zd&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=WS.bind(null,L=>""+L),d=WS.bind(null,uWe),f=WS.bind(null,Um);function p(L,W){let q,ue;return $Y(L)?(q=t.getRecordMatcher(L),ue=W):ue=L,t.addRoute(ue,q)}function g(L){const W=t.getRecordMatcher(L);W&&t.removeRoute(W)}function h(){return t.getRoutes().map(L=>L.record)}function m(L){return!!t.getRecordMatcher(L)}function v(L,W){if(W=hn({},W||l.value),typeof L=="string"){const M=qS(n,L,W.path),j=t.resolve({path:M.path},W),Y=i.createHref(M.fullPath);return hn(M,j,{params:f(j.params),hash:Um(M.hash),redirectedFrom:void 0,href:Y})}let q;if(L.path!=null)q=hn({},L,{path:qS(n,L.path,W.path).path});else{const M=hn({},L.params);for(const j in M)M[j]==null&&delete M[j];q=hn({},L,{params:d(M)}),W.params=d(W.params)}const ue=t.resolve(q,W),fe=L.hash||"";ue.params=c(f(ue.params));const he=fWe(r,hn({},L,{hash:oWe(fe),path:ue.path})),O=i.createHref(he);return hn({fullPath:he,hash:fe,query:r===DB?jWe(L.query):L.query||{}},ue,{redirectedFrom:void 0,href:O})}function y(L){return typeof L=="string"?qS(n,L,l.value.path):hn({},L)}function _(L,W){if(u!==L)return mp(8,{from:W,to:L})}function b(L){return $(L)}function x(L){return b(hn(y(L),{replace:!0}))}function w(L){const W=L.matched[L.matched.length-1];if(W&&W.redirect){const{redirect:q}=W;let ue=typeof q=="function"?q(L):q;return typeof ue=="string"&&(ue=ue.includes("?")||ue.includes("#")?ue=y(ue):{path:ue},ue.params={}),hn({query:L.query,hash:L.hash,params:ue.path!=null?{}:L.params},ue)}}function $(L,W){const q=u=v(L),ue=l.value,fe=L.state,he=L.force,O=L.replace===!0,M=w(q);if(M)return $(hn(y(M),{state:typeof M=="object"?hn({},fe,M.state):fe,force:he,replace:O}),W||q);const j=q;j.redirectedFrom=W;let Y;return!he&&pWe(r,ue,q)&&(Y=mp(16,{to:j,from:ue}),Re(ue,ue,!0,!1)),(Y?Promise.resolve(Y):T(j,ue)).catch(K=>fa(K)?fa(K,2)?K:Tt(K):me(K,j,ue)).then(K=>{if(K){if(fa(K,2))return $(hn({replace:O},y(K.to),{state:typeof K.to=="object"?hn({},fe,K.to.state):fe,force:he}),W||j)}else K=C(j,ue,!0,O,fe);return P(j,ue,K),K})}function E(L,W){const q=_(L,W);return q?Promise.reject(q):Promise.resolve()}function S(L){const W=H.values().next().value;return W&&typeof W.runWithContext=="function"?W.runWithContext(L):L()}function T(L,W){let q;const[ue,fe,he]=QWe(L,W);q=zS(ue.reverse(),"beforeRouteLeave",L,W);for(const M of ue)M.leaveGuards.forEach(j=>{q.push(Al(j,L,W))});const O=E.bind(null,L,W);return q.push(O),Q(q).then(()=>{q=[];for(const M of s.list())q.push(Al(M,L,W));return q.push(O),Q(q)}).then(()=>{q=zS(fe,"beforeRouteUpdate",L,W);for(const M of fe)M.updateGuards.forEach(j=>{q.push(Al(j,L,W))});return q.push(O),Q(q)}).then(()=>{q=[];for(const M of he)if(M.beforeEnter)if(ho(M.beforeEnter))for(const j of M.beforeEnter)q.push(Al(j,L,W));else q.push(Al(M.beforeEnter,L,W));return q.push(O),Q(q)}).then(()=>(L.matched.forEach(M=>M.enterCallbacks={}),q=zS(he,"beforeRouteEnter",L,W,S),q.push(O),Q(q))).then(()=>{q=[];for(const M of o.list())q.push(Al(M,L,W));return q.push(O),Q(q)}).catch(M=>fa(M,8)?M:Promise.reject(M))}function P(L,W,q){a.list().forEach(ue=>S(()=>ue(L,W,q)))}function C(L,W,q,ue,fe){const he=_(L,W);if(he)return he;const O=W===wl,M=zd?history.state:{};q&&(ue||O?i.replace(L.fullPath,hn({scroll:O&&M&&M.scroll},fe)):i.push(L.fullPath,fe)),l.value=L,Re(L,W,q,O),Tt()}let B;function V(){B||(B=i.listen((L,W,q)=>{if(!J.listening)return;const ue=v(L),fe=w(ue);if(fe){$(hn(fe,{replace:!0}),ue).catch(xg);return}u=ue;const he=l.value;zd&&wWe(TB(he.fullPath,q.delta),kx()),T(ue,he).catch(O=>fa(O,12)?O:fa(O,2)?($(O.to,ue).then(M=>{fa(M,20)&&!q.delta&&q.type===Vm.pop&&i.go(-1,!1)}).catch(xg),Promise.reject()):(q.delta&&i.go(-q.delta,!1),me(O,ue,he))).then(O=>{O=O||C(ue,he,!1),O&&(q.delta&&!fa(O,8)?i.go(-q.delta,!1):q.type===Vm.pop&&fa(O,20)&&i.go(-1,!1)),P(ue,he,O)}).catch(xg)}))}let ce=Eh(),X=Eh(),le;function me(L,W,q){Tt(L);const ue=X.list();return ue.length?ue.forEach(fe=>fe(L,W,q)):console.error(L),Promise.reject(L)}function Ie(){return le&&l.value!==wl?Promise.resolve():new Promise((L,W)=>{ce.add([L,W])})}function Tt(L){return le||(le=!L,V(),ce.list().forEach(([W,q])=>L?q(L):W()),ce.reset()),L}function Re(L,W,q,ue){const{scrollBehavior:fe}=e;if(!zd||!fe)return Promise.resolve();const he=!q&&xWe(TB(L.fullPath,0))||(ue||!q)&&history.state&&history.state.scroll||null;return Qn().then(()=>fe(L,W,he)).then(O=>O&&bWe(O)).catch(O=>me(O,L,W))}const Xe=L=>i.go(L);let F;const H=new Set,J={currentRoute:l,listening:!0,addRoute:p,removeRoute:g,clearRoutes:t.clearRoutes,hasRoute:m,getRoutes:h,resolve:v,options:e,push:b,replace:x,go:Xe,back:()=>Xe(-1),forward:()=>Xe(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:X.add,isReady:Ie,install(L){const W=this;L.component("RouterLink",qWe),L.component("RouterView",YWe),L.config.globalProperties.$router=W,Object.defineProperty(L.config.globalProperties,"$route",{enumerable:!0,get:()=>ve(l)}),zd&&!F&&l.value===wl&&(F=!0,b(i.location).catch(fe=>{}));const q={};for(const fe in wl)Object.defineProperty(q,fe,{get:()=>l.value[fe],enumerable:!0});L.provide(Ix,W),L.provide(hP,Fg(q)),L.provide(Vk,l);const ue=L.unmount;H.add(L),L.unmount=function(){H.delete(L),H.size<1&&(u=wl,B&&B(),B=null,l.value=wl,F=!1,le=!1),ue()}}};function Q(L){return L.reduce((W,q)=>W.then(()=>S(q)),Promise.resolve())}return J}function QWe(e,t){const n=[],r=[],i=[],s=Math.max(t.matched.length,e.matched.length);for(let o=0;o<s;o++){const a=t.matched[o];a&&(e.matched.find(u=>gp(u,a))?r.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(u=>gp(u,l))||i.push(l))}return[n,r,i]}function gP(){return ct(Ix)}function vd(e){return ct(hP)}const cZe=async()=>{var r,i,s;const e=gP(),t=vd();if(await fP()){const o=(r=t==null?void 0:t.query)!=null&&r.redirect&&typeof((i=t==null?void 0:t.query)==null?void 0:i.redirect)=="string"?(s=t==null?void 0:t.query)==null?void 0:s.redirect:"/";e.push(o)}},JWe=e=>{var t;return((t=e==null?void 0:e.metadata)==null?void 0:t.createdAt)>1713850333e3?e.emailVerified:!0},ZWe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function e6e(e,t){return te(),De("svg",ZWe,t[0]||(t[0]=[ee("path",{fill:"currentColor",d:"m17.705 7.705l-1.41-1.41L12 10.59L7.705 6.295l-1.41 1.41L10.59 12l-4.295 4.295l1.41 1.41L12 13.41l4.295 4.295l1.41-1.41L13.41 12z"},null,-1)]))}const t6e={name:"gridicons-cross-small",render:e6e},n6e={viewBox:"0 0 20 20",width:"1.2em",height:"1.2em"};function r6e(e,t){return te(),De("svg",n6e,t[0]||(t[0]=[ee("path",{fill:"currentColor",d:"M10 1.6a8.4 8.4 0 1 0 0 16.8a8.4 8.4 0 0 0 0-16.8m4.789 11.461L13.06 14.79L10 11.729l-3.061 3.06L5.21 13.06L8.272 10L5.211 6.939L6.94 5.211L10 8.271l3.061-3.061l1.729 1.729L11.728 10z"},null,-1)]))}const i6e={name:"entypo-circle-with-cross",render:r6e};const s6e=["aria-label"],ju={__name:"UiLoader",props:{iconColorClass:{type:String,default:"text-brand-primary"},textColorClass:{type:String,default:"text-slate-800 dark:text-white"},label:{type:String,default:"Loading..."},size:{type:String,default:"base"},delay:{type:Number,default:300}},setup(e){const t=e,n=re(!1),r=Ce(()=>({[`ui-loader-${t.size}`]:t.size,[t.textColorClass]:t.textColorClass}));return Jt(()=>{setTimeout(()=>{n.value=!0},t.delay)}),(i,s)=>{const o=i6e;return n.value?(te(),De("div",{key:0,class:Pr(["flex items-center font-black animate-pulse",r.value])},[Se(o,{class:Pr(["animate-spin ui-loader-icon",e.iconColorClass])},null,8,["class"]),Ar(i.$slots,"default",{},()=>[e.label?(te(),De("span",{key:0,"aria-label":e.label},ci(e.label),9,s6e)):Ge("",!0)])],2)):Ge("",!0)}}};/**
* (c) Iconify
*
* For the full copyright and license information, please view the license.txt
* files at https://github.com/iconify/iconify
*
* Licensed under MIT.
*
* @license MIT
* @version 2.1.0
*/const CY=Object.freeze({left:0,top:0,width:16,height:16}),dw=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),ny=Object.freeze({...CY,...dw}),jk=Object.freeze({...ny,body:"",hidden:!1}),o6e=Object.freeze({width:null,height:null}),AY=Object.freeze({...o6e,...dw});function a6e(e,t=0){const n=e.replace(/^-?[0-9.]*/,"");function r(i){for(;i<0;)i+=4;return i%4}if(n===""){const i=parseInt(e);return isNaN(i)?0:r(i)}else if(n!==e){let i=0;switch(n){case"%":i=25;break;case"deg":i=90}if(i){let s=parseFloat(e.slice(0,e.length-n.length));return isNaN(s)?0:(s=s/i,s%1===0?r(s):0)}}return t}const l6e=/[\s,]+/;function u6e(e,t){t.split(l6e).forEach(n=>{switch(n.trim()){case"horizontal":e.hFlip=!0;break;case"vertical":e.vFlip=!0;break}})}const OY={...AY,preserveAspectRatio:""};function VB(e){const t={...OY},n=(r,i)=>e.getAttribute(r)||i;return t.width=n("width",null),t.height=n("height",null),t.rotate=a6e(n("rotate","")),u6e(t,n("flip","")),t.preserveAspectRatio=n("preserveAspectRatio",n("preserveaspectratio","")),t}function c6e(e,t){for(const n in OY)if(e[n]!==t[n])return!0;return!1}const Sg=/^[a-z0-9]+(-[a-z0-9]+)*$/,ry=(e,t,n,r="")=>{const i=e.split(":");if(e.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;r=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const a=i.pop(),l=i.pop(),u={provider:i.length>0?i[0]:r,prefix:l,name:a};return t&&!n0(u)?null:u}const s=i[0],o=s.split("-");if(o.length>1){const a={provider:r,prefix:o.shift(),name:o.join("-")};return t&&!n0(a)?null:a}if(n&&r===""){const a={provider:r,prefix:"",name:s};return t&&!n0(a,n)?null:a}return null},n0=(e,t)=>e?!!((e.provider===""||e.provider.match(Sg))&&(t&&e.prefix===""||e.prefix.match(Sg))&&e.name.match(Sg)):!1;function d6e(e,t){const n={};!e.hFlip!=!t.hFlip&&(n.hFlip=!0),!e.vFlip!=!t.vFlip&&(n.vFlip=!0);const r=((e.rotate||0)+(t.rotate||0))%4;return r&&(n.rotate=r),n}function jB(e,t){const n=d6e(e,t);for(const r in jk)r in dw?r in e&&!(r in n)&&(n[r]=dw[r]):r in t?n[r]=t[r]:r in e&&(n[r]=e[r]);return n}function f6e(e,t){const n=e.icons,r=e.aliases||Object.create(null),i=Object.create(null);function s(o){if(n[o])return i[o]=[];if(!(o in i)){i[o]=null;const a=r[o]&&r[o].parent,l=a&&s(a);l&&(i[o]=[a].concat(l))}return i[o]}return(t||Object.keys(n).concat(Object.keys(r))).forEach(s),i}function p6e(e,t,n){const r=e.icons,i=e.aliases||Object.create(null);let s={};function o(a){s=jB(r[a]||i[a],s)}return o(t),n.forEach(o),jB(e,s)}function RY(e,t){const n=[];if(typeof e!="object"||typeof e.icons!="object")return n;e.not_found instanceof Array&&e.not_found.forEach(i=>{t(i,null),n.push(i)});const r=f6e(e);for(const i in r){const s=r[i];s&&(t(i,p6e(e,i,s)),n.push(i))}return n}const h6e={provider:"",aliases:{},not_found:{},...CY};function KS(e,t){for(const n in t)if(n in e&&typeof e[n]!=typeof t[n])return!1;return!0}function PY(e){if(typeof e!="object"||e===null)return null;const t=e;if(typeof t.prefix!="string"||!e.icons||typeof e.icons!="object"||!KS(e,h6e))return null;const n=t.icons;for(const i in n){const s=n[i];if(!i.match(Sg)||typeof s.body!="string"||!KS(s,jk))return null}const r=t.aliases||Object.create(null);for(const i in r){const s=r[i],o=s.parent;if(!i.match(Sg)||typeof o!="string"||!n[o]&&!r[o]||!KS(s,jk))return null}return t}const fw=Object.create(null);function g6e(e,t){return{provider:e,prefix:t,icons:Object.create(null),missing:new Set}}function wu(e,t){const n=fw[e]||(fw[e]=Object.create(null));return n[t]||(n[t]=g6e(e,t))}function mP(e,t){return PY(t)?RY(t,(n,r)=>{r?e.icons[n]=r:e.missing.add(n)}):[]}function m6e(e,t,n){try{if(typeof n.body=="string")return e.icons[t]={...n},!0}catch{}return!1}function v6e(e,t){let n=[];return(typeof e=="string"?[e]:Object.keys(fw)).forEach(i=>{(typeof i=="string"&&typeof t=="string"?[t]:Object.keys(fw[i]||{})).forEach(o=>{const a=wu(i,o);n=n.concat(Object.keys(a.icons).map(l=>(i!==""?"@"+i+":":"")+o+":"+l))})}),n}let jm=!1;function MY(e){return typeof e=="boolean"&&(jm=e),jm}function Hm(e){const t=typeof e=="string"?ry(e,!0,jm):e;if(t){const n=wu(t.provider,t.prefix),r=t.name;return n.icons[r]||(n.missing.has(r)?null:void 0)}}function DY(e,t){const n=ry(e,!0,jm);if(!n)return!1;const r=wu(n.provider,n.prefix);return m6e(r,n.name,t)}function HB(e,t){if(typeof e!="object")return!1;if(typeof t!="string"&&(t=e.provider||""),jm&&!t&&!e.prefix){let i=!1;return PY(e)&&(e.prefix="",RY(e,(s,o)=>{o&&DY(s,o)&&(i=!0)})),i}const n=e.prefix;if(!n0({provider:t,prefix:n,name:"a"}))return!1;const r=wu(t,n);return!!mP(r,e)}function WB(e){return!!Hm(e)}function y6e(e){const t=Hm(e);return t?{...ny,...t}:null}function _6e(e){const t={loaded:[],missing:[],pending:[]},n=Object.create(null);e.sort((i,s)=>i.provider!==s.provider?i.provider.localeCompare(s.provider):i.prefix!==s.prefix?i.prefix.localeCompare(s.prefix):i.name.localeCompare(s.name));let r={provider:"",prefix:"",name:""};return e.forEach(i=>{if(r.name===i.name&&r.prefix===i.prefix&&r.provider===i.provider)return;r=i;const s=i.provider,o=i.prefix,a=i.name,l=n[s]||(n[s]=Object.create(null)),u=l[o]||(l[o]=wu(s,o));let c;a in u.icons?c=t.loaded:o===""||u.missing.has(a)?c=t.missing:c=t.pending;const d={provider:s,prefix:o,name:a};c.push(d)}),t}function NY(e,t){e.forEach(n=>{const r=n.loaderCallbacks;r&&(n.loaderCallbacks=r.filter(i=>i.id!==t))})}function b6e(e){e.pendingCallbacksFlag||(e.pendingCallbacksFlag=!0,setTimeout(()=>{e.pendingCallbacksFlag=!1;const t=e.loaderCallbacks?e.loaderCallbacks.slice(0):[];if(!t.length)return;let n=!1;const r=e.provider,i=e.prefix;t.forEach(s=>{const o=s.icons,a=o.pending.length;o.pending=o.pending.filter(l=>{if(l.prefix!==i)return!0;const u=l.name;if(e.icons[u])o.loaded.push({provider:r,prefix:i,name:u});else if(e.missing.has(u))o.missing.push({provider:r,prefix:i,name:u});else return n=!0,!0;return!1}),o.pending.length!==a&&(n||NY([e],s.id),s.callback(o.loaded.slice(0),o.missing.slice(0),o.pending.slice(0),s.abort))})}))}let w6e=0;function x6e(e,t,n){const r=w6e++,i=NY.bind(null,n,r);if(!t.pending.length)return i;const s={id:r,icons:t,callback:e,abort:i};return n.forEach(o=>{(o.loaderCallbacks||(o.loaderCallbacks=[])).push(s)}),i}const Hk=Object.create(null);function qB(e,t){Hk[e]=t}function Wk(e){return Hk[e]||Hk[""]}function E6e(e,t=!0,n=!1){const r=[];return e.forEach(i=>{const s=typeof i=="string"?ry(i,t,n):i;s&&r.push(s)}),r}var S6e={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function $6e(e,t,n,r){const i=e.resources.length,s=e.random?Math.floor(Math.random()*i):e.index;let o;if(e.random){let w=e.resources.slice(0);for(o=[];w.length>1;){const $=Math.floor(Math.random()*w.length);o.push(w[$]),w=w.slice(0,$).concat(w.slice($+1))}o=o.concat(w)}else o=e.resources.slice(s).concat(e.resources.slice(0,s));const a=Date.now();let l="pending",u=0,c,d=null,f=[],p=[];typeof r=="function"&&p.push(r);function g(){d&&(clearTimeout(d),d=null)}function h(){l==="pending"&&(l="aborted"),g(),f.forEach(w=>{w.status==="pending"&&(w.status="aborted")}),f=[]}function m(w,$){$&&(p=[]),typeof w=="function"&&p.push(w)}function v(){return{startTime:a,payload:t,status:l,queriesSent:u,queriesPending:f.length,subscribe:m,abort:h}}function y(){l="failed",p.forEach(w=>{w(void 0,c)})}function _(){f.forEach(w=>{w.status==="pending"&&(w.status="aborted")}),f=[]}function b(w,$,E){const S=$!=="success";switch(f=f.filter(T=>T!==w),l){case"pending":break;case"failed":if(S||!e.dataAfterTimeout)return;break;default:return}if($==="abort"){c=E,y();return}if(S){c=E,f.length||(o.length?x():y());return}if(g(),_(),!e.random){const T=e.resources.indexOf(w.resource);T!==-1&&T!==e.index&&(e.index=T)}l="completed",p.forEach(T=>{T(E)})}function x(){if(l!=="pending")return;g();const w=o.shift();if(w===void 0){if(f.length){d=setTimeout(()=>{g(),l==="pending"&&(_(),y())},e.timeout);return}y();return}const $={status:"pending",resource:w,callback:(E,S)=>{b($,E,S)}};f.push($),u++,d=setTimeout(x,e.rotate),n(w,t,$.callback)}return setTimeout(x),v}function LY(e){const t={...S6e,...e};let n=[];function r(){n=n.filter(a=>a().status==="pending")}function i(a,l,u){const c=$6e(t,a,l,(d,f)=>{r(),u&&u(d,f)});return n.push(c),c}function s(a){return n.find(l=>a(l))||null}return{query:i,find:s,setIndex:a=>{t.index=a},getIndex:()=>t.index,cleanup:r}}function vP(e){let t;if(typeof e.resources=="string")t=[e.resources];else if(t=e.resources,!(t instanceof Array)||!t.length)return null;return{resources:t,path:e.path||"/",maxURL:e.maxURL||500,rotate:e.rotate||750,timeout:e.timeout||5e3,random:e.random===!0,index:e.index||0,dataAfterTimeout:e.dataAfterTimeout!==!1}}const Cx=Object.create(null),Sh=["https://api.simplesvg.com","https://api.unisvg.com"],r0=[];for(;Sh.length>0;)Sh.length===1||Math.random()>.5?r0.push(Sh.shift()):r0.push(Sh.pop());Cx[""]=vP({resources:["https://api.iconify.design"].concat(r0)});function zB(e,t){const n=vP(t);return n===null?!1:(Cx[e]=n,!0)}function Ax(e){return Cx[e]}function T6e(){return Object.keys(Cx)}function KB(){}const GS=Object.create(null);function k6e(e){if(!GS[e]){const t=Ax(e);if(!t)return;const n=LY(t),r={config:t,redundancy:n};GS[e]=r}return GS[e]}function FY(e,t,n){let r,i;if(typeof e=="string"){const s=Wk(e);if(!s)return n(void 0,424),KB;i=s.send;const o=k6e(e);o&&(r=o.redundancy)}else{const s=vP(e);if(s){r=LY(s);const o=e.resources?e.resources[0]:"",a=Wk(o);a&&(i=a.send)}}return!r||!i?(n(void 0,424),KB):r.query(t,i,n)().abort}const GB="iconify2",Wm="iconify",BY=Wm+"-count",YB=Wm+"-version",UY=36e5,I6e=168,C6e=50;function qk(e,t){try{return e.getItem(t)}catch{}}function yP(e,t,n){try{return e.setItem(t,n),!0}catch{}}function XB(e,t){try{e.removeItem(t)}catch{}}function zk(e,t){return yP(e,BY,t.toString())}function Kk(e){return parseInt(qk(e,BY))||0}const xc={local:!0,session:!0},VY={local:new Set,session:new Set};let _P=!1;function A6e(e){_P=e}let u_=typeof window>"u"?{}:window;function jY(e){const t=e+"Storage";try{if(u_&&u_[t]&&typeof u_[t].length=="number")return u_[t]}catch{}xc[e]=!1}function HY(e,t){const n=jY(e);if(!n)return;const r=qk(n,YB);if(r!==GB){if(r){const a=Kk(n);for(let l=0;l<a;l++)XB(n,Wm+l.toString())}yP(n,YB,GB),zk(n,0);return}const i=Math.floor(Date.now()/UY)-I6e,s=a=>{const l=Wm+a.toString(),u=qk(n,l);if(typeof u=="string"){try{const c=JSON.parse(u);if(typeof c=="object"&&typeof c.cached=="number"&&c.cached>i&&typeof c.provider=="string"&&typeof c.data=="object"&&typeof c.data.prefix=="string"&&t(c,a))return!0}catch{}XB(n,l)}};let o=Kk(n);for(let a=o-1;a>=0;a--)s(a)||(a===o-1?(o--,zk(n,o)):VY[e].add(a))}function WY(){if(!_P){A6e(!0);for(const e in xc)HY(e,t=>{const n=t.data,r=t.provider,i=n.prefix,s=wu(r,i);if(!mP(s,n).length)return!1;const o=n.lastModified||-1;return s.lastModifiedCached=s.lastModifiedCached?Math.min(s.lastModifiedCached,o):o,!0})}}function O6e(e,t){const n=e.lastModifiedCached;if(n&&n>=t)return n===t;if(e.lastModifiedCached=t,n)for(const r in xc)HY(r,i=>{const s=i.data;return i.provider!==e.provider||s.prefix!==e.prefix||s.lastModified===t});return!0}function R6e(e,t){_P||WY();function n(r){let i;if(!xc[r]||!(i=jY(r)))return;const s=VY[r];let o;if(s.size)s.delete(o=Array.from(s).shift());else if(o=Kk(i),o>=C6e||!zk(i,o+1))return;const a={cached:Math.floor(Date.now()/UY),provider:e.provider,data:t};return yP(i,Wm+o.toString(),JSON.stringify(a))}t.lastModified&&!O6e(e,t.lastModified)||Object.keys(t.icons).length&&(t.not_found&&(t=Object.assign({},t),delete t.not_found),n("local")||n("session"))}function QB(){}function P6e(e){e.iconsLoaderFlag||(e.iconsLoaderFlag=!0,setTimeout(()=>{e.iconsLoaderFlag=!1,b6e(e)}))}function M6e(e,t){e.iconsToLoad?e.iconsToLoad=e.iconsToLoad.concat(t).sort():e.iconsToLoad=t,e.iconsQueueFlag||(e.iconsQueueFlag=!0,setTimeout(()=>{e.iconsQueueFlag=!1;const{provider:n,prefix:r}=e,i=e.iconsToLoad;delete e.iconsToLoad;let s;if(!i||!(s=Wk(n)))return;s.prepare(n,r,i).forEach(a=>{FY(n,a,l=>{if(typeof l!="object")a.icons.forEach(u=>{e.missing.add(u)});else try{const u=mP(e,l);if(!u.length)return;const c=e.pendingIcons;c&&u.forEach(d=>{c.delete(d)}),R6e(e,l)}catch(u){console.error(u)}P6e(e)})})}))}const bP=(e,t)=>{const n=E6e(e,!0,MY()),r=_6e(n);if(!r.pending.length){let l=!0;return t&&setTimeout(()=>{l&&t(r.loaded,r.missing,r.pending,QB)}),()=>{l=!1}}const i=Object.create(null),s=[];let o,a;return r.pending.forEach(l=>{const{provider:u,prefix:c}=l;if(c===a&&u===o)return;o=u,a=c,s.push(wu(u,c));const d=i[u]||(i[u]=Object.create(null));d[c]||(d[c]=[])}),r.pending.forEach(l=>{const{provider:u,prefix:c,name:d}=l,f=wu(u,c),p=f.pendingIcons||(f.pendingIcons=new Set);p.has(d)||(p.add(d),i[u][c].push(d))}),s.forEach(l=>{const{provider:u,prefix:c}=l;i[u][c].length&&M6e(l,i[u][c])}),t?x6e(t,r,s):QB},D6e=e=>new Promise((t,n)=>{const r=typeof e=="string"?ry(e,!0):e;if(!r){n(e);return}bP([r||e],i=>{if(i.length&&r){const s=Hm(r);if(s){t({...ny,...s});return}}n(e)})});function N6e(e){try{const t=typeof e=="string"?JSON.parse(e):e;if(typeof t.body=="string")return{...t}}catch{}}function L6e(e,t){const n=typeof e=="string"?ry(e,!0,!0):null;if(!n){const s=N6e(e);return{value:e,data:s}}const r=Hm(n);if(r!==void 0||!n.prefix)return{value:e,name:n,data:r};const i=bP([n],()=>t(e,n,Hm(n)));return{value:e,name:n,loading:i}}let qY=!1;try{qY=navigator.vendor.indexOf("Apple")===0}catch{}function F6e(e,t){switch(t){case"svg":case"bg":case"mask":return t}return t!=="style"&&(qY||e.indexOf("<a")===-1)?"svg":e.indexOf("currentColor")===-1?"bg":"mask"}const B6e=/(-?[0-9.]*[0-9]+[0-9.]*)/g,U6e=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Gk(e,t,n){if(t===1)return e;if(n=n||100,typeof e=="number")return Math.ceil(e*t*n)/n;if(typeof e!="string")return e;const r=e.split(B6e);if(r===null||!r.length)return e;const i=[];let s=r.shift(),o=U6e.test(s);for(;;){if(o){const a=parseFloat(s);isNaN(a)?i.push(s):i.push(Math.ceil(a*t*n)/n)}else i.push(s);if(s=r.shift(),s===void 0)return i.join("");o=!o}}function V6e(e,t="defs"){let n="";const r=e.indexOf("<"+t);for(;r>=0;){const i=e.indexOf(">",r),s=e.indexOf("</"+t);if(i===-1||s===-1)break;const o=e.indexOf(">",s);if(o===-1)break;n+=e.slice(i+1,s).trim(),e=e.slice(0,r).trim()+e.slice(o+1)}return{defs:n,content:e}}function j6e(e,t){return e?"<defs>"+e+"</defs>"+t:t}function H6e(e,t,n){const r=V6e(e);return j6e(r.defs,t+r.content+n)}const W6e=e=>e==="unset"||e==="undefined"||e==="none";function zY(e,t){const n={...ny,...e},r={...AY,...t},i={left:n.left,top:n.top,width:n.width,height:n.height};let s=n.body;[n,r].forEach(h=>{const m=[],v=h.hFlip,y=h.vFlip;let _=h.rotate;v?y?_+=2:(m.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),m.push("scale(-1 1)"),i.top=i.left=0):y&&(m.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),m.push("scale(1 -1)"),i.top=i.left=0);let b;switch(_<0&&(_-=Math.floor(_/4)*4),_=_%4,_){case 1:b=i.height/2+i.top,m.unshift("rotate(90 "+b.toString()+" "+b.toString()+")");break;case 2:m.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:b=i.width/2+i.left,m.unshift("rotate(-90 "+b.toString()+" "+b.toString()+")");break}_%2===1&&(i.left!==i.top&&(b=i.left,i.left=i.top,i.top=b),i.width!==i.height&&(b=i.width,i.width=i.height,i.height=b)),m.length&&(s=H6e(s,'<g transform="'+m.join(" ")+'">',"</g>"))});const o=r.width,a=r.height,l=i.width,u=i.height;let c,d;o===null?(d=a===null?"1em":a==="auto"?u:a,c=Gk(d,l/u)):(c=o==="auto"?l:o,d=a===null?Gk(c,u/l):a==="auto"?u:a);const f={},p=(h,m)=>{W6e(m)||(f[h]=m.toString())};p("width",c),p("height",d);const g=[i.left,i.top,l,u];return f.viewBox=g.join(" "),{attributes:f,viewBox:g,body:s}}function wP(e,t){let n=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const r in t)n+=" "+r+'="'+t[r]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+e+"</svg>"}function q6e(e){return e.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function z6e(e){return"data:image/svg+xml,"+q6e(e)}function KY(e){return'url("'+z6e(e)+'")'}const K6e=()=>{let e;try{if(e=fetch,typeof e=="function")return e}catch{}};let pw=K6e();function G6e(e){pw=e}function Y6e(){return pw}function X6e(e,t){const n=Ax(e);if(!n)return 0;let r;if(!n.maxURL)r=0;else{let i=0;n.resources.forEach(o=>{i=Math.max(i,o.length)});const s=t+".json?icons=";r=n.maxURL-i-n.path.length-s.length}return r}function Q6e(e){return e===404}const J6e=(e,t,n)=>{const r=[],i=X6e(e,t),s="icons";let o={type:s,provider:e,prefix:t,icons:[]},a=0;return n.forEach((l,u)=>{a+=l.length+1,a>=i&&u>0&&(r.push(o),o={type:s,provider:e,prefix:t,icons:[]},a=l.length),o.icons.push(l)}),r.push(o),r};function Z6e(e){if(typeof e=="string"){const t=Ax(e);if(t)return t.path}return"/"}const e9e=(e,t,n)=>{if(!pw){n("abort",424);return}let r=Z6e(t.provider);switch(t.type){case"icons":{const s=t.prefix,a=t.icons.join(","),l=new URLSearchParams({icons:a});r+=s+".json?"+l.toString();break}case"custom":{const s=t.uri;r+=s.slice(0,1)==="/"?s.slice(1):s;break}default:n("abort",400);return}let i=503;pw(e+r).then(s=>{const o=s.status;if(o!==200){setTimeout(()=>{n(Q6e(o)?"abort":"next",o)});return}return i=501,s.json()}).then(s=>{if(typeof s!="object"||s===null){setTimeout(()=>{s===404?n("abort",s):n("next",i)});return}setTimeout(()=>{n("success",s)})}).catch(()=>{n("next",i)})},t9e={prepare:J6e,send:e9e};function JB(e,t){switch(e){case"local":case"session":xc[e]=t;break;case"all":for(const n in xc)xc[n]=t;break}}const YS="data-style";let GY="";function n9e(e){GY=e}function ZB(e,t){let n=Array.from(e.childNodes).find(r=>r.hasAttribute&&r.hasAttribute(YS));n||(n=document.createElement("style"),n.setAttribute(YS,YS),e.appendChild(n)),n.textContent=":host{display:inline-block;vertical-align:"+(t?"-0.125em":"0")+"}span,svg{display:block}"+GY}function YY(){qB("",t9e),MY(!0);let e;try{e=window}catch{}if(e){if(WY(),e.IconifyPreload!==void 0){const n=e.IconifyPreload,r="Invalid IconifyPreload syntax.";typeof n=="object"&&n!==null&&(n instanceof Array?n:[n]).forEach(i=>{try{(typeof i!="object"||i===null||i instanceof Array||typeof i.icons!="object"||typeof i.prefix!="string"||!HB(i))&&console.error(r)}catch{console.error(r)}})}if(e.IconifyProviders!==void 0){const n=e.IconifyProviders;if(typeof n=="object"&&n!==null)for(const r in n){const i="IconifyProviders["+r+"] is invalid.";try{const s=n[r];if(typeof s!="object"||!s||s.resources===void 0)continue;zB(r,s)||console.error(i)}catch{console.error(i)}}}}return{enableCache:n=>JB(n,!0),disableCache:n=>JB(n,!1),iconLoaded:WB,iconExists:WB,getIcon:y6e,listIcons:v6e,addIcon:DY,addCollection:HB,calculateSize:Gk,buildIcon:zY,iconToHTML:wP,svgToURL:KY,loadIcons:bP,loadIcon:D6e,addAPIProvider:zB,appendCustomStyle:n9e,_api:{getAPIConfig:Ax,setAPIModule:qB,sendAPIQuery:FY,setFetch:G6e,getFetch:Y6e,listAPIProviders:T6e}}}const Yk={"background-color":"currentColor"},XY={"background-color":"transparent"},e4={image:"var(--svg)",repeat:"no-repeat",size:"100% 100%"},t4={"-webkit-mask":Yk,mask:Yk,background:XY};for(const e in t4){const t=t4[e];for(const n in e4)t[e+"-"+n]=e4[n]}function n4(e){return e?e+(e.match(/^[-0-9.]+$/)?"px":""):"inherit"}function r9e(e,t,n){const r=document.createElement("span");let i=e.body;i.indexOf("<a")!==-1&&(i+="<!-- "+Date.now()+" -->");const s=e.attributes,o=wP(i,{...s,width:t.width+"",height:t.height+""}),a=KY(o),l=r.style,u={"--svg":a,width:n4(s.width),height:n4(s.height),...n?Yk:XY};for(const c in u)l.setProperty(c,u[c]);return r}let $g;function i9e(){try{$g=window.trustedTypes.createPolicy("iconify",{createHTML:e=>e})}catch{$g=null}}function s9e(e){return $g===void 0&&i9e(),$g?$g.createHTML(e):e}function o9e(e){const t=document.createElement("span"),n=e.attributes;let r="";n.width||(r="width: inherit;"),n.height||(r+="height: inherit;"),r&&(n.style=r);const i=wP(e.body,n);return t.innerHTML=s9e(i),t.firstChild}function Xk(e){return Array.from(e.childNodes).find(t=>{const n=t.tagName&&t.tagName.toUpperCase();return n==="SPAN"||n==="SVG"})}function r4(e,t){const n=t.icon.data,r=t.customisations,i=zY(n,r);r.preserveAspectRatio&&(i.attributes.preserveAspectRatio=r.preserveAspectRatio);const s=t.renderedMode;let o;switch(s){case"svg":o=o9e(i);break;default:o=r9e(i,{...ny,...n},s==="mask")}const a=Xk(e);a?o.tagName==="SPAN"&&a.tagName===o.tagName?a.setAttribute("style",o.getAttribute("style")):e.replaceChild(o,a):e.appendChild(o)}function i4(e,t,n){const r=n&&(n.rendered?n:n.lastRender);return{rendered:!1,inline:t,icon:e,lastRender:r}}function a9e(e="iconify-icon"){let t,n;try{t=window.customElements,n=window.HTMLElement}catch{return}if(!t||!n)return;const r=t.get(e);if(r)return r;const i=["icon","mode","inline","noobserver","width","height","rotate","flip"],s=class extends n{constructor(){super();ml(this,"_shadowRoot");ml(this,"_initialised",!1);ml(this,"_state");ml(this,"_checkQueued",!1);ml(this,"_connected",!1);ml(this,"_observer",null);ml(this,"_visible",!0);const l=this._shadowRoot=this.attachShadow({mode:"open"}),u=this.hasAttribute("inline");ZB(l,u),this._state=i4({value:""},u),this._queueCheck()}connectedCallback(){this._connected=!0,this.startObserver()}disconnectedCallback(){this._connected=!1,this.stopObserver()}static get observedAttributes(){return i.slice(0)}attributeChangedCallback(l){switch(l){case"inline":{const u=this.hasAttribute("inline"),c=this._state;u!==c.inline&&(c.inline=u,ZB(this._shadowRoot,u));break}case"noobserver":{this.hasAttribute("noobserver")?this.startObserver():this.stopObserver();break}default:this._queueCheck()}}get icon(){const l=this.getAttribute("icon");if(l&&l.slice(0,1)==="{")try{return JSON.parse(l)}catch{}return l}set icon(l){typeof l=="object"&&(l=JSON.stringify(l)),this.setAttribute("icon",l)}get inline(){return this.hasAttribute("inline")}set inline(l){l?this.setAttribute("inline","true"):this.removeAttribute("inline")}get observer(){return this.hasAttribute("observer")}set observer(l){l?this.setAttribute("observer","true"):this.removeAttribute("observer")}restartAnimation(){const l=this._state;if(l.rendered){const u=this._shadowRoot;if(l.renderedMode==="svg")try{u.lastChild.setCurrentTime(0);return}catch{}r4(u,l)}}get status(){const l=this._state;return l.rendered?"rendered":l.icon.data===null?"failed":"loading"}_queueCheck(){this._checkQueued||(this._checkQueued=!0,setTimeout(()=>{this._check()}))}_check(){if(!this._checkQueued)return;this._checkQueued=!1;const l=this._state,u=this.getAttribute("icon");if(u!==l.icon.value){this._iconChanged(u);return}if(!l.rendered||!this._visible)return;const c=this.getAttribute("mode"),d=VB(this);(l.attrMode!==c||c6e(l.customisations,d)||!Xk(this._shadowRoot))&&this._renderIcon(l.icon,d,c)}_iconChanged(l){const u=L6e(l,(c,d,f)=>{const p=this._state;if(p.rendered||this.getAttribute("icon")!==c)return;const g={value:c,name:d,data:f};g.data?this._gotIconData(g):p.icon=g});u.data?this._gotIconData(u):this._state=i4(u,this._state.inline,this._state)}_forceRender(){if(!this._visible){const l=Xk(this._shadowRoot);l&&this._shadowRoot.removeChild(l);return}this._queueCheck()}_gotIconData(l){this._checkQueued=!1,this._renderIcon(l,VB(this),this.getAttribute("mode"))}_renderIcon(l,u,c){const d=F6e(l.data.body,c),f=this._state.inline;r4(this._shadowRoot,this._state={rendered:!0,icon:l,inline:f,customisations:u,attrMode:c,renderedMode:d})}startObserver(){if(!this._observer&&!this.hasAttribute("noobserver"))try{this._observer=new IntersectionObserver(l=>{const u=l.some(c=>c.isIntersecting);u!==this._visible&&(this._visible=u,this._forceRender())}),this._observer.observe(this)}catch{if(this._observer){try{this._observer.disconnect()}catch{}this._observer=null}}}stopObserver(){this._observer&&(this._observer.disconnect(),this._observer=null,this._visible=!0,this._connected&&this._forceRender())}};i.forEach(a=>{a in s.prototype||Object.defineProperty(s.prototype,a,{get:function(){return this.getAttribute(a)},set:function(l){l!==null?this.setAttribute(a,l):this.removeAttribute(a)}})});const o=YY();for(const a in o)s[a]=s.prototype[a]=o[a];return t.define(e,s),s}a9e()||YY();const l9e={components:{UiLoader:ju},props:{backgroundColor:{type:String,default:""},danger:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},loadingLabel:{type:String,default:""},loadingClass:{type:String,default:"text-white"},icon:{type:Object,default:void 0},openInNewTab:{type:Boolean,default:!1},size:{type:String,default:"base"},textColor:{type:String,default:""},theme:{type:String,default:"primary"},to:{type:[String,Object],default:""}},data(){return{loaderClassObject:{[`ui-loader-${this.theme}`]:this.theme}}},computed:{classObject(){return{"ui-button":!0,[`ui-button-${this.size}`]:this.size,[`ui-button-${this.theme}`]:this.theme&&!this.backgroundColor,[`ui-button-${this.loading}`]:this.loading,"ui-button-danger":this.danger,"hover:scale-[102%]":!0,"transition-transform":!0}},iconClasses(){return{currentColor:this.textColor,"mr-1":this.size==="xs"||this.size==="sm","mr-2":this.size==="base"||this.size==="md","mr-3":this.size==="lg"||this.size==="xl"}},styleObject(){return{backgroundColor:this.backgroundColor,color:this.textColor}},is(){var e,t;return(e=this==null?void 0:this.$attrs)!=null&&e.href?"a":(t=this==null?void 0:this.$props)!=null&&t.to?"router-link":"button"},type(){var e,t;return(e=this==null?void 0:this.$attrs)!=null&&e.type?(t=this==null?void 0:this.$attrs)==null?void 0:t.type:(this==null?void 0:this.is)==="button"?"button":null}}};const xo=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},u9e=["icon"];function c9e(e,t,n,r,i,s){const o=ju;return te(),ze(Nf(s.is),Va({to:n.to,class:["ui-button",s.classObject],style:s.styleObject},e.$attrs,{type:s.type,disabled:n.loading||n.disabled,target:n.openInNewTab?"_blank":void 0}),{default:et(()=>{var a,l;return[n.loading?(te(),ze(o,{key:0,textColorClass:n.loadingClass,iconColorClass:n.loadingClass,label:n.loadingLabel,size:n.size,class:"!font-semibold",delay:0},null,8,["textColorClass","iconColorClass","label","size"])):Ge("",!0),!n.loading&&((a=n.icon)!=null&&a.icon)?(te(),De("iconify-icon",{key:1,icon:(l=n.icon)==null?void 0:l.icon,class:Pr(["w-auto h-auto",s.iconClasses])},null,10,u9e)):Ge("",!0),n.loading?Ge("",!0):Ar(e.$slots,"default",{key:2})]}),_:3},16,["to","class","style","type","disabled","target"])}const pl=xo(l9e,[["render",c9e]]);const d9e={name:"UiModal",inheritAttrs:!1,props:{actions:{type:Boolean,default:!1},clickToClose:{type:Boolean,default:!0},cancelLabel:{type:String,default:"Cancel"},confirmLabel:{type:String,default:"Confirm"},contentClasses:{type:String,default:""},escToClose:{type:Boolean,default:!0},isAppModal:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},name:{type:String,required:!0},showClose:{type:Boolean,default:!0}},emits:["confirm","cancel"]},f9e={key:0,class:"mr-8 text-xl font-bold pt-1 px-1"},p9e={class:"flex-grow overflow-auto p-1"},h9e={key:1,class:"flex items-center justify-center flex-shrink-0 space-x-2 pb-1 px-1"},g9e=["onClick"];function m9e(e,t,n,r,i,s){const o=pl,a=t6e,l=$c("VueFinalModal");return te(),ze(l,Va(e.$attrs,{name:n.name,ssr:!1,"esc-to-close":n.escToClose,"click-to-close":n.clickToClose,classes:"flex justify-center items-center backdrop-blur-sm my-4","content-class":`relative flex flex-col max-h-full p-4 md:p-6 mx-4 space-y-4 bg-white border border-slate-300 rounded-3xl shadow-md ${n.contentClasses}`}),{default:et(({params:u,close:c})=>[e.$slots.title?(te(),De("span",f9e,[Ar(e.$slots,"title",{},void 0,!0)])):Ge("",!0),ee("div",p9e,[Ar(e.$slots,"default",{params:u,onClose:t[0]||(t[0]=d=>e.$emit("cancel"))},void 0,!0)]),e.$slots.actions||n.actions?(te(),De("div",h9e,[Ar(e.$slots,"actions",{},()=>[Se(o,{size:"sm",theme:n.isAppModal?"brand-primary":"primary",onClick:d=>e.$emit("confirm",c)},{default:et(()=>[En(ci(n.confirmLabel),1)]),_:2},1032,["theme","onClick"]),Se(o,{size:"sm",theme:"outline",onClick:d=>e.$emit("cancel",c)},{default:et(()=>[En(ci(n.cancelLabel),1)]),_:2},1032,["onClick"])],!0)])):Ge("",!0),n.showClose?(te(),De("button",{key:2,type:"button",class:"absolute top-2 !mt-0 right-3 text-slate-600 hover:text-red-800",onClick:c},[Se(a)],8,g9e)):Ge("",!0)]),_:3},16,["name","esc-to-close","click-to-close","content-class"])}const v9e=xo(d9e,[["render",m9e],["__scopeId","data-v-e52f77fc"]]),xP=async(e={},t={},n={})=>{const{$vfm:r}=await qt(()=>Promise.resolve().then(()=>cQ),void 0);r==null||r.show({component:v9e,bind:e,on:{confirm(i){i()},cancel(i){i()},...n},slots:t})},dZe=async e=>{const{$vfm:t}=await qt(()=>Promise.resolve().then(()=>cQ),void 0);t==null||t.hide(e)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ee=function(){return Ee=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Ee.apply(this,arguments)};function EP(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Dt(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Gt(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function Fn(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var fn;(function(e){e.Start="xstate.start",e.Stop="xstate.stop",e.Raise="xstate.raise",e.Send="xstate.send",e.Cancel="xstate.cancel",e.NullEvent="",e.Assign="xstate.assign",e.After="xstate.after",e.DoneState="done.state",e.DoneInvoke="done.invoke",e.Log="xstate.log",e.Init="xstate.init",e.Invoke="xstate.invoke",e.ErrorExecution="error.execution",e.ErrorCommunication="error.communication",e.ErrorPlatform="error.platform",e.ErrorCustom="xstate.error",e.Update="xstate.update",e.Pure="xstate.pure",e.Choose="xstate.choose"})(fn||(fn={}));var xu;(function(e){e.Parent="#_parent",e.Internal="#_internal"})(xu||(xu={}));var hw=fn.Start,Ox=fn.Stop,Qp=fn.Raise,iy=fn.Send,SP=fn.Cancel,QY=fn.NullEvent,Rx=fn.Assign,y9e=fn.After,_9e=fn.DoneState,Px=fn.Log,JY=fn.Init,gw=fn.Invoke,b9e=fn.ErrorExecution,Qk=fn.ErrorPlatform,$P=fn.ErrorCustom,Mx=fn.Update,ZY=fn.Choose,eX=fn.Pure;const w9e=Object.freeze(Object.defineProperty({__proto__:null,after:y9e,assign:Rx,cancel:SP,choose:ZY,doneState:_9e,error:$P,errorExecution:b9e,errorPlatform:Qk,init:JY,invoke:gw,log:Px,nullEvent:QY,pure:eX,raise:Qp,send:iy,start:hw,stop:Ox,update:Mx},Symbol.toStringTag,{value:"Module"}));var tX=".",s4={},Jk="xstate.guard",x9e="",c_;function TP(e,t,n){n===void 0&&(n=tX);var r=Tg(e,n),i=Tg(t,n);return cn(i)?cn(r)?i===r:!1:cn(r)?r in i:Object.keys(r).every(function(s){return s in i?TP(r[s],i[s]):!1})}function nX(e){try{return cn(e)||typeof e=="number"?"".concat(e):e.type}catch{throw new Error("Events must be strings or objects with a string event.type property.")}}function Zk(e,t){try{return Jp(e)?e:e.toString().split(t)}catch{throw new Error("'".concat(e,"' is not a valid state path."))}}function E9e(e){return typeof e=="object"&&"value"in e&&"context"in e&&"event"in e&&"_event"in e}function Tg(e,t){if(E9e(e))return e.value;if(Jp(e))return mw(e);if(typeof e!="string")return e;var n=Zk(e,t);return mw(n)}function mw(e){if(e.length===1)return e[0];for(var t={},n=t,r=0;r<e.length-1;r++)r===e.length-2?n[e[r]]=e[r+1]:(n[e[r]]={},n=n[e[r]]);return t}function Hh(e,t){for(var n={},r=Object.keys(e),i=0;i<r.length;i++){var s=r[i];n[s]=t(e[s],s,e,i)}return n}function o4(e,t,n){var r,i,s={};try{for(var o=Dt(Object.keys(e)),a=o.next();!a.done;a=o.next()){var l=a.value,u=e[l];n(u)&&(s[l]=t(u,l,e))}}catch(c){r={error:c}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s}var S9e=function(e){return function(t){var n,r,i=t;try{for(var s=Dt(e),o=s.next();!o.done;o=s.next()){var a=o.value;i=i[a]}}catch(l){n={error:l}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i}};function $9e(e,t){return function(n){var r,i,s=n;try{for(var o=Dt(e),a=o.next();!a.done;a=o.next()){var l=a.value;s=s[t][l]}}catch(u){r={error:u}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s}}function i0(e){if(!e)return[[]];if(cn(e))return[[e]];var t=Xn(Object.keys(e).map(function(n){var r=e[n];return typeof r!="string"&&(!r||!Object.keys(r).length)?[[n]]:i0(e[n]).map(function(i){return[n].concat(i)})}));return t}function Xn(e){var t;return(t=[]).concat.apply(t,Fn([],Gt(e),!1))}function rX(e){return Jp(e)?e:[e]}function Ys(e){return e===void 0?[]:rX(e)}function vw(e,t,n){var r,i;if(Xt(e))return e(t,n.data);var s={};try{for(var o=Dt(Object.keys(e)),a=o.next();!a.done;a=o.next()){var l=a.value,u=e[l];Xt(u)?s[l]=u(t,n.data):s[l]=u}}catch(c){r={error:c}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s}function T9e(e){return/^(done|error)\./.test(e)}function a4(e){return!!(e instanceof Promise||e!==null&&(Xt(e)||typeof e=="object")&&Xt(e.then))}function k9e(e){return e!==null&&typeof e=="object"&&"transition"in e&&typeof e.transition=="function"}function I9e(e,t){var n,r,i=Gt([[],[]],2),s=i[0],o=i[1];try{for(var a=Dt(e),l=a.next();!l.done;l=a.next()){var u=l.value;t(u)?s.push(u):o.push(u)}}catch(c){n={error:c}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return[s,o]}function iX(e,t){return Hh(e.states,function(n,r){if(n){var i=(cn(t)?void 0:t[r])||(n?n.current:void 0);if(i)return{current:i,states:iX(n,i)}}})}function C9e(e,t){return{current:t,states:iX(e,t)}}function l4(e,t,n,r){var i=e&&n.reduce(function(s,o){var a,l,u=o.assignment,c={state:r,action:o,_event:t},d={};if(Xt(u))d=u(s,t.data,c);else try{for(var f=Dt(Object.keys(u)),p=f.next();!p.done;p=f.next()){var g=p.value,h=u[g];d[g]=Xt(h)?h(s,t.data,c):h}}catch(m){a={error:m}}finally{try{p&&!p.done&&(l=f.return)&&l.call(f)}finally{if(a)throw a.error}}return Object.assign({},s,d)},e);return i}var A9e=function(){};function Jp(e){return Array.isArray(e)}function Xt(e){return typeof e=="function"}function cn(e){return typeof e=="string"}function sX(e,t){if(e)return cn(e)?{type:Jk,name:e,predicate:t?t[e]:void 0}:Xt(e)?{type:Jk,name:e.name,predicate:e}:e}function O9e(e){try{return"subscribe"in e&&Xt(e.subscribe)}catch{return!1}}var Ll=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();c_={},c_[Ll]=function(){return this},c_[Symbol.observable]=function(){return this};function vp(e){return!!e&&"__xstatenode"in e}function R9e(e){return!!e&&typeof e.send=="function"}function Dx(e,t){return cn(e)||typeof e=="number"?Ee({type:e},t):e}function Xr(e,t){if(!cn(e)&&"$$type"in e&&e.$$type==="scxml")return e;var n=Dx(e);return Ee({name:n.type,data:n,$$type:"scxml",type:"external"},t)}function Ad(e,t){var n=rX(t).map(function(r){return typeof r>"u"||typeof r=="string"||vp(r)?{target:r,event:e}:Ee(Ee({},r),{event:e})});return n}function P9e(e){if(!(e===void 0||e===x9e))return Ys(e)}function oX(e,t,n,r,i){var s=e.options.guards,o={state:i,cond:t,_event:r};if(t.type===Jk)return((s==null?void 0:s[t.name])||t.predicate)(n,r.data,o);var a=s==null?void 0:s[t.type];if(!a)throw new Error("Guard '".concat(t.type,"' is not implemented on machine '").concat(e.id,"'."));return a(n,r.data,o)}function aX(e){return typeof e=="string"?{type:e}:e}function kg(e,t,n){var r=function(){},i=typeof e=="object",s=i?e:null;return{next:((i?e.next:e)||r).bind(s),error:((i?e.error:t)||r).bind(s),complete:((i?e.complete:n)||r).bind(s)}}function d_(e,t){return"".concat(e,":invocation[").concat(t,"]")}function eI(e){return(e.type===Qp||e.type===iy&&e.to===xu.Internal)&&typeof e.delay!="number"}var Ec=Xr({type:JY});function yw(e,t){return t&&t[e]||void 0}function yp(e,t){var n;if(cn(e)||typeof e=="number"){var r=yw(e,t);Xt(r)?n={type:e,exec:r}:r?n=r:n={type:e,exec:void 0}}else if(Xt(e))n={type:e.name||e.toString(),exec:e};else{var r=yw(e.type,t);if(Xt(r))n=Ee(Ee({},e),{exec:r});else if(r){var i=r.type||e.type;n=Ee(Ee(Ee({},r),e),{type:i})}else n=e}return n}var wa=function(e,t){if(!e)return[];var n=Jp(e)?e:[e];return n.map(function(r){return yp(r,t)})};function Nx(e){var t=yp(e);return Ee(Ee({id:cn(e)?e:t.id},t),{type:t.type})}function lX(e,t){return{type:Qp,event:typeof e=="function"?e:Dx(e),delay:t?t.delay:void 0,id:t==null?void 0:t.id}}function uX(e,t,n,r){var i={_event:n},s=Xr(Xt(e.event)?e.event(t,n.data,i):e.event),o;if(cn(e.delay)){var a=r&&r[e.delay];o=Xt(a)?a(t,n.data,i):a}else o=Xt(e.delay)?e.delay(t,n.data,i):e.delay;return Ee(Ee({},e),{type:Qp,_event:s,delay:o})}function Zp(e,t){return{to:t?t.to:void 0,type:iy,event:Xt(e)?e:Dx(e),delay:t?t.delay:void 0,id:t&&t.id!==void 0?t.id:Xt(e)?e.name:nX(e)}}function cX(e,t,n,r){var i={_event:n},s=Xr(Xt(e.event)?e.event(t,n.data,i):e.event),o;if(cn(e.delay)){var a=r&&r[e.delay];o=Xt(a)?a(t,n.data,i):a}else o=Xt(e.delay)?e.delay(t,n.data,i):e.delay;var l=Xt(e.to)?e.to(t,n.data,i):e.to;return Ee(Ee({},e),{to:l,_event:s,event:s.data,delay:o})}function Lx(e,t){return Zp(e,Ee(Ee({},t),{to:xu.Parent}))}function M9e(e,t,n){return Zp(t,Ee(Ee({},n),{to:e}))}function D9e(){return Lx(Mx)}function N9e(e,t){return Zp(e,Ee(Ee({},t),{to:function(n,r,i){var s=i._event;return s.origin}}))}var L9e=function(e,t){return{context:e,event:t}};function F9e(e,t){return e===void 0&&(e=L9e),{type:Px,label:t,expr:e}}var dX=function(e,t,n){return Ee(Ee({},e),{value:cn(e.expr)?e.expr:e.expr(t,n.data,{_event:n})})},fX=function(e){return{type:SP,sendId:e}};function pX(e){var t=Nx(e);return{type:fn.Start,activity:t,exec:void 0}}function hX(e){var t=Xt(e)?e:Nx(e);return{type:fn.Stop,activity:t,exec:void 0}}function gX(e,t,n){var r=Xt(e.activity)?e.activity(t,n.data):e.activity,i=typeof r=="string"?{id:r}:r,s={type:fn.Stop,activity:i};return s}var mX=function(e){return{type:Rx,assignment:e}};function B9e(e){return typeof e=="object"&&"type"in e}function vX(e,t){var n=t?"#".concat(t):"";return"".concat(fn.After,"(").concat(e,")").concat(n)}function Wh(e,t){var n="".concat(fn.DoneState,".").concat(e),r={type:n,data:t};return r.toString=function(){return n},r}function Ig(e,t){var n="".concat(fn.DoneInvoke,".").concat(e),r={type:n,data:t};return r.toString=function(){return n},r}function of(e,t){var n="".concat(fn.ErrorPlatform,".").concat(e),r={type:n,data:t};return r.toString=function(){return n},r}function U9e(e){return{type:fn.Pure,get:e}}function V9e(e,t){return Zp(function(n,r){return r},Ee(Ee({},t),{to:e}))}function j9e(e,t){return Lx(function(n,r,i){return{type:$P,data:Xt(e)?e(n,r,i):e}},Ee(Ee({},t),{to:xu.Parent}))}function H9e(e){return{type:fn.Choose,conds:e}}var W9e=function(e){var t,n,r=[];try{for(var i=Dt(e),s=i.next();!s.done;s=i.next())for(var o=s.value,a=0;a<o.actions.length;){if(o.actions[a].type===Rx){r.push(o.actions[a]),o.actions.splice(a,1);continue}a++}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r};function qm(e,t,n,r,i,s,o){o===void 0&&(o=!1);var a=o?[]:W9e(i),l=a.length?l4(n,r,a,t):n,u=o?[n]:void 0,c=[];function d(g,h){var m;switch(h.type){case Qp:{var v=uX(h,l,r,e.options.delays);return s&&typeof v.delay=="number"&&s(v,l,r),v}case iy:var y=cX(h,l,r,e.options.delays);return s&&y.to!==xu.Internal&&(g==="entry"?c.push(y):s(y,l,r)),y;case Px:{var _=dX(h,l,r);return s==null||s(_,l,r),_}case ZY:{var b=h,x=(m=b.conds.find(function(X){var le=sX(X.cond,e.options.guards);return!le||oX(e,le,l,r,s?void 0:t)}))===null||m===void 0?void 0:m.actions;if(!x)return[];var w=Gt(qm(e,t,l,r,[{type:g,actions:wa(Ys(x),e.options.actions)}],s,o),2),$=w[0],E=w[1];return l=E,u==null||u.push(l),$}case eX:{var x=h.get(l,r.data);if(!x)return[];var S=Gt(qm(e,t,l,r,[{type:g,actions:wa(Ys(x),e.options.actions)}],s,o),2),T=S[0],P=S[1];return l=P,u==null||u.push(l),T}case Ox:{var _=gX(h,l,r);return s==null||s(_,n,r),_}case Rx:{l=l4(l,r,[h],s?void 0:t),u==null||u.push(l);break}default:var C=yp(h,e.options.actions),B=C.exec;if(s)s(C,l,r);else if(B&&u){var V=u.length-1,ce=Ee(Ee({},C),{exec:function(X){for(var le=[],me=1;me<arguments.length;me++)le[me-1]=arguments[me];B.apply(void 0,Fn([u[V]],Gt(le),!1))}});C=ce}return C}}function f(g){var h,m,v=[];try{for(var y=Dt(g.actions),_=y.next();!_.done;_=y.next()){var b=_.value,x=d(g.type,b);x&&(v=v.concat(x))}}catch(w){h={error:w}}finally{try{_&&!_.done&&(m=y.return)&&m.call(y)}finally{if(h)throw h.error}}return c.forEach(function(w){s(w,l,r)}),c.length=0,v}var p=Xn(i.map(f));return[p,l]}const fZe=Object.freeze(Object.defineProperty({__proto__:null,actionTypes:w9e,after:vX,assign:mX,cancel:fX,choose:H9e,done:Wh,doneInvoke:Ig,error:of,escalate:j9e,forwardTo:V9e,getActionFunction:yw,initEvent:Ec,isActionObject:B9e,log:F9e,pure:U9e,raise:lX,resolveActions:qm,resolveLog:dX,resolveRaise:uX,resolveSend:cX,resolveStop:gX,respond:N9e,send:Zp,sendParent:Lx,sendTo:M9e,sendUpdate:D9e,start:pX,stop:hX,toActionObject:yp,toActionObjects:wa,toActivityDefinition:Nx},Symbol.toStringTag,{value:"Module"}));var u4=[],Kd=function(e,t){u4.push(e);var n=t(e);return u4.pop(),n};function yX(e){var t;return t={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:e}}},t[Ll]=function(){return this},t}function q9e(e,t,n,r){var i,s=aX(e.src),o=(i=t==null?void 0:t.options.services)===null||i===void 0?void 0:i[s.type],a=e.data?vw(e.data,n,r):void 0,l=o?_X(o,e.id,a):yX(e.id);return l.meta=e,l}function _X(e,t,n){var r=yX(t);if(r.deferred=!0,vp(e)){var i=r.state=Kd(void 0,function(){return(n?e.withContext(n):e).initialState});r.getSnapshot=function(){return i}}return r}function z9e(e){try{return typeof e.send=="function"}catch{return!1}}function K9e(e){return z9e(e)&&"id"in e}function G9e(e){var t;return Ee((t={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}},t[Ll]=function(){return this},t),e)}var _w=function(e){return e.type==="atomic"||e.type==="final"};function bX(e){return Object.keys(e.states).map(function(t){return e.states[t]})}function zm(e){return bX(e).filter(function(t){return t.type!=="history"})}function wX(e){var t=[e];return _w(e)?t:t.concat(Xn(zm(e).map(wX)))}function qh(e,t){var n,r,i,s,o,a,l,u,c=new Set(e),d=tI(c),f=new Set(t);try{for(var p=Dt(f),g=p.next();!g.done;g=p.next())for(var h=g.value,m=h.parent;m&&!f.has(m);)f.add(m),m=m.parent}catch(S){n={error:S}}finally{try{g&&!g.done&&(r=p.return)&&r.call(p)}finally{if(n)throw n.error}}var v=tI(f);try{for(var y=Dt(f),_=y.next();!_.done;_=y.next()){var h=_.value;if(h.type==="compound"&&(!v.get(h)||!v.get(h).length))d.get(h)?d.get(h).forEach(function(T){return f.add(T)}):h.initialStateNodes.forEach(function(T){return f.add(T)});else if(h.type==="parallel")try{for(var b=(o=void 0,Dt(zm(h))),x=b.next();!x.done;x=b.next()){var w=x.value;f.has(w)||(f.add(w),d.get(w)?d.get(w).forEach(function(T){return f.add(T)}):w.initialStateNodes.forEach(function(T){return f.add(T)}))}}catch(T){o={error:T}}finally{try{x&&!x.done&&(a=b.return)&&a.call(b)}finally{if(o)throw o.error}}}}catch(S){i={error:S}}finally{try{_&&!_.done&&(s=y.return)&&s.call(y)}finally{if(i)throw i.error}}try{for(var $=Dt(f),E=$.next();!E.done;E=$.next())for(var h=E.value,m=h.parent;m&&!f.has(m);)f.add(m),m=m.parent}catch(S){l={error:S}}finally{try{E&&!E.done&&(u=$.return)&&u.call($)}finally{if(l)throw l.error}}return f}function xX(e,t){var n=t.get(e);if(!n)return{};if(e.type==="compound"){var r=n[0];if(r){if(_w(r))return r.key}else return{}}var i={};return n.forEach(function(s){i[s.key]=xX(s,t)}),i}function tI(e){var t,n,r=new Map;try{for(var i=Dt(e),s=i.next();!s.done;s=i.next()){var o=s.value;r.has(o)||r.set(o,[]),o.parent&&(r.has(o.parent)||r.set(o.parent,[]),r.get(o.parent).push(o))}}catch(a){t={error:a}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Y9e(e,t){var n=qh([e],t);return xX(e,tI(n))}function zh(e,t){return Array.isArray(e)?e.some(function(n){return n===t}):e instanceof Set?e.has(t):!1}function X9e(e){return Fn([],Gt(new Set(Xn(Fn([],Gt(e.map(function(t){return t.ownEvents})),!1)))),!1)}function s0(e,t){return t.type==="compound"?zm(t).some(function(n){return n.type==="final"&&zh(e,n)}):t.type==="parallel"?zm(t).every(function(n){return s0(e,n)}):!1}function Q9e(e){return e===void 0&&(e=[]),e.reduce(function(t,n){return n.meta!==void 0&&(t[n.id]=n.meta),t},{})}function c4(e){return new Set(Xn(e.map(function(t){return t.tags})))}function EX(e,t){if(e===t)return!0;if(e===void 0||t===void 0)return!1;if(cn(e)||cn(t))return e===t;var n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(function(i){return EX(e[i],t[i])})}function J9e(e){return typeof e!="object"||e===null?!1:"value"in e&&"_event"in e}function Z9e(e,t){var n=e.exec,r=Ee(Ee({},e),{exec:n!==void 0?function(){return n(t.context,t.event,{action:e,state:t,_event:t._event})}:void 0});return r}var Ts=function(){function e(t){var n=this,r;this.actions=[],this.activities=s4,this.meta={},this.events=[],this.value=t.value,this.context=t.context,this._event=t._event,this._sessionid=t._sessionid,this.event=this._event.data,this.historyValue=t.historyValue,this.history=t.history,this.actions=t.actions||[],this.activities=t.activities||s4,this.meta=Q9e(t.configuration),this.events=t.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=t.configuration,this.transitions=t.transitions,this.children=t.children,this.done=!!t.done,this.tags=(r=Array.isArray(t.tags)?new Set(t.tags):t.tags)!==null&&r!==void 0?r:new Set,this.machine=t.machine,Object.defineProperty(this,"nextEvents",{get:function(){return X9e(n.configuration)}})}return e.from=function(t,n){if(t instanceof e)return t.context!==n?new e({value:t.value,context:n,_event:t._event,_sessionid:null,historyValue:t.historyValue,history:t.history,actions:[],activities:t.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):t;var r=Ec;return new e({value:t,context:n,_event:r,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},e.create=function(t){return new e(t)},e.inert=function(t,n){if(t instanceof e){if(!t.actions.length)return t;var r=Ec;return new e({value:t.value,context:n,_event:r,_sessionid:null,historyValue:t.historyValue,history:t.history,activities:t.activities,configuration:t.configuration,transitions:[],children:{}})}return e.from(t,n)},e.prototype.toStrings=function(t,n){var r=this;if(t===void 0&&(t=this.value),n===void 0&&(n="."),cn(t))return[t];var i=Object.keys(t);return i.concat.apply(i,Fn([],Gt(i.map(function(s){return r.toStrings(t[s],n).map(function(o){return s+n+o})})),!1))},e.prototype.toJSON=function(){var t=this;t.configuration,t.transitions;var n=t.tags;t.machine;var r=EP(t,["configuration","transitions","tags","machine"]);return Ee(Ee({},r),{tags:Array.from(n)})},e.prototype.matches=function(t){return TP(t,this.value)},e.prototype.hasTag=function(t){return this.tags.has(t)},e.prototype.can=function(t){var n;A9e(!!this.machine);var r=(n=this.machine)===null||n===void 0?void 0:n.getTransitionData(this,t);return!!(r!=null&&r.transitions.length)&&r.transitions.some(function(i){return i.target!==void 0||i.actions.length})},e}(),eqe={deferEvents:!1},d4=function(){function e(t){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=Ee(Ee({},eqe),t)}return e.prototype.initialize=function(t){if(this.initialized=!0,t){if(!this.options.deferEvents){this.schedule(t);return}this.process(t)}this.flushEvents()},e.prototype.schedule=function(t){if(!this.initialized||this.processingEvent){this.queue.push(t);return}if(this.queue.length!==0)throw new Error("Event queue should be empty when it is not processing events");this.process(t),this.flushEvents()},e.prototype.clear=function(){this.queue=[]},e.prototype.flushEvents=function(){for(var t=this.queue.shift();t;)this.process(t),t=this.queue.shift()},e.prototype.process=function(t){this.processingEvent=!0;try{t()}catch(n){throw this.clear(),n}finally{this.processingEvent=!1}},e}(),XS=new Map,tqe=0,$h={bookId:function(){return"x:".concat(tqe++)},register:function(e,t){return XS.set(e,t),e},get:function(e){return XS.get(e)},free:function(e){XS.delete(e)}};function kP(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function nqe(){var e=kP();if(e&&"__xstate__"in e)return e.__xstate__}function rqe(e){if(kP()){var t=nqe();t&&t.register(e)}}function iqe(e,t){t===void 0&&(t={});var n=e.initialState,r=new Set,i=[],s=!1,o=function(){if(!s){for(s=!0;i.length>0;){var u=i.shift();n=e.transition(n,u,l),r.forEach(function(c){return c.next(n)})}s=!1}},a=G9e({id:t.id,send:function(u){i.push(u),o()},getSnapshot:function(){return n},subscribe:function(u,c,d){var f=kg(u,c,d);return r.add(f),f.next(n),{unsubscribe:function(){r.delete(f)}}}}),l={parent:t.parent,self:a,id:t.id||"anonymous",observers:r};return n=e.start?e.start(l):n,a}var sqe={sync:!1,autoForward:!1},Br;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(Br||(Br={}));var oqe=function(){function e(t,n){n===void 0&&(n=e.defaultOptions);var r=this;this.machine=t,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=Br.NotStarted,this.children=new Map,this.forwardTo=new Set,this._outgoingQueue=[],this.init=this.start,this.send=function(c,d){if(Jp(c))return r.batch(c),r.state;var f=Xr(Dx(c,d));if(r.status===Br.Stopped)return r.state;if(r.status!==Br.Running&&!r.options.deferEvents)throw new Error('Event "'.concat(f.name,'" was sent to uninitialized service "').concat(r.machine.id,`". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.
Event: `).concat(JSON.stringify(f.data)));return r.scheduler.schedule(function(){r.forward(f);var p=r._nextState(f);r.update(p,f)}),r._state},this.sendTo=function(c,d,f){var p=r.parent&&(d===xu.Parent||r.parent.id===d),g=p?r.parent:cn(d)?d===xu.Internal?r:r.children.get(d)||$h.get(d):R9e(d)?d:void 0;if(!g){if(!p)throw new Error("Unable to send event to child '".concat(d,"' from service '").concat(r.id,"'."));return}if("machine"in g){if(r.status!==Br.Stopped||r.parent!==g||r.state.done){var h=Ee(Ee({},c),{name:c.name===$P?"".concat(of(r.id)):c.name,origin:r.sessionId});!f&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([g,h]):g.send(h)}}else!f&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([g,c.data]):g.send(c.data)},this._exec=function(c,d,f,p){p===void 0&&(p=r.machine.options.actions);var g=c.exec||yw(c.type,p),h=Xt(g)?g:g?g.exec:c.exec;if(h)try{return h(d,f.data,r.machine.config.predictableActionArguments?{action:c,_event:f}:{action:c,state:r.state,_event:f})}catch(V){throw r.parent&&r.parent.send({type:"xstate.error",data:V}),V}switch(c.type){case Qp:{var m=c;r.defer(m);break}case iy:var v=c;if(typeof v.delay=="number"){r.defer(v);return}else v.to?r.sendTo(v._event,v.to,f===Ec):r.send(v._event);break;case SP:r.cancel(c.sendId);break;case hw:{if(r.status!==Br.Running)return;var y=c.activity;if(!r.machine.config.predictableActionArguments&&!r.state.activities[y.id||y.type])break;if(y.type===fn.Invoke){var _=aX(y.src),b=r.machine.options.services?r.machine.options.services[_.type]:void 0,x=y.id,w=y.data,$="autoForward"in y?y.autoForward:!!y.forward;if(!b)return;var E=w?vw(w,d,f):void 0;if(typeof b=="string")return;var S=Xt(b)?b(d,f.data,{data:E,src:_,meta:y.meta}):b;if(!S)return;var T=void 0;vp(S)&&(S=E?S.withContext(E):S,T={autoForward:$}),r.spawn(S,x,T)}else r.spawnActivity(y);break}case Ox:{r.stopChild(c.activity.id);break}case Px:var P=c,C=P.label,B=P.value;C?r.logger(C,B):r.logger(B);break}};var i=Ee(Ee({},e.defaultOptions),n),s=i.clock,o=i.logger,a=i.parent,l=i.id,u=l!==void 0?l:t.id;this.id=u,this.logger=o,this.clock=s,this.parent=a,this.options=i,this.scheduler=new d4({deferEvents:this.options.deferEvents}),this.sessionId=$h.bookId()}return Object.defineProperty(e.prototype,"initialState",{get:function(){var t=this;return this._initialState?this._initialState:Kd(this,function(){return t._initialState=t.machine.initialState,t._initialState})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),e.prototype.execute=function(t,n){var r,i;try{for(var s=Dt(t.actions),o=s.next();!o.done;o=s.next()){var a=o.value;this.exec(a,t,n)}}catch(l){r={error:l}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}},e.prototype.update=function(t,n){var r,i,s,o,a,l,u,c,d=this;if(t._sessionid=this.sessionId,this._state=t,(!this.machine.config.predictableActionArguments||n===Ec)&&this.options.execute)this.execute(this.state);else for(var f=void 0;f=this._outgoingQueue.shift();)f[0].send(f[1]);if(this.children.forEach(function(S){d.state.children[S.id]=S}),this.devTools&&this.devTools.send(n.data,t),t.event)try{for(var p=Dt(this.eventListeners),g=p.next();!g.done;g=p.next()){var h=g.value;h(t.event)}}catch(S){r={error:S}}finally{try{g&&!g.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}try{for(var m=Dt(this.listeners),v=m.next();!v.done;v=m.next()){var h=v.value;h(t,t.event)}}catch(S){s={error:S}}finally{try{v&&!v.done&&(o=m.return)&&o.call(m)}finally{if(s)throw s.error}}try{for(var y=Dt(this.contextListeners),_=y.next();!_.done;_=y.next()){var b=_.value;b(this.state.context,this.state.history?this.state.history.context:void 0)}}catch(S){a={error:S}}finally{try{_&&!_.done&&(l=y.return)&&l.call(y)}finally{if(a)throw a.error}}if(this.state.done){var x=t.configuration.find(function(S){return S.type==="final"&&S.parent===d.machine}),w=x&&x.doneData?vw(x.doneData,t.context,n):void 0;this._doneEvent=Ig(this.id,w);try{for(var $=Dt(this.doneListeners),E=$.next();!E.done;E=$.next()){var h=E.value;h(this._doneEvent)}}catch(S){u={error:S}}finally{try{E&&!E.done&&(c=$.return)&&c.call($)}finally{if(u)throw u.error}}this._stop(),this._stopChildren(),$h.free(this.sessionId)}},e.prototype.onTransition=function(t){return this.listeners.add(t),this.status===Br.Running&&t(this.state,this.state.event),this},e.prototype.subscribe=function(t,n,r){var i=this,s=kg(t,n,r);this.listeners.add(s.next),this.status!==Br.NotStarted&&s.next(this.state);var o=function(){i.doneListeners.delete(o),i.stopListeners.delete(o),s.complete()};return this.status===Br.Stopped?s.complete():(this.onDone(o),this.onStop(o)),{unsubscribe:function(){i.listeners.delete(s.next),i.doneListeners.delete(o),i.stopListeners.delete(o)}}},e.prototype.onEvent=function(t){return this.eventListeners.add(t),this},e.prototype.onSend=function(t){return this.sendListeners.add(t),this},e.prototype.onChange=function(t){return this.contextListeners.add(t),this},e.prototype.onStop=function(t){return this.stopListeners.add(t),this},e.prototype.onDone=function(t){return this.status===Br.Stopped&&this._doneEvent?t(this._doneEvent):this.doneListeners.add(t),this},e.prototype.off=function(t){return this.listeners.delete(t),this.eventListeners.delete(t),this.sendListeners.delete(t),this.stopListeners.delete(t),this.doneListeners.delete(t),this.contextListeners.delete(t),this},e.prototype.start=function(t){var n=this;if(this.status===Br.Running)return this;this.machine._init(),$h.register(this.sessionId,this),this.initialized=!0,this.status=Br.Running;var r=t===void 0?this.initialState:Kd(this,function(){return J9e(t)?n.machine.resolveState(t):n.machine.resolveState(Ts.from(t,n.machine.context))});return this.options.devTools&&this.attachDev(),this.scheduler.initialize(function(){n.update(r,Ec)}),this},e.prototype._stopChildren=function(){this.children.forEach(function(t){Xt(t.stop)&&t.stop()}),this.children.clear()},e.prototype._stop=function(){var t,n,r,i,s,o,a,l,u,c;try{for(var d=Dt(this.listeners),f=d.next();!f.done;f=d.next()){var p=f.value;this.listeners.delete(p)}}catch($){t={error:$}}finally{try{f&&!f.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}try{for(var g=Dt(this.stopListeners),h=g.next();!h.done;h=g.next()){var p=h.value;p(),this.stopListeners.delete(p)}}catch($){r={error:$}}finally{try{h&&!h.done&&(i=g.return)&&i.call(g)}finally{if(r)throw r.error}}try{for(var m=Dt(this.contextListeners),v=m.next();!v.done;v=m.next()){var p=v.value;this.contextListeners.delete(p)}}catch($){s={error:$}}finally{try{v&&!v.done&&(o=m.return)&&o.call(m)}finally{if(s)throw s.error}}try{for(var y=Dt(this.doneListeners),_=y.next();!_.done;_=y.next()){var p=_.value;this.doneListeners.delete(p)}}catch($){a={error:$}}finally{try{_&&!_.done&&(l=y.return)&&l.call(y)}finally{if(a)throw a.error}}if(!this.initialized)return this;this.initialized=!1,this.status=Br.Stopped,this._initialState=void 0;try{for(var b=Dt(Object.keys(this.delayedEventsMap)),x=b.next();!x.done;x=b.next()){var w=x.value;this.clock.clearTimeout(this.delayedEventsMap[w])}}catch($){u={error:$}}finally{try{x&&!x.done&&(c=b.return)&&c.call(b)}finally{if(u)throw u.error}}this.scheduler.clear(),this.scheduler=new d4({deferEvents:this.options.deferEvents})},e.prototype.stop=function(){var t=this,n=this.scheduler;return this._stop(),n.schedule(function(){var r;if(!(!((r=t._state)===null||r===void 0)&&r.done)){var i=Xr({type:"xstate.stop"}),s=Kd(t,function(){var o=Xn(Fn([],Gt(t.state.configuration),!1).sort(function(d,f){return f.order-d.order}).map(function(d){return wa(d.onExit,t.machine.options.actions)})),a=Gt(qm(t.machine,t.state,t.state.context,i,[{type:"exit",actions:o}],t.machine.config.predictableActionArguments?t._exec:void 0,t.machine.config.predictableActionArguments||t.machine.config.preserveActionOrder),2),l=a[0],u=a[1],c=new Ts({value:t.state.value,context:u,_event:i,_sessionid:t.sessionId,historyValue:void 0,history:t.state,actions:l.filter(function(d){return!eI(d)}),activities:{},events:[],configuration:[],transitions:[],children:{},done:t.state.done,tags:t.state.tags,machine:t.machine});return c.changed=!0,c});t.update(s,i),t._stopChildren(),$h.free(t.sessionId)}}),this},e.prototype.batch=function(t){var n=this;if(!(this.status===Br.NotStarted&&this.options.deferEvents)){if(this.status!==Br.Running)throw new Error("".concat(t.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'))}if(t.length){var r=!!this.machine.config.predictableActionArguments&&this._exec;this.scheduler.schedule(function(){var i,s,o=n.state,a=!1,l=[],u=function(p){var g=Xr(p);n.forward(g),o=Kd(n,function(){return n.machine.transition(o,g,void 0,r||void 0)}),l.push.apply(l,Fn([],Gt(n.machine.config.predictableActionArguments?o.actions:o.actions.map(function(h){return Z9e(h,o)})),!1)),a=a||!!o.changed};try{for(var c=Dt(t),d=c.next();!d.done;d=c.next()){var f=d.value;u(f)}}catch(p){i={error:p}}finally{try{d&&!d.done&&(s=c.return)&&s.call(c)}finally{if(i)throw i.error}}o.changed=a,o.actions=l,n.update(o,Xr(t[t.length-1]))})}},e.prototype.sender=function(t){return this.send.bind(this,t)},e.prototype._nextState=function(t,n){var r=this;n===void 0&&(n=!!this.machine.config.predictableActionArguments&&this._exec);var i=Xr(t);if(i.name.indexOf(Qk)===0&&!this.state.nextEvents.some(function(o){return o.indexOf(Qk)===0}))throw i.data.data;var s=Kd(this,function(){return r.machine.transition(r.state,i,void 0,n||void 0)});return s},e.prototype.nextState=function(t){return this._nextState(t,!1)},e.prototype.forward=function(t){var n,r;try{for(var i=Dt(this.forwardTo),s=i.next();!s.done;s=i.next()){var o=s.value,a=this.children.get(o);if(!a)throw new Error("Unable to forward event '".concat(t,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(o,"'."));a.send(t)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.defer=function(t){var n=this,r=this.clock.setTimeout(function(){"to"in t&&t.to?n.sendTo(t._event,t.to,!0):n.send(t._event)},t.delay);t.id&&(this.delayedEventsMap[t.id]=r)},e.prototype.cancel=function(t){this.clock.clearTimeout(this.delayedEventsMap[t]),delete this.delayedEventsMap[t]},e.prototype.exec=function(t,n,r){r===void 0&&(r=this.machine.options.actions),this._exec(t,n.context,n._event,r)},e.prototype.removeChild=function(t){var n;this.children.delete(t),this.forwardTo.delete(t),(n=this.state)===null||n===void 0||delete n.children[t]},e.prototype.stopChild=function(t){var n=this.children.get(t);n&&(this.removeChild(t),Xt(n.stop)&&n.stop())},e.prototype.spawn=function(t,n,r){if(this.status!==Br.Running)return _X(t,n);if(a4(t))return this.spawnPromise(Promise.resolve(t),n);if(Xt(t))return this.spawnCallback(t,n);if(K9e(t))return this.spawnActor(t,n);if(O9e(t))return this.spawnObservable(t,n);if(vp(t))return this.spawnMachine(t,Ee(Ee({},r),{id:n}));if(k9e(t))return this.spawnBehavior(t,n);throw new Error('Unable to spawn entity "'.concat(n,'" of type "').concat(typeof t,'".'))},e.prototype.spawnMachine=function(t,n){var r=this;n===void 0&&(n={});var i=new e(t,Ee(Ee({},this.options),{parent:this,id:n.id||t.id})),s=Ee(Ee({},sqe),n);s.sync&&i.onTransition(function(a){r.send(Mx,{state:a,id:i.id})});var o=i;return this.children.set(i.id,o),s.autoForward&&this.forwardTo.add(i.id),i.onDone(function(a){r.removeChild(i.id),r.send(Xr(a,{origin:i.id}))}).start(),o},e.prototype.spawnBehavior=function(t,n){var r=iqe(t,{id:n,parent:this});return this.children.set(n,r),r},e.prototype.spawnPromise=function(t,n){var r,i=this,s=!1,o;t.then(function(l){s||(o=l,i.removeChild(n),i.send(Xr(Ig(n,l),{origin:n})))},function(l){if(!s){i.removeChild(n);var u=of(n,l);try{i.send(Xr(u,{origin:n}))}catch{i.devTools&&i.devTools.send(u,i.state),i.machine.strict&&i.stop()}}});var a=(r={id:n,send:function(){},subscribe:function(l,u,c){var d=kg(l,u,c),f=!1;return t.then(function(p){f||(d.next(p),!f&&d.complete())},function(p){f||d.error(p)}),{unsubscribe:function(){return f=!0}}},stop:function(){s=!0},toJSON:function(){return{id:n}},getSnapshot:function(){return o}},r[Ll]=function(){return this},r);return this.children.set(n,a),a},e.prototype.spawnCallback=function(t,n){var r,i=this,s=!1,o=new Set,a=new Set,l,u=function(f){l=f,a.forEach(function(p){return p(f)}),!s&&i.send(Xr(f,{origin:n}))},c;try{c=t(u,function(f){o.add(f)})}catch(f){this.send(of(n,f))}if(a4(c))return this.spawnPromise(c,n);var d=(r={id:n,send:function(f){return o.forEach(function(p){return p(f)})},subscribe:function(f){var p=kg(f);return a.add(p.next),{unsubscribe:function(){a.delete(p.next)}}},stop:function(){s=!0,Xt(c)&&c()},toJSON:function(){return{id:n}},getSnapshot:function(){return l}},r[Ll]=function(){return this},r);return this.children.set(n,d),d},e.prototype.spawnObservable=function(t,n){var r,i=this,s,o=t.subscribe(function(l){s=l,i.send(Xr(l,{origin:n}))},function(l){i.removeChild(n),i.send(Xr(of(n,l),{origin:n}))},function(){i.removeChild(n),i.send(Xr(Ig(n),{origin:n}))}),a=(r={id:n,send:function(){},subscribe:function(l,u,c){return t.subscribe(l,u,c)},stop:function(){return o.unsubscribe()},getSnapshot:function(){return s},toJSON:function(){return{id:n}}},r[Ll]=function(){return this},r);return this.children.set(n,a),a},e.prototype.spawnActor=function(t,n){return this.children.set(n,t),t},e.prototype.spawnActivity=function(t){var n=this.machine.options&&this.machine.options.activities?this.machine.options.activities[t.type]:void 0;if(n){var r=n(this.state.context,t);this.spawnEffect(t.id,r)}},e.prototype.spawnEffect=function(t,n){var r;this.children.set(t,(r={id:t,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:n||void 0,getSnapshot:function(){},toJSON:function(){return{id:t}}},r[Ll]=function(){return this},r))},e.prototype.attachDev=function(){var t=kP();if(this.options.devTools&&t){if(t.__REDUX_DEVTOOLS_EXTENSION__){var n=typeof this.options.devTools=="object"?this.options.devTools:void 0;this.devTools=t.__REDUX_DEVTOOLS_EXTENSION__.connect(Ee(Ee({name:this.id,autoPause:!0,stateSanitizer:function(r){return{value:r.value,context:r.context,actions:r.actions}}},n),{features:Ee({jump:!1,skip:!1},n?n.features:void 0)}),this.machine),this.devTools.init(this.state)}rqe(this)}},e.prototype.toJSON=function(){return{id:this.id}},e.prototype[Ll]=function(){return this},e.prototype.getSnapshot=function(){return this.status===Br.NotStarted?this.initialState:this._state},e.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(t,n){return setTimeout(t,n)},clearTimeout:function(t){return clearTimeout(t)}},logger:console.log.bind(console),devTools:!1},e.interpret=SX,e}();function SX(e,t){var n=new oqe(e,t);return n}function aqe(e){if(typeof e=="string"){var t={type:e};return t.toString=function(){return e},t}return e}function f_(e){return Ee(Ee({type:gw},e),{toJSON:function(){e.onDone,e.onError;var t=EP(e,["onDone","onError"]);return Ee(Ee({},t),{type:gw,src:aqe(e.src)})}})}var p_="",nI="#",QS="*",Od={},Rd=function(e){return e[0]===nI},lqe=function(){return{actions:{},guards:{},services:{},activities:{},delays:{}}},uqe=function(){function e(t,n,r,i){r===void 0&&(r="context"in t?t.context:void 0);var s=this,o;this.config=t,this._context=r,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign(lqe(),n),this.parent=i==null?void 0:i.parent,this.key=this.config.key||(i==null?void 0:i.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:tX),this.id=this.config.id||Fn([this.machine.key],Gt(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:(o=this.config.schema)!==null&&o!==void 0?o:{},this.description=this.config.description,this.initial=this.config.initial,this.states=this.config.states?Hh(this.config.states,function(u,c){var d,f=new e(u,{},void 0,{parent:s,key:c});return Object.assign(s.idMap,Ee((d={},d[f.id]=f,d),f.idMap)),f}):Od;var a=0;function l(u){var c,d;u.order=a++;try{for(var f=Dt(bX(u)),p=f.next();!p.done;p=f.next()){var g=p.value;l(g)}}catch(h){c={error:h}}finally{try{p&&!p.done&&(d=f.return)&&d.call(f)}finally{if(c)throw c.error}}}l(this),this.history=this.config.history===!0?"shallow":this.config.history||!1,this._transient=!!this.config.always||(this.config.on?Array.isArray(this.config.on)?this.config.on.some(function(u){var c=u.event;return c===p_}):p_ in this.config.on:!1),this.strict=!!this.config.strict,this.onEntry=Ys(this.config.entry||this.config.onEntry).map(function(u){return yp(u)}),this.onExit=Ys(this.config.exit||this.config.onExit).map(function(u){return yp(u)}),this.meta=this.config.meta,this.doneData=this.type==="final"?this.config.data:void 0,this.invoke=Ys(this.config.invoke).map(function(u,c){var d,f;if(vp(u)){var p=d_(s.id,c);return s.machine.options.services=Ee((d={},d[p]=u,d),s.machine.options.services),f_({src:p,id:p})}else if(cn(u.src)){var p=u.id||d_(s.id,c);return f_(Ee(Ee({},u),{id:p,src:u.src}))}else if(vp(u.src)||Xt(u.src)){var p=u.id||d_(s.id,c);return s.machine.options.services=Ee((f={},f[p]=u.src,f),s.machine.options.services),f_(Ee(Ee({id:p},u),{src:p}))}else{var g=u.src;return f_(Ee(Ee({id:d_(s.id,c)},u),{src:g}))}}),this.activities=Ys(this.config.activities).concat(this.invoke).map(function(u){return Nx(u)}),this.transition=this.transition.bind(this),this.tags=Ys(this.config.tags)}return e.prototype._init=function(){this.__cache.transitions||wX(this).forEach(function(t){return t.on})},e.prototype.withConfig=function(t,n){var r=this.options,i=r.actions,s=r.activities,o=r.guards,a=r.services,l=r.delays;return new e(this.config,{actions:Ee(Ee({},i),t.actions),activities:Ee(Ee({},s),t.activities),guards:Ee(Ee({},o),t.guards),services:Ee(Ee({},a),t.services),delays:Ee(Ee({},l),t.delays)},n??this.context)},e.prototype.withContext=function(t){return new e(this.config,this.options,t)},Object.defineProperty(e.prototype,"context",{get:function(){return Xt(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:Hh(this.states,function(t){return t.definition}),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return this.definition},Object.defineProperty(e.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var t=this.transitions;return this.__cache.on=t.reduce(function(n,r){return n[r.eventType]=n[r.eventType]||[],n[r.eventType].push(r),n},{})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),e.prototype.getCandidates=function(t){if(this.__cache.candidates[t])return this.__cache.candidates[t];var n=t===p_,r=this.transitions.filter(function(i){var s=i.eventType===t;return n?s:s||i.eventType===QS});return this.__cache.candidates[t]=r,r},e.prototype.getDelayedTransitions=function(){var t=this,n=this.config.after;if(!n)return[];var r=function(s,o){var a=Xt(s)?"".concat(t.id,":delay[").concat(o,"]"):s,l=vX(a,t.id);return t.onEntry.push(Zp(l,{delay:s})),t.onExit.push(fX(l)),l},i=Jp(n)?n.map(function(s,o){var a=r(s.delay,o);return Ee(Ee({},s),{event:a})}):Xn(Object.keys(n).map(function(s,o){var a=n[s],l=cn(a)?{target:a}:a,u=isNaN(+s)?s:+s,c=r(u,o);return Ys(l).map(function(d){return Ee(Ee({},d),{event:c,delay:u})})}));return i.map(function(s){var o=s.delay;return Ee(Ee({},t.formatTransition(s)),{delay:o})})},e.prototype.getStateNodes=function(t){var n,r=this;if(!t)return[];var i=t instanceof Ts?t.value:Tg(t,this.delimiter);if(cn(i)){var s=this.getStateNode(i).initial;return s!==void 0?this.getStateNodes((n={},n[i]=s,n)):[this,this.states[i]]}var o=Object.keys(i),a=[this];return a.push.apply(a,Fn([],Gt(Xn(o.map(function(l){return r.getStateNode(l).getStateNodes(i[l])}))),!1)),a},e.prototype.handles=function(t){var n=nX(t);return this.events.includes(n)},e.prototype.resolveState=function(t){var n=t instanceof Ts?t:Ts.create(t),r=Array.from(qh([],this.getStateNodes(n.value)));return new Ts(Ee(Ee({},n),{value:this.resolve(n.value),configuration:r,done:s0(r,this),tags:c4(r),machine:this.machine}))},e.prototype.transitionLeafNode=function(t,n,r){var i=this.getStateNode(t),s=i.next(n,r);return!s||!s.transitions.length?this.next(n,r):s},e.prototype.transitionCompoundNode=function(t,n,r){var i=Object.keys(t),s=this.getStateNode(i[0]),o=s._transition(t[i[0]],n,r);return!o||!o.transitions.length?this.next(n,r):o},e.prototype.transitionParallelNode=function(t,n,r){var i,s,o={};try{for(var a=Dt(Object.keys(t)),l=a.next();!l.done;l=a.next()){var u=l.value,c=t[u];if(c){var d=this.getStateNode(u),f=d._transition(c,n,r);f&&(o[u]=f)}}}catch(v){i={error:v}}finally{try{l&&!l.done&&(s=a.return)&&s.call(a)}finally{if(i)throw i.error}}var p=Object.keys(o).map(function(v){return o[v]}),g=Xn(p.map(function(v){return v.transitions})),h=p.some(function(v){return v.transitions.length>0});if(!h)return this.next(n,r);var m=Xn(Object.keys(o).map(function(v){return o[v].configuration}));return{transitions:g,exitSet:Xn(p.map(function(v){return v.exitSet})),configuration:m,source:n,actions:Xn(Object.keys(o).map(function(v){return o[v].actions}))}},e.prototype._transition=function(t,n,r){return cn(t)?this.transitionLeafNode(t,n,r):Object.keys(t).length===1?this.transitionCompoundNode(t,n,r):this.transitionParallelNode(t,n,r)},e.prototype.getTransitionData=function(t,n){return this._transition(t.value,t,Xr(n))},e.prototype.next=function(t,n){var r,i,s=this,o=n.name,a=[],l=[],u;try{for(var c=Dt(this.getCandidates(o)),d=c.next();!d.done;d=c.next()){var f=d.value,p=f.cond,g=f.in,h=t.context,m=g?cn(g)&&Rd(g)?t.matches(Tg(this.getStateNodeById(g).path,this.delimiter)):TP(Tg(g,this.delimiter),S9e(this.path.slice(0,-2))(t.value)):!0,v=!1;try{v=!p||oX(this.machine,p,h,n,t)}catch(b){throw new Error("Unable to evaluate guard '".concat(p.name||p.type,"' in transition for event '").concat(o,"' in state node '").concat(this.id,`':
`).concat(b.message))}if(v&&m){f.target!==void 0&&(l=f.target),a.push.apply(a,Fn([],Gt(f.actions),!1)),u=f;break}}}catch(b){r={error:b}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}if(u){if(!l.length)return{transitions:[u],exitSet:[],configuration:t.value?[this]:[],source:t,actions:a};var y=Xn(l.map(function(b){return s.getRelativeStateNodes(b,t.historyValue)})),_=!!u.internal;return{transitions:[u],exitSet:_?[]:Xn(l.map(function(b){return s.getPotentiallyReenteringNodes(b)})),configuration:y,source:t,actions:a}}},e.prototype.getPotentiallyReenteringNodes=function(t){if(this.order<t.order)return[this];for(var n=[],r=this,i=t;r&&r!==i;)n.push(r),r=r.parent;return r!==i?[]:(n.push(i),n)},e.prototype.getActions=function(t,n,r,i,s,o,a){var l,u,c,d,f=this,p=o?qh([],this.getStateNodes(o.value)):[],g=new Set;try{for(var h=Dt(Array.from(t).sort(function(P,C){return P.order-C.order})),m=h.next();!m.done;m=h.next()){var v=m.value;(!zh(p,v)||zh(r.exitSet,v)||v.parent&&g.has(v.parent))&&g.add(v)}}catch(P){l={error:P}}finally{try{m&&!m.done&&(u=h.return)&&u.call(h)}finally{if(l)throw l.error}}try{for(var y=Dt(p),_=y.next();!_.done;_=y.next()){var v=_.value;(!zh(t,v)||zh(r.exitSet,v.parent))&&r.exitSet.push(v)}}catch(P){c={error:P}}finally{try{_&&!_.done&&(d=y.return)&&d.call(y)}finally{if(c)throw c.error}}r.exitSet.sort(function(P,C){return C.order-P.order});var b=Array.from(g).sort(function(P,C){return P.order-C.order}),x=new Set(r.exitSet),w=Xn(b.map(function(P){var C=[];if(P.type!=="final")return C;var B=P.parent;if(!B.parent)return C;C.push(Wh(P.id,P.doneData),Wh(B.id,P.doneData?vw(P.doneData,i,s):void 0));var V=B.parent;return V.type==="parallel"&&zm(V).every(function(ce){return s0(r.configuration,ce)})&&C.push(Wh(V.id)),C})),$=b.map(function(P){var C=P.onEntry,B=P.activities.map(function(V){return pX(V)});return{type:"entry",actions:wa(a?Fn(Fn([],Gt(C),!1),Gt(B),!1):Fn(Fn([],Gt(B),!1),Gt(C),!1),f.machine.options.actions)}}).concat({type:"state_done",actions:w.map(function(P){return lX(P)})}),E=Array.from(x).map(function(P){return{type:"exit",actions:wa(Fn(Fn([],Gt(P.onExit),!1),Gt(P.activities.map(function(C){return hX(C)})),!1),f.machine.options.actions)}}),S=E.concat({type:"transition",actions:wa(r.actions,this.machine.options.actions)}).concat($);if(n){var T=wa(Xn(Fn([],Gt(t),!1).sort(function(P,C){return C.order-P.order}).map(function(P){return P.onExit})),this.machine.options.actions).filter(function(P){return!eI(P)});return S.concat({type:"stop",actions:T})}return S},e.prototype.transition=function(t,n,r,i){t===void 0&&(t=this.initialState);var s=Xr(n),o;if(t instanceof Ts)o=r===void 0?t:this.resolveState(Ts.from(t,r));else{var a=cn(t)?this.resolve(mw(this.getResolvedPath(t))):this.resolve(t),l=r??this.machine.context;o=this.resolveState(Ts.from(a,l))}if(this.strict&&!this.events.includes(s.name)&&!T9e(s.name))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(s.name,"'"));var u=this._transition(o.value,o,s)||{transitions:[],configuration:[],exitSet:[],source:o,actions:[]},c=qh([],this.getStateNodes(o.value)),d=u.configuration.length?qh(c,u.configuration):c;return u.configuration=Fn([],Gt(d),!1),this.resolveTransition(u,o,o.context,i,s)},e.prototype.resolveRaisedTransition=function(t,n,r,i){var s,o=t.actions;return t=this.transition(t,n,void 0,i),t._event=r,t.event=r.data,(s=t.actions).unshift.apply(s,Fn([],Gt(o),!1)),t},e.prototype.resolveTransition=function(t,n,r,i,s){var o,a,l,u,c=this;s===void 0&&(s=Ec);var d=t.configuration,f=!n||t.transitions.length>0,p=f?t.configuration:n?n.configuration:[],g=s0(p,this),h=f?Y9e(this.machine,d):void 0,m=n?n.historyValue?n.historyValue:t.source?this.machine.historyValue(n.value):void 0:void 0,v=this.getActions(new Set(p),g,t,r,s,n,i),y=n?Ee({},n.activities):{};try{for(var _=Dt(v),b=_.next();!b.done;b=_.next()){var x=b.value;try{for(var w=(l=void 0,Dt(x.actions)),$=w.next();!$.done;$=w.next()){var E=$.value;E.type===hw?y[E.activity.id||E.activity.type]=E:E.type===Ox&&(y[E.activity.id||E.activity.type]=!1)}}catch(H){l={error:H}}finally{try{$&&!$.done&&(u=w.return)&&u.call(w)}finally{if(l)throw l.error}}}}catch(H){o={error:H}}finally{try{b&&!b.done&&(a=_.return)&&a.call(_)}finally{if(o)throw o.error}}var S=Gt(qm(this,n,r,s,v,i,this.machine.config.predictableActionArguments||this.machine.config.preserveActionOrder),2),T=S[0],P=S[1],C=Gt(I9e(T,eI),2),B=C[0],V=C[1],ce=T.filter(function(H){var J;return H.type===hw&&((J=H.activity)===null||J===void 0?void 0:J.type)===gw}),X=ce.reduce(function(H,J){return H[J.activity.id]=q9e(J.activity,c.machine,P,s),H},n?Ee({},n.children):{}),le=new Ts({value:h||n.value,context:P,_event:s,_sessionid:n?n._sessionid:null,historyValue:h?m?C9e(m,h):void 0:n?n.historyValue:void 0,history:!h||t.source?n:void 0,actions:h?V:[],activities:h?y:n?n.activities:{},events:[],configuration:p,transitions:t.transitions,children:X,done:g,tags:c4(p),machine:this}),me=r!==P;le.changed=s.name===Mx||me;var Ie=le.history;Ie&&delete Ie.history;var Tt=!g&&(this._transient||d.some(function(H){return H._transient}));if(!f&&(!Tt||s.name===p_))return le;var Re=le;if(!g)for(Tt&&(Re=this.resolveRaisedTransition(Re,{type:QY},s,i));B.length;){var Xe=B.shift();Re=this.resolveRaisedTransition(Re,Xe._event,s,i)}var F=Re.changed||(Ie?!!Re.actions.length||me||typeof Ie.value!=typeof Re.value||!EX(Re.value,Ie.value):void 0);return Re.changed=F,Re.history=Ie,Re},e.prototype.getStateNode=function(t){if(Rd(t))return this.machine.getStateNodeById(t);if(!this.states)throw new Error("Unable to retrieve child state '".concat(t,"' from '").concat(this.id,"'; no child states exist."));var n=this.states[t];if(!n)throw new Error("Child state '".concat(t,"' does not exist on '").concat(this.id,"'"));return n},e.prototype.getStateNodeById=function(t){var n=Rd(t)?t.slice(nI.length):t;if(n===this.id)return this;var r=this.machine.idMap[n];if(!r)throw new Error("Child state node '#".concat(n,"' does not exist on machine '").concat(this.id,"'"));return r},e.prototype.getStateNodeByPath=function(t){if(typeof t=="string"&&Rd(t))try{return this.getStateNodeById(t.slice(1))}catch{}for(var n=Zk(t,this.delimiter).slice(),r=this;n.length;){var i=n.shift();if(!i.length)break;r=r.getStateNode(i)}return r},e.prototype.resolve=function(t){var n,r=this;if(!t)return this.initialStateValue||Od;switch(this.type){case"parallel":return Hh(this.initialStateValue,function(s,o){return s?r.getStateNode(o).resolve(t[o]||s):Od});case"compound":if(cn(t)){var i=this.getStateNode(t);return i.type==="parallel"||i.type==="compound"?(n={},n[t]=i.initialStateValue,n):t}return Object.keys(t).length?Hh(t,function(s,o){return s?r.getStateNode(o).resolve(s):Od}):this.initialStateValue||{};default:return t||Od}},e.prototype.getResolvedPath=function(t){if(Rd(t)){var n=this.machine.idMap[t.slice(nI.length)];if(!n)throw new Error("Unable to find state node '".concat(t,"'"));return n.path}return Zk(t,this.delimiter)},Object.defineProperty(e.prototype,"initialStateValue",{get:function(){var t;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;var n;if(this.type==="parallel")n=o4(this.states,function(r){return r.initialStateValue||Od},function(r){return r.type!=="history"});else if(this.initial!==void 0){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));n=_w(this.states[this.initial])?this.initial:(t={},t[this.initial]=this.states[this.initial].initialStateValue,t)}else n={};return this.__cache.initialStateValue=n,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),e.prototype.getInitialState=function(t,n){this._init();var r=this.getStateNodes(t);return this.resolveTransition({configuration:r,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,n??this.machine.context,void 0)},Object.defineProperty(e.prototype,"initialState",{get:function(){var t=this.initialStateValue;if(!t)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){var t;if(this.type==="history"){var n=this.config;cn(n.target)?t=Rd(n.target)?mw(this.machine.getStateNodeById(n.target).path.slice(this.path.length-1)):n.target:t=n.target}return t},enumerable:!1,configurable:!0}),e.prototype.getRelativeStateNodes=function(t,n,r){return r===void 0&&(r=!0),r?t.type==="history"?t.resolveHistory(n):t.initialStateNodes:[t]},Object.defineProperty(e.prototype,"initialStateNodes",{get:function(){var t=this;if(_w(this))return[this];if(this.type==="compound"&&!this.initial)return[this];var n=i0(this.initialStateValue);return Xn(n.map(function(r){return t.getFromRelativePath(r)}))},enumerable:!1,configurable:!0}),e.prototype.getFromRelativePath=function(t){if(!t.length)return[this];var n=Gt(t),r=n[0],i=n.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(r,"' from node with no states"));var s=this.getStateNode(r);if(s.type==="history")return s.resolveHistory();if(!this.states[r])throw new Error("Child state '".concat(r,"' does not exist on '").concat(this.id,"'"));return this.states[r].getFromRelativePath(i)},e.prototype.historyValue=function(t){if(Object.keys(this.states).length)return{current:t||this.initialStateValue,states:o4(this.states,function(n,r){if(!t)return n.historyValue();var i=cn(t)?void 0:t[r];return n.historyValue(i||n.initialStateValue)},function(n){return!n.history})}},e.prototype.resolveHistory=function(t){var n=this;if(this.type!=="history")return[this];var r=this.parent;if(!t){var i=this.target;return i?Xn(i0(i).map(function(o){return r.getFromRelativePath(o)})):r.initialStateNodes}var s=$9e(r.path,"states")(t).current;return cn(s)?[r.getStateNode(s)]:Xn(i0(s).map(function(o){return n.history==="deep"?r.getFromRelativePath(o):[r.states[o[0]]]}))},Object.defineProperty(e.prototype,"stateIds",{get:function(){var t=this,n=Xn(Object.keys(this.states).map(function(r){return t.states[r].stateIds}));return[this.id].concat(n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){var t,n,r,i;if(this.__cache.events)return this.__cache.events;var s=this.states,o=new Set(this.ownEvents);if(s)try{for(var a=Dt(Object.keys(s)),l=a.next();!l.done;l=a.next()){var u=l.value,c=s[u];if(c.states)try{for(var d=(r=void 0,Dt(c.events)),f=d.next();!f.done;f=d.next()){var p=f.value;o.add("".concat(p))}}catch(g){r={error:g}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}}}catch(g){t={error:g}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return this.__cache.events=Array.from(o)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ownEvents",{get:function(){var t=new Set(this.transitions.filter(function(n){return!(!n.target&&!n.actions.length&&n.internal)}).map(function(n){return n.eventType}));return Array.from(t)},enumerable:!1,configurable:!0}),e.prototype.resolveTarget=function(t){var n=this;if(t!==void 0)return t.map(function(r){if(!cn(r))return r;var i=r[0]===n.delimiter;if(i&&!n.parent)return n.getStateNodeByPath(r.slice(1));var s=i?n.key+r:r;if(n.parent)try{var o=n.parent.getStateNodeByPath(s);return o}catch(a){throw new Error("Invalid transition definition for state node '".concat(n.id,`':
`).concat(a.message))}else return n.getStateNodeByPath(s)})},e.prototype.formatTransition=function(t){var n=this,r=P9e(t.target),i="internal"in t?t.internal:r?r.some(function(l){return cn(l)&&l[0]===n.delimiter}):!0,s=this.machine.options.guards,o=this.resolveTarget(r),a=Ee(Ee({},t),{actions:wa(Ys(t.actions)),cond:sX(t.cond,s),target:o,source:this,internal:i,eventType:t.event,toJSON:function(){return Ee(Ee({},a),{target:a.target?a.target.map(function(l){return"#".concat(l.id)}):void 0,source:"#".concat(n.id)})}});return a},e.prototype.formatTransitions=function(){var t,n,r=this,i;if(!this.config.on)i=[];else if(Array.isArray(this.config.on))i=this.config.on;else{var s=this.config.on,o=QS,a=s[o],l=a===void 0?[]:a,u=EP(s,[typeof o=="symbol"?o:o+""]);i=Xn(Object.keys(u).map(function(y){var _=Ad(y,u[y]);return _}).concat(Ad(QS,l)))}var c=this.config.always?Ad("",this.config.always):[],d=this.config.onDone?Ad(String(Wh(this.id)),this.config.onDone):[],f=Xn(this.invoke.map(function(y){var _=[];return y.onDone&&_.push.apply(_,Fn([],Gt(Ad(String(Ig(y.id)),y.onDone)),!1)),y.onError&&_.push.apply(_,Fn([],Gt(Ad(String(of(y.id)),y.onError)),!1)),_})),p=this.after,g=Xn(Fn(Fn(Fn(Fn([],Gt(d),!1),Gt(f),!1),Gt(i),!1),Gt(c),!1).map(function(y){return Ys(y).map(function(_){return r.formatTransition(_)})}));try{for(var h=Dt(p),m=h.next();!m.done;m=h.next()){var v=m.value;g.push(v)}}catch(y){t={error:y}}finally{try{m&&!m.done&&(n=h.return)&&n.call(h)}finally{if(t)throw t.error}}return g},e}();function cqe(e,t){return new uqe(e,t)}var Pf=mX,pZe=Lx,bw=globalThis&&globalThis.__assign||function(){return bw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},bw.apply(this,arguments)},dqe=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},fqe=globalThis&&globalThis.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s};function pqe(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=fqe(t,2),i=r[0],s=i===void 0?{}:i,o=r[1],a=typeof e=="function"?e():e,l=s.context,u=s.guards,c=s.actions,d=s.activities,f=s.services,p=s.delays,g=s.state,h=dqe(s,["context","guards","actions","activities","services","delays","state"]),m={context:l,guards:u,actions:c,activities:d,services:f,delays:p},v=a.withConfig(m,function(){return bw(bw({},a.context),l)}),y=SX(v,h).start(g?Ts.create(g):void 0),_;return Jt(function(){o&&(_=y.subscribe(kg(o)))}),Ja(function(){y.stop(),_==null||_.unsubscribe()}),y}var hqe=globalThis&&globalThis.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s};function gqe(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=hqe(t,1),i=r[0],s=i===void 0?{}:i;function o(c){var d=c.changed===void 0&&Object.keys(c.children).length;(c.changed||d)&&(u.value=c)}var a=pqe(e,s,o),l=a.machine.initialState,u=Ho(s.state?Ts.create(s.state):l);return{state:u,send:a.send,service:a}}function mqe(e){return"state"in e}var f4=function(){};function vqe(e){return"getSnapshot"in e?e.getSnapshot():mqe(e)?e.state:void 0}function yqe(e,t){t===void 0&&(t=vqe);var n=Sn(e)?e:Ho(e),r=Ho(t(n.value)),i=function(s){n.value.send(s)};return bt(n,function(s,o,a){r.value=t(s);var l=s.subscribe({next:function(u){return r.value=u},error:f4,complete:f4}).unsubscribe;a(function(){return l()})},{immediate:!0}),{state:r,send:i}}function $i(e,t){var n;const r=Ho();return sn(()=>{r.value=e()},{...t,flush:(n=t==null?void 0:t.flush)!=null?n:"sync"}),mo(r)}function eh(e){return Zm()?(xI(e),!0):!1}function is(e){return typeof e=="function"?e():ve(e)}const sy=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const $X=e=>e!=null,_qe=Object.prototype.toString,bqe=e=>_qe.call(e)==="[object Object]",ru=()=>{},wqe=xqe();function xqe(){var e,t;return sy&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((t=window==null?void 0:window.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function Eqe(e,t){function n(...r){return new Promise((i,s)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(i).catch(s)})}return n}const TX=e=>e();function Sqe(e=TX){const t=re(!0);function n(){t.value=!1}function r(){t.value=!0}const i=(...s)=>{t.value&&e(...s)};return{isActive:mo(t),pause:n,resume:r,eventFilter:i}}function $qe(e){let t;function n(){return t||(t=e()),t}return n.reset=async()=>{const r=t;t=void 0,r&&await r},n}function Tqe(e,t){var n;if(typeof e=="number")return e+t;const r=((n=e.match(/^-?\d+\.?\d*/))==null?void 0:n[0])||"",i=e.slice(r.length),s=Number.parseFloat(r)+t;return Number.isNaN(s)?e:s+i}function kX(e){return e||fr()}function kqe(...e){if(e.length!==1)return Vw(...e);const t=e[0];return typeof t=="function"?mo(Uw(()=>({get:t,set:ru}))):re(t)}function Iqe(e,t,n={}){const{eventFilter:r=TX,...i}=n;return bt(e,Eqe(r,t),i)}function Cqe(e,t,n={}){const{eventFilter:r,...i}=n,{eventFilter:s,pause:o,resume:a,isActive:l}=Sqe(r);return{stop:Iqe(e,t,{...i,eventFilter:s}),pause:o,resume:a,isActive:l}}function Aqe(e,t){kX(t)&&Ja(e,t)}function Oqe(e,t=!0,n){kX()?Jt(e,n):t?e():Qn(e)}function Rqe(e,t,n={}){const{immediate:r=!0}=n,i=re(!1);let s=null;function o(){s&&(clearTimeout(s),s=null)}function a(){i.value=!1,o()}function l(...u){o(),i.value=!0,s=setTimeout(()=>{i.value=!1,s=null,e(...u)},is(t))}return r&&(i.value=!0,sy&&l()),eh(a),{isPending:mo(i),start:l,stop:a}}function Sc(e=!1,t={}){const{truthyValue:n=!0,falsyValue:r=!1}=t,i=Sn(e),s=re(e);function o(a){if(arguments.length)return s.value=a,s.value;{const l=is(n);return s.value=s.value===l?is(r):l,s.value}}return i?o:[s,o]}function ro(e){var t;const n=is(e);return(t=n==null?void 0:n.$el)!=null?t:n}const go=sy?window:void 0,Pqe=sy?window.document:void 0,IX=sy?window.navigator:void 0;function ao(...e){let t,n,r,i;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,r,i]=e,t=go):[t,n,r,i]=e,!t)return ru;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const s=[],o=()=>{s.forEach(c=>c()),s.length=0},a=(c,d,f,p)=>(c.addEventListener(d,f,p),()=>c.removeEventListener(d,f,p)),l=bt(()=>[ro(t),is(i)],([c,d])=>{if(o(),!c)return;const f=bqe(d)?{...d}:d;s.push(...n.flatMap(p=>r.map(g=>a(c,p,g,f))))},{immediate:!0,flush:"post"}),u=()=>{l(),o()};return eh(u),u}let p4=!1;function hZe(e,t,n={}){const{window:r=go,ignore:i=[],capture:s=!0,detectIframe:o=!1}=n;if(!r)return ru;wqe&&!p4&&(p4=!0,Array.from(r.document.body.children).forEach(f=>f.addEventListener("click",ru)),r.document.documentElement.addEventListener("click",ru));let a=!0;const l=f=>i.some(p=>{if(typeof p=="string")return Array.from(r.document.querySelectorAll(p)).some(g=>g===f.target||f.composedPath().includes(g));{const g=ro(p);return g&&(f.target===g||f.composedPath().includes(g))}}),c=[ao(r,"click",f=>{const p=ro(e);if(!(!p||p===f.target||f.composedPath().includes(p))){if(f.detail===0&&(a=!l(f)),!a){a=!0;return}t(f)}},{passive:!0,capture:s}),ao(r,"pointerdown",f=>{const p=ro(e);a=!l(f)&&!!(p&&!f.composedPath().includes(p))},{passive:!0}),o&&ao(r,"blur",f=>{setTimeout(()=>{var p;const g=ro(e);((p=r.document.activeElement)==null?void 0:p.tagName)==="IFRAME"&&!(g!=null&&g.contains(r.document.activeElement))&&t(f)},0)})].filter(Boolean);return()=>c.forEach(f=>f())}function Mqe(){const e=re(!1),t=fr();return t&&Jt(()=>{e.value=!0},t),e}function yd(e){const t=Mqe();return Ce(()=>(t.value,!!e()))}function Dqe(e,t,n={}){const{window:r=go,...i}=n;let s;const o=yd(()=>r&&"MutationObserver"in r),a=()=>{s&&(s.disconnect(),s=void 0)},l=Ce(()=>{const f=is(e),p=(Array.isArray(f)?f:[f]).map(ro).filter($X);return new Set(p)}),u=bt(()=>l.value,f=>{a(),o.value&&f.size&&(s=new MutationObserver(t),f.forEach(p=>s.observe(p,i)))},{immediate:!0,flush:"post"}),c=()=>s==null?void 0:s.takeRecords(),d=()=>{a(),u()};return eh(d),{isSupported:o,stop:d,takeRecords:c}}function Th(e,t={}){const{window:n=go}=t,r=yd(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let i;const s=re(!1),o=u=>{s.value=u.matches},a=()=>{i&&("removeEventListener"in i?i.removeEventListener("change",o):i.removeListener(o))},l=sn(()=>{r.value&&(a(),i=n.matchMedia(is(e)),"addEventListener"in i?i.addEventListener("change",o):i.addListener(o),s.value=i.matches)});return eh(()=>{l(),a(),i=void 0}),s}const gZe={sm:640,md:768,lg:1024,xl:1280,"2xl":1536};function mZe(e,t={}){function n(c,d){let f=is(e[is(c)]);return d!=null&&(f=Tqe(f,d)),typeof f=="number"&&(f=`${f}px`),f}const{window:r=go,strategy:i="min-width"}=t;function s(c){return r?r.matchMedia(c).matches:!1}const o=c=>Th(()=>`(min-width: ${n(c)})`,t),a=c=>Th(()=>`(max-width: ${n(c)})`,t),l=Object.keys(e).reduce((c,d)=>(Object.defineProperty(c,d,{get:()=>i==="min-width"?o(d):a(d),enumerable:!0,configurable:!0}),c),{});function u(){const c=Object.keys(e).map(d=>[d,o(d)]);return Ce(()=>c.filter(([,d])=>d.value).map(([d])=>d))}return Object.assign(l,{greaterOrEqual:o,smallerOrEqual:a,greater(c){return Th(()=>`(min-width: ${n(c,.1)})`,t)},smaller(c){return Th(()=>`(max-width: ${n(c,-.1)})`,t)},between(c,d){return Th(()=>`(min-width: ${n(c)}) and (max-width: ${n(d,-.1)})`,t)},isGreater(c){return s(`(min-width: ${n(c,.1)})`)},isGreaterOrEqual(c){return s(`(min-width: ${n(c)})`)},isSmaller(c){return s(`(max-width: ${n(c,-.1)})`)},isSmallerOrEqual(c){return s(`(max-width: ${n(c)})`)},isInBetween(c,d){return s(`(min-width: ${n(c)}) and (max-width: ${n(d,-.1)})`)},current:u,active(){const c=u();return Ce(()=>c.value.length===0?"":c.value.at(-1))}})}function h4(e,t={}){const{controls:n=!1,navigator:r=IX}=t,i=yd(()=>r&&"permissions"in r);let s;const o=typeof e=="string"?{name:e}:e,a=re(),l=()=>{s&&(a.value=s.state)},u=$qe(async()=>{if(i.value){if(!s)try{s=await r.permissions.query(o),ao(s,"change",l),l()}catch{a.value="prompt"}return s}});return u(),n?{state:a,isSupported:i,query:u}:a}function vZe(e={}){const{navigator:t=IX,read:n=!1,source:r,copiedDuring:i=1500,legacy:s=!1}=e,o=yd(()=>t&&"clipboard"in t),a=h4("clipboard-read"),l=h4("clipboard-write"),u=Ce(()=>o.value||s),c=re(""),d=re(!1),f=Rqe(()=>d.value=!1,i);function p(){o.value&&v(a.value)?t.clipboard.readText().then(y=>{c.value=y}):c.value=m()}u.value&&n&&ao(["copy","cut"],p);async function g(y=is(r)){u.value&&y!=null&&(o.value&&v(l.value)?await t.clipboard.writeText(y):h(y),c.value=y,d.value=!0,f.start())}function h(y){const _=document.createElement("textarea");_.value=y??"",_.style.position="absolute",_.style.opacity="0",document.body.appendChild(_),_.select(),document.execCommand("copy"),_.remove()}function m(){var y,_,b;return(b=(_=(y=document==null?void 0:document.getSelection)==null?void 0:y.call(document))==null?void 0:_.toString())!=null?b:""}function v(y){return y==="granted"||y==="prompt"}return{isSupported:u,text:c,copied:d,copy:g}}const h_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},g_="__vueuse_ssr_handlers__",Nqe=Lqe();function Lqe(){return g_ in h_||(h_[g_]=h_[g_]||{}),h_[g_]}function Fqe(e,t){return Nqe[e]||t}function Bqe(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const Uqe={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},g4="vueuse-storage";function yZe(e,t,n,r={}){var i;const{flush:s="pre",deep:o=!0,listenToStorageChanges:a=!0,writeDefaults:l=!0,mergeDefaults:u=!1,shallow:c,window:d=go,eventFilter:f,onError:p=T=>{console.error(T)},initOnMounted:g}=r,h=(c?Ho:re)(typeof t=="function"?t():t);if(!n)try{n=Fqe("getDefaultStorage",()=>{var T;return(T=go)==null?void 0:T.localStorage})()}catch(T){p(T)}if(!n)return h;const m=is(t),v=Bqe(m),y=(i=r.serializer)!=null?i:Uqe[v],{pause:_,resume:b}=Cqe(h,()=>w(h.value),{flush:s,deep:o,eventFilter:f});d&&a&&Oqe(()=>{ao(d,"storage",E),ao(d,g4,S),g&&E()}),g||E();function x(T,P){d&&d.dispatchEvent(new CustomEvent(g4,{detail:{key:e,oldValue:T,newValue:P,storageArea:n}}))}function w(T){try{const P=n.getItem(e);if(T==null)x(P,null),n.removeItem(e);else{const C=y.write(T);P!==C&&(n.setItem(e,C),x(P,C))}}catch(P){p(P)}}function $(T){const P=T?T.newValue:n.getItem(e);if(P==null)return l&&m!=null&&n.setItem(e,y.write(m)),m;if(!T&&u){const C=y.read(P);return typeof u=="function"?u(C,m):v==="object"&&!Array.isArray(C)?{...m,...C}:C}else return typeof P!="string"?P:y.read(P)}function E(T){if(!(T&&T.storageArea!==n)){if(T&&T.key==null){h.value=m;return}if(!(T&&T.key!==e)){_();try{(T==null?void 0:T.newValue)!==y.write(h.value)&&(h.value=$(T))}catch(P){p(P)}finally{T?Qn(b):b()}}}}function S(T){E(T.detail)}return h}function Vqe(e,t,n={}){const{window:r=go,...i}=n;let s;const o=yd(()=>r&&"ResizeObserver"in r),a=()=>{s&&(s.disconnect(),s=void 0)},l=Ce(()=>Array.isArray(e)?e.map(d=>ro(d)):[ro(e)]),u=bt(l,d=>{if(a(),o.value&&r){s=new ResizeObserver(t);for(const f of d)f&&s.observe(f,i)}},{immediate:!0,flush:"post"}),c=()=>{a(),u()};return eh(c),{isSupported:o,stop:c}}function _Ze(e,t,n={}){const{root:r,rootMargin:i="0px",threshold:s=.1,window:o=go,immediate:a=!0}=n,l=yd(()=>o&&"IntersectionObserver"in o),u=Ce(()=>{const g=is(e);return(Array.isArray(g)?g:[g]).map(ro).filter($X)});let c=ru;const d=re(a),f=l.value?bt(()=>[u.value,ro(r),d.value],([g,h])=>{if(c(),!d.value||!g.length)return;const m=new IntersectionObserver(t,{root:ro(h),rootMargin:i,threshold:s});g.forEach(v=>v&&m.observe(v)),c=()=>{m.disconnect(),c=ru}},{immediate:a,flush:"post"}):ru,p=()=>{c(),f(),d.value=!1};return eh(p),{isSupported:l,isActive:d,pause(){c(),d.value=!1},resume(){d.value=!0},stop:p}}const kh=new Map;function bZe(e){const t=Zm();function n(a){var l;const u=kh.get(e)||new Set;u.add(a),kh.set(e,u);const c=()=>i(a);return(l=t==null?void 0:t.cleanups)==null||l.push(c),c}function r(a){function l(...u){i(l),a(...u)}return n(l)}function i(a){const l=kh.get(e);l&&(l.delete(a),l.size||s())}function s(){kh.delete(e)}function o(a,l){var u;(u=kh.get(e))==null||u.forEach(c=>c(a,l))}return{on:n,once:r,off:i,emit:o,reset:s}}function jqe(e={}){const{window:t=go}=e,n=t==null?void 0:t.navigator,r=yd(()=>n&&"connection"in n),i=re(!0),s=re(!1),o=re(void 0),a=re(void 0),l=re(void 0),u=re(void 0),c=re(void 0),d=re(void 0),f=re("unknown"),p=r.value&&n.connection;function g(){n&&(i.value=n.onLine,o.value=i.value?void 0:Date.now(),a.value=i.value?Date.now():void 0,p&&(l.value=p.downlink,u.value=p.downlinkMax,d.value=p.effectiveType,c.value=p.rtt,s.value=p.saveData,f.value=p.type))}return t&&(ao(t,"offline",()=>{i.value=!1,o.value=Date.now()}),ao(t,"online",()=>{i.value=!0,a.value=Date.now()})),p&&ao(p,"change",g,!1),g(),{isSupported:r,isOnline:i,saveData:s,offlineAt:o,onlineAt:a,downlink:l,downlinkMax:u,effectiveType:d,rtt:c,type:f}}function wZe(e={}){const{window:t=go}=e;if(!t)return re(["en"]);const n=t.navigator,r=re(n.languages);return ao(t,"languagechange",()=>{r.value=n.languages}),r}function xZe(e){var t;const n=re(e==null?void 0:e.element),r=re(e==null?void 0:e.input),i=(t=e==null?void 0:e.styleProp)!=null?t:"height",s=re(1);function o(){var a;if(!n.value)return;let l="";n.value.style[i]="1px",s.value=(a=n.value)==null?void 0:a.scrollHeight,e!=null&&e.styleTarget?is(e.styleTarget).style[i]=`${s.value}px`:l=`${s.value}px`,n.value.style[i]=l}return bt([r,n],()=>Qn(o),{immediate:!0}),bt(s,()=>{var a;return(a=e==null?void 0:e.onResize)==null?void 0:a.call(e)}),Vqe(n,()=>o()),e!=null&&e.watch&&bt(e.watch,o,{immediate:!0,deep:!0}),{textarea:n,input:r,triggerResize:o}}function EZe(e=null,t={}){var n,r,i;const{document:s=Pqe,restoreOnUnmount:o=d=>d}=t,a=(n=s==null?void 0:s.title)!=null?n:"",l=kqe((r=e??(s==null?void 0:s.title))!=null?r:null),u=e&&typeof e=="function";function c(d){if(!("titleTemplate"in t))return d;const f=t.titleTemplate||"%s";return typeof f=="function"?f(d):is(f).replace(/%s/g,d)}return bt(l,(d,f)=>{d!==f&&s&&(s.title=c(typeof d=="string"?d:""))},{immediate:!0}),t.observe&&!t.titleTemplate&&s&&!u&&Dqe((i=s.head)==null?void 0:i.querySelector("title"),()=>{s&&s.title!==l.value&&(l.value=c(s.title))},{childList:!0}),Aqe(()=>{if(o){const d=o(a,l.value||"");d!=null&&s&&(s.title=d)}}),l}const CX=(e,t)=>t===void 0?e:{...Ok(e),...Ok(t)},AX={OnboardingStart:"onboarding_start",OnboardingComplete:"onboarding_complete",NewCustomer:"new_customer",Publish:"site_publish",ViewPlans:"view_plans",Checkout:"begin_checkout",Purchase:"purchase"},OX=(e,t={})=>{km!=null&&B9(km,e,t,{})},SZe=(e,t)=>{km!=null&&_he(km,{[e]:t})},$Ze=async(e,t)=>{const r={transaction_id:`${e}-${t}`,currency:"USD",plan:t,value:0,tax:0,shipping:0};OX(AX.Purchase,r)},Km="a-f\\d",Hqe=`#?[${Km}]{3}[${Km}]?`,Wqe=`#?[${Km}]{6}([${Km}]{2})?`,qqe=new RegExp(`[^#${Km}]`,"gi"),zqe=new RegExp(`^${Hqe}$|^${Wqe}$`,"i");function m4(e,t={}){if(typeof e!="string"||qqe.test(e)||!zqe.test(e))throw new TypeError("Expected a valid hex string");e=e.replace(/^#/,"");let n=1;e.length===8&&(n=Number.parseInt(e.slice(6,8),16)/255,e=e.slice(0,6)),e.length===4&&(n=Number.parseInt(e.slice(3,4).repeat(2),16)/255,e=e.slice(0,3)),e.length===3&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);const r=Number.parseInt(e,16),i=r>>16,s=r>>8&255,o=r&255,a=typeof t.alpha=="number"?t.alpha:n;if(t.format==="array")return[i,s,o,a];if(t.format==="css"){const l=a===1?"":` / ${Number((a*100).toFixed(2))}%`;return`rgb(${i} ${s} ${o}${l})`}return{red:i,green:s,blue:o,alpha:a}}const TZe=e=>e!==void 0?new Date(e).toLocaleDateString("en-gb",{year:"numeric",month:"long",day:"numeric"}):void 0,kZe=e=>{const r=new Date(e),i=new Date,s=Math.round(Math.abs((r-i)/864e5));if(s>0)return s===1?`${s} day ago`:`${s} days ago`;const o=Math.round(Math.abs((r-i)/36e5));return o>0?o===1?`${o} hour ago`:`${o} hours ago`:"moments ago"},Kqe=(e,t)=>{var n;if(window!=null&&window.document){const r=document==null?void 0:document.querySelector(":root"),i=document.querySelector("#previewer"),s=(n=i==null?void 0:i.contentDocument)==null?void 0:n.querySelector(":root"),o=[r,s],a=m4(e||"#000000"),l=m4(t||"#000000");o.forEach(u=>{var c,d,f;(c=u==null?void 0:u.style)==null||c.setProperty("--color-primary",`${a.red} ${a.green} ${a.blue}`),(d=u==null?void 0:u.style)==null||d.setProperty("--color-secondary",`${l.red} ${l.green} ${l.blue}`),(f=u==null?void 0:u.style)==null||f.setProperty("--plyr-color-main",e)})}},IZe=e=>{for(var t in e)break;return t},CZe=(e={},t)=>{const n=xG(e,r=>(r==null?void 0:r.slug)===t);return n==null?void 0:n.id},Gqe=async(e,t={},n=7e4)=>{var u,c,d,f,p,g,h;$r.log(`Calling ${e}...`,{functionName:e,params:t,timeout:n});const r=j9(kz,e,{timeout:n});async function i(){return await r(t)}let s;try{s=await i()}catch(m){if(((m==null?void 0:m.code)==="unauthenticated"||((u=m==null?void 0:m.response)==null?void 0:u.status)===401||((c=m==null?void 0:m.message)==null?void 0:c.includes("Unauthenticated")))&&Tm){$r.warn("🔒 App Check token may be expired. Refreshing and retrying...",{err:m});try{await wge(Tm,!0),YT("App Check Token Refreshed & Function Retried",{functionName:e,userId:(d=Zn==null?void 0:Zn.currentUser)==null?void 0:d.uid,timestamp:new Date().toISOString()}),s=await i()}catch(y){throw $r.error("❌ Retry after App Check refresh failed",{retryErr:y}),YT("App Check Retry Failed",{functionName:e,userId:(f=Zn==null?void 0:Zn.currentUser)==null?void 0:f.uid,timestamp:new Date().toISOString()}),y}}else throw $r.error("❌ Firebase function call failed",{err:m}),m}const o=(p=s==null?void 0:s.data)==null?void 0:p.success,a=((g=s==null?void 0:s.data)==null?void 0:g.data)||(s==null?void 0:s.data),l=((h=s==null?void 0:s.data)==null?void 0:h.error)||`Function call ${e} failed`;if(kG(s,"data.success")&&o===!1)throw $r.error(l,{functionName:e,params:t,response:s}),new Error(l);return $r.log(`✅ ${e} successful`,{data:a}),a},AZe=async(e,t={})=>{var i;const r=await j9(Iz,e)(t);return((i=r==null?void 0:r.data)==null?void 0:i.data)||(r==null?void 0:r.data)},{VITE_APP_ENV:Yqe}={VITE_FIREBASE_EXTENSIONS_REGION:"us-west2",VITE_PEXELS_API_KEY:"Ed0RE2RH5c42fhTqMU0Q5oJeWkvjg3raDQE5ZDfq5y4dSYjP61pXeBag",VITE_ENTRI_APPLICATION_ID:"mixo",VITE_FIREBASE_MESSAGING_SENDER_ID:"725498859830",VITE_APP_URL:"https://app.mixo.io",VITE_RECAPTCHA_SITE_KEY:"6Lf0kGsoAAAAAIH-9bzbWxuDwy7LlN-MWerrq6oa",VITE_LINKEDIN_PARTNER_ID:"7006708",VITE_FUNCTIONS_URL:"https://us-west2-mixo-app.cloudfunctions.net",VITE_FIREBASE_RTDB_URL:"https://mixo-app-default-rtdb.firebaseio.com",VITE_GITHUB_SHA:"abf61747049fcf16221db86a879e43d381393275",VITE_MIXO_FORM_SCHEMA_URL:"https://formschema-cirj42yhua-wl.a.run.app",VITE_FIREBASE_MEASUREMENT_ID:"G-JHGL8M7FHL",VITE_FIREBASE_STORAGE_BUCKET:"mixo-app.appspot.com",VITE_FIREBASE_AUTH_DOMAIN:"mixo-app.firebaseapp.com",VITE_MIXPANEL_TOKEN:"35d21fbe7f782990b936227a30e1804a",VITE_MIXO_DOMAIN:"mixo.io",VITE_FIREBASE_PROJECT_ID:"mixo-app",VITE_FIREBASE_APP_ID:"1:725498859830:web:6421f91ef9f6e95c056397",VITE_APP_ENV:"production",VITE_FIREBASE_API_KEY:"AIzaSyAVslymxdABi7BdNzjT1quXFZduuyz6EhE",VITE_HIGHLIGHT_PROJECT_ID:"odz3pmep",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};let Pd=null;const RX=(e,t)=>{var r;const n="🔔 "+((r=e==null?void 0:e.event)==null?void 0:r.type)+" 🗒 "+JSON.stringify(e==null?void 0:e.value,null,0);return console.groupCollapsed(t?`❎%c ${t}:`:"State Service:","color: #bada55",n)},PX=e=>{var t,n;if((t=e==null?void 0:e.event)!=null&&t.type){console.groupCollapsed("🔔%c Event:","color: #fbbf24",(n=e==null?void 0:e.event)==null?void 0:n.type),console.group("Event Payload:");for(const[r,i]of Object.entries(e==null?void 0:e.event))if(i&&typeof i=="object"){if(console.group(`${r} (${typeof i})`),Object.entries(i).length<3)for(const[s,o]of Object.entries(i))s&&o&&console.log(s,o);else console.log(i);console.groupEnd()}else console.log(`${r}: ${i} (${typeof i})`);console.groupEnd(),console.groupEnd()}},Xqe=e=>{for(const[t,n]of Object.entries(e))if(n&&typeof n=="object"){if(console.groupCollapsed(`${t} (${typeof n})`),Object.entries(n).length<3)for(const[r,i]of Object.entries(n))r&&i&&console.log(r,i);else console.log(n);console.groupEnd()}else console.log(`${t}: ${n} (${typeof n})`)},MX=e=>{console.groupCollapsed("🫙%c Context","color: #17D3C8"),e!=null&&e.context&&Xqe(e==null?void 0:e.context),console.groupEnd()},Qqe=e=>{var t;if(e!=null&&e.children){console.groupCollapsed("🚸%c Child Services","color: #F5F0D9");for(const[n,r]of Object.entries(e.children))if(r&&typeof r=="object"){console.group(`${n} (${typeof r})`);const i=(t=e.children[n])==null?void 0:t.state;RX(i,n),PX(i),MX(i),console.groupEnd(),console.groupEnd()}else console.log(`${n}: ${r} (${typeof r})`);console.groupEnd()}},Jqe=e=>{const t=e.actions.filter(n=>{var r;return!((r=n==null?void 0:n.type)!=null&&r.includes("xstate."))}).map(n=>n==null?void 0:n.type);t!=null&&t.length&&console.log("🔨%c Actions","color: #F59E0B",t==null?void 0:t.join(", "))},DX=(e,t="")=>{if(!e)return console.error(`watchService can't init for ${t}`),!1;Yqe!=="production"&&e.onTransition(n=>{RX(n,t),PX(n),MX(n),Jqe(n),Qqe(n),console.groupEnd()})},Zqe={analyticsTrackEvent:(e,t,{action:n})=>(n==null?void 0:n.analyticsEvent)&&OX(AX[n.analyticsEvent]),assignErrors:Pf({errorMessage:(e,{data:t,error:n,errorMessage:r})=>{let i=r||(n==null?void 0:n.message)||(t==null?void 0:t.message)||"Unknown error";return i=i==null?void 0:i.replace("FirebaseError: ",""),i==="internal"&&(i="Please try again or contact support."),i},errors:(e,{error:t,errors:n})=>{const i=[t].map(s=>{var o;return s!=null&&s.message?(o=s==null?void 0:s.message)==null?void 0:o.replace("FirebaseError: ",""):s});return i.length>0?i:["Unknown error"]}}),redirectToCheckoutUrl:(e,{url:t})=>window.location.assign(t),resetErrors:Pf({errorMessage:"",errors:[]}),resetState:Pf({}),showToast:({toast:e},t,{action:n})=>{var r;n.dismissPreviousToast&&Pd&&(Pd==null||Pd.dismiss(),Pd=null),Pd=e==null?void 0:e.open({message:(n==null?void 0:n.message)||((r=t==null?void 0:t.error)==null?void 0:r.message)||(t==null?void 0:t.toastMsg)||"",type:(n==null?void 0:n.toastType)||"default",...(n==null?void 0:n.toastOptions)||(t==null?void 0:t.toastOptions)||{}})},trackErrors:(e,t,{state:n})=>{var r,i;$r.error((t==null?void 0:t.data)||(t==null?void 0:t.error),{label:"Machine Error",event:t==null?void 0:t.type,machine:(r=n==null?void 0:n.machine)==null?void 0:r.id,errorEventType:((i=t==null?void 0:t.data)==null?void 0:i.type)||(t==null?void 0:t.errorEventType),state:n==null?void 0:n.value,context:e})},updatePreviewFrame:async(e,t,{state:n})=>{var u,c,d,f;const{previewFrame:r,regeneratingContent:i,siteId:s}=e,o=(u=r==null?void 0:r.value)==null?void 0:u.contentWindow,a=(e==null?void 0:e.siteData)||((c=e==null?void 0:e.idea)==null?void 0:c.siteData),l=(e==null?void 0:e.pageData)||((d=e==null?void 0:e.idea)==null?void 0:d.pageData);o?await fV.send(o,"updatePage",{regeneratingContent:i,pageData:l||((f=a==null?void 0:a.pages)==null?void 0:f.index),sharedData:(a==null?void 0:a.shared)||(l==null?void 0:l.shared),siteConfig:a==null?void 0:a.config,siteId:s},{timeout:1e4}).catch(async p=>{var g,h;["UPDATE_SITE_DATA","LOAD_PAGE_SUCCESS"].includes(t==null?void 0:t.type)||$r.warn(p,{label:"Post Robot Error",event:t==null?void 0:t.type,machine:(g=n==null?void 0:n.machine)==null?void 0:g.id,errorEventType:((h=t==null?void 0:t.data)==null?void 0:h.type)||(t==null?void 0:t.errorEventType),state:n==null?void 0:n.value})}):console.log("No frame found for "+(t?t.type:"undefined")+" event in "+(n&&n.machine?n.machine.id:"undefined"))}},OZe=(e,t)=>{var i,s,o,a;const n=CX(e==null?void 0:e.siteData,t==null?void 0:t.siteData),r={id:"index",name:"Homepage",type:"IndexPage",slug:"index",sortOrder:0,showInFooter:!1,showInHeader:!1,visible:!0};return n.pages.index&&(n.pages.index={...r,...n.pages.index}),Kqe((s=(i=n==null?void 0:n.config)==null?void 0:i.theme)==null?void 0:s.primaryColor,(a=(o=n==null?void 0:n.config)==null?void 0:o.theme)==null?void 0:a.secondaryColor),n},RZe=(e,t)=>{const n={id:"index",name:"Homepage",type:"IndexPage"},r=CX(e==null?void 0:e.pageData,t==null?void 0:t.pageData);return{...n,...r}},eze=(e,t="",n={},r=!0)=>{if(!e)return console.error(`setupMachine can't init for ${t}`),!1;const{state:i,send:s,service:o}=gqe(e,n);return r&&DX(o,t),{state:i,send:s,service:o}},PZe=(e,t="",n=!1)=>{if(!e)return console.error(`setupActor can't init for ${t}`),!1;const{state:r,send:i}=yqe(e);return n&&DX(e,t),{state:r,send:i}},JS=(e,t,n=null)=>$i(()=>{var r;return hx((r=e==null?void 0:e.value)==null?void 0:r.context,t,n)});const tze={name:"UiCenter"},nze={class:"flex justify-center items-center","data-testid":"ui-center"};function rze(e,t,n,r,i,s){return te(),De("div",nze,[Ar(e.$slots,"default",{},void 0,!0)])}const NX=xo(tze,[["render",rze],["__scopeId","data-v-1b62b8f4"]]),ize={name:"UiLoader",props:{iconColorClass:{type:String,default:"text-brand-primary"},label:{type:String,default:"Loading..."},delay:{type:Number,default:0}}};function sze(e,t,n,r,i,s){const o=ju,a=NX;return te(),ze(a,null,{default:et(()=>[Se(o,{iconColorClass:n.iconColorClass,label:n.label,delay:n.delay},null,8,["iconColorClass","label","delay"])]),_:1})}const LX=xo(ize,[["render",sze]]),MZe=Object.freeze(Object.defineProperty({__proto__:null,default:LX},Symbol.toStringTag,{value:"Module"})),oze={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function aze(e,t){return te(),De("svg",oze,t[0]||(t[0]=[ee("path",{fill:"currentColor",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"},null,-1)]))}const lze={name:"ic-baseline-error",render:aze},uze={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function cze(e,t){return te(),De("svg",uze,t[0]||(t[0]=[ee("path",{fill:"currentColor",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2m0 15c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1s1 .45 1 1v4c0 .55-.45 1-1 1m1-8h-2V7h2z"},null,-1)]))}const dze={name:"ic-round-info",render:cze},fze={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function pze(e,t){return te(),De("svg",fze,t[0]||(t[0]=[ee("path",{fill:"currentColor",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2m-2 15l-5-5l1.41-1.41L10 14.17l7.59-7.59L19 8z"},null,-1)]))}const hze={name:"ic-baseline-check-circle",render:pze},gze={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function mze(e,t){return te(),De("svg",gze,t[0]||(t[0]=[ee("path",{fill:"currentColor",d:"M4.47 21h15.06c1.54 0 2.5-1.67 1.73-3L13.73 4.99c-.77-1.33-2.69-1.33-3.46 0L2.74 18c-.77 1.33.19 3 1.73 3M12 14c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1s1 .45 1 1v2c0 .55-.45 1-1 1m1 4h-2v-2h2z"},null,-1)]))}const vze={name:"ic-round-warning",render:mze};const yze={name:"UiAlert",props:{buttonAction:{type:Function,default:null},buttonLabel:{type:String,default:"Retry?"},messages:{type:Array,default:()=>[]},title:{type:String,default:""},type:{type:String,default:""}}},_ze={class:"flex"},bze={class:"flex-shrink-0"},wze={class:"ml-3 space-y-2"},xze={key:0,class:"text-base font-bold ui-alert-title"},Eze={key:1,class:"space-y-2 ui-alert-content"},Sze={class:"space-y-4"},$ze={key:0,class:"text-sm ui-alert-details space-y-1"},Tze={class:"flex items-center gap-2"};function kze(e,t,n,r,i,s){const o=vze,a=hze,l=dze,u=lze,c=pl;return te(),De("div",{class:Pr(["p-4 rounded-3xl",`ui-alert-${n.type}`])},[ee("div",_ze,[ee("div",bze,[n.type==="warning"?(te(),ze(o,{key:0,class:"w-6 h-6 ui-alert-icon"})):Ge("",!0),n.type==="success"?(te(),ze(a,{key:1,class:"w-6 h-6 ui-alert-icon"})):Ge("",!0),n.type==="info"?(te(),ze(l,{key:2,class:"w-6 h-6 ui-alert-icon"})):Ge("",!0),n.type==="danger"||n.type==="error"?(te(),ze(u,{key:3,class:"w-6 h-6 ui-alert-icon"})):Ge("",!0)]),ee("div",wze,[n.title?(te(),De("h3",xze,ci(n.title),1)):Ge("",!0),e.$slots.default||n.buttonAction||n.messages.length?(te(),De("div",Eze,[ee("div",Sze,[n.messages.length&&n.messages[0]?(te(),De("div",$ze,[ee("ul",{role:"list",class:Pr(n.messages.length>1?"pl-5 space-y-1 list-disc":"")},[(te(!0),De(gn,null,Tc(n.messages,(d,f)=>(te(),De("li",{key:f},ci(d),1))),128))],2)])):Ge("",!0),ee("div",null,[Ar(e.$slots,"default",{},void 0,!0)]),ee("div",Tze,[Ar(e.$slots,"controls",{},void 0,!0),n.buttonAction?(te(),ze(c,{key:0,size:"xs",theme:"tertiary",onClick:n.buttonAction},{default:et(()=>[En(ci(n.buttonLabel),1)]),_:1},8,["onClick"])):Ge("",!0)])])])):Ge("",!0)])])],2)}const FX=xo(yze,[["render",kze],["__scopeId","data-v-2c53e85f"]]),Ize={};function Cze(e,t){const n=FX;return te(),De("div",null,[Se(n,{type:"error",title:"Could not load component 🙈"},{default:et(()=>t[0]||(t[0]=[En(" Sorry it looks like there was an issue loading this component. Please refresh your page to try again. ")])),_:1})])}const Aze=xo(Ize,[["render",Cze]]),Hu={loadingComponent:LX,delay:200,errorComponent:Aze,timeout:15e3,onError:(e,t,n,r)=>{var i;console.log(e,t,n,r),(i=e==null?void 0:e.message)!=null&&i.match(/fetch/)&&r<=3?t():n()}},Oze=["name"],Rze={class:"w-full"},Pze={__name:"ContentInput",props:{context:{type:Object,default:()=>({})}},setup(e){const t=Xa({...Hu,loader:()=>qt(()=>import("./Tiptap-b565443f.js"),["assets/Tiptap-b565443f.js","assets/helpers-7cfbe709.js","assets/Tiptap-969f7948.css"])}),n=e,i=qR(s=>{var o,a;(a=(o=n==null?void 0:n.context)==null?void 0:o.node)==null||a.input(s)},100);return(s,o)=>{var a,l,u,c;return te(),De("div",{class:"ring-1 ring-gray-400 focus-within:ring-brand-primary focus-within:ring-2 [&>label:first-child]:focus-within:text-brand-primary rounded mb-1 bg-white","data-testid":"content-input","data-formkit-custom-input":"",name:(l=(a=e.context)==null?void 0:a.node)==null?void 0:l.name},[ee("div",Rze,[Se(ve(t),{value:e.context._value,controls:(u=e.context)==null?void 0:u.controls,"site-pages":(c=e.context)==null?void 0:c.sitePages,onInput:ve(i)},null,8,["value","controls","site-pages","onInput"])])],8,Oze)}}},Mze={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function Dze(e,t){return te(),De("svg",Mze,t[0]||(t[0]=[ee("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[ee("path",{d:"M15 8h.01M3 6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3z"}),ee("path",{d:"m3 16l5-5c.928-.893 2.072-.893 3 0l5 5"}),ee("path",{d:"m14 14l1-1c.928-.893 2.072-.893 3 0l3 3"})],-1)]))}const Nze={name:"tabler-photo",render:Dze},Cg=/^[a-z0-9]+(-[a-z0-9]+)*$/,Fx=(e,t,n,r="")=>{const i=e.split(":");if(e.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;r=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const a=i.pop(),l=i.pop(),u={provider:i.length>0?i[0]:r,prefix:l,name:a};return t&&!o0(u)?null:u}const s=i[0],o=s.split("-");if(o.length>1){const a={provider:r,prefix:o.shift(),name:o.join("-")};return t&&!o0(a)?null:a}if(n&&r===""){const a={provider:r,prefix:"",name:s};return t&&!o0(a,n)?null:a}return null},o0=(e,t)=>e?!!((e.provider===""||e.provider.match(Cg))&&(t&&e.prefix===""||e.prefix.match(Cg))&&e.name.match(Cg)):!1,BX=Object.freeze({left:0,top:0,width:16,height:16}),ww=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Bx=Object.freeze({...BX,...ww}),rI=Object.freeze({...Bx,body:"",hidden:!1});function Lze(e,t){const n={};!e.hFlip!=!t.hFlip&&(n.hFlip=!0),!e.vFlip!=!t.vFlip&&(n.vFlip=!0);const r=((e.rotate||0)+(t.rotate||0))%4;return r&&(n.rotate=r),n}function v4(e,t){const n=Lze(e,t);for(const r in rI)r in ww?r in e&&!(r in n)&&(n[r]=ww[r]):r in t?n[r]=t[r]:r in e&&(n[r]=e[r]);return n}function Fze(e,t){const n=e.icons,r=e.aliases||Object.create(null),i=Object.create(null);function s(o){if(n[o])return i[o]=[];if(!(o in i)){i[o]=null;const a=r[o]&&r[o].parent,l=a&&s(a);l&&(i[o]=[a].concat(l))}return i[o]}return(t||Object.keys(n).concat(Object.keys(r))).forEach(s),i}function Bze(e,t,n){const r=e.icons,i=e.aliases||Object.create(null);let s={};function o(a){s=v4(r[a]||i[a],s)}return o(t),n.forEach(o),v4(e,s)}function UX(e,t){const n=[];if(typeof e!="object"||typeof e.icons!="object")return n;e.not_found instanceof Array&&e.not_found.forEach(i=>{t(i,null),n.push(i)});const r=Fze(e);for(const i in r){const s=r[i];s&&(t(i,Bze(e,i,s)),n.push(i))}return n}const Uze={provider:"",aliases:{},not_found:{},...BX};function ZS(e,t){for(const n in t)if(n in e&&typeof e[n]!=typeof t[n])return!1;return!0}function VX(e){if(typeof e!="object"||e===null)return null;const t=e;if(typeof t.prefix!="string"||!e.icons||typeof e.icons!="object"||!ZS(e,Uze))return null;const n=t.icons;for(const i in n){const s=n[i];if(!i.match(Cg)||typeof s.body!="string"||!ZS(s,rI))return null}const r=t.aliases||Object.create(null);for(const i in r){const s=r[i],o=s.parent;if(!i.match(Cg)||typeof o!="string"||!n[o]&&!r[o]||!ZS(s,rI))return null}return t}const y4=Object.create(null);function Vze(e,t){return{provider:e,prefix:t,icons:Object.create(null),missing:new Set}}function Zc(e,t){const n=y4[e]||(y4[e]=Object.create(null));return n[t]||(n[t]=Vze(e,t))}function IP(e,t){return VX(t)?UX(t,(n,r)=>{r?e.icons[n]=r:e.missing.add(n)}):[]}function jze(e,t,n){try{if(typeof n.body=="string")return e.icons[t]={...n},!0}catch{}return!1}let Gm=!1;function jX(e){return typeof e=="boolean"&&(Gm=e),Gm}function Hze(e){const t=typeof e=="string"?Fx(e,!0,Gm):e;if(t){const n=Zc(t.provider,t.prefix),r=t.name;return n.icons[r]||(n.missing.has(r)?null:void 0)}}function Wze(e,t){const n=Fx(e,!0,Gm);if(!n)return!1;const r=Zc(n.provider,n.prefix);return jze(r,n.name,t)}function qze(e,t){if(typeof e!="object")return!1;if(typeof t!="string"&&(t=e.provider||""),Gm&&!t&&!e.prefix){let i=!1;return VX(e)&&(e.prefix="",UX(e,(s,o)=>{o&&Wze(s,o)&&(i=!0)})),i}const n=e.prefix;if(!o0({provider:t,prefix:n,name:"a"}))return!1;const r=Zc(t,n);return!!IP(r,e)}const HX=Object.freeze({width:null,height:null}),WX=Object.freeze({...HX,...ww}),zze=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Kze=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function _4(e,t,n){if(t===1)return e;if(n=n||100,typeof e=="number")return Math.ceil(e*t*n)/n;if(typeof e!="string")return e;const r=e.split(zze);if(r===null||!r.length)return e;const i=[];let s=r.shift(),o=Kze.test(s);for(;;){if(o){const a=parseFloat(s);isNaN(a)?i.push(s):i.push(Math.ceil(a*t*n)/n)}else i.push(s);if(s=r.shift(),s===void 0)return i.join("");o=!o}}function Gze(e,t="defs"){let n="";const r=e.indexOf("<"+t);for(;r>=0;){const i=e.indexOf(">",r),s=e.indexOf("</"+t);if(i===-1||s===-1)break;const o=e.indexOf(">",s);if(o===-1)break;n+=e.slice(i+1,s).trim(),e=e.slice(0,r).trim()+e.slice(o+1)}return{defs:n,content:e}}function Yze(e,t){return e?"<defs>"+e+"</defs>"+t:t}function Xze(e,t,n){const r=Gze(e);return Yze(r.defs,t+r.content+n)}const Qze=e=>e==="unset"||e==="undefined"||e==="none";function Jze(e,t){const n={...Bx,...e},r={...WX,...t},i={left:n.left,top:n.top,width:n.width,height:n.height};let s=n.body;[n,r].forEach(h=>{const m=[],v=h.hFlip,y=h.vFlip;let _=h.rotate;v?y?_+=2:(m.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),m.push("scale(-1 1)"),i.top=i.left=0):y&&(m.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),m.push("scale(1 -1)"),i.top=i.left=0);let b;switch(_<0&&(_-=Math.floor(_/4)*4),_=_%4,_){case 1:b=i.height/2+i.top,m.unshift("rotate(90 "+b.toString()+" "+b.toString()+")");break;case 2:m.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:b=i.width/2+i.left,m.unshift("rotate(-90 "+b.toString()+" "+b.toString()+")");break}_%2===1&&(i.left!==i.top&&(b=i.left,i.left=i.top,i.top=b),i.width!==i.height&&(b=i.width,i.width=i.height,i.height=b)),m.length&&(s=Xze(s,'<g transform="'+m.join(" ")+'">',"</g>"))});const o=r.width,a=r.height,l=i.width,u=i.height;let c,d;o===null?(d=a===null?"1em":a==="auto"?u:a,c=_4(d,l/u)):(c=o==="auto"?l:o,d=a===null?_4(c,u/l):a==="auto"?u:a);const f={},p=(h,m)=>{Qze(m)||(f[h]=m.toString())};p("width",c),p("height",d);const g=[i.left,i.top,l,u];return f.viewBox=g.join(" "),{attributes:f,viewBox:g,body:s}}const Zze=/\sid="(\S+)"/g,e8e="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let t8e=0;function n8e(e,t=e8e){const n=[];let r;for(;r=Zze.exec(e);)n.push(r[1]);if(!n.length)return e;const i="suffix"+(Math.random()*16777216|Date.now()).toString(16);return n.forEach(s=>{const o=typeof t=="function"?t(s):t+(t8e++).toString(),a=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+a+')([")]|\\.[a-z])',"g"),"$1"+o+i+"$3")}),e=e.replace(new RegExp(i,"g"),""),e}const iI=Object.create(null);function r8e(e,t){iI[e]=t}function sI(e){return iI[e]||iI[""]}function CP(e){let t;if(typeof e.resources=="string")t=[e.resources];else if(t=e.resources,!(t instanceof Array)||!t.length)return null;return{resources:t,path:e.path||"/",maxURL:e.maxURL||500,rotate:e.rotate||750,timeout:e.timeout||5e3,random:e.random===!0,index:e.index||0,dataAfterTimeout:e.dataAfterTimeout!==!1}}const AP=Object.create(null),Ih=["https://api.simplesvg.com","https://api.unisvg.com"],a0=[];for(;Ih.length>0;)Ih.length===1||Math.random()>.5?a0.push(Ih.shift()):a0.push(Ih.pop());AP[""]=CP({resources:["https://api.iconify.design"].concat(a0)});function i8e(e,t){const n=CP(t);return n===null?!1:(AP[e]=n,!0)}function OP(e){return AP[e]}const s8e=()=>{let e;try{if(e=fetch,typeof e=="function")return e}catch{}};let b4=s8e();function o8e(e,t){const n=OP(e);if(!n)return 0;let r;if(!n.maxURL)r=0;else{let i=0;n.resources.forEach(o=>{i=Math.max(i,o.length)});const s=t+".json?icons=";r=n.maxURL-i-n.path.length-s.length}return r}function a8e(e){return e===404}const l8e=(e,t,n)=>{const r=[],i=o8e(e,t),s="icons";let o={type:s,provider:e,prefix:t,icons:[]},a=0;return n.forEach((l,u)=>{a+=l.length+1,a>=i&&u>0&&(r.push(o),o={type:s,provider:e,prefix:t,icons:[]},a=l.length),o.icons.push(l)}),r.push(o),r};function u8e(e){if(typeof e=="string"){const t=OP(e);if(t)return t.path}return"/"}const c8e=(e,t,n)=>{if(!b4){n("abort",424);return}let r=u8e(t.provider);switch(t.type){case"icons":{const s=t.prefix,a=t.icons.join(","),l=new URLSearchParams({icons:a});r+=s+".json?"+l.toString();break}case"custom":{const s=t.uri;r+=s.slice(0,1)==="/"?s.slice(1):s;break}default:n("abort",400);return}let i=503;b4(e+r).then(s=>{const o=s.status;if(o!==200){setTimeout(()=>{n(a8e(o)?"abort":"next",o)});return}return i=501,s.json()}).then(s=>{if(typeof s!="object"||s===null){setTimeout(()=>{s===404?n("abort",s):n("next",i)});return}setTimeout(()=>{n("success",s)})}).catch(()=>{n("next",i)})},d8e={prepare:l8e,send:c8e};function f8e(e){const t={loaded:[],missing:[],pending:[]},n=Object.create(null);e.sort((i,s)=>i.provider!==s.provider?i.provider.localeCompare(s.provider):i.prefix!==s.prefix?i.prefix.localeCompare(s.prefix):i.name.localeCompare(s.name));let r={provider:"",prefix:"",name:""};return e.forEach(i=>{if(r.name===i.name&&r.prefix===i.prefix&&r.provider===i.provider)return;r=i;const s=i.provider,o=i.prefix,a=i.name,l=n[s]||(n[s]=Object.create(null)),u=l[o]||(l[o]=Zc(s,o));let c;a in u.icons?c=t.loaded:o===""||u.missing.has(a)?c=t.missing:c=t.pending;const d={provider:s,prefix:o,name:a};c.push(d)}),t}function qX(e,t){e.forEach(n=>{const r=n.loaderCallbacks;r&&(n.loaderCallbacks=r.filter(i=>i.id!==t))})}function p8e(e){e.pendingCallbacksFlag||(e.pendingCallbacksFlag=!0,setTimeout(()=>{e.pendingCallbacksFlag=!1;const t=e.loaderCallbacks?e.loaderCallbacks.slice(0):[];if(!t.length)return;let n=!1;const r=e.provider,i=e.prefix;t.forEach(s=>{const o=s.icons,a=o.pending.length;o.pending=o.pending.filter(l=>{if(l.prefix!==i)return!0;const u=l.name;if(e.icons[u])o.loaded.push({provider:r,prefix:i,name:u});else if(e.missing.has(u))o.missing.push({provider:r,prefix:i,name:u});else return n=!0,!0;return!1}),o.pending.length!==a&&(n||qX([e],s.id),s.callback(o.loaded.slice(0),o.missing.slice(0),o.pending.slice(0),s.abort))})}))}let h8e=0;function g8e(e,t,n){const r=h8e++,i=qX.bind(null,n,r);if(!t.pending.length)return i;const s={id:r,icons:t,callback:e,abort:i};return n.forEach(o=>{(o.loaderCallbacks||(o.loaderCallbacks=[])).push(s)}),i}function m8e(e,t=!0,n=!1){const r=[];return e.forEach(i=>{const s=typeof i=="string"?Fx(i,t,n):i;s&&r.push(s)}),r}var v8e={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function y8e(e,t,n,r){const i=e.resources.length,s=e.random?Math.floor(Math.random()*i):e.index;let o;if(e.random){let w=e.resources.slice(0);for(o=[];w.length>1;){const $=Math.floor(Math.random()*w.length);o.push(w[$]),w=w.slice(0,$).concat(w.slice($+1))}o=o.concat(w)}else o=e.resources.slice(s).concat(e.resources.slice(0,s));const a=Date.now();let l="pending",u=0,c,d=null,f=[],p=[];typeof r=="function"&&p.push(r);function g(){d&&(clearTimeout(d),d=null)}function h(){l==="pending"&&(l="aborted"),g(),f.forEach(w=>{w.status==="pending"&&(w.status="aborted")}),f=[]}function m(w,$){$&&(p=[]),typeof w=="function"&&p.push(w)}function v(){return{startTime:a,payload:t,status:l,queriesSent:u,queriesPending:f.length,subscribe:m,abort:h}}function y(){l="failed",p.forEach(w=>{w(void 0,c)})}function _(){f.forEach(w=>{w.status==="pending"&&(w.status="aborted")}),f=[]}function b(w,$,E){const S=$!=="success";switch(f=f.filter(T=>T!==w),l){case"pending":break;case"failed":if(S||!e.dataAfterTimeout)return;break;default:return}if($==="abort"){c=E,y();return}if(S){c=E,f.length||(o.length?x():y());return}if(g(),_(),!e.random){const T=e.resources.indexOf(w.resource);T!==-1&&T!==e.index&&(e.index=T)}l="completed",p.forEach(T=>{T(E)})}function x(){if(l!=="pending")return;g();const w=o.shift();if(w===void 0){if(f.length){d=setTimeout(()=>{g(),l==="pending"&&(_(),y())},e.timeout);return}y();return}const $={status:"pending",resource:w,callback:(E,S)=>{b($,E,S)}};f.push($),u++,d=setTimeout(x,e.rotate),n(w,t,$.callback)}return setTimeout(x),v}function zX(e){const t={...v8e,...e};let n=[];function r(){n=n.filter(a=>a().status==="pending")}function i(a,l,u){const c=y8e(t,a,l,(d,f)=>{r(),u&&u(d,f)});return n.push(c),c}function s(a){return n.find(l=>a(l))||null}return{query:i,find:s,setIndex:a=>{t.index=a},getIndex:()=>t.index,cleanup:r}}function w4(){}const e$=Object.create(null);function _8e(e){if(!e$[e]){const t=OP(e);if(!t)return;const n=zX(t),r={config:t,redundancy:n};e$[e]=r}return e$[e]}function b8e(e,t,n){let r,i;if(typeof e=="string"){const s=sI(e);if(!s)return n(void 0,424),w4;i=s.send;const o=_8e(e);o&&(r=o.redundancy)}else{const s=CP(e);if(s){r=zX(s);const o=e.resources?e.resources[0]:"",a=sI(o);a&&(i=a.send)}}return!r||!i?(n(void 0,424),w4):r.query(t,i,n)().abort}const x4="iconify2",Ym="iconify",KX=Ym+"-count",E4=Ym+"-version",GX=36e5,w8e=168,x8e=50;function oI(e,t){try{return e.getItem(t)}catch{}}function RP(e,t,n){try{return e.setItem(t,n),!0}catch{}}function S4(e,t){try{e.removeItem(t)}catch{}}function aI(e,t){return RP(e,KX,t.toString())}function lI(e){return parseInt(oI(e,KX))||0}const Ux={local:!0,session:!0},YX={local:new Set,session:new Set};let PP=!1;function E8e(e){PP=e}let m_=typeof window>"u"?{}:window;function XX(e){const t=e+"Storage";try{if(m_&&m_[t]&&typeof m_[t].length=="number")return m_[t]}catch{}Ux[e]=!1}function QX(e,t){const n=XX(e);if(!n)return;const r=oI(n,E4);if(r!==x4){if(r){const a=lI(n);for(let l=0;l<a;l++)S4(n,Ym+l.toString())}RP(n,E4,x4),aI(n,0);return}const i=Math.floor(Date.now()/GX)-w8e,s=a=>{const l=Ym+a.toString(),u=oI(n,l);if(typeof u=="string"){try{const c=JSON.parse(u);if(typeof c=="object"&&typeof c.cached=="number"&&c.cached>i&&typeof c.provider=="string"&&typeof c.data=="object"&&typeof c.data.prefix=="string"&&t(c,a))return!0}catch{}S4(n,l)}};let o=lI(n);for(let a=o-1;a>=0;a--)s(a)||(a===o-1?(o--,aI(n,o)):YX[e].add(a))}function JX(){if(!PP){E8e(!0);for(const e in Ux)QX(e,t=>{const n=t.data,r=t.provider,i=n.prefix,s=Zc(r,i);if(!IP(s,n).length)return!1;const o=n.lastModified||-1;return s.lastModifiedCached=s.lastModifiedCached?Math.min(s.lastModifiedCached,o):o,!0})}}function S8e(e,t){const n=e.lastModifiedCached;if(n&&n>=t)return n===t;if(e.lastModifiedCached=t,n)for(const r in Ux)QX(r,i=>{const s=i.data;return i.provider!==e.provider||s.prefix!==e.prefix||s.lastModified===t});return!0}function $8e(e,t){PP||JX();function n(r){let i;if(!Ux[r]||!(i=XX(r)))return;const s=YX[r];let o;if(s.size)s.delete(o=Array.from(s).shift());else if(o=lI(i),o>=x8e||!aI(i,o+1))return;const a={cached:Math.floor(Date.now()/GX),provider:e.provider,data:t};return RP(i,Ym+o.toString(),JSON.stringify(a))}t.lastModified&&!S8e(e,t.lastModified)||Object.keys(t.icons).length&&(t.not_found&&(t=Object.assign({},t),delete t.not_found),n("local")||n("session"))}function $4(){}function T8e(e){e.iconsLoaderFlag||(e.iconsLoaderFlag=!0,setTimeout(()=>{e.iconsLoaderFlag=!1,p8e(e)}))}function k8e(e,t){e.iconsToLoad?e.iconsToLoad=e.iconsToLoad.concat(t).sort():e.iconsToLoad=t,e.iconsQueueFlag||(e.iconsQueueFlag=!0,setTimeout(()=>{e.iconsQueueFlag=!1;const{provider:n,prefix:r}=e,i=e.iconsToLoad;delete e.iconsToLoad;let s;if(!i||!(s=sI(n)))return;s.prepare(n,r,i).forEach(a=>{b8e(n,a,l=>{if(typeof l!="object")a.icons.forEach(u=>{e.missing.add(u)});else try{const u=IP(e,l);if(!u.length)return;const c=e.pendingIcons;c&&u.forEach(d=>{c.delete(d)}),$8e(e,l)}catch(u){console.error(u)}T8e(e)})})}))}const I8e=(e,t)=>{const n=m8e(e,!0,jX()),r=f8e(n);if(!r.pending.length){let l=!0;return t&&setTimeout(()=>{l&&t(r.loaded,r.missing,r.pending,$4)}),()=>{l=!1}}const i=Object.create(null),s=[];let o,a;return r.pending.forEach(l=>{const{provider:u,prefix:c}=l;if(c===a&&u===o)return;o=u,a=c,s.push(Zc(u,c));const d=i[u]||(i[u]=Object.create(null));d[c]||(d[c]=[])}),r.pending.forEach(l=>{const{provider:u,prefix:c,name:d}=l,f=Zc(u,c),p=f.pendingIcons||(f.pendingIcons=new Set);p.has(d)||(p.add(d),i[u][c].push(d))}),s.forEach(l=>{const{provider:u,prefix:c}=l;i[u][c].length&&k8e(l,i[u][c])}),t?g8e(t,r,s):$4};function C8e(e,t){const n={...e};for(const r in t){const i=t[r],s=typeof i;r in HX?(i===null||i&&(s==="string"||s==="number"))&&(n[r]=i):s===typeof n[r]&&(n[r]=r==="rotate"?i%4:i)}return n}const A8e=/[\s,]+/;function O8e(e,t){t.split(A8e).forEach(n=>{switch(n.trim()){case"horizontal":e.hFlip=!0;break;case"vertical":e.vFlip=!0;break}})}function R8e(e,t=0){const n=e.replace(/^-?[0-9.]*/,"");function r(i){for(;i<0;)i+=4;return i%4}if(n===""){const i=parseInt(e);return isNaN(i)?0:r(i)}else if(n!==e){let i=0;switch(n){case"%":i=25;break;case"deg":i=90}if(i){let s=parseFloat(e.slice(0,e.length-n.length));return isNaN(s)?0:(s=s/i,s%1===0?r(s):0)}}return t}function P8e(e,t){let n=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const r in t)n+=" "+r+'="'+t[r]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+e+"</svg>"}function M8e(e){return e.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function D8e(e){return"data:image/svg+xml,"+M8e(e)}function N8e(e){return'url("'+D8e(e)+'")'}const T4={...WX,inline:!1},L8e={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},F8e={display:"inline-block"},uI={backgroundColor:"currentColor"},ZX={backgroundColor:"transparent"},k4={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},I4={webkitMask:uI,mask:uI,background:ZX};for(const e in I4){const t=I4[e];for(const n in k4)t[e+n]=k4[n]}const l0={};["horizontal","vertical"].forEach(e=>{const t=e.slice(0,1)+"Flip";l0[e+"-flip"]=t,l0[e.slice(0,1)+"-flip"]=t,l0[e+"Flip"]=t});function C4(e){return e+(e.match(/^[-0-9.]+$/)?"px":"")}const A4=(e,t)=>{const n=C8e(T4,t),r={...L8e},i=t.mode||"svg",s={},o=t.style,a=typeof o=="object"&&!(o instanceof Array)?o:{};for(let h in t){const m=t[h];if(m!==void 0)switch(h){case"icon":case"style":case"onLoad":case"mode":break;case"inline":case"hFlip":case"vFlip":n[h]=m===!0||m==="true"||m===1;break;case"flip":typeof m=="string"&&O8e(n,m);break;case"color":s.color=m;break;case"rotate":typeof m=="string"?n[h]=R8e(m):typeof m=="number"&&(n[h]=m);break;case"ariaHidden":case"aria-hidden":m!==!0&&m!=="true"&&delete r["aria-hidden"];break;default:{const v=l0[h];v?(m===!0||m==="true"||m===1)&&(n[v]=!0):T4[h]===void 0&&(r[h]=m)}}}const l=Jze(e,n),u=l.attributes;if(n.inline&&(s.verticalAlign="-0.125em"),i==="svg"){r.style={...s,...a},Object.assign(r,u);let h=0,m=t.id;return typeof m=="string"&&(m=m.replace(/-/g,"_")),r.innerHTML=n8e(l.body,m?()=>m+"ID"+h++:"iconifyVue"),Yt("svg",r)}const{body:c,width:d,height:f}=e,p=i==="mask"||(i==="bg"?!1:c.indexOf("currentColor")!==-1),g=P8e(c,{...u,width:d+"",height:f+""});return r.style={...s,"--svg":N8e(g),width:C4(u.width),height:C4(u.height),...F8e,...p?uI:ZX,...a},Yt("span",r)};jX(!0);r8e("",d8e);if(typeof document<"u"&&typeof window<"u"){JX();const e=window;if(e.IconifyPreload!==void 0){const t=e.IconifyPreload,n="Invalid IconifyPreload syntax.";typeof t=="object"&&t!==null&&(t instanceof Array?t:[t]).forEach(r=>{try{(typeof r!="object"||r===null||r instanceof Array||typeof r.icons!="object"||typeof r.prefix!="string"||!qze(r))&&console.error(n)}catch{console.error(n)}})}if(e.IconifyProviders!==void 0){const t=e.IconifyProviders;if(typeof t=="object"&&t!==null)for(let n in t){const r="IconifyProviders["+n+"] is invalid.";try{const i=t[n];if(typeof i!="object"||!i||i.resources===void 0)continue;i8e(n,i)||console.error(r)}catch{console.error(r)}}}}const B8e={...Bx,body:""},U8e=Tn({inheritAttrs:!1,data(){return{_name:"",_loadingIcon:null,iconMounted:!1,counter:0}},mounted(){this.iconMounted=!0},unmounted(){this.abortLoading()},methods:{abortLoading(){this._loadingIcon&&(this._loadingIcon.abort(),this._loadingIcon=null)},getIcon(e,t){if(typeof e=="object"&&e!==null&&typeof e.body=="string")return this._name="",this.abortLoading(),{data:e};let n;if(typeof e!="string"||(n=Fx(e,!1,!0))===null)return this.abortLoading(),null;const r=Hze(n);if(!r)return(!this._loadingIcon||this._loadingIcon.name!==e)&&(this.abortLoading(),this._name="",r!==null&&(this._loadingIcon={name:e,abort:I8e([n],()=>{this.counter++})})),null;this.abortLoading(),this._name!==e&&(this._name=e,t&&t(e));const i=["iconify"];return n.prefix!==""&&i.push("iconify--"+n.prefix),n.provider!==""&&i.push("iconify--"+n.provider),{data:r,classes:i}}},render(){this.counter;const e=this.$attrs,t=this.iconMounted||e.ssr?this.getIcon(e.icon,e.onLoad):null;if(!t)return A4(B8e,e);let n=e;return t.classes&&(n={...e,class:(typeof e.class=="string"?e.class+" ":"")+t.classes.join(" ")}),A4({...Bx,...t.data},n)}}),V8e=["name"],j8e={class:"formkit-wrapper flex flex-col space-y-4"},H8e={key:0,class:"formkit-inner max-w-md formkit-invalid:border-red-500 mb-1 flex flex-col items-start space-y-2"},W8e=["src","alt"],q8e={__name:"MediaInput",props:{context:{type:Object,default:()=>({})}},emits:["input"],setup(e){const t=e,n=re(null),r=ct("$vfm"),[i]=Sc(),s=Xa({...Hu,loader:()=>qt(()=>import("./MediaLibrary-16378736.js"),["assets/MediaLibrary-16378736.js","assets/search-8c52a39c.js"])}),o=$i(()=>{var g,h,m,v,y;const p=(g=t==null?void 0:t.context)==null?void 0:g._value;return typeof p=="string"?p:(h=p==null?void 0:p.image)!=null&&h.src?(m=p==null?void 0:p.image)==null?void 0:m.src:(v=p==null?void 0:p.video)!=null&&v.thumbnailUrl?(y=p==null?void 0:p.video)==null?void 0:y.thumbnailUrl:null}),a=$i(()=>{var g;const p=(g=t==null?void 0:t.context)==null?void 0:g._value;return p!=null&&p.icon?(i.value=!1,p==null?void 0:p.icon):null}),l=()=>{const p=new Event("blur");n.value.dispatchEvent(p)},u=async p=>{var g,h;i.value=!0,(h=(g=t==null?void 0:t.context)==null?void 0:g.node)==null||h.input(p),await r.hide("media-library"),l()},c=()=>{var p,g,h,m,v,y;xP({name:"media-library",clickToClose:!1,contentClasses:"w-full max-w-4xl"},{default:{component:s,bind:{enableImageSearch:(p=t==null?void 0:t.context)==null?void 0:p.enableImageSearch,enableUploader:(g=t==null?void 0:t.context)==null?void 0:g.enableUploader,enableVideo:(h=t==null?void 0:t.context)==null?void 0:h.enableVideo,enableIcons:(m=t==null?void 0:t.context)==null?void 0:m.enableIcons,returnImagePathAsString:(v=t==null?void 0:t.context)==null?void 0:v.returnImagePathAsString,openAuthModal:(y=t==null?void 0:t.context)==null?void 0:y.openAuthModal},on:{input:u}}})},d=()=>{i.value=!1},f=()=>{var p,g;(g=(p=t==null?void 0:t.context)==null?void 0:p.node)==null||g.input(),setTimeout(()=>{l()},750)};return(p,g)=>{var y,_,b,x,w,$;const h=ju,m=Nze,v=pl;return te(),De("div",{ref_key:"mediaInputRef",ref:n,class:"formkit-outer formkit-disabled:opacity-50","data-testid":"media-input","data-formkit-custom-input":"",name:(_=(y=e.context)==null?void 0:y.node)==null?void 0:_.name},[ee("div",j8e,[(b=e.context)!=null&&b._value?(te(),De("div",H8e,[ee("button",{class:"appearance-none cursor-pointer border border-slate-300 rounded-lg p-2 bg-white",type:"button",onClick:c},[ve(i)?(te(),ze(h,{key:0})):Ge("",!0),y0((te(),De("img",{key:(x=e.context)==null?void 0:x._value,src:ve(o),alt:(w=e.context)==null?void 0:w.label,onload:d,class:"w-full max-w-[8rem]"},null,8,W8e)),[[Wg,!ve(i)&&!ve(a)]]),ve(a)?(te(),ze(ve(U8e),{key:1,icon:ve(a),class:"w-8 h-auto text-current"},null,8,["icon"])):Ge("",!0)]),ve(i)?Ge("",!0):(te(),De("button",{key:0,class:"text-xs text-red-700",type:"button",onClick:f}," (remove) "))])):Ge("",!0),($=e.context)!=null&&$._value?Ge("",!0):(te(),ze(v,{key:1,type:"button",theme:"brand-secondary",size:"sm",class:"self-start my-1",onClick:c},{default:et(()=>[Se(m,{class:"w-4"}),g[0]||(g[0]=ee("span",null,"Add",-1))]),_:1}))])],8,V8e)}}},z8e={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function K8e(e,t){return te(),De("svg",z8e,t[0]||(t[0]=[ee("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m3 7l6-3l6 3l6-3v13l-6 3l-6-3l-6 3zm6-3v13m6-10v13"},null,-1)]))}const G8e={name:"tabler-map",render:K8e},Y8e=["name"],X8e={class:"formkit-wrapper flex flex-col space-y-4 py-2"},Q8e={key:0,class:"formkit-inner max-w-md formkit-invalid:border-red-500 mb-1 flex flex-col items-start space-y-2"},J8e={key:0},Z8e={__name:"LocationInput",props:{context:{type:Object,default:()=>({})}},emits:["input"],setup(e){const t=e,n=re(null),r=ct("$vfm"),i=Xa({...Hu,loader:()=>qt(()=>import("./LocationSelector-355c6608.js"),["assets/LocationSelector-355c6608.js","assets/LocationSelector-3395b17a.css"])}),s=$i(()=>{var c;const u=(c=t==null?void 0:t.context)==null?void 0:c._value;return u==null?void 0:u.address}),o=()=>{const u=new Event("blur");n.value.dispatchEvent(u)},a=async u=>{var c,d;(d=(c=t==null?void 0:t.context)==null?void 0:c.node)==null||d.input(u),await r.hide("location-selector"),o()},l=()=>{var u,c;xP({name:"location-selector",clickToClose:!1,contentClasses:"w-full max-w-4xl"},{default:{component:i,bind:{address:s==null?void 0:s.value,pinLabel:(c=(u=t==null?void 0:t.context)==null?void 0:u._value)==null?void 0:c.pinLabel},on:{input:a}}})};return(u,c)=>{var p,g;const d=G8e,f=pl;return te(),De("div",{ref_key:"mediaInputRef",ref:n,class:"formkit-outer formkit-disabled:opacity-50","data-testid":"media-input","data-formkit-custom-input":"",name:(g=(p=e.context)==null?void 0:p.node)==null?void 0:g.name},[ee("div",X8e,[ve(s)?(te(),De("div",Q8e,[ve(s)?(te(),De("span",J8e,ci(ve(s)),1)):Ge("",!0),ee("button",{class:"text-xs text-red-700",type:"button",onClick:l}," (change) ")])):(te(),ze(f,{key:1,type:"button",theme:"brand-secondary",size:"sm",class:"self-start",onClick:l},{default:et(()=>[Se(d,{class:"w-4"}),c[0]||(c[0]=ee("span",null,"Set map address",-1))]),_:1}))])],8,Y8e)}}},e7e=qEe("fk-7dc794d0af2",{autocomplete:Z$e,colorpicker:SCe,datepicker:XTe,dropdown:LSe,rating:V$e,repeater:$$e,toggle:e$e}),t7e={config:{rootClasses:SAe},icons:{arrowDown:_xe,arrowUp:bxe,close:B2,checkboxDecorator:hxe,fileItem:U2,fileRemove:B2,noFiles:U2,radioDecorator:gxe,select:wxe,spinner:mxe,star:vxe,trash:yxe},rules:EAe,plugins:[ZCe(),yAe(),e7e],inputs:{content:uS(Pze,{props:["controls","sitePages"]}),locationInput:uS(Z8e,{props:["label","value"]}),mediaInput:uS(q8e,{props:["label","value","enableVideo","enableImageSearch","enableUploader","enableIcons","returnImagePathAsString","openAuthModal"]})}},n7e=({app:e})=>{e.use(Z1e,qO(t7e))},r7e=Object.freeze(Object.defineProperty({__proto__:null,install:n7e},Symbol.toStringTag,{value:"Module"})),{VITE_APP_ENV:i7e,VITE_MIXPANEL_TOKEN:s7e}={VITE_FIREBASE_EXTENSIONS_REGION:"us-west2",VITE_PEXELS_API_KEY:"Ed0RE2RH5c42fhTqMU0Q5oJeWkvjg3raDQE5ZDfq5y4dSYjP61pXeBag",VITE_ENTRI_APPLICATION_ID:"mixo",VITE_FIREBASE_MESSAGING_SENDER_ID:"725498859830",VITE_APP_URL:"https://app.mixo.io",VITE_RECAPTCHA_SITE_KEY:"6Lf0kGsoAAAAAIH-9bzbWxuDwy7LlN-MWerrq6oa",VITE_LINKEDIN_PARTNER_ID:"7006708",VITE_FUNCTIONS_URL:"https://us-west2-mixo-app.cloudfunctions.net",VITE_FIREBASE_RTDB_URL:"https://mixo-app-default-rtdb.firebaseio.com",VITE_GITHUB_SHA:"abf61747049fcf16221db86a879e43d381393275",VITE_MIXO_FORM_SCHEMA_URL:"https://formschema-cirj42yhua-wl.a.run.app",VITE_FIREBASE_MEASUREMENT_ID:"G-JHGL8M7FHL",VITE_FIREBASE_STORAGE_BUCKET:"mixo-app.appspot.com",VITE_FIREBASE_AUTH_DOMAIN:"mixo-app.firebaseapp.com",VITE_MIXPANEL_TOKEN:"35d21fbe7f782990b936227a30e1804a",VITE_MIXO_DOMAIN:"mixo.io",VITE_FIREBASE_PROJECT_ID:"mixo-app",VITE_FIREBASE_APP_ID:"1:725498859830:web:6421f91ef9f6e95c056397",VITE_APP_ENV:"production",VITE_FIREBASE_API_KEY:"AIzaSyAVslymxdABi7BdNzjT1quXFZduuyz6EhE",VITE_HIGHLIGHT_PROJECT_ID:"odz3pmep",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},o7e=()=>{tu.init(s7e,{ignore_dnt:i7e!=="production"})},a7e=Object.freeze(Object.defineProperty({__proto__:null,install:o7e},Symbol.toStringTag,{value:"Module"}));var eQ={exports:{}};/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */(function(e,t){(function(n,r){e.exports=r()})(us,function(){var n={};n.version="0.2.0";var r=n.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};n.configure=function(g){var h,m;for(h in g)m=g[h],m!==void 0&&g.hasOwnProperty(h)&&(r[h]=m);return this},n.status=null,n.set=function(g){var h=n.isStarted();g=i(g,r.minimum,1),n.status=g===1?null:g;var m=n.render(!h),v=m.querySelector(r.barSelector),y=r.speed,_=r.easing;return m.offsetWidth,a(function(b){r.positionUsing===""&&(r.positionUsing=n.getPositioningCSS()),l(v,o(g,y,_)),g===1?(l(m,{transition:"none",opacity:1}),m.offsetWidth,setTimeout(function(){l(m,{transition:"all "+y+"ms linear",opacity:0}),setTimeout(function(){n.remove(),b()},y)},y)):setTimeout(b,y)}),this},n.isStarted=function(){return typeof n.status=="number"},n.start=function(){n.status||n.set(0);var g=function(){setTimeout(function(){n.status&&(n.trickle(),g())},r.trickleSpeed)};return r.trickle&&g(),this},n.done=function(g){return!g&&!n.status?this:n.inc(.3+.5*Math.random()).set(1)},n.inc=function(g){var h=n.status;return h?(typeof g!="number"&&(g=(1-h)*i(Math.random()*h,.1,.95)),h=i(h+g,0,.994),n.set(h)):n.start()},n.trickle=function(){return n.inc(Math.random()*r.trickleRate)},function(){var g=0,h=0;n.promise=function(m){return!m||m.state()==="resolved"?this:(h===0&&n.start(),g++,h++,m.always(function(){h--,h===0?(g=0,n.done()):n.set((g-h)/g)}),this)}}(),n.render=function(g){if(n.isRendered())return document.getElementById("nprogress");c(document.documentElement,"nprogress-busy");var h=document.createElement("div");h.id="nprogress",h.innerHTML=r.template;var m=h.querySelector(r.barSelector),v=g?"-100":s(n.status||0),y=document.querySelector(r.parent),_;return l(m,{transition:"all 0 linear",transform:"translate3d("+v+"%,0,0)"}),r.showSpinner||(_=h.querySelector(r.spinnerSelector),_&&p(_)),y!=document.body&&c(y,"nprogress-custom-parent"),y.appendChild(h),h},n.remove=function(){d(document.documentElement,"nprogress-busy"),d(document.querySelector(r.parent),"nprogress-custom-parent");var g=document.getElementById("nprogress");g&&p(g)},n.isRendered=function(){return!!document.getElementById("nprogress")},n.getPositioningCSS=function(){var g=document.body.style,h="WebkitTransform"in g?"Webkit":"MozTransform"in g?"Moz":"msTransform"in g?"ms":"OTransform"in g?"O":"";return h+"Perspective"in g?"translate3d":h+"Transform"in g?"translate":"margin"};function i(g,h,m){return g<h?h:g>m?m:g}function s(g){return(-1+g)*100}function o(g,h,m){var v;return r.positionUsing==="translate3d"?v={transform:"translate3d("+s(g)+"%,0,0)"}:r.positionUsing==="translate"?v={transform:"translate("+s(g)+"%,0)"}:v={"margin-left":s(g)+"%"},v.transition="all "+h+"ms "+m,v}var a=function(){var g=[];function h(){var m=g.shift();m&&m(h)}return function(m){g.push(m),g.length==1&&h()}}(),l=function(){var g=["Webkit","O","Moz","ms"],h={};function m(b){return b.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(x,w){return w.toUpperCase()})}function v(b){var x=document.body.style;if(b in x)return b;for(var w=g.length,$=b.charAt(0).toUpperCase()+b.slice(1),E;w--;)if(E=g[w]+$,E in x)return E;return b}function y(b){return b=m(b),h[b]||(h[b]=v(b))}function _(b,x,w){x=y(x),b.style[x]=w}return function(b,x){var w=arguments,$,E;if(w.length==2)for($ in x)E=x[$],E!==void 0&&x.hasOwnProperty($)&&_(b,$,E);else _(b,w[1],w[2])}}();function u(g,h){var m=typeof g=="string"?g:f(g);return m.indexOf(" "+h+" ")>=0}function c(g,h){var m=f(g),v=m+h;u(m,h)||(g.className=v.substring(1))}function d(g,h){var m=f(g),v;u(g,h)&&(v=m.replace(" "+h+" "," "),g.className=v.substring(1,v.length-1))}function f(g){return(" "+(g.className||"")+" ").replace(/\s+/gi," ")}function p(g){g&&g.parentNode&&g.parentNode.removeChild(g)}return n})})(eQ);var l7e=eQ.exports;const O4=KI(l7e),u7e=({router:e})=>{e.beforeEach((t,n)=>{t.path!==n.path&&O4.start()}),e.afterEach(()=>{O4.done()})},c7e=Object.freeze(Object.defineProperty({__proto__:null,install:u7e},Symbol.toStringTag,{value:"Module"})),d7e=({router:e})=>{e.isReady().then(async()=>{const{registerSW:t}=await qt(()=>import("./virtual_pwa-register-439283eb.js"),[]);t({immediate:!0})})},f7e=Object.freeze(Object.defineProperty({__proto__:null,install:d7e},Symbol.toStringTag,{value:"Module"}));function Ag(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ag=function(t){return typeof t}:Ag=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ag(e)}function R4(e,t,n,r,i,s,o){try{var a=e[s](o),l=a.value}catch(u){n(u);return}a.done?t(l):Promise.resolve(l).then(r,i)}function p7e(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var s=e.apply(t,n);function o(l){R4(s,r,i,o,a,"next",l)}function a(l){R4(s,r,i,o,a,"throw",l)}o(void 0)})}}function h7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g7e(e,t,n){return t&&P4(e.prototype,t),n&&P4(e,n),e}function Mf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M4(Object(n),!0).forEach(function(r){Mf(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ed(e){return m7e(e)||v7e(e)||y7e(e)||_7e()}function m7e(e){if(Array.isArray(e))return cI(e)}function v7e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function y7e(e,t){if(e){if(typeof e=="string")return cI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cI(e,t)}}function cI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var b7e='button:not([disabled]), select:not([disabled]), a[href]:not([disabled]), area[href]:not([disabled]), [contentEditable=""]:not([disabled]), [contentEditable="true"]:not([disabled]), [contentEditable="TRUE"]:not([disabled]), textarea:not([disabled]), iframe:not([disabled]), input:not([disabled]), summary:not([disabled]), [tabindex]:not([tabindex="-1"])',w7e=function(t){return t.key==="Tab"||t.keyCode===9},x7e=function(t,n){return ed(t.querySelectorAll(n)||[])},E7e=function(t){return x7e(t,b7e)},D4=function(t){return t==document.activeElement},S7e=function(){return!document.activeElement},$7e=function(){function e(){h7e(this,e),this.root=null,this.elements=[],this.onKeyDown=this.onKeyDown.bind(this),this.enable=this.enable.bind(this),this.disable=this.disable.bind(this),this.firstElement=this.firstElement.bind(this),this.lastElement=this.lastElement.bind(this)}return g7e(e,[{key:"lastElement",value:function(){return this.elements[this.elements.length-1]||null}},{key:"firstElement",value:function(){return this.elements[0]||null}},{key:"onKeyDown",value:function(n){if(w7e(n)){if(n.shiftKey){D4(this.firstElement())&&(this.lastElement().focus(),n.preventDefault());return}if(S7e()||D4(this.lastElement())){this.firstElement().focus(),n.preventDefault();return}}}},{key:"enabled",value:function(){return!!this.root}},{key:"enable",value:function(n){n&&(this.root=n,this.elements=E7e(this.root),this.root.addEventListener("keydown",this.onKeyDown))}},{key:"disable",value:function(){this.root.removeEventListener("keydown",this.onKeyDown),this.root=null}}]),e}(),T7e=function(t,n,r){var i=t.style[n];return t.style[n]=r,function(){t.style[n]=i}},N4=function(t){var n=t.targetTouches?t.targetTouches[0]:t,r=n.clientX,i=n.clientY;return{x:r,y:i}},k7e=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},v_=function(t,n,r){return typeof t!="number"&&(t=Math.min(n,r)||n),typeof r!="number"&&(r=Math.max(n,t)),Math.min(Math.max(n,t),r)},L4=function(t){return t&&Number(t.replace(/px$/,""))||0},I7e=function(t,n,r){if(r==="")return!0;var i=ed(n.querySelectorAll(r));return i.includes(t.target)},xw={down:{pc:"mousedown",m:"touchstart"},move:{pc:"mousemove",m:"touchmove"},up:{pc:"mouseup",m:"touchend"}},y_=function(t,n,r){n&&n.addEventListener(xw[t].pc,r),n&&n.addEventListener(xw[t].m,r,{passive:!1})},__=function(t,n,r){n&&n.removeEventListener(xw[t].pc,r),n&&n.removeEventListener(xw[t].m,r)},MP=!1;if(typeof window<"u"){var F4={get passive(){MP=!0}};window.addEventListener("testPassive",null,F4),window.removeEventListener("testPassive",null,F4)}var tQ=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1),Wl=[],Ew=!1,u0=0,nQ=-1,Og,Rg,C7e=function(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;var n=window.getComputedStyle(t);return["auto","scroll"].includes(n.overflowY)&&t.scrollHeight>t.clientHeight},A7e=function(t,n){return!(t.scrollTop===0&&n<0||t.scrollTop+t.clientHeight+n>=t.scrollHeight&&n>0)},O7e=function(t){for(var n=[];t;){if(n.push(t),t.classList.contains("vfm"))return n;t=t.parentElement}return n},R7e=function(t,n){var r=!1,i=O7e(t);return i.forEach(function(s){C7e(s)&&A7e(s,n)&&(r=!0)}),r},rQ=function(t){return Wl.some(function(){return R7e(t,-u0)})},Sw=function(t){var n=t||window.event;return rQ(n.target)||n.touches.length>1?!0:(n.preventDefault&&n.preventDefault(),!1)},P7e=function(t){if(Rg===void 0){var n=!!t&&t.reserveScrollBarGap===!0,r=window.innerWidth-document.documentElement.clientWidth;if(n&&r>0){var i=parseInt(getComputedStyle(document.body).getPropertyValue("padding-right"),10);Rg=document.body.style.paddingRight,document.body.style.paddingRight="".concat(i+r,"px")}}Og===void 0&&(Og=document.body.style.overflow,document.body.style.overflow="hidden")},M7e=function(){Rg!==void 0&&(document.body.style.paddingRight=Rg,Rg=void 0),Og!==void 0&&(document.body.style.overflow=Og,Og=void 0)},D7e=function(t){return t?t.scrollHeight-t.scrollTop<=t.clientHeight:!1},N7e=function(t,n){return u0=t.targetTouches[0].clientY-nQ,rQ(t.target)?!1:n&&n.scrollTop===0&&u0>0||D7e(n)&&u0<0?Sw(t):(t.stopPropagation(),!0)},L7e=function(t,n){if(!t){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(!Wl.some(function(i){return i.targetElement===t})){var r={targetElement:t,options:n||{}};Wl=[].concat(ed(Wl),[r]),tQ?(t.ontouchstart=function(i){i.targetTouches.length===1&&(nQ=i.targetTouches[0].clientY)},t.ontouchmove=function(i){i.targetTouches.length===1&&N7e(i,t)},Ew||(document.addEventListener("touchmove",Sw,MP?{passive:!1}:void 0),Ew=!0)):P7e(n)}},t$=function(t){if(!t){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}Wl=Wl.filter(function(n){return n.targetElement!==t}),tQ?(t.ontouchstart=null,t.ontouchmove=null,Ew&&Wl.length===0&&(document.removeEventListener("touchmove",Sw,MP?{passive:!1}:void 0),Ew=!1)):Wl.length||M7e()},b_=function(){},$o={Enter:"enter",Entering:"entering",Leave:"leave",Leaving:"leavng"},F7e={t:"ns-resize",tr:"nesw-resize",r:"ew-resize",br:"nwse-resize",b:"ns-resize",bl:"nesw-resize",l:"ew-resize",tl:"nwse-resize"},Vx={props:{name:{type:String,default:null},modelValue:{type:Boolean,default:!1},ssr:{type:Boolean,default:!0},classes:{type:[String,Object,Array],default:""},overlayClass:{type:[String,Object,Array],default:""},contentClass:{type:[String,Object,Array],default:""},styles:{type:[Object,Array],default:function(){return{}}},overlayStyle:{type:[Object,Array],default:function(){return{}}},contentStyle:{type:[Object,Array],default:function(){return{}}},lockScroll:{type:Boolean,default:!0},hideOverlay:{type:Boolean,default:!1},clickToClose:{type:Boolean,default:!0},escToClose:{type:Boolean,default:!1},preventClick:{type:Boolean,default:!1},attach:{type:null,default:!1,validator:function(t){var n=Ag(t);return n==="boolean"||n==="string"?!0:t.nodeType===Node.ELEMENT_NODE}},transition:{type:[String,Object],default:"vfm"},overlayTransition:{type:[String,Object],default:"vfm"},keepOverlay:{type:Boolean,default:!1},zIndexAuto:{type:Boolean,default:!0},zIndexBase:{type:[String,Number],default:1e3},zIndex:{type:[Boolean,String,Number],default:!1},focusRetain:{type:Boolean,default:!0},focusTrap:{type:Boolean,default:!1},fitParent:{type:Boolean,default:!0},drag:{type:Boolean,default:!1},dragSelector:{type:String,default:""},keepChangedStyle:{type:Boolean,default:!1},resize:{type:Boolean,default:!1},resizeDirections:{type:Array,default:function(){return["t","tr","r","br","b","bl","l","tl"]},validator:function(t){return["t","tr","r","br","b","bl","l","tl"].filter(function(n){return t.indexOf(n)!==-1}).length===t.length}},minWidth:{type:Number,default:0},minHeight:{type:Number,default:0},maxWidth:{type:Number,default:1/0},maxHeight:{type:Number,default:1/0}},emits:["update:modelValue","click-outside","before-open","opened","before-close","closed","_before-open","_opened","_closed","drag:start","drag:move","drag:end","resize:start","resize:move","resize:end"],setup:function(t,n){var r=n.emit,i=Symbol("vfm"),s=re(null),o=re(null),a=re(null),l=re(null),u=re(null),c=re(null),d=re(null),f=new $7e,p=re(!1),g=Cs({modal:!1,overlay:!1,resize:!1}),h=re(null),m=re(null),v=re(!1),y=re({}),_=re({}),b=re(null),x=re(null),w=b_,$=b_,E=Ce(function(){return typeof t.overlayTransition=="string"?{name:t.overlayTransition}:Vi({},t.overlayTransition)}),S=Ce(function(){return typeof t.transition=="string"?{name:t.transition}:Vi({},t.transition)}),T=Ce(function(){return(t.hideOverlay||h.value===$o.Leave)&&m.value===$o.Leave}),P=Ce(function(){return t.zIndex===!1?t.zIndexAuto?+t.zIndexBase+2*(d.value||0):!1:t.zIndex}),C=Ce(function(){return Vi({},P.value!==!1&&{zIndex:P.value})}),B=Ce(function(){var z=[_.value];return Array.isArray(t.contentStyle)?z.push.apply(z,ed(t.contentStyle)):z.push(t.contentStyle),z});bt(function(){return t.modelValue},function(z){if(v.value){v.value=!1;return}if(ce(),!z){if(O("before-close",!0)){$("hide");return}X()}}),bt(function(){return t.lockScroll},le),bt(function(){return t.hideOverlay},function(z){t.modelValue&&!z&&(g.overlay=!0)}),bt(function(){return t.attach},ce),bt(T,function(z){z&&(p.value=!1,o.value.style.display="none")},{flush:"post"}),bt(function(){return t.drag},function(z){p.value&&(z?K():ae())}),bt(function(){return t.resize},function(z){p.value&&(z?be():ye())}),bt(function(){return t.keepChangedStyle},function(z){z||(_.value={})}),Jt(function(){t.api.modals.push(V()),ce()}),Ja(function(){var z;X(),t.lockScroll&&o.value&&t$(o.value),s==null||(z=s.value)===null||z===void 0||z.remove();var _e=t.api.modals.findIndex(function(ge){return ge.uid===i});t.api.modals.splice(_e,1)});function V(){return{uid:i,props:t,emit:r,vfmContainer:o,vfmContent:a,vfmResize:l,vfmOverlayTransition:u,vfmTransition:c,getAttachElement:me,modalStackIndex:d,visibility:g,handleLockScroll:le,$focusTrap:f,toggle:j,params:y}}function ce(){if(t.modelValue){if(r("_before-open",he({type:"_before-open"})),O("before-open",!1)){$("show");return}var z=me();if(z||t.attach===!1){if(t.attach!==!1)if(s.value)z.appendChild(s.value);else{p.value=!0,Qn(function(){ce()});return}var _e=t.api.openedModals.findIndex(function(ge){return ge.uid===i});_e!==-1&&t.api.openedModals.splice(_e,1),t.api.openedModals.push(V()),d.value=t.api.openedModals.length-1,le(),t.api.openedModals.filter(function(ge){return ge.uid!==i}).forEach(function(ge,xe){ge.getAttachElement()===z&&(ge.modalStackIndex.value=xe,!ge.props.keepOverlay&&(ge.visibility.overlay=!1))}),p.value=!0,Ie()}else z!==!1&&console.warn("Unable to locate target ".concat(t.attach))}}function X(){var z=t.api.openedModals.findIndex(function(ge){return ge.uid===i});if(z!==-1&&t.api.openedModals.splice(z,1),t.api.openedModals.length>0){var _e=t.api.openedModals[t.api.openedModals.length-1];_e.props.focusTrap&&_e.$focusTrap.firstElement().focus(),(_e.props.focusRetain||_e.props.focusTrap)&&_e.vfmContainer.value.focus(),!_e.props.hideOverlay&&(_e.visibility.overlay=!0)}t.drag&&ae(),t.resize&&ye(),b.value=null,Tt()}function le(){t.modelValue&&Qn(function(){t.lockScroll?L7e(o.value,{reserveScrollBarGap:!0}):t$(o.value)})}function me(){var z;return t.attach===!1?z=!1:typeof t.attach=="string"?window?z=window.document.querySelector(t.attach):z=!1:z=t.attach,z}function Ie(){g.overlay=!0,g.modal=!0}function Tt(){g.overlay=!1,g.modal=!1}function Re(){h.value=$o.Entering}function Xe(){h.value=$o.Enter}function F(){h.value=$o.Leaving}function H(){h.value=$o.Leave}function J(){m.value=$o.Entering}function Q(){m.value=$o.Enter,(t.focusRetain||t.focusTrap)&&o.value.focus(),t.focusTrap&&f.enable(o.value),t.drag&&K(),t.resize&&be(),r("_opened"),r("opened",he({type:"opened"})),w("show")}function L(){m.value=$o.Leaving,f.enabled()&&f.disable()}function W(){m.value=$o.Leave,d.value=null,t.lockScroll&&t$(o.value),t.keepChangedStyle||(_.value={});var z=!1,_e=he({type:"closed",stop:function(){z=!0}});r("_closed"),r("closed",_e),w("hide"),!z&&(y.value={})}function q(z){x.value=z==null?void 0:z.target}function ue(){x.value===o.value&&b.value!=="resize:move"&&(r("click-outside",he({type:"click-outside"})),t.clickToClose&&r("update:modelValue",!1))}function fe(){p.value&&t.escToClose&&r("update:modelValue",!1)}function he(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Vi({ref:V()},z)}function O(z,_e){var ge=!1,xe=he({type:z,stop:function(){ge=!0}});return r(z,xe),ge?(v.value=!0,Qn(function(){r("update:modelValue",_e)}),!0):!1}function M(z,_e,ge){b.value="".concat(_e,":").concat(ge),r(b.value,z)}function j(z,_e){var ge=arguments;return new Promise(function(xe,He){w=function(Qe){xe(Qe),w=b_},$=function(Qe){He(Qe),$=b_};var rt=typeof z=="boolean"?z:!t.modelValue;rt&&ge.length===2&&(y.value=_e),r("update:modelValue",rt)})}function Y(z){z.stopPropagation();var _e="resize",ge="drag",xe=z.target.getAttribute("direction"),He;if(xe)He=_e;else if(I7e(z,a.value,t.dragSelector))He=ge;else return;M(z,He,"start");var rt=N4(z),Ke=o.value.getBoundingClientRect(),Qe=a.value.getBoundingClientRect(),Dn=window.getComputedStyle(a.value).position==="absolute",tn={top:L4(_.value.top),left:L4(_.value.left)},Lt=function(){if(t.fitParent){var un={absolute:function(){return{minTop:0,minLeft:0,maxTop:Ke.height-Qe.height,maxLeft:Ke.width-Qe.width}},relative:function(){return{minTop:tn.top+Ke.top-Qe.top,minLeft:tn.left+Ke.left-Qe.left,maxTop:tn.top+Ke.bottom-Qe.bottom,maxLeft:tn.left+Ke.right-Qe.right}}};return Dn?un.absolute():un.relative()}else return{}}(),ln=He===_e&&T7e(document.body,"cursor",F7e[xe]),or=function(Ct){Ct.stopPropagation(),M(Ct,He,"move");var Eo=N4(Ct),Li={x:Eo.x-rt.x,y:Eo.y-rt.y};He===_e&&(Li=we(xe,Li,Ke,Qe,Dn));var Gn,aa;Dn?(Gn=Qe.top-Ke.top+Li.y,aa=Qe.left-Ke.left+Li.x):(Gn=tn.top+Li.y,aa=tn.left+Li.x),He===ge&&t.fitParent&&(Gn=v_(Lt.minTop,Gn,Lt.maxTop),aa=v_(Lt.minLeft,aa,Lt.maxLeft));var _d=Vi(Vi(Vi({position:"relative",top:Gn+"px",left:aa+"px",margin:"unset",touchAction:"none"},Dn&&{position:"absolute",transform:"unset",width:Qe.width+"px",height:Qe.height+"px"}),Li.width&&{width:Li.width+"px"}),Li.height&&{height:Li.height+"px"});_.value=Vi(Vi({},_.value),_d)},ni=function un(Ct){Ct.stopPropagation(),He===_e&&ln&&ln(),setTimeout(function(){M(Ct,He,"end")}),__("move",document,or),__("up",document,un)};y_("move",document,or),y_("up",document,ni)}function K(){y_("down",a.value,Y),_.value.touchAction="none"}function ae(){__("down",a.value,Y)}function be(){g.resize=!0,Qn(function(){y_("down",l.value,Y)})}function ye(){__("down",l.value,Y),g.resize=!1}function we(z,_e,ge,xe,He){var rt=function(Lt){var ln,or=_e[Lt.axis];or=t.fitParent?v_(Lt.min,or,Lt.max):or;var ni=v_(Lt.minEdge,Lt.getEdge(or),Lt.maxEdge);return or=Lt.getOffsetAxis(ni,He),ln={},Mf(ln,Lt.edgeName,ni),Mf(ln,Lt.axis,or),ln},Ke=function(Lt,ln,or,ni){var un=xe[ln],Ct=ge[Lt]-xe[Lt],Eo=k7e(ln);return{axis:or,edgeName:ln,min:ni?Ct:-un,max:ni?un:Ct,minEdge:t["min".concat(Eo)],maxEdge:t["max".concat(Eo)],getEdge:function(Gn){return xe[ln]-Gn*(ni?1:-1)},getOffsetAxis:function(Gn,aa){var _d=xe[ln]-Gn;return aa?ni?_d:0:(ni?1:-1)*_d/2}}},Qe={t:["top","height","y",!0],b:["bottom","height","y",!1],l:["left","width","x",!0],r:["right","width","x",!1]},Dn={x:0,y:0};return z.split("").forEach(function(tn){var Lt=Ke.apply(void 0,ed(Qe[tn]));Dn=Vi(Vi({},Dn),rt(Lt))}),Dn}return{root:s,vfmContainer:o,vfmContent:a,vfmResize:l,vfmOverlayTransition:u,vfmTransition:c,computedOverlayTransition:E,computedTransition:S,visible:p,visibility:g,params:y,calculateZIndex:P,bindStyle:C,bindContentStyle:B,beforeOverlayEnter:Re,afterOverlayEnter:Xe,beforeOverlayLeave:F,afterOverlayLeave:H,beforeModalEnter:J,afterModalEnter:Q,beforeModalLeave:L,afterModalLeave:W,onMousedown:q,onMouseupContainer:ue,onEsc:fe}}},n$=BU();LU("data-v-2836fdb5");var B7e={key:0,ref:"vfmResize",class:"vfm__resize vfm--absolute vfm--inset vfm--prevent-none vfm--select-none vfm--touch-none"};FU();var U7e=n$(function(e,t,n,r,i,s){return n.ssr||r.visible?y0((te(),ze("div",{key:0,ref:"root",style:r.bindStyle,class:["vfm vfm--inset",[n.attach===!1?"vfm--fixed":"vfm--absolute",{"vfm--prevent-none":n.preventClick}]],onKeydown:t[4]||(t[4]=tV(function(){return r.onEsc&&r.onEsc.apply(r,arguments)},["esc"]))},[Se(Hg,Va(r.computedOverlayTransition,{onBeforeEnter:r.beforeOverlayEnter,onAfterEnter:r.afterOverlayEnter,onBeforeLeave:r.beforeOverlayLeave,onAfterLeave:r.afterOverlayLeave}),{default:n$(function(){return[!n.hideOverlay&&r.visibility.overlay?(te(),ze("div",{key:0,class:["vfm__overlay vfm--overlay vfm--absolute vfm--inset",n.overlayClass],style:n.overlayStyle},null,6)):Ge("v-if",!0)]}),_:1},16,["onBeforeEnter","onAfterEnter","onBeforeLeave","onAfterLeave"]),Se(Hg,Va(r.computedTransition,{onBeforeEnter:r.beforeModalEnter,onAfterEnter:r.afterModalEnter,onBeforeLeave:r.beforeModalLeave,onAfterLeave:r.afterModalLeave}),{default:n$(function(){return[y0(Se("div",{ref:"vfmContainer",class:["vfm__container vfm--absolute vfm--inset vfm--outline-none",n.classes],style:n.styles,"aria-expanded":r.visibility.modal.toString(),role:"dialog","aria-modal":"true",tabindex:"-1",onMouseup:t[2]||(t[2]=Rl(function(){return r.onMouseupContainer&&r.onMouseupContainer.apply(r,arguments)},["self"])),onMousedown:t[3]||(t[3]=Rl(function(){return r.onMousedown&&r.onMousedown.apply(r,arguments)},["self"]))},[Se("div",{ref:"vfmContent",class:["vfm__content",[n.contentClass,{"vfm--prevent-auto":n.preventClick}]],style:r.bindContentStyle,onMousedown:t[1]||(t[1]=function(o){return r.onMousedown(null)})},[Ar(e.$slots,"default",{params:r.params,close:function(){return e.$emit("update:modelValue",!1)}}),r.visibility.resize&&r.visibility.modal?(te(),ze("div",B7e,[(te(!0),ze(gn,null,Tc(n.resizeDirections,function(o){return te(),ze("div",{key:o,direction:o,class:["vfm--resize-".concat(o),"vfm--absolute vfm--prevent-auto"]},null,10,["direction"])}),128))],512)):Ge("v-if",!0)],38)],46,["aria-expanded"]),[[Wg,r.visibility.modal]])]}),_:3},16,["onBeforeEnter","onAfterEnter","onBeforeLeave","onAfterLeave"])],38)),[[Wg,!n.ssr||r.visible]]):Ge("v-if",!0)});function V7e(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var j7e=`
.vfm--fixed[data-v-2836fdb5] {
  position: fixed;
}
.vfm--absolute[data-v-2836fdb5] {
  position: absolute;
}
.vfm--inset[data-v-2836fdb5] {
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.vfm--overlay[data-v-2836fdb5] {
  background-color: rgba(0, 0, 0, 0.5);
}
.vfm--prevent-none[data-v-2836fdb5] {
  pointer-events: none;
}
.vfm--prevent-auto[data-v-2836fdb5] {
  pointer-events: auto;
}
.vfm--outline-none[data-v-2836fdb5]:focus {
  outline: none;
}
.vfm-enter-active[data-v-2836fdb5],
.vfm-leave-active[data-v-2836fdb5] {
  transition: opacity 0.2s;
}
.vfm-enter-from[data-v-2836fdb5],
.vfm-leave-to[data-v-2836fdb5] {
  opacity: 0;
}
.vfm--touch-none[data-v-2836fdb5] {
  touch-action: none;
}
.vfm--select-none[data-v-2836fdb5] {
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
}
.vfm--resize-tr[data-v-2836fdb5],
.vfm--resize-br[data-v-2836fdb5],
.vfm--resize-bl[data-v-2836fdb5],
.vfm--resize-tl[data-v-2836fdb5] {
  width: 12px;
  height: 12px;
  z-index: 10;
}
.vfm--resize-t[data-v-2836fdb5] {
  top: -6px;
  left: 0;
  width: 100%;
  height: 12px;
  cursor: ns-resize;
}
.vfm--resize-tr[data-v-2836fdb5] {
  top: -6px;
  right: -6px;
  cursor: nesw-resize;
}
.vfm--resize-r[data-v-2836fdb5] {
  top: 0;
  right: -6px;
  width: 12px;
  height: 100%;
  cursor: ew-resize;
}
.vfm--resize-br[data-v-2836fdb5] {
  bottom: -6px;
  right: -6px;
  cursor: nwse-resize;
}
.vfm--resize-b[data-v-2836fdb5] {
  bottom: -6px;
  left: 0;
  width: 100%;
  height: 12px;
  cursor: ns-resize;
}
.vfm--resize-bl[data-v-2836fdb5] {
  bottom: -6px;
  left: -6px;
  cursor: nesw-resize;
}
.vfm--resize-l[data-v-2836fdb5] {
  top: 0;
  left: -6px;
  width: 12px;
  height: 100%;
  cursor: ew-resize;
}
.vfm--resize-tl[data-v-2836fdb5] {
  top: -6px;
  left: -6px;
  cursor: nwse-resize;
}
`;V7e(j7e);Vx.render=U7e;Vx.__scopeId="data-v-2836fdb5";Vx.__file="lib/VueFinalModal.vue";var DP={props:{},methods:{slice:function(t){this.api.dynamicModals.splice(t,1)},beforeOpen:function(t,n,r){var i=this;return p7e(function*(){t.ref.params.value=n.params,yield i.$nextTick(),yield i.$nextTick(),n.value||(i.slice(r),n.reject("show"))})()},isString:function(t){return typeof t=="string"}}},H7e={class:"modals-container"};function W7e(e,t,n,r,i,s){return te(),ze("div",H7e,[(te(!0),ze(gn,null,Tc(e.api.dynamicModals,function(o,a){return te(),ze(Nf(o.component),Va({key:o.id},o.bind,{modelValue:o.value,"onUpdate:modelValue":function(u){return o.value=u}},u$(o.on),{on_closed:function(u){return s.slice(a)},on_beforeOpen:function(u){return s.beforeOpen(u,o)},on_opened:o.opened}),n3({_:2},[Tc(o.slots,function(l,u){return{name:u,fn:et(function(){return[Ge(" eslint-disable vue/no-v-html "),s.isString(l)?(te(),ze("div",{key:0,innerHTML:l},null,8,["innerHTML"])):(te(),ze(Nf(l.component),Va({key:1},l.bind,u$(l.on||{})),null,16))]})}})]),1040,["modelValue","onUpdate:modelValue","on_closed","on_beforeOpen","on_opened"])}),128))])}DP.render=W7e;DP.__file="lib/ModalsContainer.vue";function q7e(){var e=null;return{show:function(n){for(var r=this,i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];switch(Ag(n)){case"string":return this.toggle.apply(this,[n,!0].concat(s));case"object":return Promise.allSettled([new Promise(function(a,l){var u={value:!0,id:Symbol("dynamicModal"),component:e,bind:{},slots:{},on:{},params:s[0],reject:l,opened:function(){a("show")}};r.dynamicModals.push(Fg(Object.assign(u,n)))})])}},hide:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.toggle(r,!1)},hideAll:function(){return this.hide.apply(this,ed(this.openedModals.map(function(n){return n.props.name})))},toggle:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];var o=Array.isArray(n)?this.get.apply(this,ed(n)):this.get(n);return Promise.allSettled(o.map(function(a){return a.toggle.apply(a,i)}))},get:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.modals.filter(function(s){return r.includes(s.props.name)})},dynamicModals:Fg([]),openedModals:[],modals:[],_setDefaultModal:function(n){e=n}}}function iQ(e,t){var n=Vi(Vi({},e),{},{props:Vi({},e.props)});return Object.assign(n.props,{api:{type:Object,default:function(){return t}}}),n}function z7e(e){var t=iQ(Vx,e);return e._setDefaultModal(t),t}function K7e(e){return iQ(DP,e)}var B4=0,sQ="$vfm",oQ="VueFinalModal",aQ="ModalsContainer",NP=function(){var t,n=q7e();return t={},Mf(t,sQ,n),Mf(t,oQ,z7e(n)),Mf(t,aQ,K7e(n)),t},jx=NP(),G7e=jx.$vfm,Y7e=jx.VueFinalModal,lQ=jx.ModalsContainer,uQ=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=B4===0?jx:NP(),i=r.$vfm,s=r.VueFinalModal,o=r.ModalsContainer;B4+=1;var a=n.key||sQ,l=n.componentName||oQ,u=n.dynamicContainerName||aQ;Object.defineProperty(t.config.globalProperties,a,{get:function(){return i}}),t.provide(a,i),t.component(l,s),t.component(u,o)},$w=function(t){return{install:function(r,i){var s=Object.assign({},t,i);uQ(r,s)}}};$w.install=uQ;const cQ=Object.freeze(Object.defineProperty({__proto__:null,$vfm:G7e,ModalsContainer:lQ,VueFinalModal:Y7e,default:$w,defineVfm:NP,vfmPlugin:$w},Symbol.toStringTag,{value:"Module"})),X7e=async({app:e})=>{e.use($w)},Q7e=Object.freeze(Object.defineProperty({__proto__:null,install:X7e},Symbol.toStringTag,{value:"Module"})),J7e=async({app:e})=>{e.use(YHe,{firebaseApp:tl,modules:[qHe()]})},Z7e=Object.freeze(Object.defineProperty({__proto__:null,install:J7e},Symbol.toStringTag,{value:"Module"})),eKe=new Set(["title","titleTemplate","script","style","noscript"]),c0=new Set(["base","meta","link","style","script","noscript"]),tKe=new Set(["title","titleTemplate","templateParams","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),nKe=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),dQ=new Set(["tagPosition","tagPriority","tagDuplicateStrategy","children","innerHTML","textContent","processTemplateParams"]),rKe=typeof window<"u";function Tw(e){let t=9;for(let n=0;n<e.length;)t=Math.imul(t^e.charCodeAt(n++),9**9);return((t^t>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function dI(e){if(e._h)return e._h;if(e._d)return Tw(e._d);let t=`${e.tag}:${e.textContent||e.innerHTML||""}:`;for(const n in e.props)t+=`${n}:${String(e.props[n])},`;return Tw(t)}function iKe(e,t){return e instanceof Promise?e.then(t):t(e)}function fI(e,t,n,r){const i=r||pQ(typeof t=="object"&&typeof t!="function"&&!(t instanceof Promise)?{...t}:{[e==="script"||e==="noscript"||e==="style"?"innerHTML":"textContent"]:t},e==="templateParams"||e==="titleTemplate");if(i instanceof Promise)return i.then(o=>fI(e,t,n,o));const s={tag:e,props:i};for(const o of dQ){const a=s.props[o]!==void 0?s.props[o]:n[o];a!==void 0&&((!(o==="innerHTML"||o==="textContent"||o==="children")||eKe.has(s.tag))&&(s[o==="children"?"innerHTML":o]=a),delete s.props[o])}return s.props.body&&(s.tagPosition="bodyClose",delete s.props.body),s.tag==="script"&&typeof s.innerHTML=="object"&&(s.innerHTML=JSON.stringify(s.innerHTML),s.props.type=s.props.type||"application/json"),Array.isArray(s.props.content)?s.props.content.map(o=>({...s,props:{...s.props,content:o}})):s}function sKe(e,t){var r;const n=e==="class"?" ":";";return t&&typeof t=="object"&&!Array.isArray(t)&&(t=Object.entries(t).filter(([,i])=>i).map(([i,s])=>e==="style"?`${i}:${s}`:i)),(r=String(Array.isArray(t)?t.join(n):t))==null?void 0:r.split(n).filter(i=>!!i.trim()).join(n)}function fQ(e,t,n,r){for(let i=r;i<n.length;i+=1){const s=n[i];if(s==="class"||s==="style"){e[s]=sKe(s,e[s]);continue}if(e[s]instanceof Promise)return e[s].then(o=>(e[s]=o,fQ(e,t,n,i)));if(!t&&!dQ.has(s)){const o=String(e[s]),a=s.startsWith("data-");o==="true"||o===""?e[s]=a?"true":!0:e[s]||(a&&o==="false"?e[s]="false":delete e[s])}}}function pQ(e,t=!1){const n=fQ(e,t,Object.keys(e),0);return n instanceof Promise?n.then(()=>e):e}const oKe=10;function hQ(e,t,n){for(let r=n;r<t.length;r+=1){const i=t[r];if(i instanceof Promise)return i.then(s=>(t[r]=s,hQ(e,t,r)));Array.isArray(i)?e.push(...i):e.push(i)}}function aKe(e){const t=[],n=e.resolvedInput;for(const i in n){if(!Object.prototype.hasOwnProperty.call(n,i))continue;const s=n[i];if(!(s===void 0||!tKe.has(i))){if(Array.isArray(s)){for(const o of s)t.push(fI(i,o,e));continue}t.push(fI(i,s,e))}}if(t.length===0)return[];const r=[];return iKe(hQ(r,t,0),()=>r.map((i,s)=>(i._e=e._i,e.mode&&(i._m=e.mode),i._p=(e._i<<oKe)+s,i)))}const U4=new Set(["onload","onerror","onabort","onprogress","onloadstart"]),V4={base:-10,title:10},j4={critical:-80,high:-10,low:20};function kw(e){const t=e.tagPriority;if(typeof t=="number")return t;let n=100;return e.tag==="meta"?e.props["http-equiv"]==="content-security-policy"?n=-30:e.props.charset?n=-20:e.props.name==="viewport"&&(n=-15):e.tag==="link"&&e.props.rel==="preconnect"?n=20:e.tag in V4&&(n=V4[e.tag]),t&&t in j4?n+j4[t]:n}const lKe=[{prefix:"before:",offset:-1},{prefix:"after:",offset:1}],uKe=["name","property","http-equiv"];function gQ(e){const{props:t,tag:n}=e;if(nKe.has(n))return n;if(n==="link"&&t.rel==="canonical")return"canonical";if(t.charset)return"charset";if(t.id)return`${n}:id:${t.id}`;for(const r of uKe)if(t[r]!==void 0)return`${n}:${r}:${t[r]}`;return!1}const Ol="%separator";function cKe(e,t){var r;let n;if(t==="s"||t==="pageTitle")n=e.pageTitle;else if(t.includes(".")){const i=t.indexOf(".");n=(r=e[t.substring(0,i)])==null?void 0:r[t.substring(i+1)]}else n=e[t];return n!==void 0?(n||"").replace(/"/g,'\\"'):void 0}const dKe=new RegExp(`${Ol}(?:\\s*${Ol})*`,"g");function w_(e,t,n){if(typeof e!="string"||!e.includes("%"))return e;let r=e;try{r=decodeURI(e)}catch{}const i=r.match(/%\w+(?:\.\w+)?/g);if(!i)return e;const s=e.includes(Ol);return e=e.replace(/%\w+(?:\.\w+)?/g,o=>{if(o===Ol||!i.includes(o))return o;const a=cKe(t,o.slice(1));return a!==void 0?a:o}).trim(),s&&(e.endsWith(Ol)&&(e=e.slice(0,-Ol.length)),e.startsWith(Ol)&&(e=e.slice(Ol.length)),e=e.replace(dKe,n).trim()),e}function H4(e,t){return e==null?t||null:typeof e=="function"?e(t):e}async function mQ(e,t={}){const n=t.document||e.resolvedOptions.document;if(!n||!e.dirty)return;const r={shouldRender:!0,tags:[]};if(await e.hooks.callHook("dom:beforeRender",r),!!r.shouldRender)return e._domUpdatePromise||(e._domUpdatePromise=new Promise(async i=>{var d;const s=(await e.resolveTags()).map(f=>({tag:f,id:c0.has(f.tag)?dI(f):f.tag,shouldRender:!0}));let o=e._dom;if(!o){o={elMap:{htmlAttrs:n.documentElement,bodyAttrs:n.body}};const f=new Set;for(const p of["body","head"]){const g=(d=n[p])==null?void 0:d.children;for(const h of g){const m=h.tagName.toLowerCase();if(!c0.has(m))continue;const v={tag:m,props:await pQ(h.getAttributeNames().reduce((x,w)=>({...x,[w]:h.getAttribute(w)}),{})),innerHTML:h.innerHTML},y=gQ(v);let _=y,b=1;for(;_&&f.has(_);)_=`${y}:${b++}`;_&&(v._d=_,f.add(_)),o.elMap[h.getAttribute("data-hid")||dI(v)]=h}}}o.pendingSideEffects={...o.sideEffects},o.sideEffects={};function a(f,p,g){const h=`${f}:${p}`;o.sideEffects[h]=g,delete o.pendingSideEffects[h]}function l({id:f,$el:p,tag:g}){const h=g.tag.endsWith("Attrs");if(o.elMap[f]=p,h||(g.textContent&&g.textContent!==p.textContent&&(p.textContent=g.textContent),g.innerHTML&&g.innerHTML!==p.innerHTML&&(p.innerHTML=g.innerHTML),a(f,"el",()=>{var m;(m=o.elMap[f])==null||m.remove(),delete o.elMap[f]})),g._eventHandlers)for(const m in g._eventHandlers)Object.prototype.hasOwnProperty.call(g._eventHandlers,m)&&p.getAttribute(`data-${m}`)!==""&&((g.tag==="bodyAttrs"?n.defaultView:p).addEventListener(m.substring(2),g._eventHandlers[m].bind(p)),p.setAttribute(`data-${m}`,""));for(const m in g.props){if(!Object.prototype.hasOwnProperty.call(g.props,m))continue;const v=g.props[m],y=`attr:${m}`;if(m==="class"){if(!v)continue;for(const _ of v.split(" "))h&&a(f,`${y}:${_}`,()=>p.classList.remove(_)),!p.classList.contains(_)&&p.classList.add(_)}else if(m==="style"){if(!v)continue;for(const _ of v.split(";")){const b=_.indexOf(":"),x=_.substring(0,b).trim(),w=_.substring(b+1).trim();a(f,`${y}:${x}`,()=>{p.style.removeProperty(x)}),p.style.setProperty(x,w)}}else p.getAttribute(m)!==v&&p.setAttribute(m,v===!0?"":String(v)),h&&a(f,y,()=>p.removeAttribute(m))}}const u=[],c={bodyClose:void 0,bodyOpen:void 0,head:void 0};for(const f of s){const{tag:p,shouldRender:g,id:h}=f;if(g){if(p.tag==="title"){n.title=p.textContent;continue}f.$el=f.$el||o.elMap[h],f.$el?l(f):c0.has(p.tag)&&u.push(f)}}for(const f of u){const p=f.tag.tagPosition||"head";f.$el=n.createElement(f.tag.tag),l(f),c[p]=c[p]||n.createDocumentFragment(),c[p].appendChild(f.$el)}for(const f of s)await e.hooks.callHook("dom:renderTag",f,n,a);c.head&&n.head.appendChild(c.head),c.bodyOpen&&n.body.insertBefore(c.bodyOpen,n.body.firstChild),c.bodyClose&&n.body.appendChild(c.bodyClose);for(const f in o.pendingSideEffects)o.pendingSideEffects[f]();e._dom=o,await e.hooks.callHook("dom:rendered",{renders:s}),i()}).finally(()=>{e._domUpdatePromise=void 0,e.dirty=!1})),e._domUpdatePromise}function vQ(e,t={}){const n=t.delayFn||(r=>setTimeout(r,10));return e._domDebouncedUpdatePromise=e._domDebouncedUpdatePromise||new Promise(r=>n(()=>mQ(e,t).then(()=>{delete e._domDebouncedUpdatePromise,r()})))}function fKe(e){return t=>{var r,i;const n=((i=(r=t.resolvedOptions.document)==null?void 0:r.head.querySelector('script[id="unhead:payload"]'))==null?void 0:i.innerHTML)||!1;return n&&t.push(JSON.parse(n)),{mode:"client",hooks:{"entries:updated":s=>{vQ(s,e)}}}}}function pI(e,t={},n){for(const r in e){const i=e[r],s=n?`${n}:${r}`:r;typeof i=="object"&&i!==null?pI(i,t,s):typeof i=="function"&&(t[s]=i)}return t}const pKe={run:e=>e()},hKe=()=>pKe,yQ=typeof console.createTask<"u"?console.createTask:hKe;function gKe(e,t){const n=t.shift(),r=yQ(n);return e.reduce((i,s)=>i.then(()=>r.run(()=>s(...t))),Promise.resolve())}function mKe(e,t){const n=t.shift(),r=yQ(n);return Promise.all(e.map(i=>r.run(()=>i(...t))))}function r$(e,t){for(const n of[...e])n(t)}class vKe{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(t,n,r={}){if(!t||typeof n!="function")return()=>{};const i=t;let s;for(;this._deprecatedHooks[t];)s=this._deprecatedHooks[t],t=s.to;if(s&&!r.allowDeprecated){let o=s.message;o||(o=`${i} hook has been deprecated`+(s.to?`, please use ${s.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(o)||(console.warn(o),this._deprecatedMessages.add(o))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+t.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[t]=this._hooks[t]||[],this._hooks[t].push(n),()=>{n&&(this.removeHook(t,n),n=void 0)}}hookOnce(t,n){let r,i=(...s)=>(typeof r=="function"&&r(),r=void 0,i=void 0,n(...s));return r=this.hook(t,i),r}removeHook(t,n){if(this._hooks[t]){const r=this._hooks[t].indexOf(n);r!==-1&&this._hooks[t].splice(r,1),this._hooks[t].length===0&&delete this._hooks[t]}}deprecateHook(t,n){this._deprecatedHooks[t]=typeof n=="string"?{to:n}:n;const r=this._hooks[t]||[];delete this._hooks[t];for(const i of r)this.hook(t,i)}deprecateHooks(t){Object.assign(this._deprecatedHooks,t);for(const n in t)this.deprecateHook(n,t[n])}addHooks(t){const n=pI(t),r=Object.keys(n).map(i=>this.hook(i,n[i]));return()=>{for(const i of r.splice(0,r.length))i()}}removeHooks(t){const n=pI(t);for(const r in n)this.removeHook(r,n[r])}removeAllHooks(){for(const t in this._hooks)delete this._hooks[t]}callHook(t,...n){return n.unshift(t),this.callHookWith(gKe,t,...n)}callHookParallel(t,...n){return n.unshift(t),this.callHookWith(mKe,t,...n)}callHookWith(t,n,...r){const i=this._before||this._after?{name:n,args:r,context:{}}:void 0;this._before&&r$(this._before,i);const s=t(n in this._hooks?[...this._hooks[n]]:[],r);return s instanceof Promise?s.finally(()=>{this._after&&i&&r$(this._after,i)}):(this._after&&i&&r$(this._after,i),s)}beforeEach(t){return this._before=this._before||[],this._before.push(t),()=>{if(this._before!==void 0){const n=this._before.indexOf(t);n!==-1&&this._before.splice(n,1)}}}afterEach(t){return this._after=this._after||[],this._after.push(t),()=>{if(this._after!==void 0){const n=this._after.indexOf(t);n!==-1&&this._after.splice(n,1)}}}}function yKe(){return new vKe}const _Ke=new Set(["templateParams","htmlAttrs","bodyAttrs"]),bKe={hooks:{"tag:normalise":({tag:e})=>{e.props.hid&&(e.key=e.props.hid,delete e.props.hid),e.props.vmid&&(e.key=e.props.vmid,delete e.props.vmid),e.props.key&&(e.key=e.props.key,delete e.props.key);const t=gQ(e);t&&!t.startsWith("meta:og:")&&!t.startsWith("meta:twitter:")&&delete e.key;const n=t||(e.key?`${e.tag}:${e.key}`:!1);n&&(e._d=n)},"tags:resolve":e=>{const t=Object.create(null);for(const r of e.tags){const i=(r.key?`${r.tag}:${r.key}`:r._d)||dI(r),s=t[i];if(s){let a=r==null?void 0:r.tagDuplicateStrategy;if(!a&&_Ke.has(r.tag)&&(a="merge"),a==="merge"){const l=s.props;l.style&&r.props.style&&(l.style[l.style.length-1]!==";"&&(l.style+=";"),r.props.style=`${l.style} ${r.props.style}`),l.class&&r.props.class?r.props.class=`${l.class} ${r.props.class}`:l.class&&(r.props.class=l.class),t[i].props={...l,...r.props};continue}else if(r._e===s._e){s._duped=s._duped||[],r._d=`${s._d}:${s._duped.length+1}`,s._duped.push(r);continue}else if(kw(r)>kw(s))continue}if(!(r.innerHTML||r.textContent||Object.keys(r.props).length!==0)&&c0.has(r.tag)){delete t[i];continue}t[i]=r}const n=[];for(const r in t){const i=t[r],s=i._duped;n.push(i),s&&(delete i._duped,n.push(...s))}e.tags=n,e.tags=e.tags.filter(r=>!(r.tag==="meta"&&(r.props.name||r.props.property)&&!r.props.content))}}},wKe=new Set(["script","link","bodyAttrs"]),xKe=e=>({hooks:{"tags:resolve":t=>{for(const n of t.tags){if(!wKe.has(n.tag))continue;const r=n.props;for(const i in r){if(i[0]!=="o"||i[1]!=="n"||!Object.prototype.hasOwnProperty.call(r,i))continue;const s=r[i];typeof s=="function"&&(e.ssr&&U4.has(i)?r[i]=`this.dataset.${i}fired = true`:delete r[i],n._eventHandlers=n._eventHandlers||{},n._eventHandlers[i]=s)}e.ssr&&n._eventHandlers&&(n.props.src||n.props.href)&&(n.key=n.key||Tw(n.props.src||n.props.href))}},"dom:renderTag":({$el:t,tag:n})=>{var i,s;const r=t==null?void 0:t.dataset;if(r)for(const o in r){if(!o.endsWith("fired"))continue;const a=o.slice(0,-5);U4.has(a)&&((s=(i=n._eventHandlers)==null?void 0:i[a])==null||s.call(t,new Event(a.substring(2))))}}}}),EKe=new Set(["link","style","script","noscript"]),SKe={hooks:{"tag:normalise":({tag:e})=>{e.key&&EKe.has(e.tag)&&(e.props["data-hid"]=e._h=Tw(e.key))}}},$Ke={mode:"server",hooks:{"tags:beforeResolve":e=>{const t={};let n=!1;for(const r of e.tags)r._m!=="server"||r.tag!=="titleTemplate"&&r.tag!=="templateParams"&&r.tag!=="title"||(t[r.tag]=r.tag==="title"||r.tag==="titleTemplate"?r.textContent:r.props,n=!0);n&&e.tags.push({tag:"script",innerHTML:JSON.stringify(t),props:{id:"unhead:payload",type:"application/json"}})}}},TKe={hooks:{"tags:resolve":e=>{var t;for(const n of e.tags)if(typeof n.tagPriority=="string")for(const{prefix:r,offset:i}of lKe){if(!n.tagPriority.startsWith(r))continue;const s=n.tagPriority.substring(r.length),o=(t=e.tags.find(a=>a._d===s))==null?void 0:t._p;if(o!==void 0){n._p=o+i;break}}e.tags.sort((n,r)=>{const i=kw(n),s=kw(r);return i<s?-1:i>s?1:n._p-r._p})}}},kKe={meta:"content",link:"href",htmlAttrs:"lang"},IKe=["innerHTML","textContent"],CKe=e=>({hooks:{"tags:resolve":t=>{var o;const{tags:n}=t;let r;for(let a=0;a<n.length;a+=1)n[a].tag==="templateParams"&&(r=t.tags.splice(a,1)[0].props,a-=1);const i=r||{},s=i.separator||"|";delete i.separator,i.pageTitle=w_(i.pageTitle||((o=n.find(a=>a.tag==="title"))==null?void 0:o.textContent)||"",i,s);for(const a of n){if(a.processTemplateParams===!1)continue;const l=kKe[a.tag];if(l&&typeof a.props[l]=="string")a.props[l]=w_(a.props[l],i,s);else if(a.processTemplateParams||a.tag==="titleTemplate"||a.tag==="title")for(const u of IKe)typeof a[u]=="string"&&(a[u]=w_(a[u],i,s))}e._templateParams=i,e._separator=s},"tags:afterResolve":({tags:t})=>{let n;for(let r=0;r<t.length;r+=1){const i=t[r];i.tag==="title"&&i.processTemplateParams!==!1&&(n=i)}n!=null&&n.textContent&&(n.textContent=w_(n.textContent,e._templateParams,e._separator))}}}),AKe={hooks:{"tags:resolve":e=>{const{tags:t}=e;let n,r;for(let i=0;i<t.length;i+=1){const s=t[i];s.tag==="title"?n=s:s.tag==="titleTemplate"&&(r=s)}if(r&&n){const i=H4(r.textContent,n.textContent);i!==null?n.textContent=i||n.textContent:e.tags.splice(e.tags.indexOf(n),1)}else if(r){const i=H4(r.textContent);i!==null&&(r.textContent=i,r.tag="title",r=void 0)}r&&e.tags.splice(e.tags.indexOf(r),1)}}},OKe={hooks:{"tags:afterResolve":e=>{for(const t of e.tags)typeof t.innerHTML=="string"&&(t.innerHTML&&(t.props.type==="application/ld+json"||t.props.type==="application/json")?t.innerHTML=t.innerHTML.replace(/</g,"\\u003C"):t.innerHTML=t.innerHTML.replace(new RegExp(`</${t.tag}`,"g"),`<\\/${t.tag}`))}}};let _Q;function RKe(e={}){const t=PKe(e);return t.use(fKe()),_Q=t}function W4(e,t){return!e||e==="server"&&t||e==="client"&&!t}function PKe(e={}){const t=yKe();t.addHooks(e.hooks||{}),e.document=e.document||(rKe?document:void 0);const n=!e.document,r=()=>{a.dirty=!0,t.callHook("entries:updated",a)};let i=0,s=[];const o=[],a={plugins:o,dirty:!1,resolvedOptions:e,hooks:t,headEntries(){return s},use(l){const u=typeof l=="function"?l(a):l;(!u.key||!o.some(c=>c.key===u.key))&&(o.push(u),W4(u.mode,n)&&t.addHooks(u.hooks||{}))},push(l,u){u==null||delete u.head;const c={_i:i++,input:l,...u};return W4(c.mode,n)&&(s.push(c),r()),{dispose(){s=s.filter(d=>d._i!==c._i),r()},patch(d){for(const f of s)f._i===c._i&&(f.input=c.input=d);r()}}},async resolveTags(){const l={tags:[],entries:[...s]};await t.callHook("entries:resolve",l);for(const u of l.entries){const c=u.resolvedInput||u.input;if(u.resolvedInput=await(u.transform?u.transform(c):c),u.resolvedInput)for(const d of await aKe(u)){const f={tag:d,entry:u,resolvedOptions:a.resolvedOptions};await t.callHook("tag:normalise",f),l.tags.push(f.tag)}}return await t.callHook("tags:beforeResolve",l),await t.callHook("tags:resolve",l),await t.callHook("tags:afterResolve",l),l.tags},ssr:n};return[bKe,$Ke,xKe,SKe,TKe,CKe,AKe,OKe,...(e==null?void 0:e.plugins)||[]].forEach(l=>a.use(l)),a.hooks.callHook("init",a),a}function MKe(){return _Q}const DKe=Kw[0]==="3";function NKe(e){return typeof e=="function"?e():ve(e)}function Iw(e){if(e instanceof Promise||e instanceof Date||e instanceof RegExp)return e;const t=NKe(e);if(!e||!t)return t;if(Array.isArray(t))return t.map(n=>Iw(n));if(typeof t=="object"){const n={};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(r==="titleTemplate"||r[0]==="o"&&r[1]==="n"){n[r]=ve(t[r]);continue}n[r]=Iw(t[r])}return n}return t}const LKe={hooks:{"entries:resolve":e=>{for(const t of e.entries)t.resolvedInput=Iw(t.input)}}},bQ="usehead";function FKe(e){return{install(n){DKe&&(n.config.globalProperties.$unhead=e,n.config.globalProperties.$head=e,n.provide(bQ,e))}}.install}function BKe(e={}){e.domDelayFn=e.domDelayFn||(n=>Qn(()=>setTimeout(()=>n(),0)));const t=RKe(e);return t.use(LKe),t.install=FKe(t),t}const q4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},z4="__unhead_injection_handler__";function UKe(){if(z4 in q4)return q4[z4]();const e=ct(bQ);return e||MKe()}function LP(e,t={}){const n=t.head||UKe();if(n)return n.ssr?n.push(e,t):VKe(n,e,t)}function VKe(e,t,n={}){const r=re(!1),i=re({});sn(()=>{i.value=r.value?{}:Iw(t)});const s=e.push(i.value,n);return bt(i,a=>{s.patch(a)}),fr()&&(Ja(()=>{s.dispose()}),MI(()=>{r.value=!0}),PI(()=>{r.value=!1})),s}function jKe(e,t){const n=BKe(t||{}),r={unhead:n,install(i){Kw.startsWith("3")&&(i.config.globalProperties.$head=n,i.provide("usehead",n))},use(i){n.use(i)},resolveTags(){return n.resolveTags()},headEntries(){return n.headEntries()},headTags(){return n.resolveTags()},push(i,s){return n.push(i,s)},addEntry(i,s){return n.push(i,s)},addHeadObjs(i,s){return n.push(i,s)},addReactiveEntry(i,s){const o=LP(i,s);return typeof o<"u"?o.dispose:()=>{}},removeHeadObjs(){},updateDOM(i,s){s?mQ(n,{document:i}):vQ(n,{delayFn:o=>setTimeout(()=>o(),50),document:i})},internalHooks:n.hooks,hooks:{"before:dom":[],"resolved:tags":[],"resolved:entries":[]}};return n.addHeadObjs=r.addHeadObjs,n.updateDOM=r.updateDOM,n.hooks.hook("dom:beforeRender",i=>{for(const s of r.hooks["before:dom"])s()===!1&&(i.shouldRender=!1)}),e&&r.addHeadObjs(e),r}const HKe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function WKe(e,t){return te(),De("svg",HKe,t[0]||(t[0]=[ee("path",{fill:"currentColor",d:"m14.43 10l-1.47-4.84c-.29-.95-1.63-.95-1.91 0L9.57 10H5.12c-.97 0-1.37 1.25-.58 1.81l3.64 2.6l-1.43 4.61c-.29.93.79 1.68 1.56 1.09l3.69-2.8l3.69 2.81c.77.59 1.85-.16 1.56-1.09l-1.43-4.61l3.64-2.6c.79-.57.39-1.81-.58-1.81h-4.45z"},null,-1)]))}const qKe={name:"ic-round-star-rate",render:WKe},zKe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function KKe(e,t){return te(),De("svg",zKe,t[0]||(t[0]=[ee("path",{fill:"currentColor",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88a9.95 9.95 0 0 1 12.28 0C16.43 19.18 14.03 20 12 20"},null,-1)]))}const GKe={name:"ic-round-account-circle",render:KKe},YKe={class:"flex items-center h-full"},XKe={key:0,class:"py-1"},QKe={class:"px-4 py-3"},JKe={class:"font-medium text-gray-900 truncate"},ZKe=["href"],eGe={class:"inline-flex items-center px-1 py-1 rounded-full text-xs font-medium bg-brand-primary text-white"},tGe={class:"py-1"},nGe={__name:"AccountDropdown",setup(e){const t=ct("firebaseAuth"),n=ct("openAuthModal"),r=ty(),i=gP(),s=()=>{n()},o=async()=>{await gme(t),i==null||i.push("/login")};return(a,l)=>{const u=ju,c=pl,d=GKe,f=qKe;return te(),ze(ve(Dne),{as:"div",class:"ml-3 relative z-10"},{default:et(()=>[ee("div",YKe,[ve(r)===void 0?(te(),ze(u,{key:0})):Ge("",!0),ve(r)===null?(te(),ze(c,{key:1,theme:"brand-link",size:"sm",onClick:s},{default:et(()=>l[0]||(l[0]=[ee("span",null,"Login",-1)])),_:1})):Ge("",!0),ve(r)?(te(),ze(ve(Nne),{key:2,class:"max-w-xs flex items-center focus:outline-none rounded-full focus:text-slate-500 hover:text-slate-500 text-slate-400"},{default:et(()=>[Se(d,{class:"h-6 w-6 md:h-8 md:w-8"})]),_:1})):Ge("",!0)]),Se(Hg,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:et(()=>[Se(ve(Lne),{class:"origin-top-right border border-light-100 absolute right-0 mt-2 w-56 rounded-lg shadow-lg bg-white ring-1 ring-black ring-opacity-5 divide-y divide-gray-100 focus:outline-none"},{default:et(()=>[ve(r)?(te(),De("div",XKe,[ee("div",QKe,[l[1]||(l[1]=ee("p",{class:"text-slate-400 text-sm"},"Signed in as",-1)),ee("p",JKe,[ee("a",{href:`/account?ref=${ve(r).uid}`,title:"Account Settings"},[En(ci(ve(r).email)+" ",1),ee("span",eGe,[Se(f)])],8,ZKe)])])])):Ge("",!0),ee("div",tGe,[Se(ve(dE),null,{default:et(()=>l[2]||(l[2]=[ee("a",{href:"/account",title:"Account Settings",class:"block px-4 py-2 hover:bg-gray-100 hover:text-gray-900"}," Account Settings ",-1)])),_:1}),Se(ve(dE),null,{default:et(()=>l[3]||(l[3]=[ee("a",{href:"https://www.mixo.io/affiliates",title:"Earn Money",class:"block px-4 py-2 hover:bg-gray-100 hover:text-gray-900"}," Earn Money ",-1)])),_:1}),ve(r)?(te(),ze(ve(dE),{key:0},{default:et(()=>[ee("a",{href:"#",title:"Logout",class:"block px-4 py-2 hover:bg-gray-100 hover:text-gray-900",onClick:o}," Logout ")]),_:1})):Ge("",!0)])]),_:1})]),_:1})]),_:1})}}},rGe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function iGe(e,t){return te(),De("svg",rGe,t[0]||(t[0]=[ee("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[ee("path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 1 0-18 0m9 5v.01"}),ee("path",{d:"M12 13.5a1.5 1.5 0 0 1 1-1.5a2.6 2.6 0 1 0-3-4"})],-1)]))}const sGe={name:"tabler-help",render:iGe},oGe="/assets/mixo-9f465c81.svg";const aGe=["src"],lGe={__name:"BrandLogo",props:{hideTextOnMobile:{type:Boolean,default:!0},size:{type:String,default:""},tag:{type:String,default:"router-link"},textWhite:{type:Boolean,default:!1},to:{type:String,default:"/"}},setup(e){const t=e,n=$i(()=>{switch(t.size){case"sm":return"w-5 h-5";case"md":return"w-8 h-8";case"lg":return"w-12 h-12";default:return"w-7 h-7"}}),r=$i(()=>{switch(t.size){case"sm":return"text-lg";case"md":return"text-3xl";case"lg":return"text-4xl";default:return"text-xl"}});return(i,s)=>(te(),ze(Nf(e.tag),{to:e.to,class:"flex items-center mt-[-2px] shrink-0 space-x-1","data-testid":"brand-logo"},{default:et(()=>[ee("img",{class:Pr(ve(n)),src:ve(oGe),alt:"Mixo Logo"},null,10,aGe),ee("span",{class:Pr(["font-sans font-extrabold sm:inline",[ve(r),t.textWhite?"text-white":"text-slate-700",(t.hideTextOnMobile,"")]])}," Mixo ",2)]),_:1},8,["to"]))}},FP=xo(lGe,[["__scopeId","data-v-91eaadc6"]]),uGe={class:"w-full bg-slate-50 border-t border-slate-200 xl:border-0 py-2 md:py-4 shadow-sm z-10"},cGe={class:"flex items-center space-x-1 sm:space-x-2 md:space-x-4"},dGe={class:"flex items-center space-x-1.5 sm:space-x-2 md:space-x-4 justify-end"},fGe={__name:"MainNav",props:{fullWidth:{type:Boolean,default:!0}},setup(e){const t=ty(),n=ct("toggleSidebar");return(r,i)=>{const s=FP,o=pl,a=sGe,l=nGe;return te(),De("div",uGe,[ee("div",{class:Pr(["flex justify-between",{container:!e.fullWidth,"px-2 md:px-4":e.fullWidth}])},[ee("div",cGe,[Ar(r.$slots,"pre"),Se(s),ve(t)?(te(),ze(o,{key:0,theme:"brand-link",size:"sm",class:"p-0 !text-brand-primary hidden md:inline-flex",to:"/sites"},{default:et(()=>i[1]||(i[1]=[ee("span",null,"Sites",-1)])),_:1})):Ge("",!0),Ar(r.$slots,"default")]),ee("div",dGe,[Ar(r.$slots,"meta"),Se(o,{theme:"brand-link",size:"sm",class:"p-0",onClick:i[0]||(i[0]=u=>ve(n)())},{default:et(()=>[Se(a,{class:"w-6 h-6 md:h-7 md:w-7"}),i[2]||(i[2]=ee("span",{class:"sr-only"},"Support",-1))]),_:1}),(te(),ze(HI,null,{default:et(()=>[Se(l)]),_:1}))])],2)])}}},pGe=e=>{const t={clickToClose:!1,showClose:!0};return(r,i)=>{xP({name:"auth",...t,...r},{default:{component:e,bind:{...i}}})}},hGe={__name:"default",props:{error:{type:Object,default(){return{}}}},setup(e){const t=vd();LP({bodyAttrs:{class:"bg-slate-100"}});const n=Xa({...Hu,loader:()=>qt(()=>import("./AuthForm-0c2a4117.js"),[])});tr("openAuthModal",pGe(n));const r=$i(()=>{var i;return((i=t==null?void 0:t.meta)==null?void 0:i.container)!==!1});return(i,s)=>{var u;const o=fGe,a=FX,l=$c("RouterView");return te(),De("main",null,[Se(o),(u=e.error)!=null&&u.message?(te(),ze(a,{key:0,title:e.error.message},null,8,["title"])):Ge("",!0),ee("div",{class:Pr(["py-4 md:py-6 lg:py-8",{container:ve(r)}])},[(te(),ze(l,Va(i.$attrs,{key:i.$route.fullPath}),null,16))],2)])}}},gGe={404:()=>qt(()=>import("./404-7970b7ca.js"),[]),auth:()=>qt(()=>import("./auth-85ada495.js"),[]),blank:()=>qt(()=>import("./blank-a756bbc2.js"),[]),default:hGe,editor:()=>qt(()=>import("./editor-40b9d9e7.js"),[]),empty:()=>qt(()=>import("./empty-937bd5bb.js"),[]),generator:()=>qt(()=>import("./generator-754ec13f.js"),[])};function mGe(e){return e.map(t=>{var n;return{path:t.path,meta:t.meta,component:gGe[((n=t.meta)==null?void 0:n.layout)||"default"],children:t.path==="/"?[t]:[{...t,path:""}]}})}const vGe=()=>{["/sites/preview","/sites/preview/"].includes(window.location.pathname)||Bn.init("odz3pmep",{environment:"production",version:"abf61747049fcf16221db86a879e43d381393275",networkRecording:{enabled:!0,recordHeadersAndBody:!0,urlBlocklist:["https://www.googleapis.com/identitytoolkit","https://securetoken.googleapis.com"]}})},yGe=(e,t,n)=>{var r=`Error in component: <${t.$options.name} />
`;n&&(r+=`Error occurred during lifecycle hook: ${n}
`);{if(/Async component timed out/.test(e==null?void 0:e.message))return;Bn.consumeError(e,r,{component:t.$options.name,propsData:t.$options.propsData,info:n})}},_Ge={__name:"SupportLink",emits:["clicked"],setup(e,{emit:t}){const n=ct("isSidebarActive"),r=t,i=()=>{n.value=!0,r("clicked")};return(s,o)=>(te(),De("button",{class:"default-link cursor-pointer","data-testid":"support-link",onClick:i},[Ar(s.$slots,"default",{},()=>[o[0]||(o[0]=En("contact support"))])]))}},bGe={},wGe={class:"bg-white z-50 h-screen w-screen"},xGe={class:"w-full bg-slate-100 py-2 md:py-4"},EGe={class:"flex justify-between px-2 md:px-4"},SGe={class:"flex items-center space-x-2 md:space-x-4"},$Ge={class:"flex items-center space-x-2 md:space-x-4 justify-end"},TGe={class:"mt-10 flex flex-col items-center"},kGe={class:"lg:px-8 bg-slate-50 py-16 px-6 rounded-xl shadow"},IGe={class:"mx-auto max-w-2xl flex flex-col items-center space-y-10"},CGe={class:"text-xl font-semibold leading-8 tracking-tight text-slate-700 sm:leading-9"};function AGe(e,t){const n=FP,r=_Ge;return te(),De("div",wGe,[ee("div",xGe,[ee("div",EGe,[ee("div",SGe,[Ar(e.$slots,"pre"),Se(n),Ar(e.$slots,"default")]),ee("div",$Ge,[Se(r,null,{default:et(()=>t[0]||(t[0]=[En("Contact Support")])),_:1})])])]),ee("div",TGe,[ee("section",kGe,[ee("div",IGe,[t[4]||(t[4]=ee("h1",{class:"text-2xl font-extrabold leading-8 tracking-tight text-slate-900 sm:text-3xl sm:leading-9"}," We'll be right back 👨‍💻🤖 ",-1)),ee("h2",CGe,[t[2]||(t[2]=En(" “Hi there, we're just working on some important updates and we'll be back online shortly. Please ")),Se(r,null,{default:et(()=>t[1]||(t[1]=[En("reach out")])),_:1}),t[3]||(t[3]=En(" if you have any issues or would like to be updated when we're back online.” "))]),Se(n)])])])])}const wQ=xo(bGe,[["render",AGe]]),OGe=Object.freeze(Object.defineProperty({__proto__:null,default:wQ},Symbol.toStringTag,{value:"Module"})),RGe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function PGe(e,t){return te(),De("svg",RGe,t[0]||(t[0]=[ee("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m15.062 12.506l-.284-.284l3.113-2.09a1.2 1.2 0 0 0-.309-2.228L4 4l3.904 13.563a1.2 1.2 0 0 0 2.228.308l2.09-3.093l1.278 1.278M19 22v.01M19 19a2.003 2.003 0 0 0 .914-3.782a1.98 1.98 0 0 0-2.414.483"},null,-1)]))}const MGe={name:"tabler-pointer-question",render:PGe},DGe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function NGe(e,t){return te(),De("svg",DGe,t[0]||(t[0]=[ee("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0-8 0M6 21v-2a4 4 0 0 1 4-4h3.5m5.5 7v.01M19 19a2.003 2.003 0 0 0 .914-3.782a1.98 1.98 0 0 0-2.414.483"},null,-1)]))}const LGe={name:"tabler-user-question",render:NGe},FGe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function BGe(e,t){return te(),De("svg",FGe,t[0]||(t[0]=[ee("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0M3 6v13m9-13v13m9-13v13"},null,-1)]))}const UGe={name:"tabler-book",render:BGe},VGe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function jGe(e,t){return te(),De("svg",VGe,t[0]||(t[0]=[ee("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[ee("path",{d:"m12.395 18.218l-.23 2.369c-.091.952-.98 1.598-1.878 1.366c-1.351-.35-2.3-1.605-2.3-3.044v-3.035c0-.675 0-1.013-.146-1.26a1 1 0 0 0-.333-.345c-.24-.151-.567-.151-1.22-.151h-.396c-1.703 0-2.554 0-3.078-.39a2.07 2.07 0 0 1-.78-1.208c-.146-.65.181-1.463.836-3.087l.327-.81c.188-.468.265-.975.225-1.48c-.232-2.874 2.047-5.295 4.833-5.135l10.424.598c1.139.065 1.708.098 2.222.553c.515.455.612.924.805 1.861a14.3 14.3 0 0 1-.055 6.037c-.283 1.249-1.475 1.92-2.706 1.76c-3.264-.42-6.223 2.019-6.55 5.4"}),ee("path",{d:"m17 12.5l.137-.457c.887-2.956.84-6.115-.137-9.043"})],-1)]))}const HGe={name:"akar-icons-thumbs-down",render:jGe},WGe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function qGe(e,t){return te(),De("svg",WGe,t[0]||(t[0]=[ee("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[ee("path",{d:"m11.605 5.782l.23-2.369c.091-.952.98-1.598 1.878-1.366c1.351.35 2.3 1.605 2.3 3.044v3.035c0 .675 0 1.013.146 1.26c.083.141.197.26.333.345c.24.151.567.151 1.22.151h.396c1.703 0 2.554 0 3.078.39c.393.293.67.722.78 1.208c.146.65-.181 1.463-.836 3.087l-.326.81a3.26 3.26 0 0 0-.226 1.48c.232 2.874-2.047 5.295-4.833 5.136l-10.424-.599c-1.139-.065-1.708-.098-2.222-.553c-.515-.455-.612-.924-.805-1.861a14.3 14.3 0 0 1 .055-6.037c.283-1.248 1.475-1.92 2.706-1.76c3.264.42 6.223-2.019 6.55-5.4"}),ee("path",{d:"m7 11.5l-.137.457A15 15 0 0 0 7 21"})],-1)]))}const zGe={name:"akar-icons-thumbs-up",render:qGe},KGe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function GGe(e,t){return te(),De("svg",KGe,t[0]||(t[0]=[ee("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 9h8m-8 4h6m-1 5l-5 3v-3H6a3 3 0 0 1-3-3V7a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v5.5M19 16l-2 3h4l-2 3"},null,-1)]))}const xQ={name:"tabler-message-bolt",render:GGe},YGe={key:0,class:"flex-row-center gap-2"},XGe={class:"text-slate-700 font-semibold w-72"},QGe={key:1,class:"space-y-4 max-h-full overflow-y-auto"},JGe=["innerHTML"],ZGe={class:"flex flex-wrap gap-2"},eYe={key:0,class:"flex-row-center gap-2 text-slate-500"},tYe={key:2,class:"text-xs text-teal-600"},nYe={__name:"AssistantMessages",props:{activeMessage:{type:Object,default(){return{}}},sendingFeedback:{type:Boolean,default:!1}},emits:["bad-feedback","button-click"],setup(e,{emit:t}){const n=t,r=e,[i]=Sc(!1),s=a=>a!=null&&a.label?a.label:{submitTicket:"Submit Ticket",refund:"Request Refund",paymentIssue:"Report Payment Issue"}[a==null?void 0:a.action],o=()=>{var a;n("bad-feedback",(a=r==null?void 0:r.activeMessage)==null?void 0:a.id)};return(a,l)=>{var g,h,m,v,y,_;const u=xQ,c=pl,d=zGe,f=HGe,p=ju;return te(),De("div",{key:(g=e.activeMessage)==null?void 0:g.id,class:"space-y-3 rounded-lg shadow-md ring-1 ring-slate-100 bg-white overflow-hidden p-4"},[(h=e.activeMessage)!=null&&h.user?(te(),De("div",YGe,[Se(u,{class:"w-6 h-6 text-slate-700"}),ee("p",XGe,ci((m=e.activeMessage)==null?void 0:m.user),1)])):Ge("",!0),(v=e.activeMessage)!=null&&v.assistant?(te(),De("div",QGe,[ee("div",{class:"prose prose-slate",innerHTML:(y=e.activeMessage)==null?void 0:y.assistant},null,8,JGe),ee("div",ZGe,[(te(!0),De(gn,null,Tc((_=e.activeMessage)==null?void 0:_.buttons,(b,x)=>(te(),ze(c,{key:x,theme:"brand-primary",size:"xs",title:`${b==null?void 0:b.action} - ${b==null?void 0:b.link}`,onClick:w=>a.$emit("button-click",b)},{default:et(()=>[En(ci(s(b)),1)]),_:2},1032,["title","onClick"]))),128))]),l[2]||(l[2]=ee("hr",null,null,-1)),!ve(i)&&!e.sendingFeedback?(te(),De("div",eYe,[l[1]||(l[1]=ee("p",{class:"italic text-xs"}," Was this response helpful / correct? ",-1)),ee("button",{type:"button",class:"hover:text-primary",onClick:l[0]||(l[0]=b=>i.value=!0)},[Se(d,{class:"w-3 h-3 md:w-3.5 md:h-3.5"})]),ee("button",{type:"button",class:"hover:text-primary",onClick:o},[Se(f,{class:"w-3 h-3 md:w-3.5 md:h-3.5"})])])):Ge("",!0),e.sendingFeedback?(te(),ze(p,{key:1,size:"sm",label:"Sending feedback..."})):Ge("",!0),ve(i)?(te(),De("p",tYe," Feedback submitted! Thank you 🙏 ")):Ge("",!0)])):Ge("",!0)])}}};const rYe={class:"bg-slate-50 bg-opacity-90 overflow-hidden px-2 py-1 font-semibold text-sm text-slate-600"},iYe={__name:"MagicStatus",props:{animating:{type:Boolean,default:!0},label:{type:String,default:"Generating Page..."}},setup(e){return(t,n)=>(te(),De("div",{class:Pr(["magic-status",{animating:e.animating}]),"data-testid":"magic-status"},[ee("div",rYe,[Ar(t.$slots,"default",{},void 0,!0)])],2))}},sYe=xo(iYe,[["__scopeId","data-v-6becd108"]]),oYe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function aYe(e,t){return te(),De("svg",oYe,t[0]||(t[0]=[ee("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m7 12l5 5l-1.5 1.5a3.536 3.536 0 1 1-5-5zm10 0l-5-5l1.5-1.5a3.536 3.536 0 1 1 5 5zM3 21l2.5-2.5m13-13L21 3m-11 8l-2 2m5 1l-2 2"},null,-1)]))}const lYe={name:"tabler-plug-connected",render:aYe},uYe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function cYe(e,t){return te(),De("svg",uYe,t[0]||(t[0]=[ee("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 9h8m-8 4h6m-1.646 7.646L12 21l-3-3H6a3 3 0 0 1-3-3V7a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v5.5M19 22v-6m3 3l-3-3l-3 3"},null,-1)]))}const dYe={name:"tabler-message2-up",render:cYe},fYe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function pYe(e,t){return te(),De("svg",fYe,t[0]||(t[0]=[ee("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[ee("path",{d:"M12 8v4l2 2"}),ee("path",{d:"M3.05 11a9 9 0 1 1 .5 4m-.5 5v-5h5"})],-1)]))}const hYe={name:"tabler-history",render:pYe};function K4(e,t){var n;const r=Ho();return sn(()=>{r.value=e()},{...t,flush:(n=t==null?void 0:t.flush)!=null?n:"sync"}),mo(r)}function EQ(e){return Zm()?(xI(e),!0):!1}function DZe(){const e=new Set,t=i=>{e.delete(i)};return{on:i=>{e.add(i);const s=()=>t(i);return EQ(s),{off:s}},off:t,trigger:(...i)=>Promise.all(Array.from(e).map(s=>s(...i)))}}function Fl(e){return typeof e=="function"?e():ve(e)}const gYe=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const mYe=Object.prototype.toString,NZe=e=>mYe.call(e)==="[object Object]",vYe=()=>{};function yYe(e,t){function n(...r){return new Promise((i,s)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(i).catch(s)})}return n}const SQ=e=>e();function _Ye(e=SQ){const t=re(!0);function n(){t.value=!1}function r(){t.value=!0}const i=(...s)=>{t.value&&e(...s)};return{isActive:mo(t),pause:n,resume:r,eventFilter:i}}function G4(e,t=!1,n="Timeout"){return new Promise((r,i)=>{setTimeout(t?()=>i(n):r,e)})}function LZe(e,...t){return t.some(n=>n in e)}function bYe(e){return e||fr()}function FZe(...e){if(e.length!==1)return Vw(...e);const t=e[0];return typeof t=="function"?mo(Uw(()=>({get:t,set:vYe}))):re(t)}function wYe(e,t,n={}){const{eventFilter:r=SQ,...i}=n;return bt(e,yYe(r,t),i)}function BZe(e,t,n={}){const{eventFilter:r,...i}=n,{eventFilter:s,pause:o,resume:a,isActive:l}=_Ye(r);return{stop:wYe(e,t,{...i,eventFilter:s}),pause:o,resume:a,isActive:l}}function UZe(e,t=!0,n){bYe()?Jt(e,n):t?e():Qn(e)}function hI(e,t=!1){function n(d,{flush:f="sync",deep:p=!1,timeout:g,throwOnTimeout:h}={}){let m=null;const y=[new Promise(_=>{m=bt(e,b=>{d(b)!==t&&(m==null||m(),_(b))},{flush:f,deep:p,immediate:!0})})];return g!=null&&y.push(G4(g,h).then(()=>Fl(e)).finally(()=>m==null?void 0:m())),Promise.race(y)}function r(d,f){if(!Sn(d))return n(b=>b===d,f);const{flush:p="sync",deep:g=!1,timeout:h,throwOnTimeout:m}=f??{};let v=null;const _=[new Promise(b=>{v=bt([e,d],([x,w])=>{t!==(x===w)&&(v==null||v(),b(x))},{flush:p,deep:g,immediate:!0})})];return h!=null&&_.push(G4(h,m).then(()=>Fl(e)).finally(()=>(v==null||v(),Fl(e)))),Promise.race(_)}function i(d){return n(f=>!!f,d)}function s(d){return r(null,d)}function o(d){return r(void 0,d)}function a(d){return n(Number.isNaN,d)}function l(d,f){return n(p=>{const g=Array.from(p);return g.includes(d)||g.includes(Fl(d))},f)}function u(d){return c(1,d)}function c(d=1,f){let p=-1;return n(()=>(p+=1,p>=d),f)}return Array.isArray(Fl(e))?{toMatch:n,toContains:l,changed:u,changedTimes:c,get not(){return hI(e,!t)}}:{toMatch:n,toBe:r,toBeTruthy:i,toBeNull:s,toBeNaN:a,toBeUndefined:o,changed:u,changedTimes:c,get not(){return hI(e,!t)}}}function VZe(e){return hI(e)}function jZe(e,t,n={}){const{immediate:r=!0}=n,i=re(!1);let s=null;function o(){s&&(clearTimeout(s),s=null)}function a(){i.value=!1,o()}function l(...u){o(),i.value=!0,s=setTimeout(()=>{i.value=!1,s=null,e(...u)},Fl(t))}return r&&(i.value=!0,gYe&&l()),EQ(a),{isPending:mo(i),start:l,stop:a}}function HZe(e=!1,t={}){const{truthyValue:n=!0,falsyValue:r=!1}=t,i=Sn(e),s=re(e);function o(a){if(arguments.length)return s.value=a,s.value;{const l=Fl(n);return s.value=s.value===l?Fl(r):l,s.value}}return i?o:[s,o]}const xYe={name:"UiHeading",props:{level:{default:1,type:Number,validator(e){return["h1","h2","h3","h4","h5","h6"].includes(`h${e}`)}},preIconClass:{type:String,default:""},size:{default:null,type:Number},tag:{default:null,type:String},textColorClass:{type:String,default:"text-slate-700"}},setup(e){const t=K4(()=>{switch(e.size||e.level){case 1:return{"font-black text-3xl sm:text-4xl md:text-5xl":!0};case 2:return{"font-bold text-2xl sm:text-3xl md:text-4xl":!0};case 3:return{"font-semibold text-xl sm:text-2xl md:text-3xl":!0};case 4:return{"font-semibold text-xl sm:text-xl md:text-2xl":!0};case 5:return{"font-semibold text-base md:text-lg":!0};case 6:return{"font-semibold text-sm md:text-base":!0};default:return{}}});return{classObject:K4(()=>({...t.value,[e.textColorClass]:!0}))}}},EYe={class:"flex-1"};function SYe(e,t,n,r,i,s){return te(),ze(Nf(n.tag||`h${n.level}`),{class:Pr(["leading-tight tracking-tight inline-flex items-center space-x-2",r.classObject]),"data-testid":"ui-heading"},{default:et(()=>[Ar(e.$slots,"icon"),ee("span",EYe,[Ar(e.$slots,"default")])]),_:3},8,["class"])}const $Ye=xo(xYe,[["render",SYe]]),TYe={class:"space-y-2"},kYe={class:"space-y-4 max-h-28 overflow-auto bg-slate-100 ring-1 ring-slate-200 p-3 rounded-lg"},IYe=["title","onClick"],CYe={class:"text-left"},AYe={__name:"AssistantHistory",props:{messages:{type:Array,default(){return[]}}},emits:["select-message"],setup(e,{emit:t}){const n=e,r=t,i=$i(()=>n.messages.filter(o=>R(o))),s=o=>{r("select-message",o==null?void 0:o.id)};return(o,a)=>{const l=$Ye,u=hYe;return te(),De("div",TYe,[Se(l,{level:6},{default:et(()=>a[0]||(a[0]=[En(" Previous Questions ")])),_:1}),ee("div",kYe,[(te(!0),De(gn,null,Tc(ve(i),(c,d)=>(te(),De("button",{key:(c==null?void 0:c.id)||d,type:"button",class:"flex-row-center gap-1 text-sm text-slate-700 hover:text-brand-primary w-80",title:c==null?void 0:c.user,onClick:f=>s(c)},[ee("div",null,[Se(u,{class:"w-4 h-4"})]),ee("div",CYe,ci(c==null?void 0:c.user),1)],8,IYe))),128))])])}}},OYe=async(e,t=null,n=null)=>{const r=NA(MO,"assistant",e);return Hfe(r,t,n)},RYe=async(e,t)=>{const n=NA(MO,"assistant",e);let i=(await Vfe(n)).data(),s=i==null?void 0:i.messages,o=s.findIndex(a=>a.id===t);return o!==-1&&(s[o].flaggedByUser=!0),i.messages=s,await jfe(n,i)},PYe=async(e,t=!1,n)=>{const i={prompt:e,mode:t?"reply":"new"};return n&&(i.url=n),Gqe("askAssistant",i)},MYe={errors:[]},DYe=cqe({id:"assistant",predictableActionArguments:!0,initial:"idle",context:{...MYe},invoke:{src:"subscribeToAssistant",onError:{actions:(e,t)=>{console.log(t)}}},states:{idle:{on:{ASSISTANT_SNAPSHOT:{actions:["setAssistantData","setAssistantMessages","setActiveMessage"]},ASSISTANT_SNAPSHOT_FAILED:{target:"error",actions:["assignErrors","trackErrors"]},ASK_ASSISTANT:{target:"asking"},BAD_FEEDBACK_RECEIVED:{target:"sendingFeedback"},SELECT_MESSAGE:{target:"idle",actions:["setActiveMessage"]}}},asking:{invoke:{src:"askAssistant"},on:{ASSISTANT_SNAPSHOT:{target:"idle",actions:["setAssistantData","setAssistantMessages","setActiveMessage"]},ASSISTANT_SNAPSHOT_FAILED:{target:"error",actions:["assignErrors","trackErrors"]},SELECT_MESSAGE:{target:"idle",actions:["setActiveMessage"]}}},error:{on:{ASSISTANT_SNAPSHOT:{target:"idle",actions:["setAssistantData","setAssistantMessages","setActiveMessage","resetErrors"]},ASSISTANT_SNAPSHOT_FAILED:{target:"error",actions:["assignErrors","trackErrors"]},ASK_ASSISTANT:{target:"asking"},SELECT_MESSAGE:{target:"idle",actions:["setActiveMessage"]}}},sendingFeedback:{invoke:{src:"flagAssistantMessage",onError:{target:"error",actions:["assignErrors","trackErrors"]},onDone:{target:"idle",actions:[{type:"showToast",message:"Feedback submitted. Thank you 🙏",toastType:"success",toastOptions:{duration:5e3,dismissible:!0}}]}}}}},{actions:{...Zqe,setAssistantData:Pf({assistantData:(e,{assistantData:t})=>t}),setActiveMessage:Pf({activeMessage:({assistantData:e},{id:t})=>{var n,r;return t?(r=e==null?void 0:e.messages)==null?void 0:r.find(i=>i.id===t):(n=e==null?void 0:e.messages)==null?void 0:n[0]}}),setAssistantMessages:Pf({messages:(e,{assistantData:t})=>{const n=(t==null?void 0:t.messages)||[];return n.forEach(r=>{var i,s;r.assistant=(i=r==null?void 0:r.assistant)==null?void 0:i.replace(/\n/g,"<br />"),r.assistant=(s=r==null?void 0:r.assistant)==null?void 0:s.replace(/\[(.*?)\]\((.*?)\)/g,'<a href="$2" target="_blank">$1</a>')}),n.reverse()}})},services:{flagAssistantMessage:(e,{messageId:t})=>{var n;if(!(Zn!=null&&Zn.currentUser))throw new Error("Please sign in to use the assistant");return RYe((n=Zn==null?void 0:Zn.currentUser)==null?void 0:n.uid,t)},subscribeToAssistant:()=>async e=>{var i;if(!(Zn!=null&&Zn.currentUser)){e({type:"UNAUTHENTICATED",errorMessage:"Please sign in to use the assistant"});return}const t=s=>{if(s.exists()){const o=s==null?void 0:s.data();e({type:"ASSISTANT_SNAPSHOT",assistantData:o})}else e({type:"ASSISTANT_SNAPSHOT_FAILED",errorMessage:"Assistant data not found"})},n=s=>{(s==null?void 0:s.code)==="permission-denied"?$r.warn("Assistant data subscription failed as permission was denied"):e({type:"ASSISTANT_SNAPSHOT_FAILED",errorMessage:"Assistant data not found"})},r=await OYe((i=Zn==null?void 0:Zn.currentUser)==null?void 0:i.uid,t,n);return()=>r()},askAssistant:({assistantData:e},{input:t,url:n})=>{var r;return PYe(t,((r=e==null?void 0:e.messages)==null?void 0:r.length)>0,n)}}});var Y4=36,$Q="";for(;Y4--;)$Q+=Y4.toString(36);function WZe(e){for(var t="",n=e||11;n--;)t+=$Q[Math.random()*36|0];return t}var TQ={},BP={};Object.defineProperty(BP,"__esModule",{value:!0});BP.default=BYe;var X4="html",Q4="head",x_="body",NYe=/<([a-zA-Z]+[0-9]?)/,J4=/<head[^]*>/i,Z4=/<body[^]*>/i,Cw=function(e,t){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},gI=function(e,t){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},eU=typeof window=="object"&&window.DOMParser;if(typeof eU=="function"){var LYe=new eU,FYe="text/html";gI=function(e,t){return t&&(e="<".concat(t,">").concat(e,"</").concat(t,">")),LYe.parseFromString(e,FYe)},Cw=gI}if(typeof document=="object"&&document.implementation){var E_=document.implementation.createHTMLDocument();Cw=function(e,t){if(t){var n=E_.documentElement.querySelector(t);return n&&(n.innerHTML=e),E_}return E_.documentElement.innerHTML=e,E_}}var S_=typeof document=="object"&&document.createElement("template"),mI;S_&&S_.content&&(mI=function(e){return S_.innerHTML=e,S_.content.childNodes});function BYe(e){var t,n,r=e.match(NYe),i=r&&r[1]?r[1].toLowerCase():"";switch(i){case X4:{var s=gI(e);if(!J4.test(e)){var o=s.querySelector(Q4);(t=o==null?void 0:o.parentNode)===null||t===void 0||t.removeChild(o)}if(!Z4.test(e)){var o=s.querySelector(x_);(n=o==null?void 0:o.parentNode)===null||n===void 0||n.removeChild(o)}return s.querySelectorAll(X4)}case Q4:case x_:{var a=Cw(e).querySelectorAll(i);return Z4.test(e)&&J4.test(e)?a[0].parentNode.childNodes:a}default:{if(mI)return mI(e);var o=Cw(e,x_).querySelector(x_);return o.childNodes}}}var Hx={},kQ={},UP={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Doctype=e.CDATA=e.Tag=e.Style=e.Script=e.Comment=e.Directive=e.Text=e.Root=e.isTag=e.ElementType=void 0;var t;(function(r){r.Root="root",r.Text="text",r.Directive="directive",r.Comment="comment",r.Script="script",r.Style="style",r.Tag="tag",r.CDATA="cdata",r.Doctype="doctype"})(t=e.ElementType||(e.ElementType={}));function n(r){return r.type===t.Tag||r.type===t.Script||r.type===t.Style}e.isTag=n,e.Root=t.Root,e.Text=t.Text,e.Directive=t.Directive,e.Comment=t.Comment,e.Script=t.Script,e.Style=t.Style,e.Tag=t.Tag,e.CDATA=t.CDATA,e.Doctype=t.Doctype})(UP);var kt={},Wu=us&&us.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pg=us&&us.__assign||function(){return Pg=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Pg.apply(this,arguments)};Object.defineProperty(kt,"__esModule",{value:!0});kt.cloneNode=kt.hasChildren=kt.isDocument=kt.isDirective=kt.isComment=kt.isText=kt.isCDATA=kt.isTag=kt.Element=kt.Document=kt.CDATA=kt.NodeWithChildren=kt.ProcessingInstruction=kt.Comment=kt.Text=kt.DataNode=kt.Node=void 0;var ns=UP,VP=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(t){this.parent=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(t){this.prev=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(t){this.next=t},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(t){return t===void 0&&(t=!1),jP(this,t)},e}();kt.Node=VP;var Wx=function(e){Wu(t,e);function t(n){var r=e.call(this)||this;return r.data=n,r}return Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(n){this.data=n},enumerable:!1,configurable:!0}),t}(VP);kt.DataNode=Wx;var IQ=function(e){Wu(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=ns.ElementType.Text,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),t}(Wx);kt.Text=IQ;var CQ=function(e){Wu(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=ns.ElementType.Comment,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),t}(Wx);kt.Comment=CQ;var AQ=function(e){Wu(t,e);function t(n,r){var i=e.call(this,r)||this;return i.name=n,i.type=ns.ElementType.Directive,i}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),t}(Wx);kt.ProcessingInstruction=AQ;var qx=function(e){Wu(t,e);function t(n){var r=e.call(this)||this;return r.children=n,r}return Object.defineProperty(t.prototype,"firstChild",{get:function(){var n;return(n=this.children[0])!==null&&n!==void 0?n:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(n){this.children=n},enumerable:!1,configurable:!0}),t}(VP);kt.NodeWithChildren=qx;var OQ=function(e){Wu(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=ns.ElementType.CDATA,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),t}(qx);kt.CDATA=OQ;var RQ=function(e){Wu(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=ns.ElementType.Root,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),t}(qx);kt.Document=RQ;var PQ=function(e){Wu(t,e);function t(n,r,i,s){i===void 0&&(i=[]),s===void 0&&(s=n==="script"?ns.ElementType.Script:n==="style"?ns.ElementType.Style:ns.ElementType.Tag);var o=e.call(this,i)||this;return o.name=n,o.attribs=r,o.type=s,o}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(n){this.name=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var n=this;return Object.keys(this.attribs).map(function(r){var i,s;return{name:r,value:n.attribs[r],namespace:(i=n["x-attribsNamespace"])===null||i===void 0?void 0:i[r],prefix:(s=n["x-attribsPrefix"])===null||s===void 0?void 0:s[r]}})},enumerable:!1,configurable:!0}),t}(qx);kt.Element=PQ;function MQ(e){return(0,ns.isTag)(e)}kt.isTag=MQ;function DQ(e){return e.type===ns.ElementType.CDATA}kt.isCDATA=DQ;function NQ(e){return e.type===ns.ElementType.Text}kt.isText=NQ;function LQ(e){return e.type===ns.ElementType.Comment}kt.isComment=LQ;function FQ(e){return e.type===ns.ElementType.Directive}kt.isDirective=FQ;function BQ(e){return e.type===ns.ElementType.Root}kt.isDocument=BQ;function UYe(e){return Object.prototype.hasOwnProperty.call(e,"children")}kt.hasChildren=UYe;function jP(e,t){t===void 0&&(t=!1);var n;if(NQ(e))n=new IQ(e.data);else if(LQ(e))n=new CQ(e.data);else if(MQ(e)){var r=t?i$(e.children):[],i=new PQ(e.name,Pg({},e.attribs),r);r.forEach(function(l){return l.parent=i}),e.namespace!=null&&(i.namespace=e.namespace),e["x-attribsNamespace"]&&(i["x-attribsNamespace"]=Pg({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(i["x-attribsPrefix"]=Pg({},e["x-attribsPrefix"])),n=i}else if(DQ(e)){var r=t?i$(e.children):[],s=new OQ(r);r.forEach(function(u){return u.parent=s}),n=s}else if(BQ(e)){var r=t?i$(e.children):[],o=new RQ(r);r.forEach(function(u){return u.parent=o}),e["x-mode"]&&(o["x-mode"]=e["x-mode"]),n=o}else if(FQ(e)){var a=new AQ(e.name,e.data);e["x-name"]!=null&&(a["x-name"]=e["x-name"],a["x-publicId"]=e["x-publicId"],a["x-systemId"]=e["x-systemId"]),n=a}else throw new Error("Not implemented yet: ".concat(e.type));return n.startIndex=e.startIndex,n.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(n.sourceCodeLocation=e.sourceCodeLocation),n}kt.cloneNode=jP;function i$(e){for(var t=e.map(function(r){return jP(r,!0)}),n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}(function(e){var t=us&&us.__createBinding||(Object.create?function(a,l,u,c){c===void 0&&(c=u);var d=Object.getOwnPropertyDescriptor(l,u);(!d||("get"in d?!l.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return l[u]}}),Object.defineProperty(a,c,d)}:function(a,l,u,c){c===void 0&&(c=u),a[c]=l[u]}),n=us&&us.__exportStar||function(a,l){for(var u in a)u!=="default"&&!Object.prototype.hasOwnProperty.call(l,u)&&t(l,a,u)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var r=UP,i=kt;n(kt,e);var s={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},o=function(){function a(l,u,c){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof u=="function"&&(c=u,u=s),typeof l=="object"&&(u=l,l=void 0),this.callback=l??null,this.options=u??s,this.elementCB=c??null}return a.prototype.onparserinit=function(l){this.parser=l},a.prototype.onreset=function(){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},a.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},a.prototype.onerror=function(l){this.handleCallback(l)},a.prototype.onclosetag=function(){this.lastNode=null;var l=this.tagStack.pop();this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(l)},a.prototype.onopentag=function(l,u){var c=this.options.xmlMode?r.ElementType.Tag:void 0,d=new i.Element(l,u,void 0,c);this.addNode(d),this.tagStack.push(d)},a.prototype.ontext=function(l){var u=this.lastNode;if(u&&u.type===r.ElementType.Text)u.data+=l,this.options.withEndIndices&&(u.endIndex=this.parser.endIndex);else{var c=new i.Text(l);this.addNode(c),this.lastNode=c}},a.prototype.oncomment=function(l){if(this.lastNode&&this.lastNode.type===r.ElementType.Comment){this.lastNode.data+=l;return}var u=new i.Comment(l);this.addNode(u),this.lastNode=u},a.prototype.oncommentend=function(){this.lastNode=null},a.prototype.oncdatastart=function(){var l=new i.Text(""),u=new i.CDATA([l]);this.addNode(u),l.parent=u,this.lastNode=l},a.prototype.oncdataend=function(){this.lastNode=null},a.prototype.onprocessinginstruction=function(l,u){var c=new i.ProcessingInstruction(l,u);this.addNode(c)},a.prototype.handleCallback=function(l){if(typeof this.callback=="function")this.callback(l,this.dom);else if(l)throw l},a.prototype.addNode=function(l){var u=this.tagStack[this.tagStack.length-1],c=u.children[u.children.length-1];this.options.withStartIndices&&(l.startIndex=this.parser.startIndex),this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),u.children.push(l),c&&(l.prev=c,c.next=l),l.parent=u,this.lastNode=null},a}();e.DomHandler=o,e.default=o})(kQ);var UQ={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CASE_SENSITIVE_TAG_NAMES_MAP=e.CASE_SENSITIVE_TAG_NAMES=void 0,e.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"],e.CASE_SENSITIVE_TAG_NAMES_MAP=e.CASE_SENSITIVE_TAG_NAMES.reduce(function(t,n){return t[n.toLowerCase()]=n,t},{})})(UQ);Object.defineProperty(Hx,"__esModule",{value:!0});Hx.formatAttributes=VQ;Hx.formatDOM=jQ;var $_=kQ,VYe=UQ;function jYe(e){return VYe.CASE_SENSITIVE_TAG_NAMES_MAP[e]}function VQ(e){for(var t={},n=0,r=e.length;n<r;n++){var i=e[n];t[i.name]=i.value}return t}function HYe(e){e=e.toLowerCase();var t=jYe(e);return t||e}function jQ(e,t,n){t===void 0&&(t=null);for(var r=[],i,s=0,o=e.length;s<o;s++){var a=e[s];switch(a.nodeType){case 1:{var l=HYe(a.nodeName);i=new $_.Element(l,VQ(a.attributes)),i.children=jQ(l==="template"?a.content.childNodes:a.childNodes,i);break}case 3:i=new $_.Text(a.nodeValue);break;case 8:i=new $_.Comment(a.nodeValue);break;default:continue}var u=r[s-1]||null;u&&(u.next=i),i.parent=t,i.prev=u,i.next=null,r.push(i)}return n&&(i=new $_.ProcessingInstruction(n.substring(0,n.indexOf(" ")).toLowerCase(),n),i.next=r[0]||null,i.parent=t,r.unshift(i),r[1]&&(r[1].prev=r[0])),r}var WYe=us&&us.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(TQ,"__esModule",{value:!0});var tU=TQ.default=GYe,qYe=WYe(BP),zYe=Hx,KYe=/<(![a-zA-Z\s]+)>/;function GYe(e){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];var t=e.match(KYe),n=t?t[1]:void 0;return(0,zYe.formatDOM)((0,qYe.default)(e),null,n)}const qZe=tU.default||tU,YYe={key:0,class:"assistant space-y-6","data-testid":"assistant"},XYe={class:"flex-row-center gap-2"},QYe={class:"flex flex-wrap items-center justify-between text-sm"},JYe={class:"text-slate-500 flex gap-1"},ZYe={key:1,class:"text-sm text-slate-500 italic"},eXe={key:0,class:"flex-row-center gap-3 p-4 text-lg"},tXe={key:1,class:"flex-row-center gap-3 p-4 text-lg"},nXe={key:2,class:"flex-row-center gap-3 p-4 text-lg"},rXe={key:1},iXe={__name:"Assistant",setup(e){const t=Xa({...Hu,loader:()=>qt(()=>import("./SupportForm-b1814635.js"),["assets/SupportForm-b1814635.js","assets/UiCard-f3e2805b.js"])}),n=ct("$toast"),{state:r,send:i}=eze(DYe,"Assistant",{context:{toast:n}}),s=re(""),o=re(""),a=JS(r,"messages",[]),l=JS(r,"activeMessage"),u=JS(r,"assistantData.status"),[c]=Sc(!1),[d,f]=Sc(!1),[p,g]=Sc(!1),h=vd(),m=ty(),v=E=>{s.value="",i("ASK_ASSISTANT",{input:E.input,url:h.path})},y=E=>{c.value=!0,o.value=E},_=E=>{if((E==null?void 0:E.action)==="loadLink"){window.open(E==null?void 0:E.link,"_blank");return}y(E==null?void 0:E.type)},b=E=>{i("BAD_FEEDBACK_RECEIVED",{messageId:E})},x=()=>{c.value=!1,o.value=""},w=()=>{c.value=!1,o.value=""},$=E=>{i("SELECT_MESSAGE",{id:E}),d.value=!1};return(E,S)=>{var Ie,Tt;const T=$c("FormKit"),P=uV,C=AYe,B=dYe,V=xQ,ce=lYe,X=sYe,le=nYe,me=pl;return ve(m)?(te(),De("div",YYe,[ve(c)?Ge("",!0):(te(),ze(T,{key:0,type:"form",actions:!1,disabled:["ask","responding"].includes(ve(u)),"form-class":"!space-y-1",onSubmit:v},{default:et(()=>{var Re;return[ee("div",XYe,[Se(T,{modelValue:ve(s),"onUpdate:modelValue":S[0]||(S[0]=Xe=>Sn(s)?s.value=Xe:null),type:"text",name:"input",label:"Ask your question here",placeholder:"How can we help?",required:"","outer-class":"flex-1 !mb-0"},null,8,["modelValue"])]),ee("div",QYe,[ee("p",JYe,[S[4]||(S[4]=ee("span",null,[En("Press "),ee("span",{class:"font-semibold"},"Enter"),En(" to ask")],-1)),ee("button",{type:"button",class:"default-link text-xs italic flex-row-center gap-1",onClick:S[1]||(S[1]=Xe=>ve(g)())},[Se(P),S[3]||(S[3]=ee("span",null,"Powered by Mixo AI",-1))])]),(Re=ve(a))!=null&&Re.length&&!["ask","responding"].includes(ve(u))?(te(),De("button",{key:0,type:"button",class:"default-link",onClick:S[2]||(S[2]=Xe=>ve(f)())},ci(ve(d)?"Hide":"Show")+" history ",1)):Ge("",!0)])]}),_:1},8,["disabled"])),ve(p)?(te(),De("p",ZYe," Mixo's AI support searches documentation, your account, and site features to answer questions quickly. It's usually accurate but may occasionally make imperfect suggestions. Ask for human support anytime you need clarification. ")):Ge("",!0),ve(d)&&!ve(c)?(te(),ze(C,{key:2,messages:ve(a),onSelectMessage:$},null,8,["messages"])):Ge("",!0),["ask","responding"].includes(ve(u))||ve(r).matches("asking")?(te(),ze(X,{key:3,animating:!0},{default:et(()=>[["ask"].includes(ve(u))?(te(),De("div",eXe,[Se(B),S[5]||(S[5]=ee("p",null," Sending Question… ",-1))])):["responding"].includes(ve(u))?(te(),De("div",tXe,[Se(V),S[6]||(S[6]=ee("p",null," Support Responding… ",-1))])):(te(),De("div",nXe,[Se(ce),S[7]||(S[7]=ee("p",null," Connecting to Support… ",-1))]))]),_:1})):Ge("",!0),!ve(c)&&((Ie=ve(l))!=null&&Ie.user)&&((Tt=ve(l))!=null&&Tt.assistant)&&!ve(r).matches("asking")?(te(),ze(le,{key:4,"active-message":ve(l),"sending-feedback":ve(r).matches("sendingFeedback"),onButtonClick:_,onBadFeedback:b},null,8,["active-message","sending-feedback"])):Ge("",!0),(te(),ze(HI,null,{default:et(()=>{var Re;return[ve(c)?(te(),ze(ve(t),{key:0,type:ve(o),"assistant-message":ve(l),message:(Re=ve(l))==null?void 0:Re.user,"show-type":!0,onClose:x,onSubmit:w},null,8,["type","assistant-message","message"])):Ge("",!0)]}),_:1}))])):(te(),De("div",rXe,[Se(me,{theme:"brand-link",href:"login"},{default:et(()=>S[8]||(S[8]=[En(" Sign up or Login ")])),_:1}),S[9]||(S[9]=En(" to access Mixo's support options "))]))}}},sXe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function oXe(e,t){return te(),De("svg",sXe,t[0]||(t[0]=[ee("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M6 18L18 6M6 6l12 12"},null,-1)]))}const aXe={name:"heroicons-x-mark",render:oXe},lXe={class:"fixed inset-0 overflow-hidden"},uXe={class:"absolute inset-0 overflow-hidden"},cXe={class:"pointer-events-none fixed inset-y-0 right-0 flex max-w-full sm:pl-10"},dXe={class:"flex h-full flex-col overflow-y-scroll bg-slate-50 py-6 shadow-xl border-l border-slate-200"},fXe={class:"px-4 sm:px-6"},pXe={class:"flex items-start justify-between"},hXe={class:"ml-3 flex h-7 items-center"},gXe={class:"relative mt-6 flex-1 px-4 sm:px-6"},mXe={class:"flex flex-col items-start gap-4 mt-8"},vXe={href:"https://www.mixo.io/help",target:"_blank",class:"flex-row-center gap-x-2 text-slate-600 hover:text-brand-primary"},yXe={href:"/support/submit",class:"flex-row-center gap-x-2 text-slate-600 hover:text-brand-primary"},_Xe={href:"https://feedback.mixo.io",target:"_blank",class:"flex-row-center gap-x-2 text-slate-600 hover:text-brand-primary"},HQ={__name:"Sidebar",emits:["close"],setup(e,{emit:t}){const n=t,r=ct("isSidebarActive"),i=()=>{n("close")};return(s,o)=>{const a=aXe,l=iXe,u=UGe,c=LGe,d=MGe;return te(),ze(ve(BV),{as:"template",show:ve(r)},{default:et(()=>[Se(ve(kne),{as:"div",class:"relative z-10",onClose:i},{default:et(()=>[o[6]||(o[6]=ee("div",{class:"fixed inset-0"},null,-1)),ee("div",lXe,[ee("div",uXe,[ee("div",cXe,[Se(ve(FV),{as:"template",enter:"transform transition ease-in-out duration-500 sm:duration-700","enter-from":"translate-x-full","enter-to":"translate-x-0",leave:"transform transition ease-in-out duration-500 sm:duration-700","leave-from":"translate-x-0","leave-to":"translate-x-full"},{default:et(()=>[Se(ve(Ine),{class:"pointer-events-auto w-screen max-w-md"},{default:et(()=>[ee("div",dXe,[ee("div",fXe,[ee("div",pXe,[Se(ve(Cne),{class:"text-lg md:text-xl font-bold leading-6 text-gray-700"},{default:et(()=>o[0]||(o[0]=[En(" Help Center ")])),_:1}),ee("div",hXe,[ee("button",{type:"button",class:"rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-brand-primary focus:ring-offset-2 focus:bg-white",onClick:i},[o[1]||(o[1]=ee("span",{class:"sr-only"},"Close panel",-1)),Se(a,{class:"h-6 w-6","aria-hidden":"true"})])])])]),ee("div",gXe,[Se(l),ee("div",mXe,[o[5]||(o[5]=ee("hr",{class:"h-px bg-gray-200 border-0 w-full rounded-full"},null,-1)),ee("a",vXe,[Se(u),o[2]||(o[2]=ee("span",null,"Help and Tutorials",-1))]),ee("a",yXe,[Se(c),o[3]||(o[3]=ee("span",null,"Support Request",-1))]),ee("a",_Xe,[Se(d),o[4]||(o[4]=ee("span",null,"Feature Request",-1))])])])])]),_:1})]),_:1})])])])]),_:1})]),_:1},8,["show"])}}},bXe=Object.freeze(Object.defineProperty({__proto__:null,default:HQ},Symbol.toStringTag,{value:"Module"})),wXe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"};function xXe(e,t){return te(),De("svg",wXe,t[0]||(t[0]=[ee("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18 6L6 18M6 6l12 12"},null,-1)]))}const EXe={name:"tabler-x",render:xXe};function SXe(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:s,onRegisterError:o}=e;let a,l,u;const c=async(f=!0)=>{await l,await(u==null?void 0:u())};async function d(){if("serviceWorker"in navigator){const{Workbox:f}=await qt(()=>import("./workbox-window.prod.es5-c46a1faa.js"),[]);a=new f("/service-worker.js",{scope:"/",type:"classic"}),u=async()=>{await(a==null?void 0:a.messageSkipWaiting())};{let p=!1;const g=()=>{p=!0,a==null||a.addEventListener("controlling",h=>{h.isUpdate&&window.location.reload()}),n==null||n()};a.addEventListener("installed",h=>{typeof h.isUpdate>"u"?typeof h.isExternal<"u"?h.isExternal?g():!p&&(r==null||r()):h.isExternal?window.location.reload():!p&&(r==null||r()):h.isUpdate||r==null||r()}),a.addEventListener("waiting",g),a.addEventListener("externalwaiting",g)}a.register({immediate:t}).then(p=>{s?s("/service-worker.js",p):i==null||i(p)}).catch(p=>{o==null||o(p)})}}return l=d(),c}function $Xe(e={}){const{immediate:t=!0,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:s,onRegisterError:o}=e,a=re(!1),l=re(!1);return{updateServiceWorker:SXe({immediate:t,onNeedRefresh(){a.value=!0,n==null||n()},onOfflineReady(){l.value=!0,r==null||r()},onRegistered:i,onRegisteredSW:s,onRegisterError:o}),offlineReady:l,needRefresh:a}}const TXe={key:0,class:"pwa-toast",role:"alert"},kXe={class:"absolute top-2 right-2 text-slate-500"},IXe={class:"message mt-2 mb-3"},CXe={key:1},AXe={__name:"ReloadPrompt",setup(e){const{needRefresh:t,updateServiceWorker:n}=$Xe(),r=vd(),i=re(!1),s=$i(()=>(r==null?void 0:r.path)==="/sites/preview"?!1:t.value);async function o(){t.value=!1}async function a(){i.value=!0,await n(),o(),i.value=!1,YT("App Updated",{frontendVersion:"abf61747049fcf16221db86a879e43d381393275"}),confirm("The app has been updated. Reload now?")&&location.reload()}return(l,u)=>{const c=FP,d=EXe,f=ju,p=pl;return ve(s)?(te(),De("div",TXe,[Se(c,{class:"mb-1","text-white":!0,"hide-text-on-mobile":!1}),ee("button",kXe,[Se(d,{onClick:o})]),ee("div",IXe,[ve(i)?(te(),ze(f,{key:0,label:"Updating your Mixo experience. Hold tight..."})):(te(),De("span",CXe,"A new version of the app is available. Click on the reload button to update."))]),ve(i)?Ge("",!0):(te(),ze(p,{key:0,theme:"brand-primary",size:"sm",onClick:a},{default:et(()=>u[0]||(u[0]=[En(" Reload ")])),_:1}))])):Ge("",!0)}}},OXe={key:0,class:"flex items-center justify-center text-center p-1 md:py-3 bg-yellow-100 text-xs sm:text-sm font-medium text-yellow-600 border-b border-yellow-200","data-testid":"email-verification"},RXe={class:"max-w-sm sm:max-w-xl md:max-w-4xl xl:max-w-6xl"},PXe=["disabled"],WQ={__name:"EmailVerification",setup(e){const t=ct("$toast"),n=vd(),r=$i(()=>{var p;return((p=n.query)==null?void 0:p.welcome)||!1}),i=$i(()=>(n==null?void 0:n.name)==="sites-preview"||(n==null?void 0:n.path)==="/sites/preview"),s=ty(),o=$i(()=>i!=null&&i.value||n!=null&&n.path.includes("ai-website-builder")?!0:JWe(s.value)),a=$i(()=>{var p;return(p=s.value)==null?void 0:p.email}),[l,u]=Sc(!1),c=$i(()=>!o.value&&!r.value),d=async()=>{u();try{await fme(Zn.currentUser),t==null||t.open({message:"Please check your email to verify your account 📧",type:"success",dismissible:!0})}catch(p){$r.error(p),t==null||t.open({message:"Sorry there was an error sending the verification email. Please contact <a href='https://app.mixo.io/support'>support</a>.",type:"error",dismissible:!0,duration:0})}finally{l.value=!1}},f=()=>{location.reload()};return(p,g)=>ve(c)?(te(),De("div",OXe,[ee("div",RXe,[En(" Verification email sent"+ci(ve(a)?` to ${ve(a)}`:"")+". Check your email and click the link to verify account. If already verified, please ",1),ee("button",{type:"button",class:"text-brand-tertiary underline",onClick:f}," refresh "),g[0]||(g[0]=En(" the page. Didn't receive the email? Check your spam folder or try to ")),ee("button",{type:"button",class:"text-brand-tertiary underline",disabled:ve(l),onClick:d},ci(ve(l)?"sending...":"resend verification email"),9,PXe),g[1]||(g[1]=En(". "))])])):Ge("",!0)}},MXe=Object.freeze(Object.defineProperty({__proto__:null,default:WQ},Symbol.toStringTag,{value:"Module"})),DXe=Xa({...Hu,loader:()=>qt(()=>Promise.resolve().then(()=>OGe),void 0)}),NXe=Xa({...Hu,loader:()=>qt(()=>Promise.resolve().then(()=>bXe),void 0)}),LXe=Xa({...Hu,loader:()=>qt(()=>Promise.resolve().then(()=>MXe),void 0)}),FXe={name:"App",components:{ModalsContainer:lQ},setup(){const e=vd(),[t,n]=Sc(!1);tr("isSidebarActive",t),tr("toggleSidebar",n);const r=re([{children:`
            (function (w, r) { w._rwq = r; w[r] = w[r] || function () { (w[r].q = w[r].q || []).push(arguments) } })(window, 'rewardful');

            (function(){
              let referral_url = new URL(window.location.href);
              if (referral_url.searchParams.has('gclid') && referral_url.searchParams.has('via')) {
                setTimeout(function(){
                  document.cookie = "rewardful.referral=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; domain=.mixo.io; Secure; SameSite=None; Priority=Medium";
                  console.warn("Deleted referral cookie as visit came from Google Ads (forbidden by Terms of Service)")
                }, 2000)
              }
            })();
          `},{src:"https://r.wdfl.co/rw.js",async:!0,"data-rewardful":"35dd66"}]),i=$i(()=>(e==null?void 0:e.name)==="sites-preview"||(e==null?void 0:e.path)==="/sites/preview");i!=null&&i.value&&(r.value=[]),LP({title:"Home",titleTemplate:"Mixo | %s",meta:[{name:"description",content:"Generate a websites and launch online in seconds with the world's fastest AI website builder."},{name:"theme-color",content:"#f1f5f9"},{name:"og:title",content:"Mixo"},{name:"og:url",content:e.path},{name:"twitter:url",content:e.path},{name:"og:site_name",content:"Mixo"},{name:"og:type",content:"website"},{name:"og:description",content:"Generate a websites and launch online in seconds with the world's fastest AI website builder."},{name:"og:image",content:"https://storage.googleapis.com/mixo-sites/images/file-2ea8702c-b5e0-4026-80fc-d60d790bb5b0.png"},{name:"og:image:alt",content:"Mixo.io"},{name:"twitter:title",content:"Mixo"},{name:"twitter:description",content:"AI-powered page builder to launch and validate your startup ideas."},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image:src",content:"https://storage.googleapis.com/mixo-sites/images/file-2ea8702c-b5e0-4026-80fc-d60d790bb5b0.png"}],link:[{rel:"icon",type:"image/svg+xml",href:Ce(()=>"/favicon.svg")}],htmlAttrs:{class:""},script:r});const s=!1,o=typeof window<"u"&&(window==null?void 0:window.localStorage.getItem("mixo-admin"))==="true",a=jqe();return{EmailVerification:LXe,isPreviewRoute:i,isSidebarActive:t,network:a,Maintenance:DXe,Sidebar:NXe,MAINTENANCE_MODE:s,MIXO_ADMIN:o}}},BXe={key:0,class:"text-center p-1 md:ps-3 bg-red-100 text-sm text-red-800 border-b border-red-200"};function UXe(e,t,n,r,i,s){var f,p;const o=WQ,a=AXe,l=$c("ModalsContainer"),u=HQ,c=wQ,d=$c("RouterView");return te(),De(gn,null,[(p=(f=r.network)==null?void 0:f.isOnline)!=null&&p.value?Ge("",!0):(te(),De("div",BXe," It looks like you're not connected to the internet. Please reconnect before continuing. ")),Se(o),Se(a),Se(l),r.isPreviewRoute?Ge("",!0):(te(),ze(u,{key:1,onClose:t[0]||(t[0]=g=>r.isSidebarActive=!1)})),r.MAINTENANCE_MODE&&!r.MIXO_ADMIN?(te(),ze(c,{key:2})):(te(),ze(d,{key:3,class:Pr(r.isSidebarActive?"opacity-70":"")},null,8,["class"]))],64)}const VXe=xo(FXe,[["render",UXe]]),jXe={__name:"index",setup(e){const t=vd(),n=gP();return Jt(async()=>{let r="/ai-website-builder";const i=await fP(),s=t.path==="/ai-website-builder";i&&!s&&(r="/sites"),n.push({path:r})}),(r,i)=>{const s=ju,o=NX;return te(),ze(o,null,{default:et(()=>[Se(s)]),_:1})}}},HXe=()=>qt(()=>import("./submit-d74efe26.js"),["assets/submit-d74efe26.js","assets/SupportForm-b1814635.js","assets/UiCard-f3e2805b.js"]),WXe=()=>qt(()=>import("./index-87dd2d2c.js"),["assets/index-87dd2d2c.js","assets/MagicWrap-6df3fbab.js","assets/MagicWrap-edb6011e.css"]),qXe=()=>qt(()=>import("./preview-a8982eee.js").then(e=>e.p),["assets/preview-a8982eee.js","assets/mediaQueries-eed85b54.js","assets/route-block-83d24a4e.js","assets/preview-fde6f673.css"]),s$=()=>qt(()=>import("./new-39c137df.js"),["assets/new-39c137df.js","assets/MagicWrap-6df3fbab.js","assets/MagicWrap-edb6011e.css","assets/MarketingPlanTerms-aeae524b.js","assets/star-fa3365c1.js","assets/check-c554e1e5.js","assets/PlanSelector-7b053a54.js","assets/circle-check-filled-c83cf204.js","assets/plans-915a6f2f.js","assets/sites-297377c2.js","assets/sites-de37a93f.js","assets/media-8b0db698.js","assets/index-ff27ab17.js","assets/switch-96bf5ffb.js","assets/AnimatedLoader-341dfd73.js","assets/DomainSettingsButton-aee9de77.js","assets/domains-d779353c.js","assets/AnimatedLoader-b914f61a.css","assets/save24-filled-abc7b255.js","assets/check-0558c89b.js","assets/route-block-83d24a4e.js","assets/new-d4d2ea0b.css"]),zXe=()=>qt(()=>import("./index-49ac4082.js"),["assets/index-49ac4082.js","assets/trash-x-filled-b7116ebf.js","assets/copy-28c60652.js","assets/rocket-b398204a.js","assets/domains-d779353c.js","assets/link-595168ab.js","assets/sites-297377c2.js","assets/sites-de37a93f.js","assets/media-8b0db698.js","assets/index-ff27ab17.js","assets/mediaQueries-eed85b54.js","assets/plans-0e879005.js","assets/plans-915a6f2f.js","assets/route-block-83d24a4e.js","assets/index-500b888a.css"]),KXe=()=>qt(()=>import("./success-11428ce1.js"),["assets/success-11428ce1.js","assets/MagicWrap-6df3fbab.js","assets/MagicWrap-edb6011e.css"]),GXe=()=>qt(()=>import("./partner-f5ceae2c.js"),["assets/partner-f5ceae2c.js","assets/MagicWrap-6df3fbab.js","assets/MagicWrap-edb6011e.css","assets/plans-915a6f2f.js"]),YXe=()=>qt(()=>import("./pricing-59d12717.js"),["assets/pricing-59d12717.js","assets/MagicWrap-6df3fbab.js","assets/MagicWrap-edb6011e.css","assets/MarketingPlanTerms-aeae524b.js","assets/star-fa3365c1.js","assets/check-c554e1e5.js","assets/PlanSelector-7b053a54.js","assets/circle-check-filled-c83cf204.js","assets/plans-915a6f2f.js","assets/sites-297377c2.js","assets/sites-de37a93f.js","assets/media-8b0db698.js","assets/index-ff27ab17.js","assets/switch-96bf5ffb.js"]),XXe=()=>qt(()=>import("./logout-981254da.js"),[]),QXe=()=>qt(()=>import("./login-9de6222f.js"),["assets/login-9de6222f.js","assets/AuthForm-0c2a4117.js","assets/route-block-83d24a4e.js"]),JXe=()=>qt(()=>import("./account-f1eca98b.js"),["assets/account-f1eca98b.js","assets/UiCard-f3e2805b.js","assets/trash-x-filled-b7116ebf.js","assets/users-763df241.js","assets/index-f880a9f5.js","assets/link-595168ab.js","assets/plans-915a6f2f.js","assets/sites-de37a93f.js","assets/plans-0e879005.js","assets/mediaQueries-eed85b54.js","assets/route-block-83d24a4e.js"]),ZXe=()=>qt(()=>import("./_...all_-3c16b71f.js"),["assets/_...all_-3c16b71f.js","assets/route-block-83d24a4e.js"]),eQe=()=>qt(()=>import("./edit-ee947bf8.js").then(e=>e.e),["assets/edit-ee947bf8.js","assets/AnimatedLoader-341dfd73.js","assets/DomainSettingsButton-aee9de77.js","assets/domains-d779353c.js","assets/MagicWrap-6df3fbab.js","assets/MagicWrap-edb6011e.css","assets/AnimatedLoader-b914f61a.css","assets/external-link-d880996c.js","assets/sites-297377c2.js","assets/sites-de37a93f.js","assets/media-8b0db698.js","assets/index-ff27ab17.js","assets/rocket-b398204a.js","assets/plans-0e879005.js","assets/plans-915a6f2f.js","assets/site-machine-145819f9.js","assets/libraries-623472a5.js","assets/helpers-7cfbe709.js","assets/libraries-b7cde7ef.css","assets/trash-x-filled-b7116ebf.js","assets/plugins-98ed0274.js","assets/switch-96bf5ffb.js","assets/settings-1e9a8599.js","assets/circle-check-de6c2d16.js","assets/mediaQueries-eed85b54.js","assets/route-block-83d24a4e.js","assets/edit-ac92e481.css"]),tQe=()=>qt(()=>import("./index-05a9096d.js"),["assets/index-05a9096d.js","assets/UiCard-f3e2805b.js","assets/index-f880a9f5.js","assets/site-machine-145819f9.js","assets/sites-de37a93f.js","assets/sites-297377c2.js","assets/media-8b0db698.js","assets/index-ff27ab17.js","assets/circle-x-1cbd328e.js","assets/rocket-b398204a.js","assets/edit16-filled-728ae153.js","assets/DomainSettingsButton-aee9de77.js","assets/domains-d779353c.js","assets/external-link-d880996c.js","assets/circle-check-de6c2d16.js","assets/plans-0e879005.js","assets/plans-915a6f2f.js","assets/index-59912a98.css"]),nQe=[{name:"support-submit",path:"/support/submit",component:HXe,props:!0,meta:{requiresAuth:!0}},{name:"support",path:"/support",component:WXe,props:!0},{name:"sites-preview",path:"/sites/preview",component:qXe,props:!0,meta:{layout:"empty"}},{name:"generator",path:"/sites/new",component:s$,props:!0,meta:{layout:"generator",requiresAuth:!1,container:!1},alias:["/ai-website-builder"],children:[{name:"idea",path:"/ai-website-builder/idea/:id",component:s$},{name:"site",path:"/ai-website-builder/site/:id",component:s$,meta:{requiresAuth:!0}}]},{name:"sites",path:"/sites",component:zXe,props:!0,meta:{requiresAuth:!0,layout:"default",container:!1}},{name:"checkout-success",path:"/checkout/success",component:KXe,props:!0,meta:{requiresAuth:!0}},{name:"checkout-partner",path:"/checkout/partner",component:GXe,props:!0,meta:{requiresAuth:!0}},{name:"pricing",path:"/pricing",component:YXe,props:!0},{name:"logout",path:"/logout",component:XXe,props:!0},{name:"login",path:"/login",component:QXe,props:!0,meta:{layout:"auth"}},{name:"index",path:"/",component:jXe,props:!0},{name:"account",path:"/account",component:JXe,props:!0,meta:{requiresAuth:!0,layout:"default",container:!1}},{name:"not-found",path:"/:all(.*)*",component:ZXe,props:!0,meta:{requiresAuth:!1,layout:404}},{name:"sites-id-edit",path:"/sites/:id/edit",component:eQe,props:!0,meta:{requiresAuth:!0,layout:"editor"}},{name:"sites-id",path:"/sites/:id",component:tQe,props:!0,meta:{requiresAuth:!0}}];const oy=qg(VXe),rQe=mGe(nQe),Mg=XWe({history:TWe("/"),routes:rQe});Mg==null||Mg.beforeEach(async e=>{var t;if((t=e==null?void 0:e.meta)!=null&&t.requiresAuth&&!await fP())return{path:"/login",query:{redirect:e.fullPath}}});oy.use(Mg);vGe();oy.config.errorHandler=yGe;const iQe=jKe();oy.use(iQe);Object.values(Object.assign({"./modules/directives.js":Xre,"./modules/firebase.js":w_e,"./modules/formkit.js":r7e,"./modules/mixpanel.js":a7e,"./modules/nprogress.js":c7e,"./modules/pwa.js":f7e,"./modules/vue-final-modal.js":Q7e,"./modules/vue-fire.js":Z7e,"./modules/vue-toast-notification.js":tre})).forEach(e=>{var t;return(t=e.install)==null?void 0:t.call(e,{app:oy,router:Mg})});oy.mount("#app");export{y0 as $,EQ as A,Fl as B,gYe as C,sn as D,FZe as E,UZe as F,Jt as G,Ho as H,BZe as I,Qn as J,vYe as K,NZe as L,fr as M,jZe as N,mo as O,VZe as P,LZe as Q,DZe as R,HI as S,K4 as T,WZe as U,qZe as V,Tn as W,BZ as X,Yt as Y,xo as Z,qt as _,Se as a,qR as a$,I0 as a0,ci as a1,qI as a2,Pr as a3,Rl as a4,ct as a5,lo as a6,gn as a7,Mr as a8,jU as a9,Bf as aA,aQe as aB,Cc as aC,Kr as aD,bV as aE,lQe as aF,jn as aG,vo as aH,As as aI,qr as aJ,zg as aK,ty as aL,uZe as aM,$i as aN,nZe as aO,YT as aP,ZJe as aQ,NX as aR,$Ye as aS,Dne as aT,Nne as aU,Hg as aV,Lne as aW,dE as aX,uV as aY,eZe as aZ,PZe as a_,Cs as aa,Ar as ab,Tc as ac,HZe as ad,Ja as ae,AZ as af,Wg as ag,Nf as ah,LX as ai,cqe as aj,Pf as ak,fV as al,L2e as am,Kqe as an,$r as ao,Jne as ap,gP as aq,eze as ar,JS as as,ao as at,ps as au,wne as av,Ut as aw,hV as ax,ene as ay,Ae as az,ze as b,pZe as b$,E8 as b0,_Ze as b1,bZe as b2,Sc as b3,Mte as b4,xZe as b5,Gqe as b6,E3e as b7,NA as b8,MO as b9,EXe as bA,_Ge as bB,OX as bC,AX as bD,SZe as bE,EZe as bF,sYe as bG,Ok as bH,CX as bI,mZe as bJ,yZe as bK,n3 as bL,gZe as bM,G8e as bN,v9e as bO,bp as bP,Th as bQ,$8 as bR,TZe as bS,xs as bT,ei as bU,XI as bV,ar as bW,vV as bX,av as bY,au as bZ,kZe as b_,Vfe as ba,hBe as bb,Zqe as bc,v4e as bd,k3e as be,C5e as bf,aB as bg,wZe as bh,LJe as bi,jJe as bj,HJe as bk,qJe as bl,Zn as bm,xG as bn,Jm as bo,pte as bp,xP as bq,Ote as br,$Ze as bs,tZe as bt,gme as bu,ju as bv,cZe as bw,QJe as bx,Lte as by,lVe as bz,De as c,RZe as c0,OZe as c1,IZe as c2,s5e as c3,CZe as c4,gBe as c5,fZe as c6,Hfe as c7,fQe as c8,dQe as c9,PBe as cA,Lk as cB,bx as cC,dZe as cD,GI as cE,BV as cF,kZ as cG,Ch as cH,No as cI,Vw as cJ,YJ as cK,mJ as cL,R3 as cM,qw as cN,JWe as cO,WQ as cP,vze as cQ,Zne as cR,U8e as cS,vZe as cT,uQe as cU,MZe as cV,__e as ca,hQe as cb,G0 as cc,zJe as cd,KJe as ce,jfe as cf,pQe as cg,Ii as ch,AZe as ci,Ml as cj,JJe as ck,GJe as cl,fP as cm,XJe as cn,YJe as co,fme as cp,zV as cq,hZe as cr,Uw as cs,us as ct,KI as cu,WZ as cv,hx as cw,gt as cx,V3e as cy,h3e as cz,Ge as d,ee as e,pGe as f,fGe as g,FX as h,Xa as i,Hu as j,ve as k,FP as l,Va as m,vd as n,te as o,tr as p,re as q,$c as r,En as s,Sn as t,LP as u,wee as v,et as w,pl as x,Ce as y,bt as z};
//# sourceMappingURL=index-154ce458.js.map
